(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"/Users/paulfrazee/patchwork/node_modules/add-event-listener/index.js":[function(require,module,exports){addEventListener.removeEventListener=removeEventListener;addEventListener.addEventListener=addEventListener;module.exports=addEventListener;var Events=null;function addEventListener(el,eventName,listener,useCapture){Events=Events||(document.addEventListener?{add:stdAttach,rm:stdDetach}:{add:oldIEAttach,rm:oldIEDetach});return Events.add(el,eventName,listener,useCapture)}function removeEventListener(el,eventName,listener,useCapture){Events=Events||(document.addEventListener?{add:stdAttach,rm:stdDetach}:{add:oldIEAttach,rm:oldIEDetach});return Events.rm(el,eventName,listener,useCapture)}function stdAttach(el,eventName,listener,useCapture){el.addEventListener(eventName,listener,useCapture)}function stdDetach(el,eventName,listener,useCapture){el.removeEventListener(eventName,listener,useCapture)}function oldIEAttach(el,eventName,listener,useCapture){if(useCapture){throw new Error("cannot useCapture in oldIE")}el.attachEvent("on"+eventName,listener)}function oldIEDetach(el,eventName,listener,useCapture){el.detachEvent("on"+eventName,listener)}},{}],"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1.js":[function(require,module,exports){var asn1=exports;asn1.bignum=require("bn.js");asn1.define=require("./asn1/api").define;asn1.base=require("./asn1/base");asn1.constants=require("./asn1/constants");asn1.decoders=require("./asn1/decoders");asn1.encoders=require("./asn1/encoders")},{"./asn1/api":"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1/api.js","./asn1/base":"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1/base/index.js","./asn1/constants":"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1/constants/index.js","./asn1/decoders":"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1/decoders/index.js","./asn1/encoders":"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1/encoders/index.js","bn.js":"/Users/paulfrazee/patchwork/node_modules/bn.js/lib/bn.js"}],"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1/api.js":[function(require,module,exports){var asn1=require("../asn1");var inherits=require("inherits");var api=exports;api.define=function define(name,body){return new Entity(name,body)};function Entity(name,body){this.name=name;this.body=body;this.decoders={};this.encoders={}}Entity.prototype._createNamed=function createNamed(base){var named;try{named=require("vm").runInThisContext("(function "+this.name+"(entity) {\n"+"  this._initNamed(entity);\n"+"})")}catch(e){named=function(entity){this._initNamed(entity)}}inherits(named,base);named.prototype._initNamed=function initnamed(entity){base.call(this,entity)};return new named(this)};Entity.prototype._getDecoder=function _getDecoder(enc){if(!this.decoders.hasOwnProperty(enc))this.decoders[enc]=this._createNamed(asn1.decoders[enc]);return this.decoders[enc]};Entity.prototype.decode=function decode(data,enc,options){return this._getDecoder(enc).decode(data,options)};Entity.prototype._getEncoder=function _getEncoder(enc){if(!this.encoders.hasOwnProperty(enc))this.encoders[enc]=this._createNamed(asn1.encoders[enc]);return this.encoders[enc]};Entity.prototype.encode=function encode(data,enc,reporter){return this._getEncoder(enc).encode(data,reporter)}},{"../asn1":"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1.js",inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js",vm:"/Users/paulfrazee/patchwork/node_modules/vm-browserify/index.js"}],"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1/base/buffer.js":[function(require,module,exports){var inherits=require("inherits");var Reporter=require("../base").Reporter;var Buffer=require("buffer").Buffer;function DecoderBuffer(base,options){Reporter.call(this,options);if(!Buffer.isBuffer(base)){this.error("Input not Buffer");return}this.base=base;this.offset=0;this.length=base.length}inherits(DecoderBuffer,Reporter);exports.DecoderBuffer=DecoderBuffer;DecoderBuffer.prototype.save=function save(){return{offset:this.offset,reporter:Reporter.prototype.save.call(this)}};DecoderBuffer.prototype.restore=function restore(save){var res=new DecoderBuffer(this.base);res.offset=save.offset;res.length=this.offset;this.offset=save.offset;Reporter.prototype.restore.call(this,save.reporter);return res};DecoderBuffer.prototype.isEmpty=function isEmpty(){return this.offset===this.length};DecoderBuffer.prototype.readUInt8=function readUInt8(fail){if(this.offset+1<=this.length)return this.base.readUInt8(this.offset++,true);else return this.error(fail||"DecoderBuffer overrun")};DecoderBuffer.prototype.skip=function skip(bytes,fail){if(!(this.offset+bytes<=this.length))return this.error(fail||"DecoderBuffer overrun");var res=new DecoderBuffer(this.base);res._reporterState=this._reporterState;res.offset=this.offset;res.length=this.offset+bytes;this.offset+=bytes;return res};DecoderBuffer.prototype.raw=function raw(save){return this.base.slice(save?save.offset:this.offset,this.length)};function EncoderBuffer(value,reporter){if(Array.isArray(value)){this.length=0;this.value=value.map(function(item){if(!(item instanceof EncoderBuffer))item=new EncoderBuffer(item,reporter);this.length+=item.length;return item},this)}else if(typeof value==="number"){if(!(0<=value&&value<=255))return reporter.error("non-byte EncoderBuffer value");this.value=value;this.length=1}else if(typeof value==="string"){this.value=value;this.length=Buffer.byteLength(value)}else if(Buffer.isBuffer(value)){this.value=value;this.length=value.length}else{return reporter.error("Unsupported type: "+typeof value)}}exports.EncoderBuffer=EncoderBuffer;EncoderBuffer.prototype.join=function join(out,offset){if(!out)out=new Buffer(this.length);if(!offset)offset=0;if(this.length===0)return out;if(Array.isArray(this.value)){this.value.forEach(function(item){item.join(out,offset);offset+=item.length})}else{if(typeof this.value==="number")out[offset]=this.value;else if(typeof this.value==="string")out.write(this.value,offset);else if(Buffer.isBuffer(this.value))this.value.copy(out,offset);offset+=this.length}return out}},{"../base":"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1/base/index.js",buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js",inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js"}],"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1/base/index.js":[function(require,module,exports){var base=exports;base.Reporter=require("./reporter").Reporter;base.DecoderBuffer=require("./buffer").DecoderBuffer;base.EncoderBuffer=require("./buffer").EncoderBuffer;base.Node=require("./node")},{"./buffer":"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1/base/buffer.js","./node":"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1/base/node.js","./reporter":"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1/base/reporter.js"}],"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1/base/node.js":[function(require,module,exports){var Reporter=require("../base").Reporter;var EncoderBuffer=require("../base").EncoderBuffer;var assert=require("minimalistic-assert");var tags=["seq","seqof","set","setof","octstr","bitstr","objid","bool","gentime","utctime","null_","enum","int","ia5str","utf8str","bmpstr","numstr","printstr"];var methods=["key","obj","use","optional","explicit","implicit","def","choice","any"].concat(tags);var overrided=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function Node(enc,parent){var state={};this._baseState=state;state.enc=enc;state.parent=parent||null;state.children=null;state.tag=null;state.args=null;state.reverseArgs=null;state.choice=null;state.optional=false;state.any=false;state.obj=false;state.use=null;state.useDecoder=null;state.key=null;state["default"]=null;state.explicit=null;state.implicit=null;if(!state.parent){state.children=[];this._wrap()}}module.exports=Node;var stateProps=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit"];Node.prototype.clone=function clone(){var state=this._baseState;var cstate={};stateProps.forEach(function(prop){cstate[prop]=state[prop]});var res=new this.constructor(cstate.parent);res._baseState=cstate;return res};Node.prototype._wrap=function wrap(){var state=this._baseState;methods.forEach(function(method){this[method]=function _wrappedMethod(){var clone=new this.constructor(this);state.children.push(clone);return clone[method].apply(clone,arguments)}},this)};Node.prototype._init=function init(body){var state=this._baseState;assert(state.parent===null);body.call(this);state.children=state.children.filter(function(child){return child._baseState.parent===this},this);assert.equal(state.children.length,1,"Root node can have only one child")};Node.prototype._useArgs=function useArgs(args){var state=this._baseState;var children=args.filter(function(arg){return arg instanceof this.constructor},this);args=args.filter(function(arg){return!(arg instanceof this.constructor)},this);if(children.length!==0){assert(state.children===null);state.children=children;children.forEach(function(child){child._baseState.parent=this},this)}if(args.length!==0){assert(state.args===null);state.args=args;state.reverseArgs=args.map(function(arg){if(typeof arg!=="object"||arg.constructor!==Object)return arg;var res={};Object.keys(arg).forEach(function(key){if(key==(key|0))key|=0;var value=arg[key];res[value]=key});return res})}};overrided.forEach(function(method){Node.prototype[method]=function _overrided(){var state=this._baseState;throw new Error(method+" not implemented for encoding: "+state.enc)}});tags.forEach(function(tag){Node.prototype[tag]=function _tagMethod(){var state=this._baseState;var args=Array.prototype.slice.call(arguments);assert(state.tag===null);state.tag=tag;this._useArgs(args);return this}});Node.prototype.use=function use(item){var state=this._baseState;assert(state.use===null);state.use=item;return this};Node.prototype.optional=function optional(){var state=this._baseState;state.optional=true;return this};Node.prototype.def=function def(val){var state=this._baseState;assert(state["default"]===null);state["default"]=val;state.optional=true;return this};Node.prototype.explicit=function explicit(num){var state=this._baseState;assert(state.explicit===null&&state.implicit===null);state.explicit=num;return this};Node.prototype.implicit=function implicit(num){var state=this._baseState;assert(state.explicit===null&&state.implicit===null);state.implicit=num;return this};Node.prototype.obj=function obj(){var state=this._baseState;var args=Array.prototype.slice.call(arguments);state.obj=true;if(args.length!==0)this._useArgs(args);return this};Node.prototype.key=function key(newKey){var state=this._baseState;assert(state.key===null);state.key=newKey;return this};Node.prototype.any=function any(){var state=this._baseState;state.any=true;return this};Node.prototype.choice=function choice(obj){var state=this._baseState;assert(state.choice===null);state.choice=obj;this._useArgs(Object.keys(obj).map(function(key){return obj[key]}));return this};Node.prototype._decode=function decode(input){var state=this._baseState;if(state.parent===null)return input.wrapResult(state.children[0]._decode(input));var result=state["default"];var present=true;var prevKey;if(state.key!==null)prevKey=input.enterKey(state.key);if(state.optional){var tag=null;if(state.explicit!==null)tag=state.explicit;else if(state.implicit!==null)tag=state.implicit;else if(state.tag!==null)tag=state.tag;if(tag===null&&!state.any){var save=input.save();try{if(state.choice===null)this._decodeGeneric(state.tag,input);else this._decodeChoice(input);present=true}catch(e){present=false}input.restore(save)}else{present=this._peekTag(input,tag,state.any);if(input.isError(present))return present}}var prevObj;if(state.obj&&present)prevObj=input.enterObject();if(present){if(state.explicit!==null){var explicit=this._decodeTag(input,state.explicit);if(input.isError(explicit))return explicit;input=explicit}if(state.use===null&&state.choice===null){if(state.any)var save=input.save();var body=this._decodeTag(input,state.implicit!==null?state.implicit:state.tag,state.any);if(input.isError(body))return body;if(state.any)result=input.raw(save);else input=body}if(state.any)result=result;else if(state.choice===null)result=this._decodeGeneric(state.tag,input);else result=this._decodeChoice(input);if(input.isError(result))return result;if(!state.any&&state.choice===null&&state.children!==null){var fail=state.children.some(function decodeChildren(child){child._decode(input)});if(fail)return err}}if(state.obj&&present)result=input.leaveObject(prevObj);if(state.key!==null&&(result!==null||present===true))input.leaveKey(prevKey,state.key,result);return result};Node.prototype._decodeGeneric=function decodeGeneric(tag,input){var state=this._baseState;if(tag==="seq"||tag==="set")return null;if(tag==="seqof"||tag==="setof")return this._decodeList(input,tag,state.args[0]);else if(tag==="octstr"||tag==="bitstr")return this._decodeStr(input,tag);else if(tag==="ia5str"||tag==="utf8str"||tag==="bmpstr")return this._decodeStr(input,tag);else if(tag==="numstr"||tag==="printstr")return this._decodeStr(input,tag);else if(tag==="objid"&&state.args)return this._decodeObjid(input,state.args[0],state.args[1]);else if(tag==="objid")return this._decodeObjid(input,null,null);else if(tag==="gentime"||tag==="utctime")return this._decodeTime(input,tag);else if(tag==="null_")return this._decodeNull(input);else if(tag==="bool")return this._decodeBool(input);else if(tag==="int"||tag==="enum")return this._decodeInt(input,state.args&&state.args[0]);else if(state.use!==null)return this._getUse(state.use,input._reporterState.obj)._decode(input);else return input.error("unknown tag: "+tag);return null};Node.prototype._getUse=function _getUse(entity,obj){var state=this._baseState;state.useDecoder=this._use(entity,obj);assert(state.useDecoder._baseState.parent===null);state.useDecoder=state.useDecoder._baseState.children[0];if(state.implicit!==state.useDecoder._baseState.implicit){state.useDecoder=state.useDecoder.clone();state.useDecoder._baseState.implicit=state.implicit}return state.useDecoder};Node.prototype._decodeChoice=function decodeChoice(input){var state=this._baseState;var result=null;var match=false;Object.keys(state.choice).some(function(key){var save=input.save();var node=state.choice[key];try{var value=node._decode(input);if(input.isError(value))return false;result={type:key,value:value};match=true}catch(e){input.restore(save);return false}return true},this);if(!match)return input.error("Choice not matched");return result};Node.prototype._createEncoderBuffer=function createEncoderBuffer(data){return new EncoderBuffer(data,this.reporter)};Node.prototype._encode=function encode(data,reporter,parent){var state=this._baseState;if(state["default"]!==null&&state["default"]===data)return;var result=this._encodeValue(data,reporter,parent);if(result===undefined)return;if(this._skipDefault(result,reporter,parent))return;return result};Node.prototype._encodeValue=function encode(data,reporter,parent){var state=this._baseState;if(state.parent===null)return state.children[0]._encode(data,reporter||new Reporter);var result=null;var present=true;this.reporter=reporter;if(state.optional&&data===undefined){if(state["default"]!==null)data=state["default"];else return}var prevKey;var content=null;var primitive=false;if(state.any){result=this._createEncoderBuffer(data)}else if(state.choice){result=this._encodeChoice(data,reporter)}else if(state.children){content=state.children.map(function(child){if(child._baseState.tag==="null_")return child._encode(null,reporter,data);if(child._baseState.key===null)return reporter.error("Child should have a key");var prevKey=reporter.enterKey(child._baseState.key);if(typeof data!=="object")return reporter.error("Child expected, but input is not object");var res=child._encode(data[child._baseState.key],reporter,data);reporter.leaveKey(prevKey);return res},this).filter(function(child){return child});content=this._createEncoderBuffer(content)}else{if(state.tag==="seqof"||state.tag==="setof"){if(!(state.args&&state.args.length===1))return reporter.error("Too many args for : "+state.tag);if(!Array.isArray(data))return reporter.error("seqof/setof, but data is not Array");var child=this.clone();child._baseState.implicit=null;content=this._createEncoderBuffer(data.map(function(item){var state=this._baseState;return this._getUse(state.args[0],data)._encode(item,reporter)},child))}else if(state.use!==null){result=this._getUse(state.use,parent)._encode(data,reporter)}else{content=this._encodePrimitive(state.tag,data);primitive=true}}var result;if(!state.any&&state.choice===null){var tag=state.implicit!==null?state.implicit:state.tag;var cls=state.implicit===null?"universal":"context";if(tag===null){if(state.use===null)reporter.error("Tag could be ommited only for .use()")}else{if(state.use===null)result=this._encodeComposite(tag,primitive,cls,content)}}if(state.explicit!==null)result=this._encodeComposite(state.explicit,false,"context",result);return result};Node.prototype._encodeChoice=function encodeChoice(data,reporter){var state=this._baseState;var node=state.choice[data.type];if(!node){assert(false,data.type+" not found in "+JSON.stringify(Object.keys(state.choice)))}return node._encode(data.value,reporter)};Node.prototype._encodePrimitive=function encodePrimitive(tag,data){var state=this._baseState;if(tag==="octstr"||tag==="bitstr"||tag==="ia5str")return this._encodeStr(data,tag);else if(tag==="utf8str"||tag==="bmpstr")return this._encodeStr(data,tag);else if(tag==="numstr"||tag==="printstr")return this._encodeStr(data,tag);else if(tag==="objid"&&state.args)return this._encodeObjid(data,state.reverseArgs[0],state.args[1]);else if(tag==="objid")return this._encodeObjid(data,null,null);else if(tag==="gentime"||tag==="utctime")return this._encodeTime(data,tag);else if(tag==="null_")return this._encodeNull();else if(tag==="int"||tag==="enum")return this._encodeInt(data,state.args&&state.reverseArgs[0]);else if(tag==="bool")return this._encodeBool(data);else throw new Error("Unsupported tag: "+tag)};Node.prototype._isNumstr=function isNumstr(str){return/^[0-9 ]*$/.test(str)};Node.prototype._isPrintstr=function isPrintstr(str){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(str)}},{"../base":"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1/base/index.js","minimalistic-assert":"/Users/paulfrazee/patchwork/node_modules/minimalistic-assert/index.js"}],"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1/base/reporter.js":[function(require,module,exports){var inherits=require("inherits");function Reporter(options){this._reporterState={obj:null,path:[],options:options||{},errors:[]}}exports.Reporter=Reporter;Reporter.prototype.isError=function isError(obj){return obj instanceof ReporterError};Reporter.prototype.save=function save(){var state=this._reporterState;return{obj:state.obj,pathLen:state.path.length}};Reporter.prototype.restore=function restore(data){var state=this._reporterState;state.obj=data.obj;state.path=state.path.slice(0,data.pathLen)};Reporter.prototype.enterKey=function enterKey(key){return this._reporterState.path.push(key)};Reporter.prototype.leaveKey=function leaveKey(index,key,value){var state=this._reporterState;state.path=state.path.slice(0,index-1);if(state.obj!==null)state.obj[key]=value};Reporter.prototype.enterObject=function enterObject(){var state=this._reporterState;var prev=state.obj;state.obj={};return prev};Reporter.prototype.leaveObject=function leaveObject(prev){var state=this._reporterState;var now=state.obj;state.obj=prev;return now};Reporter.prototype.error=function error(msg){var err;var state=this._reporterState;var inherited=msg instanceof ReporterError;if(inherited){err=msg}else{err=new ReporterError(state.path.map(function(elem){return"["+JSON.stringify(elem)+"]"}).join(""),msg.message||msg,msg.stack)}if(!state.options.partial)throw err;if(!inherited)state.errors.push(err);return err};Reporter.prototype.wrapResult=function wrapResult(result){var state=this._reporterState;if(!state.options.partial)return result;return{result:this.isError(result)?null:result,errors:state.errors}};function ReporterError(path,msg){this.path=path;this.rethrow(msg)}inherits(ReporterError,Error);ReporterError.prototype.rethrow=function rethrow(msg){this.message=msg+" at: "+(this.path||"(shallow)");Error.captureStackTrace(this,ReporterError);return this}},{inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js"}],"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1/constants/der.js":[function(require,module,exports){var constants=require("../constants");exports.tagClass={0:"universal",1:"application",2:"context",3:"private"};exports.tagClassByName=constants._reverse(exports.tagClass);exports.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};exports.tagByName=constants._reverse(exports.tag)},{"../constants":"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1/constants/index.js"}],"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1/constants/index.js":[function(require,module,exports){var constants=exports;constants._reverse=function reverse(map){var res={};Object.keys(map).forEach(function(key){if((key|0)==key)key=key|0;var value=map[key];res[value]=key});return res};constants.der=require("./der")},{"./der":"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1/constants/der.js"}],"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1/decoders/der.js":[function(require,module,exports){var inherits=require("inherits");var asn1=require("../../asn1");var base=asn1.base;var bignum=asn1.bignum;var der=asn1.constants.der;function DERDecoder(entity){this.enc="der";this.name=entity.name;this.entity=entity;this.tree=new DERNode;this.tree._init(entity.body)}module.exports=DERDecoder;DERDecoder.prototype.decode=function decode(data,options){if(!(data instanceof base.DecoderBuffer))data=new base.DecoderBuffer(data,options);return this.tree._decode(data,options)};function DERNode(parent){base.Node.call(this,"der",parent)}inherits(DERNode,base.Node);DERNode.prototype._peekTag=function peekTag(buffer,tag,any){if(buffer.isEmpty())return false;var state=buffer.save();var decodedTag=derDecodeTag(buffer,'Failed to peek tag: "'+tag+'"');if(buffer.isError(decodedTag))return decodedTag;buffer.restore(state);return decodedTag.tag===tag||decodedTag.tagStr===tag||any};DERNode.prototype._decodeTag=function decodeTag(buffer,tag,any){var decodedTag=derDecodeTag(buffer,'Failed to decode tag of "'+tag+'"');if(buffer.isError(decodedTag))return decodedTag;var len=derDecodeLen(buffer,decodedTag.primitive,'Failed to get length of "'+tag+'"');if(buffer.isError(len))return len;if(!any&&decodedTag.tag!==tag&&decodedTag.tagStr!==tag&&decodedTag.tagStr+"of"!==tag){return buffer.error('Failed to match tag: "'+tag+'"')}if(decodedTag.primitive||len!==null)return buffer.skip(len,'Failed to match body of: "'+tag+'"');var state=buffer.save();var res=this._skipUntilEnd(buffer,'Failed to skip indefinite length body: "'+this.tag+'"');if(buffer.isError(res))return res;len=buffer.offset-state.offset;buffer.restore(state);return buffer.skip(len,'Failed to match body of: "'+tag+'"')};DERNode.prototype._skipUntilEnd=function skipUntilEnd(buffer,fail){while(true){var tag=derDecodeTag(buffer,fail);if(buffer.isError(tag))return tag;var len=derDecodeLen(buffer,tag.primitive,fail);if(buffer.isError(len))return len;var res;if(tag.primitive||len!==null)res=buffer.skip(len);else res=this._skipUntilEnd(buffer,fail);if(buffer.isError(res))return res;if(tag.tagStr==="end")break}};DERNode.prototype._decodeList=function decodeList(buffer,tag,decoder){var result=[];while(!buffer.isEmpty()){var possibleEnd=this._peekTag(buffer,"end");if(buffer.isError(possibleEnd))return possibleEnd;var res=decoder.decode(buffer,"der");if(buffer.isError(res)&&possibleEnd)break;result.push(res)}return result};DERNode.prototype._decodeStr=function decodeStr(buffer,tag){if(tag==="octstr"){return buffer.raw()}else if(tag==="bitstr"){var unused=buffer.readUInt8();if(buffer.isError(unused))return unused;return{unused:unused,data:buffer.raw()}}else if(tag==="ia5str"||tag==="utf8str"){return buffer.raw().toString()}else if(tag==="numstr"){var numstr=buffer.raw().toString("ascii");if(!this._isNumstr(numstr)){return buffer.error("Decoding of string type: "+"numstr unsupported characters")}return numstr}else if(tag==="printstr"){var printstr=buffer.raw().toString("ascii");if(!this._isPrintstr(printstr)){return buffer.error("Decoding of string type: "+"printstr unsupported characters")}return printstr}else if(tag==="bmpstr"){var raw=buffer.raw();if(raw.length%2===1)return buffer.error("Decoding of string type: bmpstr length mismatch");var str="";for(var i=0;i<raw.length/2;i++){str+=String.fromCharCode(raw.readUInt16BE(i*2))}return str}else{return buffer.error("Decoding of string type: "+tag+" unsupported")}};DERNode.prototype._decodeObjid=function decodeObjid(buffer,values,relative){var identifiers=[];var ident=0;while(!buffer.isEmpty()){var subident=buffer.readUInt8();ident<<=7;ident|=subident&127;if((subident&128)===0){identifiers.push(ident);ident=0}}if(subident&128)identifiers.push(ident);var first=identifiers[0]/40|0;var second=identifiers[0]%40;if(relative)result=identifiers;else result=[first,second].concat(identifiers.slice(1));if(values){var tmp=values[result.join(" ")];if(tmp===undefined)tmp=values[result.join(".")];if(tmp!==undefined)result=tmp}return result};DERNode.prototype._decodeTime=function decodeTime(buffer,tag){var str=buffer.raw().toString();if(tag==="gentime"){var year=str.slice(0,4)|0;var mon=str.slice(4,6)|0;var day=str.slice(6,8)|0;var hour=str.slice(8,10)|0;var min=str.slice(10,12)|0;var sec=str.slice(12,14)|0}else if(tag==="utctime"){var year=str.slice(0,2)|0;var mon=str.slice(2,4)|0;var day=str.slice(4,6)|0;var hour=str.slice(6,8)|0;var min=str.slice(8,10)|0;var sec=str.slice(10,12)|0;if(year<70)year=2e3+year;else year=1900+year}else{return buffer.error("Decoding "+tag+" time is not supported yet")}return Date.UTC(year,mon-1,day,hour,min,sec,0)};DERNode.prototype._decodeNull=function decodeNull(buffer){return null};DERNode.prototype._decodeBool=function decodeBool(buffer){var res=buffer.readUInt8();if(buffer.isError(res))return res;else return res!==0};DERNode.prototype._decodeInt=function decodeInt(buffer,values){var raw=buffer.raw();var res=new bignum(raw);if(values)res=values[res.toString(10)]||res;return res};DERNode.prototype._use=function use(entity,obj){if(typeof entity==="function")entity=entity(obj);return entity._getDecoder("der").tree};function derDecodeTag(buf,fail){var tag=buf.readUInt8(fail);if(buf.isError(tag))return tag;var cls=der.tagClass[tag>>6];var primitive=(tag&32)===0;if((tag&31)===31){var oct=tag;tag=0;while((oct&128)===128){oct=buf.readUInt8(fail);if(buf.isError(oct))return oct;tag<<=7;tag|=oct&127}}else{tag&=31}var tagStr=der.tag[tag];return{cls:cls,primitive:primitive,tag:tag,tagStr:tagStr}}function derDecodeLen(buf,primitive,fail){var len=buf.readUInt8(fail);if(buf.isError(len))return len;if(!primitive&&len===128)return null;if((len&128)===0){return len}var num=len&127;if(num>=4)return buf.error("length octect is too long");len=0;for(var i=0;i<num;i++){len<<=8;var j=buf.readUInt8(fail);if(buf.isError(j))return j;len|=j}return len}},{"../../asn1":"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1.js",inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js"}],"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1/decoders/index.js":[function(require,module,exports){var decoders=exports;decoders.der=require("./der");decoders.pem=require("./pem")},{"./der":"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1/decoders/der.js","./pem":"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1/decoders/pem.js"}],"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1/decoders/pem.js":[function(require,module,exports){var inherits=require("inherits");var Buffer=require("buffer").Buffer;var asn1=require("../../asn1");var DERDecoder=require("./der");function PEMDecoder(entity){DERDecoder.call(this,entity);this.enc="pem"}inherits(PEMDecoder,DERDecoder);module.exports=PEMDecoder;PEMDecoder.prototype.decode=function decode(data,options){var lines=data.toString().split(/[\r\n]+/g);var label=options.label.toUpperCase();var re=/^-----(BEGIN|END) ([^-]+)-----$/;var start=-1;var end=-1;for(var i=0;i<lines.length;i++){var match=lines[i].match(re);if(match===null)continue;if(match[2]!==label)continue;if(start===-1){if(match[1]!=="BEGIN")break;start=i}else{if(match[1]!=="END")break;end=i;break}}if(start===-1||end===-1)throw new Error("PEM section not found for: "+label);var base64=lines.slice(start+1,end).join("");base64.replace(/[^a-z0-9\+\/=]+/gi,"");var input=new Buffer(base64,"base64");return DERDecoder.prototype.decode.call(this,input,options)}},{"../../asn1":"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1.js","./der":"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1/decoders/der.js",buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js",inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js"}],"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1/encoders/der.js":[function(require,module,exports){var inherits=require("inherits");var Buffer=require("buffer").Buffer;var asn1=require("../../asn1");var base=asn1.base;var bignum=asn1.bignum;var der=asn1.constants.der;function DEREncoder(entity){this.enc="der";this.name=entity.name;this.entity=entity;this.tree=new DERNode;this.tree._init(entity.body)}module.exports=DEREncoder;DEREncoder.prototype.encode=function encode(data,reporter){return this.tree._encode(data,reporter).join()};function DERNode(parent){base.Node.call(this,"der",parent)}inherits(DERNode,base.Node);DERNode.prototype._encodeComposite=function encodeComposite(tag,primitive,cls,content){var encodedTag=encodeTag(tag,primitive,cls,this.reporter);if(content.length<128){var header=new Buffer(2);header[0]=encodedTag;header[1]=content.length;return this._createEncoderBuffer([header,content])}var lenOctets=1;for(var i=content.length;i>=256;i>>=8)lenOctets++;var header=new Buffer(1+1+lenOctets);header[0]=encodedTag;header[1]=128|lenOctets;for(var i=1+lenOctets,j=content.length;j>0;i--,j>>=8)header[i]=j&255;return this._createEncoderBuffer([header,content])};DERNode.prototype._encodeStr=function encodeStr(str,tag){if(tag==="octstr"){return this._createEncoderBuffer(str)}else if(tag==="bitstr"){return this._createEncoderBuffer([str.unused|0,str.data])}else if(tag==="ia5str"||tag==="utf8str"){return this._createEncoderBuffer(str)}else if(tag==="bmpstr"){var buf=new Buffer(str.length*2);for(var i=0;i<str.length;i++){buf.writeUInt16BE(str.charCodeAt(i),i*2)}return this._createEncoderBuffer(buf)}else if(tag==="numstr"){
if(!this._isNumstr(str)){return this.reporter.error("Encoding of string type: numstr supports "+"only digits and space")}return this._createEncoderBuffer(str)}else if(tag==="printstr"){if(!this._isPrintstr(str)){return this.reporter.error("Encoding of string type: printstr supports "+"only latin upper and lower case letters, "+"digits, space, apostrophe, left and rigth "+"parenthesis, plus sign, comma, hyphen, "+"dot, slash, colon, equal sign, "+"question mark")}return this._createEncoderBuffer(str)}else{return this.reporter.error("Encoding of string type: "+tag+" unsupported")}};DERNode.prototype._encodeObjid=function encodeObjid(id,values,relative){if(typeof id==="string"){if(!values)return this.reporter.error("string objid given, but no values map found");if(!values.hasOwnProperty(id))return this.reporter.error("objid not found in values map");id=values[id].split(/[\s\.]+/g);for(var i=0;i<id.length;i++)id[i]|=0}else if(Array.isArray(id)){id=id.slice();for(var i=0;i<id.length;i++)id[i]|=0}if(!Array.isArray(id)){return this.reporter.error("objid() should be either array or string, "+"got: "+JSON.stringify(id))}if(!relative){if(id[1]>=40)return this.reporter.error("Second objid identifier OOB");id.splice(0,2,id[0]*40+id[1])}var size=0;for(var i=0;i<id.length;i++){var ident=id[i];for(size++;ident>=128;ident>>=7)size++}var objid=new Buffer(size);var offset=objid.length-1;for(var i=id.length-1;i>=0;i--){var ident=id[i];objid[offset--]=ident&127;while((ident>>=7)>0)objid[offset--]=128|ident&127}return this._createEncoderBuffer(objid)};function two(num){if(num<10)return"0"+num;else return num}DERNode.prototype._encodeTime=function encodeTime(time,tag){var str;var date=new Date(time);if(tag==="gentime"){str=[two(date.getFullYear()),two(date.getUTCMonth()+1),two(date.getUTCDate()),two(date.getUTCHours()),two(date.getUTCMinutes()),two(date.getUTCSeconds()),"Z"].join("")}else if(tag==="utctime"){str=[two(date.getFullYear()%100),two(date.getUTCMonth()+1),two(date.getUTCDate()),two(date.getUTCHours()),two(date.getUTCMinutes()),two(date.getUTCSeconds()),"Z"].join("")}else{this.reporter.error("Encoding "+tag+" time is not supported yet")}return this._encodeStr(str,"octstr")};DERNode.prototype._encodeNull=function encodeNull(){return this._createEncoderBuffer("")};DERNode.prototype._encodeInt=function encodeInt(num,values){if(typeof num==="string"){if(!values)return this.reporter.error("String int or enum given, but no values map");if(!values.hasOwnProperty(num)){return this.reporter.error("Values map doesn't contain: "+JSON.stringify(num))}num=values[num]}if(typeof num!=="number"&&!Buffer.isBuffer(num)){var numArray=num.toArray();if(!num.sign&&numArray[0]&128){numArray.unshift(0)}num=new Buffer(numArray)}if(Buffer.isBuffer(num)){var size=num.length;if(num.length===0)size++;var out=new Buffer(size);num.copy(out);if(num.length===0)out[0]=0;return this._createEncoderBuffer(out)}if(num<128)return this._createEncoderBuffer(num);if(num<256)return this._createEncoderBuffer([0,num]);var size=1;for(var i=num;i>=256;i>>=8)size++;var out=new Array(size);for(var i=out.length-1;i>=0;i--){out[i]=num&255;num>>=8}if(out[0]&128){out.unshift(0)}return this._createEncoderBuffer(new Buffer(out))};DERNode.prototype._encodeBool=function encodeBool(value){return this._createEncoderBuffer(value?255:0)};DERNode.prototype._use=function use(entity,obj){if(typeof entity==="function")entity=entity(obj);return entity._getEncoder("der").tree};DERNode.prototype._skipDefault=function skipDefault(dataBuffer,reporter,parent){var state=this._baseState;var i;if(state["default"]===null)return false;var data=dataBuffer.join();if(state.defaultBuffer===undefined)state.defaultBuffer=this._encodeValue(state["default"],reporter,parent).join();if(data.length!==state.defaultBuffer.length)return false;for(i=0;i<data.length;i++)if(data[i]!==state.defaultBuffer[i])return false;return true};function encodeTag(tag,primitive,cls,reporter){var res;if(tag==="seqof")tag="seq";else if(tag==="setof")tag="set";if(der.tagByName.hasOwnProperty(tag))res=der.tagByName[tag];else if(typeof tag==="number"&&(tag|0)===tag)res=tag;else return reporter.error("Unknown tag: "+tag);if(res>=31)return reporter.error("Multi-octet tag encoding unsupported");if(!primitive)res|=32;res|=der.tagClassByName[cls||"universal"]<<6;return res}},{"../../asn1":"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1.js",buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js",inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js"}],"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1/encoders/index.js":[function(require,module,exports){var encoders=exports;encoders.der=require("./der");encoders.pem=require("./pem")},{"./der":"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1/encoders/der.js","./pem":"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1/encoders/pem.js"}],"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1/encoders/pem.js":[function(require,module,exports){var inherits=require("inherits");var Buffer=require("buffer").Buffer;var asn1=require("../../asn1");var DEREncoder=require("./der");function PEMEncoder(entity){DEREncoder.call(this,entity);this.enc="pem"}inherits(PEMEncoder,DEREncoder);module.exports=PEMEncoder;PEMEncoder.prototype.encode=function encode(data,options){var buf=DEREncoder.prototype.encode.call(this,data);var p=buf.toString("base64");var out=["-----BEGIN "+options.label+"-----"];for(var i=0;i<p.length;i+=64)out.push(p.slice(i,i+64));out.push("-----END "+options.label+"-----");return out.join("\n")}},{"../../asn1":"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1.js","./der":"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1/encoders/der.js",buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js",inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js"}],"/Users/paulfrazee/patchwork/node_modules/blake2s/index.js":[function(require,module,exports){var Buffer=require("buffer").Buffer;var BLAKE2s=function(){function BLAKE2s(digestLength,key){if(typeof digestLength==="undefined"){digestLength=32}this.isFinished=false;this.digestLength=32;this.blockLength=64;this.iv=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];if(digestLength<=0){digestLength=this.digestLength}else if(digestLength>32){throw"digestLength is too large"}var keyLength=0;if(typeof key=="string"){key=this.stringToUtf8Array(key);keyLength=key.length}else if(typeof key=="object"){keyLength=key.length}if(keyLength>32){throw"key too long"}var param=[digestLength&255,keyLength,1,1];this.h=this.iv.slice(0);this.h[0]^=this.load32(param,0);this.x=new Array(64);this.t0=0;this.t1=0;this.f0=0;this.f1=0;this.nx=0;this.digestLength=digestLength;if(keyLength>0){for(var i=0;i<keyLength;i++){this.x[i]=key[i]}for(var i=keyLength;i<64;i++){this.x[i]=0}this.nx=64}}BLAKE2s.prototype.load32=function(p,pos){return(p[pos]&255|(p[pos+1]&255)<<8|(p[pos+2]&255)<<16|(p[pos+3]&255)<<24)>>>0};BLAKE2s.prototype.store32=function(p,pos,v){p[pos]=v>>>0&255;p[pos+1]=v>>>8&255;p[pos+2]=v>>>16&255;p[pos+3]=v>>>24&255};BLAKE2s.prototype.processBlock=function(length){this.t0+=length;if(this.t0!=this.t0>>>0){this.t0=0;this.t1++}var v0=this.h[0],v1=this.h[1],v2=this.h[2],v3=this.h[3],v4=this.h[4],v5=this.h[5],v6=this.h[6],v7=this.h[7],v8=this.iv[0],v9=this.iv[1],v10=this.iv[2],v11=this.iv[3],v12=this.iv[4]^this.t0,v13=this.iv[5]^this.t1,v14=this.iv[6]^this.f0,v15=this.iv[7]^this.f1;var m0=this.load32(this.x,0),m1=this.load32(this.x,4),m2=this.load32(this.x,8),m3=this.load32(this.x,12),m4=this.load32(this.x,16),m5=this.load32(this.x,20),m6=this.load32(this.x,24),m7=this.load32(this.x,28),m8=this.load32(this.x,32),m9=this.load32(this.x,36),m10=this.load32(this.x,40),m11=this.load32(this.x,44),m12=this.load32(this.x,48),m13=this.load32(this.x,52),m14=this.load32(this.x,56),m15=this.load32(this.x,60);v0+=m0;v0+=v4;v12^=v0;v12=v12<<32-16|v12>>>16;v8+=v12;v4^=v8;v4=v4<<32-12|v4>>>12;v1+=m2;v1+=v5;v13^=v1;v13=v13<<32-16|v13>>>16;v9+=v13;v5^=v9;v5=v5<<32-12|v5>>>12;v2+=m4;v2+=v6;v14^=v2;v14=v14<<32-16|v14>>>16;v10+=v14;v6^=v10;v6=v6<<32-12|v6>>>12;v3+=m6;v3+=v7;v15^=v3;v15=v15<<32-16|v15>>>16;v11+=v15;v7^=v11;v7=v7<<32-12|v7>>>12;v2+=m5;v2+=v6;v14^=v2;v14=v14<<32-8|v14>>>8;v10+=v14;v6^=v10;v6=v6<<32-7|v6>>>7;v3+=m7;v3+=v7;v15^=v3;v15=v15<<32-8|v15>>>8;v11+=v15;v7^=v11;v7=v7<<32-7|v7>>>7;v1+=m3;v1+=v5;v13^=v1;v13=v13<<32-8|v13>>>8;v9+=v13;v5^=v9;v5=v5<<32-7|v5>>>7;v0+=m1;v0+=v4;v12^=v0;v12=v12<<32-8|v12>>>8;v8+=v12;v4^=v8;v4=v4<<32-7|v4>>>7;v0+=m8;v0+=v5;v15^=v0;v15=v15<<32-16|v15>>>16;v10+=v15;v5^=v10;v5=v5<<32-12|v5>>>12;v1+=m10;v1+=v6;v12^=v1;v12=v12<<32-16|v12>>>16;v11+=v12;v6^=v11;v6=v6<<32-12|v6>>>12;v2+=m12;v2+=v7;v13^=v2;v13=v13<<32-16|v13>>>16;v8+=v13;v7^=v8;v7=v7<<32-12|v7>>>12;v3+=m14;v3+=v4;v14^=v3;v14=v14<<32-16|v14>>>16;v9+=v14;v4^=v9;v4=v4<<32-12|v4>>>12;v2+=m13;v2+=v7;v13^=v2;v13=v13<<32-8|v13>>>8;v8+=v13;v7^=v8;v7=v7<<32-7|v7>>>7;v3+=m15;v3+=v4;v14^=v3;v14=v14<<32-8|v14>>>8;v9+=v14;v4^=v9;v4=v4<<32-7|v4>>>7;v1+=m11;v1+=v6;v12^=v1;v12=v12<<32-8|v12>>>8;v11+=v12;v6^=v11;v6=v6<<32-7|v6>>>7;v0+=m9;v0+=v5;v15^=v0;v15=v15<<32-8|v15>>>8;v10+=v15;v5^=v10;v5=v5<<32-7|v5>>>7;v0+=m14;v0+=v4;v12^=v0;v12=v12<<32-16|v12>>>16;v8+=v12;v4^=v8;v4=v4<<32-12|v4>>>12;v1+=m4;v1+=v5;v13^=v1;v13=v13<<32-16|v13>>>16;v9+=v13;v5^=v9;v5=v5<<32-12|v5>>>12;v2+=m9;v2+=v6;v14^=v2;v14=v14<<32-16|v14>>>16;v10+=v14;v6^=v10;v6=v6<<32-12|v6>>>12;v3+=m13;v3+=v7;v15^=v3;v15=v15<<32-16|v15>>>16;v11+=v15;v7^=v11;v7=v7<<32-12|v7>>>12;v2+=m15;v2+=v6;v14^=v2;v14=v14<<32-8|v14>>>8;v10+=v14;v6^=v10;v6=v6<<32-7|v6>>>7;v3+=m6;v3+=v7;v15^=v3;v15=v15<<32-8|v15>>>8;v11+=v15;v7^=v11;v7=v7<<32-7|v7>>>7;v1+=m8;v1+=v5;v13^=v1;v13=v13<<32-8|v13>>>8;v9+=v13;v5^=v9;v5=v5<<32-7|v5>>>7;v0+=m10;v0+=v4;v12^=v0;v12=v12<<32-8|v12>>>8;v8+=v12;v4^=v8;v4=v4<<32-7|v4>>>7;v0+=m1;v0+=v5;v15^=v0;v15=v15<<32-16|v15>>>16;v10+=v15;v5^=v10;v5=v5<<32-12|v5>>>12;v1+=m0;v1+=v6;v12^=v1;v12=v12<<32-16|v12>>>16;v11+=v12;v6^=v11;v6=v6<<32-12|v6>>>12;v2+=m11;v2+=v7;v13^=v2;v13=v13<<32-16|v13>>>16;v8+=v13;v7^=v8;v7=v7<<32-12|v7>>>12;v3+=m5;v3+=v4;v14^=v3;v14=v14<<32-16|v14>>>16;v9+=v14;v4^=v9;v4=v4<<32-12|v4>>>12;v2+=m7;v2+=v7;v13^=v2;v13=v13<<32-8|v13>>>8;v8+=v13;v7^=v8;v7=v7<<32-7|v7>>>7;v3+=m3;v3+=v4;v14^=v3;v14=v14<<32-8|v14>>>8;v9+=v14;v4^=v9;v4=v4<<32-7|v4>>>7;v1+=m2;v1+=v6;v12^=v1;v12=v12<<32-8|v12>>>8;v11+=v12;v6^=v11;v6=v6<<32-7|v6>>>7;v0+=m12;v0+=v5;v15^=v0;v15=v15<<32-8|v15>>>8;v10+=v15;v5^=v10;v5=v5<<32-7|v5>>>7;v0+=m11;v0+=v4;v12^=v0;v12=v12<<32-16|v12>>>16;v8+=v12;v4^=v8;v4=v4<<32-12|v4>>>12;v1+=m12;v1+=v5;v13^=v1;v13=v13<<32-16|v13>>>16;v9+=v13;v5^=v9;v5=v5<<32-12|v5>>>12;v2+=m5;v2+=v6;v14^=v2;v14=v14<<32-16|v14>>>16;v10+=v14;v6^=v10;v6=v6<<32-12|v6>>>12;v3+=m15;v3+=v7;v15^=v3;v15=v15<<32-16|v15>>>16;v11+=v15;v7^=v11;v7=v7<<32-12|v7>>>12;v2+=m2;v2+=v6;v14^=v2;v14=v14<<32-8|v14>>>8;v10+=v14;v6^=v10;v6=v6<<32-7|v6>>>7;v3+=m13;v3+=v7;v15^=v3;v15=v15<<32-8|v15>>>8;v11+=v15;v7^=v11;v7=v7<<32-7|v7>>>7;v1+=m0;v1+=v5;v13^=v1;v13=v13<<32-8|v13>>>8;v9+=v13;v5^=v9;v5=v5<<32-7|v5>>>7;v0+=m8;v0+=v4;v12^=v0;v12=v12<<32-8|v12>>>8;v8+=v12;v4^=v8;v4=v4<<32-7|v4>>>7;v0+=m10;v0+=v5;v15^=v0;v15=v15<<32-16|v15>>>16;v10+=v15;v5^=v10;v5=v5<<32-12|v5>>>12;v1+=m3;v1+=v6;v12^=v1;v12=v12<<32-16|v12>>>16;v11+=v12;v6^=v11;v6=v6<<32-12|v6>>>12;v2+=m7;v2+=v7;v13^=v2;v13=v13<<32-16|v13>>>16;v8+=v13;v7^=v8;v7=v7<<32-12|v7>>>12;v3+=m9;v3+=v4;v14^=v3;v14=v14<<32-16|v14>>>16;v9+=v14;v4^=v9;v4=v4<<32-12|v4>>>12;v2+=m1;v2+=v7;v13^=v2;v13=v13<<32-8|v13>>>8;v8+=v13;v7^=v8;v7=v7<<32-7|v7>>>7;v3+=m4;v3+=v4;v14^=v3;v14=v14<<32-8|v14>>>8;v9+=v14;v4^=v9;v4=v4<<32-7|v4>>>7;v1+=m6;v1+=v6;v12^=v1;v12=v12<<32-8|v12>>>8;v11+=v12;v6^=v11;v6=v6<<32-7|v6>>>7;v0+=m14;v0+=v5;v15^=v0;v15=v15<<32-8|v15>>>8;v10+=v15;v5^=v10;v5=v5<<32-7|v5>>>7;v0+=m7;v0+=v4;v12^=v0;v12=v12<<32-16|v12>>>16;v8+=v12;v4^=v8;v4=v4<<32-12|v4>>>12;v1+=m3;v1+=v5;v13^=v1;v13=v13<<32-16|v13>>>16;v9+=v13;v5^=v9;v5=v5<<32-12|v5>>>12;v2+=m13;v2+=v6;v14^=v2;v14=v14<<32-16|v14>>>16;v10+=v14;v6^=v10;v6=v6<<32-12|v6>>>12;v3+=m11;v3+=v7;v15^=v3;v15=v15<<32-16|v15>>>16;v11+=v15;v7^=v11;v7=v7<<32-12|v7>>>12;v2+=m12;v2+=v6;v14^=v2;v14=v14<<32-8|v14>>>8;v10+=v14;v6^=v10;v6=v6<<32-7|v6>>>7;v3+=m14;v3+=v7;v15^=v3;v15=v15<<32-8|v15>>>8;v11+=v15;v7^=v11;v7=v7<<32-7|v7>>>7;v1+=m1;v1+=v5;v13^=v1;v13=v13<<32-8|v13>>>8;v9+=v13;v5^=v9;v5=v5<<32-7|v5>>>7;v0+=m9;v0+=v4;v12^=v0;v12=v12<<32-8|v12>>>8;v8+=v12;v4^=v8;v4=v4<<32-7|v4>>>7;v0+=m2;v0+=v5;v15^=v0;v15=v15<<32-16|v15>>>16;v10+=v15;v5^=v10;v5=v5<<32-12|v5>>>12;v1+=m5;v1+=v6;v12^=v1;v12=v12<<32-16|v12>>>16;v11+=v12;v6^=v11;v6=v6<<32-12|v6>>>12;v2+=m4;v2+=v7;v13^=v2;v13=v13<<32-16|v13>>>16;v8+=v13;v7^=v8;v7=v7<<32-12|v7>>>12;v3+=m15;v3+=v4;v14^=v3;v14=v14<<32-16|v14>>>16;v9+=v14;v4^=v9;v4=v4<<32-12|v4>>>12;v2+=m0;v2+=v7;v13^=v2;v13=v13<<32-8|v13>>>8;v8+=v13;v7^=v8;v7=v7<<32-7|v7>>>7;v3+=m8;v3+=v4;v14^=v3;v14=v14<<32-8|v14>>>8;v9+=v14;v4^=v9;v4=v4<<32-7|v4>>>7;v1+=m10;v1+=v6;v12^=v1;v12=v12<<32-8|v12>>>8;v11+=v12;v6^=v11;v6=v6<<32-7|v6>>>7;v0+=m6;v0+=v5;v15^=v0;v15=v15<<32-8|v15>>>8;v10+=v15;v5^=v10;v5=v5<<32-7|v5>>>7;v0+=m9;v0+=v4;v12^=v0;v12=v12<<32-16|v12>>>16;v8+=v12;v4^=v8;v4=v4<<32-12|v4>>>12;v1+=m5;v1+=v5;v13^=v1;v13=v13<<32-16|v13>>>16;v9+=v13;v5^=v9;v5=v5<<32-12|v5>>>12;v2+=m2;v2+=v6;v14^=v2;v14=v14<<32-16|v14>>>16;v10+=v14;v6^=v10;v6=v6<<32-12|v6>>>12;v3+=m10;v3+=v7;v15^=v3;v15=v15<<32-16|v15>>>16;v11+=v15;v7^=v11;v7=v7<<32-12|v7>>>12;v2+=m4;v2+=v6;v14^=v2;v14=v14<<32-8|v14>>>8;v10+=v14;v6^=v10;v6=v6<<32-7|v6>>>7;v3+=m15;v3+=v7;v15^=v3;v15=v15<<32-8|v15>>>8;v11+=v15;v7^=v11;v7=v7<<32-7|v7>>>7;v1+=m7;v1+=v5;v13^=v1;v13=v13<<32-8|v13>>>8;v9+=v13;v5^=v9;v5=v5<<32-7|v5>>>7;v0+=m0;v0+=v4;v12^=v0;v12=v12<<32-8|v12>>>8;v8+=v12;v4^=v8;v4=v4<<32-7|v4>>>7;v0+=m14;v0+=v5;v15^=v0;v15=v15<<32-16|v15>>>16;v10+=v15;v5^=v10;v5=v5<<32-12|v5>>>12;v1+=m11;v1+=v6;v12^=v1;v12=v12<<32-16|v12>>>16;v11+=v12;v6^=v11;v6=v6<<32-12|v6>>>12;v2+=m6;v2+=v7;v13^=v2;v13=v13<<32-16|v13>>>16;v8+=v13;v7^=v8;v7=v7<<32-12|v7>>>12;v3+=m3;v3+=v4;v14^=v3;v14=v14<<32-16|v14>>>16;v9+=v14;v4^=v9;v4=v4<<32-12|v4>>>12;v2+=m8;v2+=v7;v13^=v2;v13=v13<<32-8|v13>>>8;v8+=v13;v7^=v8;v7=v7<<32-7|v7>>>7;v3+=m13;v3+=v4;v14^=v3;v14=v14<<32-8|v14>>>8;v9+=v14;v4^=v9;v4=v4<<32-7|v4>>>7;v1+=m12;v1+=v6;v12^=v1;v12=v12<<32-8|v12>>>8;v11+=v12;v6^=v11;v6=v6<<32-7|v6>>>7;v0+=m1;v0+=v5;v15^=v0;v15=v15<<32-8|v15>>>8;v10+=v15;v5^=v10;v5=v5<<32-7|v5>>>7;v0+=m2;v0+=v4;v12^=v0;v12=v12<<32-16|v12>>>16;v8+=v12;v4^=v8;v4=v4<<32-12|v4>>>12;v1+=m6;v1+=v5;v13^=v1;v13=v13<<32-16|v13>>>16;v9+=v13;v5^=v9;v5=v5<<32-12|v5>>>12;v2+=m0;v2+=v6;v14^=v2;v14=v14<<32-16|v14>>>16;v10+=v14;v6^=v10;v6=v6<<32-12|v6>>>12;v3+=m8;v3+=v7;v15^=v3;v15=v15<<32-16|v15>>>16;v11+=v15;v7^=v11;v7=v7<<32-12|v7>>>12;v2+=m11;v2+=v6;v14^=v2;v14=v14<<32-8|v14>>>8;v10+=v14;v6^=v10;v6=v6<<32-7|v6>>>7;v3+=m3;v3+=v7;v15^=v3;v15=v15<<32-8|v15>>>8;v11+=v15;v7^=v11;v7=v7<<32-7|v7>>>7;v1+=m10;v1+=v5;v13^=v1;v13=v13<<32-8|v13>>>8;v9+=v13;v5^=v9;v5=v5<<32-7|v5>>>7;v0+=m12;v0+=v4;v12^=v0;v12=v12<<32-8|v12>>>8;v8+=v12;v4^=v8;v4=v4<<32-7|v4>>>7;v0+=m4;v0+=v5;v15^=v0;v15=v15<<32-16|v15>>>16;v10+=v15;v5^=v10;v5=v5<<32-12|v5>>>12;v1+=m7;v1+=v6;v12^=v1;v12=v12<<32-16|v12>>>16;v11+=v12;v6^=v11;v6=v6<<32-12|v6>>>12;v2+=m15;v2+=v7;v13^=v2;v13=v13<<32-16|v13>>>16;v8+=v13;v7^=v8;v7=v7<<32-12|v7>>>12;v3+=m1;v3+=v4;v14^=v3;v14=v14<<32-16|v14>>>16;v9+=v14;v4^=v9;v4=v4<<32-12|v4>>>12;v2+=m14;v2+=v7;v13^=v2;v13=v13<<32-8|v13>>>8;v8+=v13;v7^=v8;v7=v7<<32-7|v7>>>7;v3+=m9;v3+=v4;v14^=v3;v14=v14<<32-8|v14>>>8;v9+=v14;v4^=v9;v4=v4<<32-7|v4>>>7;v1+=m5;v1+=v6;v12^=v1;v12=v12<<32-8|v12>>>8;v11+=v12;v6^=v11;v6=v6<<32-7|v6>>>7;v0+=m13;v0+=v5;v15^=v0;v15=v15<<32-8|v15>>>8;v10+=v15;v5^=v10;v5=v5<<32-7|v5>>>7;v0+=m12;v0+=v4;v12^=v0;v12=v12<<32-16|v12>>>16;v8+=v12;v4^=v8;v4=v4<<32-12|v4>>>12;v1+=m1;v1+=v5;v13^=v1;v13=v13<<32-16|v13>>>16;v9+=v13;v5^=v9;v5=v5<<32-12|v5>>>12;v2+=m14;v2+=v6;v14^=v2;v14=v14<<32-16|v14>>>16;v10+=v14;v6^=v10;v6=v6<<32-12|v6>>>12;v3+=m4;v3+=v7;v15^=v3;v15=v15<<32-16|v15>>>16;v11+=v15;v7^=v11;v7=v7<<32-12|v7>>>12;v2+=m13;v2+=v6;v14^=v2;v14=v14<<32-8|v14>>>8;v10+=v14;v6^=v10;v6=v6<<32-7|v6>>>7;v3+=m10;v3+=v7;v15^=v3;v15=v15<<32-8|v15>>>8;v11+=v15;v7^=v11;v7=v7<<32-7|v7>>>7;v1+=m15;v1+=v5;v13^=v1;v13=v13<<32-8|v13>>>8;v9+=v13;v5^=v9;v5=v5<<32-7|v5>>>7;v0+=m5;v0+=v4;v12^=v0;v12=v12<<32-8|v12>>>8;v8+=v12;v4^=v8;v4=v4<<32-7|v4>>>7;v0+=m0;v0+=v5;v15^=v0;v15=v15<<32-16|v15>>>16;v10+=v15;v5^=v10;v5=v5<<32-12|v5>>>12;v1+=m6;v1+=v6;v12^=v1;v12=v12<<32-16|v12>>>16;v11+=v12;v6^=v11;v6=v6<<32-12|v6>>>12;v2+=m9;v2+=v7;v13^=v2;v13=v13<<32-16|v13>>>16;v8+=v13;v7^=v8;v7=v7<<32-12|v7>>>12;v3+=m8;v3+=v4;v14^=v3;v14=v14<<32-16|v14>>>16;v9+=v14;v4^=v9;v4=v4<<32-12|v4>>>12;v2+=m2;v2+=v7;v13^=v2;v13=v13<<32-8|v13>>>8;v8+=v13;v7^=v8;v7=v7<<32-7|v7>>>7;v3+=m11;v3+=v4;v14^=v3;v14=v14<<32-8|v14>>>8;v9+=v14;v4^=v9;v4=v4<<32-7|v4>>>7;v1+=m3;v1+=v6;v12^=v1;v12=v12<<32-8|v12>>>8;v11+=v12;v6^=v11;v6=v6<<32-7|v6>>>7;v0+=m7;v0+=v5;v15^=v0;v15=v15<<32-8|v15>>>8;v10+=v15;v5^=v10;v5=v5<<32-7|v5>>>7;v0+=m13;v0+=v4;v12^=v0;v12=v12<<32-16|v12>>>16;v8+=v12;v4^=v8;v4=v4<<32-12|v4>>>12;v1+=m7;v1+=v5;v13^=v1;v13=v13<<32-16|v13>>>16;v9+=v13;v5^=v9;v5=v5<<32-12|v5>>>12;v2+=m12;v2+=v6;v14^=v2;v14=v14<<32-16|v14>>>16;v10+=v14;v6^=v10;v6=v6<<32-12|v6>>>12;v3+=m3;v3+=v7;v15^=v3;v15=v15<<32-16|v15>>>16;v11+=v15;v7^=v11;v7=v7<<32-12|v7>>>12;v2+=m1;v2+=v6;v14^=v2;v14=v14<<32-8|v14>>>8;v10+=v14;v6^=v10;v6=v6<<32-7|v6>>>7;v3+=m9;v3+=v7;v15^=v3;v15=v15<<32-8|v15>>>8;v11+=v15;v7^=v11;v7=v7<<32-7|v7>>>7;v1+=m14;v1+=v5;v13^=v1;v13=v13<<32-8|v13>>>8;v9+=v13;v5^=v9;v5=v5<<32-7|v5>>>7;v0+=m11;v0+=v4;v12^=v0;v12=v12<<32-8|v12>>>8;v8+=v12;v4^=v8;v4=v4<<32-7|v4>>>7;v0+=m5;v0+=v5;v15^=v0;v15=v15<<32-16|v15>>>16;v10+=v15;v5^=v10;v5=v5<<32-12|v5>>>12;v1+=m15;v1+=v6;v12^=v1;v12=v12<<32-16|v12>>>16;v11+=v12;v6^=v11;v6=v6<<32-12|v6>>>12;v2+=m8;v2+=v7;v13^=v2;v13=v13<<32-16|v13>>>16;v8+=v13;v7^=v8;v7=v7<<32-12|v7>>>12;v3+=m2;v3+=v4;v14^=v3;v14=v14<<32-16|v14>>>16;v9+=v14;v4^=v9;v4=v4<<32-12|v4>>>12;v2+=m6;v2+=v7;v13^=v2;v13=v13<<32-8|v13>>>8;v8+=v13;v7^=v8;v7=v7<<32-7|v7>>>7;v3+=m10;v3+=v4;v14^=v3;v14=v14<<32-8|v14>>>8;v9+=v14;v4^=v9;v4=v4<<32-7|v4>>>7;v1+=m4;v1+=v6;v12^=v1;v12=v12<<32-8|v12>>>8;v11+=v12;v6^=v11;v6=v6<<32-7|v6>>>7;v0+=m0;v0+=v5;v15^=v0;v15=v15<<32-8|v15>>>8;v10+=v15;v5^=v10;v5=v5<<32-7|v5>>>7;v0+=m6;v0+=v4;v12^=v0;v12=v12<<32-16|v12>>>16;v8+=v12;v4^=v8;v4=v4<<32-12|v4>>>12;v1+=m14;v1+=v5;v13^=v1;v13=v13<<32-16|v13>>>16;v9+=v13;v5^=v9;v5=v5<<32-12|v5>>>12;v2+=m11;v2+=v6;v14^=v2;v14=v14<<32-16|v14>>>16;v10+=v14;v6^=v10;v6=v6<<32-12|v6>>>12;v3+=m0;v3+=v7;v15^=v3;v15=v15<<32-16|v15>>>16;v11+=v15;v7^=v11;v7=v7<<32-12|v7>>>12;v2+=m3;v2+=v6;v14^=v2;v14=v14<<32-8|v14>>>8;v10+=v14;v6^=v10;v6=v6<<32-7|v6>>>7;v3+=m8;v3+=v7;v15^=v3;v15=v15<<32-8|v15>>>8;v11+=v15;v7^=v11;v7=v7<<32-7|v7>>>7;v1+=m9;v1+=v5;v13^=v1;v13=v13<<32-8|v13>>>8;v9+=v13;v5^=v9;v5=v5<<32-7|v5>>>7;v0+=m15;v0+=v4;v12^=v0;v12=v12<<32-8|v12>>>8;v8+=v12;v4^=v8;v4=v4<<32-7|v4>>>7;v0+=m12;v0+=v5;v15^=v0;v15=v15<<32-16|v15>>>16;v10+=v15;v5^=v10;v5=v5<<32-12|v5>>>12;v1+=m13;v1+=v6;v12^=v1;v12=v12<<32-16|v12>>>16;v11+=v12;v6^=v11;v6=v6<<32-12|v6>>>12;v2+=m1;v2+=v7;v13^=v2;v13=v13<<32-16|v13>>>16;v8+=v13;v7^=v8;v7=v7<<32-12|v7>>>12;v3+=m10;v3+=v4;v14^=v3;v14=v14<<32-16|v14>>>16;v9+=v14;v4^=v9;v4=v4<<32-12|v4>>>12;v2+=m4;v2+=v7;v13^=v2;v13=v13<<32-8|v13>>>8;v8+=v13;v7^=v8;v7=v7<<32-7|v7>>>7;v3+=m5;v3+=v4;v14^=v3;v14=v14<<32-8|v14>>>8;v9+=v14;v4^=v9;v4=v4<<32-7|v4>>>7;v1+=m7;v1+=v6;v12^=v1;v12=v12<<32-8|v12>>>8;v11+=v12;v6^=v11;v6=v6<<32-7|v6>>>7;v0+=m2;v0+=v5;v15^=v0;v15=v15<<32-8|v15>>>8;v10+=v15;v5^=v10;v5=v5<<32-7|v5>>>7;v0+=m10;v0+=v4;v12^=v0;v12=v12<<32-16|v12>>>16;v8+=v12;v4^=v8;v4=v4<<32-12|v4>>>12;v1+=m8;v1+=v5;v13^=v1;v13=v13<<32-16|v13>>>16;v9+=v13;v5^=v9;v5=v5<<32-12|v5>>>12;v2+=m7;v2+=v6;v14^=v2;v14=v14<<32-16|v14>>>16;v10+=v14;v6^=v10;v6=v6<<32-12|v6>>>12;v3+=m1;v3+=v7;v15^=v3;v15=v15<<32-16|v15>>>16;v11+=v15;v7^=v11;v7=v7<<32-12|v7>>>12;v2+=m6;v2+=v6;v14^=v2;v14=v14<<32-8|v14>>>8;v10+=v14;v6^=v10;v6=v6<<32-7|v6>>>7;v3+=m5;v3+=v7;v15^=v3;v15=v15<<32-8|v15>>>8;v11+=v15;v7^=v11;v7=v7<<32-7|v7>>>7;v1+=m4;v1+=v5;v13^=v1;v13=v13<<32-8|v13>>>8;v9+=v13;v5^=v9;v5=v5<<32-7|v5>>>7;v0+=m2;v0+=v4;v12^=v0;v12=v12<<32-8|v12>>>8;v8+=v12;v4^=v8;v4=v4<<32-7|v4>>>7;v0+=m15;v0+=v5;v15^=v0;v15=v15<<32-16|v15>>>16;v10+=v15;v5^=v10;v5=v5<<32-12|v5>>>12;v1+=m9;v1+=v6;v12^=v1;v12=v12<<32-16|v12>>>16;v11+=v12;v6^=v11;v6=v6<<32-12|v6>>>12;v2+=m3;v2+=v7;v13^=v2;v13=v13<<32-16|v13>>>16;v8+=v13;v7^=v8;v7=v7<<32-12|v7>>>12;v3+=m13;v3+=v4;v14^=v3;v14=v14<<32-16|v14>>>16;v9+=v14;v4^=v9;v4=v4<<32-12|v4>>>12;v2+=m12;v2+=v7;v13^=v2;v13=v13<<32-8|v13>>>8;v8+=v13;v7^=v8;v7=v7<<32-7|v7>>>7;v3+=m0;v3+=v4;v14^=v3;v14=v14<<32-8|v14>>>8;v9+=v14;v4^=v9;v4=v4<<32-7|v4>>>7;v1+=m14;v1+=v6;v12^=v1;v12=v12<<32-8|v12>>>8;v11+=v12;v6^=v11;v6=v6<<32-7|v6>>>7;v0+=m11;v0+=v5;v15^=v0;v15=v15<<32-8|v15>>>8;v10+=v15;v5^=v10;v5=v5<<32-7|v5>>>7;this.h[0]^=v0^v8;this.h[1]^=v1^v9;this.h[2]^=v2^v10;this.h[3]^=v3^v11;this.h[4]^=v4^v12;this.h[5]^=v5^v13;this.h[6]^=v6^v14;this.h[7]^=v7^v15};BLAKE2s.prototype.stringToUtf8Array=function(s){var arr=[];for(var i=0;i<s.length;i++){var c=s.charCodeAt(i);if(c<128){arr.push(c)}else if(c>127&&c<2048){arr.push(c>>6|192);arr.push(c&63|128)}else{arr.push(c>>12|224);arr.push(c>>6&63|128);arr.push(c&64|128)}}return arr};BLAKE2s.prototype._update=function(p,offset,length){if(typeof offset==="undefined"){offset=0}if(typeof length==="undefined"){length=p.length}if(this.isFinished){throw"update() after calling digest()"}if(typeof p=="string"){if(offset!=0){throw"offset not supported for strings"}p=this.stringToUtf8Array(p);length=p.length;offset=0}else if(typeof p!="object"){throw"unsupported object: string or array required"}if(length==0){return}var left=64-this.nx;if(length>left){for(var i=0;i<left;i++){this.x[this.nx+i]=p[offset+i]}this.processBlock(64);offset+=left;length-=left;this.nx=0}while(length>64){for(var i=0;i<64;i++){this.x[i]=p[offset+i]}this.processBlock(64);offset+=64;length-=64;this.nx=0}for(var i=0;i<length;i++){this.x[this.nx+i]=p[offset+i]}this.nx+=length};BLAKE2s.prototype.update=function(buffer,enc){if(enc)buffer=new Buffer(buffer,enc);this._update(buffer);return this};BLAKE2s.prototype.digest=function(enc){if(this.isFinished){return this.result}for(var i=this.nx;i<64;i++){this.x[i]=0}this.f0=4294967295;this.processBlock(this.nx);var out=new Buffer(32);for(var i=0;i<8;i++){var h=this.h[i];out[i*4+0]=h>>>0&255;out[i*4+1]=h>>>8&255;out[i*4+2]=h>>>16&255;out[i*4+3]=h>>>24&255}this.result=out.slice(0,this.digestLength);this.isFinished=true;return enc?this.result.toString(enc):this.result};return BLAKE2s}();if("undefined"===typeof module)window.Blake2s=BLAKE2s;else module.exports=BLAKE2s},{buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js"}],"/Users/paulfrazee/patchwork/node_modules/bn.js/lib/bn.js":[function(require,module,exports){(function(module,exports){"use strict";function assert(val,msg){if(!val)throw new Error(msg||"Assertion failed")}function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}function BN(number,base,endian){if(number!==null&&typeof number==="object"&&Array.isArray(number.words)){return number}this.negative=0;this.words=null;this.length=0;this.red=null;if(number!==null){if(base==="le"||base==="be"){endian=base;base=10}this._init(number||0,base||10,endian||"be")}}if(typeof module==="object"){module.exports=BN}else{exports.BN=BN}BN.BN=BN;BN.wordSize=26;var Buffer;try{Buffer=require("buffer").Buffer}catch(e){}BN.max=function max(left,right){if(left.cmp(right)>0)return left;return right};BN.min=function min(left,right){if(left.cmp(right)<0)return left;return right};BN.prototype._init=function init(number,base,endian){if(typeof number==="number"){return this._initNumber(number,base,endian)}if(typeof number==="object"){return this._initArray(number,base,endian)}if(base==="hex"){base=16}assert(base===(base|0)&&base>=2&&base<=36);number=number.toString().replace(/\s+/g,"");var start=0;if(number[0]==="-"){start++}if(base===16){this._parseHex(number,start)}else{this._parseBase(number,base,start)}if(number[0]==="-"){this.negative=1}this.strip();if(endian!=="le")return;this._initArray(this.toArray(),base,endian)};BN.prototype._initNumber=function _initNumber(number,base,endian){if(number<0){this.negative=1;number=-number}if(number<67108864){this.words=[number&67108863];this.length=1}else if(number<4503599627370496){this.words=[number&67108863,number/67108864&67108863];this.length=2}else{assert(number<9007199254740992);this.words=[number&67108863,number/67108864&67108863,1];this.length=3}if(endian!=="le")return;this._initArray(this.toArray(),base,endian)};BN.prototype._initArray=function _initArray(number,base,endian){assert(typeof number.length==="number");if(number.length<=0){this.words=[0];this.length=1;return this}this.length=Math.ceil(number.length/3);this.words=new Array(this.length);for(var i=0;i<this.length;i++){this.words[i]=0}var j,w;var off=0;if(endian==="be"){for(i=number.length-1,j=0;i>=0;i-=3){w=number[i]|number[i-1]<<8|number[i-2]<<16;this.words[j]|=w<<off&67108863;this.words[j+1]=w>>>26-off&67108863;off+=24;if(off>=26){off-=26;j++}}}else if(endian==="le"){for(i=0,j=0;i<number.length;i+=3){w=number[i]|number[i+1]<<8|number[i+2]<<16;this.words[j]|=w<<off&67108863;this.words[j+1]=w>>>26-off&67108863;off+=24;if(off>=26){off-=26;j++}}}return this.strip()};function parseHex(str,start,end){var r=0;var len=Math.min(str.length,end);for(var i=start;i<len;i++){var c=str.charCodeAt(i)-48;r<<=4;if(c>=49&&c<=54){r|=c-49+10}else if(c>=17&&c<=22){r|=c-17+10}else{r|=c&15}}return r}BN.prototype._parseHex=function _parseHex(number,start){this.length=Math.ceil((number.length-start)/6);this.words=new Array(this.length);for(var i=0;i<this.length;i++){this.words[i]=0}var j,w;var off=0;for(i=number.length-6,j=0;i>=start;i-=6){w=parseHex(number,i,i+6);this.words[j]|=w<<off&67108863;this.words[j+1]|=w>>>26-off&4194303;off+=24;if(off>=26){off-=26;j++}}if(i+6!==start){w=parseHex(number,start,i+6);this.words[j]|=w<<off&67108863;this.words[j+1]|=w>>>26-off&4194303}this.strip()};function parseBase(str,start,end,mul){var r=0;var len=Math.min(str.length,end);for(var i=start;i<len;i++){var c=str.charCodeAt(i)-48;r*=mul;if(c>=49){r+=c-49+10}else if(c>=17){r+=c-17+10}else{r+=c}}return r}BN.prototype._parseBase=function _parseBase(number,base,start){this.words=[0];this.length=1;for(var limbLen=0,limbPow=1;limbPow<=67108863;limbPow*=base){limbLen++}limbLen--;limbPow=limbPow/base|0;var total=number.length-start;var mod=total%limbLen;var end=Math.min(total,total-mod)+start;var word=0;for(var i=start;i<end;i+=limbLen){word=parseBase(number,i,i+limbLen,base);this.imuln(limbPow);if(this.words[0]+word<67108864){this.words[0]+=word}else{this._iaddn(word)}}if(mod!==0){var pow=1;word=parseBase(number,i,number.length,base);for(i=0;i<mod;i++){pow*=base}this.imuln(pow);if(this.words[0]+word<67108864){this.words[0]+=word}else{this._iaddn(word)}}};BN.prototype.copy=function copy(dest){dest.words=new Array(this.length);for(var i=0;i<this.length;i++){dest.words[i]=this.words[i]}dest.length=this.length;dest.negative=this.negative;dest.red=this.red};BN.prototype.clone=function clone(){var r=new BN(null);this.copy(r);return r};BN.prototype.strip=function strip(){while(this.length>1&&this.words[this.length-1]===0){this.length--}return this._normSign()};BN.prototype._normSign=function _normSign(){if(this.length===1&&this.words[0]===0){this.negative=0}return this};BN.prototype.inspect=function inspect(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var zeros=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"];var groupSizes=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5];var groupBases=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];BN.prototype.toString=function toString(base,padding){base=base||10;padding=padding|0||1;var out;if(base===16||base==="hex"){out="";var off=0;var carry=0;for(var i=0;i<this.length;i++){var w=this.words[i];var word=((w<<off|carry)&16777215).toString(16);carry=w>>>24-off&16777215;if(carry!==0||i!==this.length-1){out=zeros[6-word.length]+word+out}else{out=word+out}off+=2;if(off>=26){off-=26;i--}}if(carry!==0){out=carry.toString(16)+out}while(out.length%padding!==0){out="0"+out}if(this.negative!==0){out="-"+out}return out}if(base===(base|0)&&base>=2&&base<=36){var groupSize=groupSizes[base];var groupBase=groupBases[base];out="";var c=this.clone();c.negative=0;while(!c.isZero()){var r=c.modn(groupBase).toString(base);c=c.idivn(groupBase);if(!c.isZero()){out=zeros[groupSize-r.length]+r+out}else{out=r+out}}if(this.isZero()){out="0"+out}while(out.length%padding!==0){out="0"+out}if(this.negative!==0){out="-"+out}return out}assert(false,"Base should be between 2 and 36")};BN.prototype.toNumber=function toNumber(){var length=this.bitLength();var ret;if(length<=26){ret=this.words[0]}else if(length<=52){ret=this.words[1]*67108864+this.words[0]}else if(length===53){ret=4503599627370496+this.words[1]*67108864+this.words[0]}else{assert(false,"Number can only safely store up to 53 bits")}return this.negative!==0?-ret:ret};BN.prototype.toJSON=function toJSON(){return this.toString(16)};BN.prototype.toBuffer=function toBuffer(endian,length){assert(typeof Buffer!=="undefined");return new Buffer(this.toArray(endian,length))};BN.prototype.toArray=function toArray(endian,length){var byteLength=this.byteLength();var reqLength=length||Math.max(1,byteLength);assert(byteLength<=reqLength,"byte array longer than desired length");assert(reqLength>0,"Requested array length <= 0");this.strip();var littleEndian=endian==="le";var res=new Array(reqLength);var b,i;var q=this.clone();if(!littleEndian){for(i=0;i<reqLength-byteLength;i++){res[i]=0}for(i=0;!q.isZero();i++){b=q.andln(255);q.iushrn(8);res[reqLength-i-1]=b}}else{for(i=0;!q.isZero();i++){b=q.andln(255);q.iushrn(8);res[i]=b}for(;i<reqLength;i++){res[i]=0}}return res};if(Math.clz32){BN.prototype._countBits=function _countBits(w){return 32-Math.clz32(w)}}else{BN.prototype._countBits=function _countBits(w){var t=w;var r=0;if(t>=4096){r+=13;t>>>=13}if(t>=64){r+=7;t>>>=7}if(t>=8){r+=4;t>>>=4}if(t>=2){r+=2;t>>>=2}return r+t}}BN.prototype._zeroBits=function _zeroBits(w){if(w===0)return 26;var t=w;var r=0;if((t&8191)===0){r+=13;t>>>=13}if((t&127)===0){r+=7;t>>>=7}if((t&15)===0){r+=4;t>>>=4}if((t&3)===0){r+=2;t>>>=2}if((t&1)===0){r++}return r};BN.prototype.bitLength=function bitLength(){var w=this.words[this.length-1];var hi=this._countBits(w);return(this.length-1)*26+hi};function toBitArray(num){var w=new Array(num.bitLength());for(var bit=0;bit<w.length;bit++){var off=bit/26|0;var wbit=bit%26;w[bit]=(num.words[off]&1<<wbit)>>>wbit}return w}BN.prototype.zeroBits=function zeroBits(){if(this.isZero())return 0;var r=0;for(var i=0;i<this.length;i++){var b=this._zeroBits(this.words[i]);r+=b;if(b!==26)break}return r};BN.prototype.byteLength=function byteLength(){return Math.ceil(this.bitLength()/8)};BN.prototype.toTwos=function toTwos(width){if(this.negative!==0){return this.abs().inotn(width).iaddn(1)}return this.clone()};BN.prototype.fromTwos=function fromTwos(width){if(this.testn(width-1)){return this.notn(width).iaddn(1).ineg()}return this.clone();
};BN.prototype.isNeg=function isNeg(){return this.negative!==0};BN.prototype.neg=function neg(){return this.clone().ineg()};BN.prototype.ineg=function ineg(){if(!this.isZero()){this.negative^=1}return this};BN.prototype.iuor=function iuor(num){while(this.length<num.length){this.words[this.length++]=0}for(var i=0;i<num.length;i++){this.words[i]=this.words[i]|num.words[i]}return this.strip()};BN.prototype.ior=function ior(num){assert((this.negative|num.negative)===0);return this.iuor(num)};BN.prototype.or=function or(num){if(this.length>num.length)return this.clone().ior(num);return num.clone().ior(this)};BN.prototype.uor=function uor(num){if(this.length>num.length)return this.clone().iuor(num);return num.clone().iuor(this)};BN.prototype.iuand=function iuand(num){var b;if(this.length>num.length){b=num}else{b=this}for(var i=0;i<b.length;i++){this.words[i]=this.words[i]&num.words[i]}this.length=b.length;return this.strip()};BN.prototype.iand=function iand(num){assert((this.negative|num.negative)===0);return this.iuand(num)};BN.prototype.and=function and(num){if(this.length>num.length)return this.clone().iand(num);return num.clone().iand(this)};BN.prototype.uand=function uand(num){if(this.length>num.length)return this.clone().iuand(num);return num.clone().iuand(this)};BN.prototype.iuxor=function iuxor(num){var a;var b;if(this.length>num.length){a=this;b=num}else{a=num;b=this}for(var i=0;i<b.length;i++){this.words[i]=a.words[i]^b.words[i]}if(this!==a){for(;i<a.length;i++){this.words[i]=a.words[i]}}this.length=a.length;return this.strip()};BN.prototype.ixor=function ixor(num){assert((this.negative|num.negative)===0);return this.iuxor(num)};BN.prototype.xor=function xor(num){if(this.length>num.length)return this.clone().ixor(num);return num.clone().ixor(this)};BN.prototype.uxor=function uxor(num){if(this.length>num.length)return this.clone().iuxor(num);return num.clone().iuxor(this)};BN.prototype.inotn=function inotn(width){assert(typeof width==="number"&&width>=0);var bytesNeeded=Math.ceil(width/26)|0;var bitsLeft=width%26;while(this.length<bytesNeeded){this.words[this.length++]=0}if(bitsLeft>0){bytesNeeded--}for(var i=0;i<bytesNeeded;i++){this.words[i]=~this.words[i]&67108863}if(bitsLeft>0){this.words[i]=~this.words[i]&67108863>>26-bitsLeft}return this.strip()};BN.prototype.notn=function notn(width){return this.clone().inotn(width)};BN.prototype.setn=function setn(bit,val){assert(typeof bit==="number"&&bit>=0);var off=bit/26|0;var wbit=bit%26;while(this.length<=off){this.words[this.length++]=0}if(val){this.words[off]=this.words[off]|1<<wbit}else{this.words[off]=this.words[off]&~(1<<wbit)}return this.strip()};BN.prototype.iadd=function iadd(num){var r;if(this.negative!==0&&num.negative===0){this.negative=0;r=this.isub(num);this.negative^=1;return this._normSign()}else if(this.negative===0&&num.negative!==0){num.negative=0;r=this.isub(num);num.negative=1;return r._normSign()}var a,b;if(this.length>num.length){a=this;b=num}else{a=num;b=this}var carry=0;for(var i=0;i<b.length;i++){r=(a.words[i]|0)+(b.words[i]|0)+carry;this.words[i]=r&67108863;carry=r>>>26}for(;carry!==0&&i<a.length;i++){r=(a.words[i]|0)+carry;this.words[i]=r&67108863;carry=r>>>26}this.length=a.length;if(carry!==0){this.words[this.length]=carry;this.length++}else if(a!==this){for(;i<a.length;i++){this.words[i]=a.words[i]}}return this};BN.prototype.add=function add(num){var res;if(num.negative!==0&&this.negative===0){num.negative=0;res=this.sub(num);num.negative^=1;return res}else if(num.negative===0&&this.negative!==0){this.negative=0;res=num.sub(this);this.negative=1;return res}if(this.length>num.length)return this.clone().iadd(num);return num.clone().iadd(this)};BN.prototype.isub=function isub(num){if(num.negative!==0){num.negative=0;var r=this.iadd(num);num.negative=1;return r._normSign()}else if(this.negative!==0){this.negative=0;this.iadd(num);this.negative=1;return this._normSign()}var cmp=this.cmp(num);if(cmp===0){this.negative=0;this.length=1;this.words[0]=0;return this}var a,b;if(cmp>0){a=this;b=num}else{a=num;b=this}var carry=0;for(var i=0;i<b.length;i++){r=(a.words[i]|0)-(b.words[i]|0)+carry;carry=r>>26;this.words[i]=r&67108863}for(;carry!==0&&i<a.length;i++){r=(a.words[i]|0)+carry;carry=r>>26;this.words[i]=r&67108863}if(carry===0&&i<a.length&&a!==this){for(;i<a.length;i++){this.words[i]=a.words[i]}}this.length=Math.max(this.length,i);if(a!==this){this.negative=1}return this.strip()};BN.prototype.sub=function sub(num){return this.clone().isub(num)};function smallMulTo(self,num,out){out.negative=num.negative^self.negative;var len=self.length+num.length|0;out.length=len;len=len-1|0;var a=self.words[0]|0;var b=num.words[0]|0;var r=a*b;var lo=r&67108863;var carry=r/67108864|0;out.words[0]=lo;for(var k=1;k<len;k++){var ncarry=carry>>>26;var rword=carry&67108863;var maxJ=Math.min(k,num.length-1);for(var j=Math.max(0,k-self.length+1);j<=maxJ;j++){var i=k-j|0;a=self.words[i]|0;b=num.words[j]|0;r=a*b+rword;ncarry+=r/67108864|0;rword=r&67108863}out.words[k]=rword|0;carry=ncarry|0}if(carry!==0){out.words[k]=carry|0}else{out.length--}return out.strip()}var comb10MulTo=function comb10MulTo(self,num,out){var a=self.words;var b=num.words;var o=out.words;var c=0;var lo;var mid;var hi;var a0=a[0]|0;var al0=a0&8191;var ah0=a0>>>13;var a1=a[1]|0;var al1=a1&8191;var ah1=a1>>>13;var a2=a[2]|0;var al2=a2&8191;var ah2=a2>>>13;var a3=a[3]|0;var al3=a3&8191;var ah3=a3>>>13;var a4=a[4]|0;var al4=a4&8191;var ah4=a4>>>13;var a5=a[5]|0;var al5=a5&8191;var ah5=a5>>>13;var a6=a[6]|0;var al6=a6&8191;var ah6=a6>>>13;var a7=a[7]|0;var al7=a7&8191;var ah7=a7>>>13;var a8=a[8]|0;var al8=a8&8191;var ah8=a8>>>13;var a9=a[9]|0;var al9=a9&8191;var ah9=a9>>>13;var b0=b[0]|0;var bl0=b0&8191;var bh0=b0>>>13;var b1=b[1]|0;var bl1=b1&8191;var bh1=b1>>>13;var b2=b[2]|0;var bl2=b2&8191;var bh2=b2>>>13;var b3=b[3]|0;var bl3=b3&8191;var bh3=b3>>>13;var b4=b[4]|0;var bl4=b4&8191;var bh4=b4>>>13;var b5=b[5]|0;var bl5=b5&8191;var bh5=b5>>>13;var b6=b[6]|0;var bl6=b6&8191;var bh6=b6>>>13;var b7=b[7]|0;var bl7=b7&8191;var bh7=b7>>>13;var b8=b[8]|0;var bl8=b8&8191;var bh8=b8>>>13;var b9=b[9]|0;var bl9=b9&8191;var bh9=b9>>>13;out.negative=self.negative^num.negative;out.length=19;lo=Math.imul(al0,bl0);mid=Math.imul(al0,bh0);mid+=Math.imul(ah0,bl0);hi=Math.imul(ah0,bh0);var w0=c+lo+((mid&8191)<<13);c=hi+(mid>>>13)+(w0>>>26);w0&=67108863;lo=Math.imul(al1,bl0);mid=Math.imul(al1,bh0);mid+=Math.imul(ah1,bl0);hi=Math.imul(ah1,bh0);lo+=Math.imul(al0,bl1);mid+=Math.imul(al0,bh1);mid+=Math.imul(ah0,bl1);hi+=Math.imul(ah0,bh1);var w1=c+lo+((mid&8191)<<13);c=hi+(mid>>>13)+(w1>>>26);w1&=67108863;lo=Math.imul(al2,bl0);mid=Math.imul(al2,bh0);mid+=Math.imul(ah2,bl0);hi=Math.imul(ah2,bh0);lo+=Math.imul(al1,bl1);mid+=Math.imul(al1,bh1);mid+=Math.imul(ah1,bl1);hi+=Math.imul(ah1,bh1);lo+=Math.imul(al0,bl2);mid+=Math.imul(al0,bh2);mid+=Math.imul(ah0,bl2);hi+=Math.imul(ah0,bh2);var w2=c+lo+((mid&8191)<<13);c=hi+(mid>>>13)+(w2>>>26);w2&=67108863;lo=Math.imul(al3,bl0);mid=Math.imul(al3,bh0);mid+=Math.imul(ah3,bl0);hi=Math.imul(ah3,bh0);lo+=Math.imul(al2,bl1);mid+=Math.imul(al2,bh1);mid+=Math.imul(ah2,bl1);hi+=Math.imul(ah2,bh1);lo+=Math.imul(al1,bl2);mid+=Math.imul(al1,bh2);mid+=Math.imul(ah1,bl2);hi+=Math.imul(ah1,bh2);lo+=Math.imul(al0,bl3);mid+=Math.imul(al0,bh3);mid+=Math.imul(ah0,bl3);hi+=Math.imul(ah0,bh3);var w3=c+lo+((mid&8191)<<13);c=hi+(mid>>>13)+(w3>>>26);w3&=67108863;lo=Math.imul(al4,bl0);mid=Math.imul(al4,bh0);mid+=Math.imul(ah4,bl0);hi=Math.imul(ah4,bh0);lo+=Math.imul(al3,bl1);mid+=Math.imul(al3,bh1);mid+=Math.imul(ah3,bl1);hi+=Math.imul(ah3,bh1);lo+=Math.imul(al2,bl2);mid+=Math.imul(al2,bh2);mid+=Math.imul(ah2,bl2);hi+=Math.imul(ah2,bh2);lo+=Math.imul(al1,bl3);mid+=Math.imul(al1,bh3);mid+=Math.imul(ah1,bl3);hi+=Math.imul(ah1,bh3);lo+=Math.imul(al0,bl4);mid+=Math.imul(al0,bh4);mid+=Math.imul(ah0,bl4);hi+=Math.imul(ah0,bh4);var w4=c+lo+((mid&8191)<<13);c=hi+(mid>>>13)+(w4>>>26);w4&=67108863;lo=Math.imul(al5,bl0);mid=Math.imul(al5,bh0);mid+=Math.imul(ah5,bl0);hi=Math.imul(ah5,bh0);lo+=Math.imul(al4,bl1);mid+=Math.imul(al4,bh1);mid+=Math.imul(ah4,bl1);hi+=Math.imul(ah4,bh1);lo+=Math.imul(al3,bl2);mid+=Math.imul(al3,bh2);mid+=Math.imul(ah3,bl2);hi+=Math.imul(ah3,bh2);lo+=Math.imul(al2,bl3);mid+=Math.imul(al2,bh3);mid+=Math.imul(ah2,bl3);hi+=Math.imul(ah2,bh3);lo+=Math.imul(al1,bl4);mid+=Math.imul(al1,bh4);mid+=Math.imul(ah1,bl4);hi+=Math.imul(ah1,bh4);lo+=Math.imul(al0,bl5);mid+=Math.imul(al0,bh5);mid+=Math.imul(ah0,bl5);hi+=Math.imul(ah0,bh5);var w5=c+lo+((mid&8191)<<13);c=hi+(mid>>>13)+(w5>>>26);w5&=67108863;lo=Math.imul(al6,bl0);mid=Math.imul(al6,bh0);mid+=Math.imul(ah6,bl0);hi=Math.imul(ah6,bh0);lo+=Math.imul(al5,bl1);mid+=Math.imul(al5,bh1);mid+=Math.imul(ah5,bl1);hi+=Math.imul(ah5,bh1);lo+=Math.imul(al4,bl2);mid+=Math.imul(al4,bh2);mid+=Math.imul(ah4,bl2);hi+=Math.imul(ah4,bh2);lo+=Math.imul(al3,bl3);mid+=Math.imul(al3,bh3);mid+=Math.imul(ah3,bl3);hi+=Math.imul(ah3,bh3);lo+=Math.imul(al2,bl4);mid+=Math.imul(al2,bh4);mid+=Math.imul(ah2,bl4);hi+=Math.imul(ah2,bh4);lo+=Math.imul(al1,bl5);mid+=Math.imul(al1,bh5);mid+=Math.imul(ah1,bl5);hi+=Math.imul(ah1,bh5);lo+=Math.imul(al0,bl6);mid+=Math.imul(al0,bh6);mid+=Math.imul(ah0,bl6);hi+=Math.imul(ah0,bh6);var w6=c+lo+((mid&8191)<<13);c=hi+(mid>>>13)+(w6>>>26);w6&=67108863;lo=Math.imul(al7,bl0);mid=Math.imul(al7,bh0);mid+=Math.imul(ah7,bl0);hi=Math.imul(ah7,bh0);lo+=Math.imul(al6,bl1);mid+=Math.imul(al6,bh1);mid+=Math.imul(ah6,bl1);hi+=Math.imul(ah6,bh1);lo+=Math.imul(al5,bl2);mid+=Math.imul(al5,bh2);mid+=Math.imul(ah5,bl2);hi+=Math.imul(ah5,bh2);lo+=Math.imul(al4,bl3);mid+=Math.imul(al4,bh3);mid+=Math.imul(ah4,bl3);hi+=Math.imul(ah4,bh3);lo+=Math.imul(al3,bl4);mid+=Math.imul(al3,bh4);mid+=Math.imul(ah3,bl4);hi+=Math.imul(ah3,bh4);lo+=Math.imul(al2,bl5);mid+=Math.imul(al2,bh5);mid+=Math.imul(ah2,bl5);hi+=Math.imul(ah2,bh5);lo+=Math.imul(al1,bl6);mid+=Math.imul(al1,bh6);mid+=Math.imul(ah1,bl6);hi+=Math.imul(ah1,bh6);lo+=Math.imul(al0,bl7);mid+=Math.imul(al0,bh7);mid+=Math.imul(ah0,bl7);hi+=Math.imul(ah0,bh7);var w7=c+lo+((mid&8191)<<13);c=hi+(mid>>>13)+(w7>>>26);w7&=67108863;lo=Math.imul(al8,bl0);mid=Math.imul(al8,bh0);mid+=Math.imul(ah8,bl0);hi=Math.imul(ah8,bh0);lo+=Math.imul(al7,bl1);mid+=Math.imul(al7,bh1);mid+=Math.imul(ah7,bl1);hi+=Math.imul(ah7,bh1);lo+=Math.imul(al6,bl2);mid+=Math.imul(al6,bh2);mid+=Math.imul(ah6,bl2);hi+=Math.imul(ah6,bh2);lo+=Math.imul(al5,bl3);mid+=Math.imul(al5,bh3);mid+=Math.imul(ah5,bl3);hi+=Math.imul(ah5,bh3);lo+=Math.imul(al4,bl4);mid+=Math.imul(al4,bh4);mid+=Math.imul(ah4,bl4);hi+=Math.imul(ah4,bh4);lo+=Math.imul(al3,bl5);mid+=Math.imul(al3,bh5);mid+=Math.imul(ah3,bl5);hi+=Math.imul(ah3,bh5);lo+=Math.imul(al2,bl6);mid+=Math.imul(al2,bh6);mid+=Math.imul(ah2,bl6);hi+=Math.imul(ah2,bh6);lo+=Math.imul(al1,bl7);mid+=Math.imul(al1,bh7);mid+=Math.imul(ah1,bl7);hi+=Math.imul(ah1,bh7);lo+=Math.imul(al0,bl8);mid+=Math.imul(al0,bh8);mid+=Math.imul(ah0,bl8);hi+=Math.imul(ah0,bh8);var w8=c+lo+((mid&8191)<<13);c=hi+(mid>>>13)+(w8>>>26);w8&=67108863;lo=Math.imul(al9,bl0);mid=Math.imul(al9,bh0);mid+=Math.imul(ah9,bl0);hi=Math.imul(ah9,bh0);lo+=Math.imul(al8,bl1);mid+=Math.imul(al8,bh1);mid+=Math.imul(ah8,bl1);hi+=Math.imul(ah8,bh1);lo+=Math.imul(al7,bl2);mid+=Math.imul(al7,bh2);mid+=Math.imul(ah7,bl2);hi+=Math.imul(ah7,bh2);lo+=Math.imul(al6,bl3);mid+=Math.imul(al6,bh3);mid+=Math.imul(ah6,bl3);hi+=Math.imul(ah6,bh3);lo+=Math.imul(al5,bl4);mid+=Math.imul(al5,bh4);mid+=Math.imul(ah5,bl4);hi+=Math.imul(ah5,bh4);lo+=Math.imul(al4,bl5);mid+=Math.imul(al4,bh5);mid+=Math.imul(ah4,bl5);hi+=Math.imul(ah4,bh5);lo+=Math.imul(al3,bl6);mid+=Math.imul(al3,bh6);mid+=Math.imul(ah3,bl6);hi+=Math.imul(ah3,bh6);lo+=Math.imul(al2,bl7);mid+=Math.imul(al2,bh7);mid+=Math.imul(ah2,bl7);hi+=Math.imul(ah2,bh7);lo+=Math.imul(al1,bl8);mid+=Math.imul(al1,bh8);mid+=Math.imul(ah1,bl8);hi+=Math.imul(ah1,bh8);lo+=Math.imul(al0,bl9);mid+=Math.imul(al0,bh9);mid+=Math.imul(ah0,bl9);hi+=Math.imul(ah0,bh9);var w9=c+lo+((mid&8191)<<13);c=hi+(mid>>>13)+(w9>>>26);w9&=67108863;lo=Math.imul(al9,bl1);mid=Math.imul(al9,bh1);mid+=Math.imul(ah9,bl1);hi=Math.imul(ah9,bh1);lo+=Math.imul(al8,bl2);mid+=Math.imul(al8,bh2);mid+=Math.imul(ah8,bl2);hi+=Math.imul(ah8,bh2);lo+=Math.imul(al7,bl3);mid+=Math.imul(al7,bh3);mid+=Math.imul(ah7,bl3);hi+=Math.imul(ah7,bh3);lo+=Math.imul(al6,bl4);mid+=Math.imul(al6,bh4);mid+=Math.imul(ah6,bl4);hi+=Math.imul(ah6,bh4);lo+=Math.imul(al5,bl5);mid+=Math.imul(al5,bh5);mid+=Math.imul(ah5,bl5);hi+=Math.imul(ah5,bh5);lo+=Math.imul(al4,bl6);mid+=Math.imul(al4,bh6);mid+=Math.imul(ah4,bl6);hi+=Math.imul(ah4,bh6);lo+=Math.imul(al3,bl7);mid+=Math.imul(al3,bh7);mid+=Math.imul(ah3,bl7);hi+=Math.imul(ah3,bh7);lo+=Math.imul(al2,bl8);mid+=Math.imul(al2,bh8);mid+=Math.imul(ah2,bl8);hi+=Math.imul(ah2,bh8);lo+=Math.imul(al1,bl9);mid+=Math.imul(al1,bh9);mid+=Math.imul(ah1,bl9);hi+=Math.imul(ah1,bh9);var w10=c+lo+((mid&8191)<<13);c=hi+(mid>>>13)+(w10>>>26);w10&=67108863;lo=Math.imul(al9,bl2);mid=Math.imul(al9,bh2);mid+=Math.imul(ah9,bl2);hi=Math.imul(ah9,bh2);lo+=Math.imul(al8,bl3);mid+=Math.imul(al8,bh3);mid+=Math.imul(ah8,bl3);hi+=Math.imul(ah8,bh3);lo+=Math.imul(al7,bl4);mid+=Math.imul(al7,bh4);mid+=Math.imul(ah7,bl4);hi+=Math.imul(ah7,bh4);lo+=Math.imul(al6,bl5);mid+=Math.imul(al6,bh5);mid+=Math.imul(ah6,bl5);hi+=Math.imul(ah6,bh5);lo+=Math.imul(al5,bl6);mid+=Math.imul(al5,bh6);mid+=Math.imul(ah5,bl6);hi+=Math.imul(ah5,bh6);lo+=Math.imul(al4,bl7);mid+=Math.imul(al4,bh7);mid+=Math.imul(ah4,bl7);hi+=Math.imul(ah4,bh7);lo+=Math.imul(al3,bl8);mid+=Math.imul(al3,bh8);mid+=Math.imul(ah3,bl8);hi+=Math.imul(ah3,bh8);lo+=Math.imul(al2,bl9);mid+=Math.imul(al2,bh9);mid+=Math.imul(ah2,bl9);hi+=Math.imul(ah2,bh9);var w11=c+lo+((mid&8191)<<13);c=hi+(mid>>>13)+(w11>>>26);w11&=67108863;lo=Math.imul(al9,bl3);mid=Math.imul(al9,bh3);mid+=Math.imul(ah9,bl3);hi=Math.imul(ah9,bh3);lo+=Math.imul(al8,bl4);mid+=Math.imul(al8,bh4);mid+=Math.imul(ah8,bl4);hi+=Math.imul(ah8,bh4);lo+=Math.imul(al7,bl5);mid+=Math.imul(al7,bh5);mid+=Math.imul(ah7,bl5);hi+=Math.imul(ah7,bh5);lo+=Math.imul(al6,bl6);mid+=Math.imul(al6,bh6);mid+=Math.imul(ah6,bl6);hi+=Math.imul(ah6,bh6);lo+=Math.imul(al5,bl7);mid+=Math.imul(al5,bh7);mid+=Math.imul(ah5,bl7);hi+=Math.imul(ah5,bh7);lo+=Math.imul(al4,bl8);mid+=Math.imul(al4,bh8);mid+=Math.imul(ah4,bl8);hi+=Math.imul(ah4,bh8);lo+=Math.imul(al3,bl9);mid+=Math.imul(al3,bh9);mid+=Math.imul(ah3,bl9);hi+=Math.imul(ah3,bh9);var w12=c+lo+((mid&8191)<<13);c=hi+(mid>>>13)+(w12>>>26);w12&=67108863;lo=Math.imul(al9,bl4);mid=Math.imul(al9,bh4);mid+=Math.imul(ah9,bl4);hi=Math.imul(ah9,bh4);lo+=Math.imul(al8,bl5);mid+=Math.imul(al8,bh5);mid+=Math.imul(ah8,bl5);hi+=Math.imul(ah8,bh5);lo+=Math.imul(al7,bl6);mid+=Math.imul(al7,bh6);mid+=Math.imul(ah7,bl6);hi+=Math.imul(ah7,bh6);lo+=Math.imul(al6,bl7);mid+=Math.imul(al6,bh7);mid+=Math.imul(ah6,bl7);hi+=Math.imul(ah6,bh7);lo+=Math.imul(al5,bl8);mid+=Math.imul(al5,bh8);mid+=Math.imul(ah5,bl8);hi+=Math.imul(ah5,bh8);lo+=Math.imul(al4,bl9);mid+=Math.imul(al4,bh9);mid+=Math.imul(ah4,bl9);hi+=Math.imul(ah4,bh9);var w13=c+lo+((mid&8191)<<13);c=hi+(mid>>>13)+(w13>>>26);w13&=67108863;lo=Math.imul(al9,bl5);mid=Math.imul(al9,bh5);mid+=Math.imul(ah9,bl5);hi=Math.imul(ah9,bh5);lo+=Math.imul(al8,bl6);mid+=Math.imul(al8,bh6);mid+=Math.imul(ah8,bl6);hi+=Math.imul(ah8,bh6);lo+=Math.imul(al7,bl7);mid+=Math.imul(al7,bh7);mid+=Math.imul(ah7,bl7);hi+=Math.imul(ah7,bh7);lo+=Math.imul(al6,bl8);mid+=Math.imul(al6,bh8);mid+=Math.imul(ah6,bl8);hi+=Math.imul(ah6,bh8);lo+=Math.imul(al5,bl9);mid+=Math.imul(al5,bh9);mid+=Math.imul(ah5,bl9);hi+=Math.imul(ah5,bh9);var w14=c+lo+((mid&8191)<<13);c=hi+(mid>>>13)+(w14>>>26);w14&=67108863;lo=Math.imul(al9,bl6);mid=Math.imul(al9,bh6);mid+=Math.imul(ah9,bl6);hi=Math.imul(ah9,bh6);lo+=Math.imul(al8,bl7);mid+=Math.imul(al8,bh7);mid+=Math.imul(ah8,bl7);hi+=Math.imul(ah8,bh7);lo+=Math.imul(al7,bl8);mid+=Math.imul(al7,bh8);mid+=Math.imul(ah7,bl8);hi+=Math.imul(ah7,bh8);lo+=Math.imul(al6,bl9);mid+=Math.imul(al6,bh9);mid+=Math.imul(ah6,bl9);hi+=Math.imul(ah6,bh9);var w15=c+lo+((mid&8191)<<13);c=hi+(mid>>>13)+(w15>>>26);w15&=67108863;lo=Math.imul(al9,bl7);mid=Math.imul(al9,bh7);mid+=Math.imul(ah9,bl7);hi=Math.imul(ah9,bh7);lo+=Math.imul(al8,bl8);mid+=Math.imul(al8,bh8);mid+=Math.imul(ah8,bl8);hi+=Math.imul(ah8,bh8);lo+=Math.imul(al7,bl9);mid+=Math.imul(al7,bh9);mid+=Math.imul(ah7,bl9);hi+=Math.imul(ah7,bh9);var w16=c+lo+((mid&8191)<<13);c=hi+(mid>>>13)+(w16>>>26);w16&=67108863;lo=Math.imul(al9,bl8);mid=Math.imul(al9,bh8);mid+=Math.imul(ah9,bl8);hi=Math.imul(ah9,bh8);lo+=Math.imul(al8,bl9);mid+=Math.imul(al8,bh9);mid+=Math.imul(ah8,bl9);hi+=Math.imul(ah8,bh9);var w17=c+lo+((mid&8191)<<13);c=hi+(mid>>>13)+(w17>>>26);w17&=67108863;lo=Math.imul(al9,bl9);mid=Math.imul(al9,bh9);mid+=Math.imul(ah9,bl9);hi=Math.imul(ah9,bh9);var w18=c+lo+((mid&8191)<<13);c=hi+(mid>>>13)+(w18>>>26);w18&=67108863;o[0]=w0;o[1]=w1;o[2]=w2;o[3]=w3;o[4]=w4;o[5]=w5;o[6]=w6;o[7]=w7;o[8]=w8;o[9]=w9;o[10]=w10;o[11]=w11;o[12]=w12;o[13]=w13;o[14]=w14;o[15]=w15;o[16]=w16;o[17]=w17;o[18]=w18;if(c!==0){o[19]=c;out.length++}return out};if(!Math.imul){comb10MulTo=smallMulTo}function bigMulTo(self,num,out){out.negative=num.negative^self.negative;out.length=self.length+num.length;var carry=0;var hncarry=0;for(var k=0;k<out.length-1;k++){var ncarry=hncarry;hncarry=0;var rword=carry&67108863;var maxJ=Math.min(k,num.length-1);for(var j=Math.max(0,k-self.length+1);j<=maxJ;j++){var i=k-j;var a=self.words[i]|0;var b=num.words[j]|0;var r=a*b;var lo=r&67108863;ncarry=ncarry+(r/67108864|0)|0;lo=lo+rword|0;rword=lo&67108863;ncarry=ncarry+(lo>>>26)|0;hncarry+=ncarry>>>26;ncarry&=67108863}out.words[k]=rword;carry=ncarry;ncarry=hncarry}if(carry!==0){out.words[k]=carry}else{out.length--}return out.strip()}function jumboMulTo(self,num,out){var fftm=new FFTM;return fftm.mulp(self,num,out)}BN.prototype.mulTo=function mulTo(num,out){var res;var len=this.length+num.length;if(this.length===10&&num.length===10){res=comb10MulTo(this,num,out)}else if(len<63){res=smallMulTo(this,num,out)}else if(len<1024){res=bigMulTo(this,num,out)}else{res=jumboMulTo(this,num,out)}return res};function FFTM(x,y){this.x=x;this.y=y}FFTM.prototype.makeRBT=function makeRBT(N){var t=new Array(N);var l=BN.prototype._countBits(N)-1;for(var i=0;i<N;i++){t[i]=this.revBin(i,l,N)}return t};FFTM.prototype.revBin=function revBin(x,l,N){if(x===0||x===N-1)return x;var rb=0;for(var i=0;i<l;i++){rb|=(x&1)<<l-i-1;x>>=1}return rb};FFTM.prototype.permute=function permute(rbt,rws,iws,rtws,itws,N){for(var i=0;i<N;i++){rtws[i]=rws[rbt[i]];itws[i]=iws[rbt[i]]}};FFTM.prototype.transform=function transform(rws,iws,rtws,itws,N,rbt){this.permute(rbt,rws,iws,rtws,itws,N);for(var s=1;s<N;s<<=1){var l=s<<1;var rtwdf=Math.cos(2*Math.PI/l);var itwdf=Math.sin(2*Math.PI/l);for(var p=0;p<N;p+=l){var rtwdf_=rtwdf;var itwdf_=itwdf;for(var j=0;j<s;j++){var re=rtws[p+j];var ie=itws[p+j];var ro=rtws[p+j+s];var io=itws[p+j+s];var rx=rtwdf_*ro-itwdf_*io;io=rtwdf_*io+itwdf_*ro;ro=rx;rtws[p+j]=re+ro;itws[p+j]=ie+io;rtws[p+j+s]=re-ro;itws[p+j+s]=ie-io;if(j!==l){rx=rtwdf*rtwdf_-itwdf*itwdf_;itwdf_=rtwdf*itwdf_+itwdf*rtwdf_;rtwdf_=rx}}}}};FFTM.prototype.guessLen13b=function guessLen13b(n,m){var N=Math.max(m,n)|1;var odd=N&1;var i=0;for(N=N/2|0;N;N=N>>>1){i++}return 1<<i+1+odd};FFTM.prototype.conjugate=function conjugate(rws,iws,N){if(N<=1)return;for(var i=0;i<N/2;i++){var t=rws[i];rws[i]=rws[N-i-1];rws[N-i-1]=t;t=iws[i];iws[i]=-iws[N-i-1];iws[N-i-1]=-t}};FFTM.prototype.normalize13b=function normalize13b(ws,N){var carry=0;for(var i=0;i<N/2;i++){var w=Math.round(ws[2*i+1]/N)*8192+Math.round(ws[2*i]/N)+carry;ws[i]=w&67108863;if(w<67108864){carry=0}else{carry=w/67108864|0}}return ws};FFTM.prototype.convert13b=function convert13b(ws,len,rws,N){var carry=0;for(var i=0;i<len;i++){carry=carry+(ws[i]|0);rws[2*i]=carry&8191;carry=carry>>>13;rws[2*i+1]=carry&8191;carry=carry>>>13}for(i=2*len;i<N;++i){rws[i]=0}assert(carry===0);assert((carry&~8191)===0)};FFTM.prototype.stub=function stub(N){var ph=new Array(N);for(var i=0;i<N;i++){ph[i]=0}return ph};FFTM.prototype.mulp=function mulp(x,y,out){var N=2*this.guessLen13b(x.length,y.length);var rbt=this.makeRBT(N);var _=this.stub(N);var rws=new Array(N);var rwst=new Array(N);var iwst=new Array(N);var nrws=new Array(N);var nrwst=new Array(N);var niwst=new Array(N);var rmws=out.words;rmws.length=N;this.convert13b(x.words,x.length,rws,N);this.convert13b(y.words,y.length,nrws,N);this.transform(rws,_,rwst,iwst,N,rbt);this.transform(nrws,_,nrwst,niwst,N,rbt);for(var i=0;i<N;i++){var rx=rwst[i]*nrwst[i]-iwst[i]*niwst[i];iwst[i]=rwst[i]*niwst[i]+iwst[i]*nrwst[i];rwst[i]=rx}this.conjugate(rwst,iwst,N);this.transform(rwst,iwst,rmws,_,N,rbt);this.conjugate(rmws,_,N);this.normalize13b(rmws,N);out.negative=x.negative^y.negative;out.length=x.length+y.length;return out.strip()};BN.prototype.mul=function mul(num){var out=new BN(null);out.words=new Array(this.length+num.length);return this.mulTo(num,out)};BN.prototype.mulf=function mulf(num){var out=new BN(null);out.words=new Array(this.length+num.length);return jumboMulTo(this,num,out)};BN.prototype.imul=function imul(num){return this.clone().mulTo(num,this)};BN.prototype.imuln=function imuln(num){assert(typeof num==="number");var carry=0;for(var i=0;i<this.length;i++){var w=(this.words[i]|0)*num;var lo=(w&67108863)+(carry&67108863);carry>>=26;carry+=w/67108864|0;carry+=lo>>>26;this.words[i]=lo&67108863}if(carry!==0){this.words[i]=carry;this.length++}return this};BN.prototype.muln=function muln(num){return this.clone().imuln(num)};BN.prototype.sqr=function sqr(){return this.mul(this)};BN.prototype.isqr=function isqr(){return this.imul(this.clone())};BN.prototype.pow=function pow(num){var w=toBitArray(num);if(w.length===0)return new BN(1);var res=this;for(var i=0;i<w.length;i++,res=res.sqr()){if(w[i]!==0)break}if(++i<w.length){for(var q=res.sqr();i<w.length;i++,q=q.sqr()){if(w[i]===0)continue;res=res.mul(q)}}return res};BN.prototype.iushln=function iushln(bits){assert(typeof bits==="number"&&bits>=0);var r=bits%26;var s=(bits-r)/26;var carryMask=67108863>>>26-r<<26-r;var i;if(r!==0){var carry=0;for(i=0;i<this.length;i++){var newCarry=this.words[i]&carryMask;var c=(this.words[i]|0)-newCarry<<r;this.words[i]=c|carry;carry=newCarry>>>26-r}if(carry){this.words[i]=carry;this.length++}}if(s!==0){for(i=this.length-1;i>=0;i--){this.words[i+s]=this.words[i]}for(i=0;i<s;i++){this.words[i]=0}this.length+=s}return this.strip()};BN.prototype.ishln=function ishln(bits){assert(this.negative===0);return this.iushln(bits)};BN.prototype.iushrn=function iushrn(bits,hint,extended){assert(typeof bits==="number"&&bits>=0);var h;if(hint){h=(hint-hint%26)/26}else{h=0}var r=bits%26;var s=Math.min((bits-r)/26,this.length);var mask=67108863^67108863>>>r<<r;var maskedWords=extended;h-=s;h=Math.max(0,h);if(maskedWords){for(var i=0;i<s;i++){maskedWords.words[i]=this.words[i]}maskedWords.length=s}if(s===0){}else if(this.length>s){this.length-=s;for(i=0;i<this.length;i++){this.words[i]=this.words[i+s]}}else{this.words[0]=0;this.length=1}var carry=0;for(i=this.length-1;i>=0&&(carry!==0||i>=h);i--){var word=this.words[i]|0;this.words[i]=carry<<26-r|word>>>r;carry=word&mask}if(maskedWords&&carry!==0){maskedWords.words[maskedWords.length++]=carry}if(this.length===0){this.words[0]=0;this.length=1}return this.strip()};BN.prototype.ishrn=function ishrn(bits,hint,extended){assert(this.negative===0);return this.iushrn(bits,hint,extended)};BN.prototype.shln=function shln(bits){return this.clone().ishln(bits)};BN.prototype.ushln=function ushln(bits){return this.clone().iushln(bits)};BN.prototype.shrn=function shrn(bits){return this.clone().ishrn(bits)};BN.prototype.ushrn=function ushrn(bits){return this.clone().iushrn(bits)};BN.prototype.testn=function testn(bit){assert(typeof bit==="number"&&bit>=0);var r=bit%26;var s=(bit-r)/26;var q=1<<r;if(this.length<=s)return false;var w=this.words[s];return!!(w&q)};BN.prototype.imaskn=function imaskn(bits){assert(typeof bits==="number"&&bits>=0);var r=bits%26;var s=(bits-r)/26;assert(this.negative===0,"imaskn works only with positive numbers");if(r!==0){s++}this.length=Math.min(s,this.length);if(r!==0){var mask=67108863^67108863>>>r<<r;this.words[this.length-1]&=mask}return this.strip()};BN.prototype.maskn=function maskn(bits){return this.clone().imaskn(bits)};BN.prototype.iaddn=function iaddn(num){assert(typeof num==="number");if(num<0)return this.isubn(-num);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<num){this.words[0]=num-(this.words[0]|0);this.negative=0;return this}this.negative=0;this.isubn(num);this.negative=1;return this}return this._iaddn(num)};BN.prototype._iaddn=function _iaddn(num){this.words[0]+=num;for(var i=0;i<this.length&&this.words[i]>=67108864;i++){this.words[i]-=67108864;if(i===this.length-1){this.words[i+1]=1}else{this.words[i+1]++}}this.length=Math.max(this.length,i+1);return this};BN.prototype.isubn=function isubn(num){assert(typeof num==="number");if(num<0)return this.iaddn(-num);if(this.negative!==0){this.negative=0;this.iaddn(num);this.negative=1;return this}this.words[0]-=num;if(this.length===1&&this.words[0]<0){this.words[0]=-this.words[0];this.negative=1}else{for(var i=0;i<this.length&&this.words[i]<0;i++){this.words[i]+=67108864;this.words[i+1]-=1}}return this.strip()};BN.prototype.addn=function addn(num){return this.clone().iaddn(num)};BN.prototype.subn=function subn(num){return this.clone().isubn(num)};BN.prototype.iabs=function iabs(){this.negative=0;return this};BN.prototype.abs=function abs(){return this.clone().iabs()};BN.prototype._ishlnsubmul=function _ishlnsubmul(num,mul,shift){var len=num.length+shift;var i;if(this.words.length<len){var t=new Array(len);for(i=0;i<this.length;i++){t[i]=this.words[i]}this.words=t}else{i=this.length}this.length=Math.max(this.length,len);for(;i<this.length;i++){this.words[i]=0}var w;var carry=0;for(i=0;i<num.length;i++){w=(this.words[i+shift]|0)+carry;var right=(num.words[i]|0)*mul;w-=right&67108863;carry=(w>>26)-(right/67108864|0);this.words[i+shift]=w&67108863}for(;i<this.length-shift;i++){w=(this.words[i+shift]|0)+carry;carry=w>>26;this.words[i+shift]=w&67108863}if(carry===0)return this.strip();assert(carry===-1);carry=0;for(i=0;i<this.length;i++){w=-(this.words[i]|0)+carry;carry=w>>26;this.words[i]=w&67108863}this.negative=1;return this.strip()};BN.prototype._wordDiv=function _wordDiv(num,mode){var shift=this.length-num.length;var a=this.clone();var b=num;var bhi=b.words[b.length-1]|0;var bhiBits=this._countBits(bhi);shift=26-bhiBits;if(shift!==0){b=b.ushln(shift);a.iushln(shift);bhi=b.words[b.length-1]|0}var m=a.length-b.length;var q;if(mode!=="mod"){q=new BN(null);q.length=m+1;q.words=new Array(q.length);for(var i=0;i<q.length;i++){q.words[i]=0}}var diff=a.clone()._ishlnsubmul(b,1,m);if(diff.negative===0){a=diff;if(q){q.words[m]=1}}for(var j=m-1;j>=0;j--){var qj=(a.words[b.length+j]|0)*67108864+(a.words[b.length+j-1]|0);qj=Math.min(qj/bhi|0,67108863);a._ishlnsubmul(b,qj,j);while(a.negative!==0){qj--;a.negative=0;a._ishlnsubmul(b,1,j);if(!a.isZero()){a.negative^=1}}if(q){q.words[j]=qj}}if(q){q.strip()}a.strip();if(mode!=="div"&&shift!==0){a.iushrn(shift)}return{div:q||null,mod:a}};BN.prototype.divmod=function divmod(num,mode,positive){assert(!num.isZero());var div,mod,res;if(this.negative!==0&&num.negative===0){res=this.neg().divmod(num,mode);if(mode!=="mod"){div=res.div.neg()}if(mode!=="div"){mod=res.mod.neg();if(positive&&mod.negative!==0){mod.iadd(num)}}return{div:div,mod:mod}}if(this.negative===0&&num.negative!==0){res=this.divmod(num.neg(),mode);if(mode!=="mod"){div=res.div.neg()}return{div:div,mod:res.mod}}if((this.negative&num.negative)!==0){res=this.neg().divmod(num.neg(),mode);if(mode!=="div"){mod=res.mod.neg();if(positive&&mod.negative!==0){mod.isub(num)}}return{div:res.div,mod:mod}}if(num.length>this.length||this.cmp(num)<0){return{div:new BN(0),mod:this}}if(num.length===1){if(mode==="div"){return{div:this.divn(num.words[0]),mod:null}}if(mode==="mod"){return{div:null,mod:new BN(this.modn(num.words[0]))}}return{div:this.divn(num.words[0]),mod:new BN(this.modn(num.words[0]))}}return this._wordDiv(num,mode)};BN.prototype.div=function div(num){return this.divmod(num,"div",false).div};BN.prototype.mod=function mod(num){return this.divmod(num,"mod",false).mod};BN.prototype.umod=function umod(num){return this.divmod(num,"mod",true).mod};BN.prototype.divRound=function divRound(num){var dm=this.divmod(num);if(dm.mod.isZero())return dm.div;var mod=dm.div.negative!==0?dm.mod.isub(num):dm.mod;var half=num.ushrn(1);var r2=num.andln(1);var cmp=mod.cmp(half);if(cmp<0||r2===1&&cmp===0)return dm.div;return dm.div.negative!==0?dm.div.isubn(1):dm.div.iaddn(1)};BN.prototype.modn=function modn(num){assert(num<=67108863);var p=(1<<26)%num;var acc=0;for(var i=this.length-1;i>=0;i--){acc=(p*acc+(this.words[i]|0))%num}return acc};BN.prototype.idivn=function idivn(num){assert(num<=67108863);var carry=0;for(var i=this.length-1;i>=0;i--){var w=(this.words[i]|0)+carry*67108864;this.words[i]=w/num|0;carry=w%num}return this.strip()};BN.prototype.divn=function divn(num){return this.clone().idivn(num)};BN.prototype.egcd=function egcd(p){assert(p.negative===0);assert(!p.isZero());var x=this;var y=p.clone();if(x.negative!==0){x=x.umod(p)}else{x=x.clone()}var A=new BN(1);var B=new BN(0);var C=new BN(0);var D=new BN(1);var g=0;while(x.isEven()&&y.isEven()){x.iushrn(1);y.iushrn(1);++g}var yp=y.clone();var xp=x.clone();while(!x.isZero()){for(var i=0,im=1;(x.words[0]&im)===0&&i<26;++i,im<<=1);if(i>0){x.iushrn(i);while(i-- >0){if(A.isOdd()||B.isOdd()){A.iadd(yp);B.isub(xp)}A.iushrn(1);B.iushrn(1)}}for(var j=0,jm=1;(y.words[0]&jm)===0&&j<26;++j,jm<<=1);if(j>0){y.iushrn(j);while(j-- >0){if(C.isOdd()||D.isOdd()){C.iadd(yp);D.isub(xp)}C.iushrn(1);D.iushrn(1)}}if(x.cmp(y)>=0){x.isub(y);A.isub(C);B.isub(D)}else{y.isub(x);C.isub(A);D.isub(B)}}return{a:C,b:D,gcd:y.iushln(g)}};BN.prototype._invmp=function _invmp(p){assert(p.negative===0);assert(!p.isZero());var a=this;var b=p.clone();if(a.negative!==0){a=a.umod(p)}else{a=a.clone()}var x1=new BN(1);var x2=new BN(0);var delta=b.clone();while(a.cmpn(1)>0&&b.cmpn(1)>0){for(var i=0,im=1;(a.words[0]&im)===0&&i<26;++i,im<<=1);if(i>0){a.iushrn(i);while(i-- >0){if(x1.isOdd()){x1.iadd(delta)}x1.iushrn(1)}}for(var j=0,jm=1;(b.words[0]&jm)===0&&j<26;++j,jm<<=1);if(j>0){b.iushrn(j);while(j-- >0){if(x2.isOdd()){x2.iadd(delta)}x2.iushrn(1)}}if(a.cmp(b)>=0){a.isub(b);x1.isub(x2)}else{b.isub(a);x2.isub(x1)}}var res;if(a.cmpn(1)===0){res=x1}else{res=x2}if(res.cmpn(0)<0){res.iadd(p)}return res};BN.prototype.gcd=function gcd(num){if(this.isZero())return num.clone();if(num.isZero())return this.clone();var a=this.clone();var b=num.clone();a.negative=0;b.negative=0;for(var shift=0;a.isEven()&&b.isEven();shift++){a.iushrn(1);b.iushrn(1)}do{while(a.isEven()){a.iushrn(1)}while(b.isEven()){b.iushrn(1)}var r=a.cmp(b);if(r<0){var t=a;a=b;b=t}else if(r===0||b.cmpn(1)===0){break}a.isub(b)}while(true);return b.iushln(shift)};BN.prototype.invm=function invm(num){return this.egcd(num).a.umod(num)};BN.prototype.isEven=function isEven(){return(this.words[0]&1)===0};BN.prototype.isOdd=function isOdd(){return(this.words[0]&1)===1};BN.prototype.andln=function andln(num){return this.words[0]&num};BN.prototype.bincn=function bincn(bit){assert(typeof bit==="number");var r=bit%26;var s=(bit-r)/26;var q=1<<r;if(this.length<=s){for(var i=this.length;i<s+1;i++){this.words[i]=0}this.words[s]|=q;this.length=s+1;return this}var carry=q;for(i=s;carry!==0&&i<this.length;i++){var w=this.words[i]|0;w+=carry;carry=w>>>26;w&=67108863;this.words[i]=w}if(carry!==0){this.words[i]=carry;this.length++}return this};BN.prototype.isZero=function isZero(){return this.length===1&&this.words[0]===0};BN.prototype.cmpn=function cmpn(num){var negative=num<0;if(this.negative!==0&&!negative)return-1;if(this.negative===0&&negative)return 1;this.strip();var res;if(this.length>1){res=1}else{if(negative){num=-num}assert(num<=67108863,"Number is too big");var w=this.words[0]|0;
res=w===num?0:w<num?-1:1}if(this.negative!==0){res=-res}return res};BN.prototype.cmp=function cmp(num){if(this.negative!==0&&num.negative===0)return-1;if(this.negative===0&&num.negative!==0)return 1;var res=this.ucmp(num);if(this.negative!==0)return-res;return res};BN.prototype.ucmp=function ucmp(num){if(this.length>num.length)return 1;if(this.length<num.length)return-1;var res=0;for(var i=this.length-1;i>=0;i--){var a=this.words[i]|0;var b=num.words[i]|0;if(a===b)continue;if(a<b){res=-1}else if(a>b){res=1}break}return res};BN.prototype.gtn=function gtn(num){return this.cmpn(num)===1};BN.prototype.gt=function gt(num){return this.cmp(num)===1};BN.prototype.gten=function gten(num){return this.cmpn(num)>=0};BN.prototype.gte=function gte(num){return this.cmp(num)>=0};BN.prototype.ltn=function ltn(num){return this.cmpn(num)===-1};BN.prototype.lt=function lt(num){return this.cmp(num)===-1};BN.prototype.lten=function lten(num){return this.cmpn(num)<=0};BN.prototype.lte=function lte(num){return this.cmp(num)<=0};BN.prototype.eqn=function eqn(num){return this.cmpn(num)===0};BN.prototype.eq=function eq(num){return this.cmp(num)===0};BN.red=function red(num){return new Red(num)};BN.prototype.toRed=function toRed(ctx){assert(!this.red,"Already a number in reduction context");assert(this.negative===0,"red works only with positives");return ctx.convertTo(this)._forceRed(ctx)};BN.prototype.fromRed=function fromRed(){assert(this.red,"fromRed works only with numbers in reduction context");return this.red.convertFrom(this)};BN.prototype._forceRed=function _forceRed(ctx){this.red=ctx;return this};BN.prototype.forceRed=function forceRed(ctx){assert(!this.red,"Already a number in reduction context");return this._forceRed(ctx)};BN.prototype.redAdd=function redAdd(num){assert(this.red,"redAdd works only with red numbers");return this.red.add(this,num)};BN.prototype.redIAdd=function redIAdd(num){assert(this.red,"redIAdd works only with red numbers");return this.red.iadd(this,num)};BN.prototype.redSub=function redSub(num){assert(this.red,"redSub works only with red numbers");return this.red.sub(this,num)};BN.prototype.redISub=function redISub(num){assert(this.red,"redISub works only with red numbers");return this.red.isub(this,num)};BN.prototype.redShl=function redShl(num){assert(this.red,"redShl works only with red numbers");return this.red.ushl(this,num)};BN.prototype.redMul=function redMul(num){assert(this.red,"redMul works only with red numbers");this.red._verify2(this,num);return this.red.mul(this,num)};BN.prototype.redIMul=function redIMul(num){assert(this.red,"redMul works only with red numbers");this.red._verify2(this,num);return this.red.imul(this,num)};BN.prototype.redSqr=function redSqr(){assert(this.red,"redSqr works only with red numbers");this.red._verify1(this);return this.red.sqr(this)};BN.prototype.redISqr=function redISqr(){assert(this.red,"redISqr works only with red numbers");this.red._verify1(this);return this.red.isqr(this)};BN.prototype.redSqrt=function redSqrt(){assert(this.red,"redSqrt works only with red numbers");this.red._verify1(this);return this.red.sqrt(this)};BN.prototype.redInvm=function redInvm(){assert(this.red,"redInvm works only with red numbers");this.red._verify1(this);return this.red.invm(this)};BN.prototype.redNeg=function redNeg(){assert(this.red,"redNeg works only with red numbers");this.red._verify1(this);return this.red.neg(this)};BN.prototype.redPow=function redPow(num){assert(this.red&&!num.red,"redPow(normalNum)");this.red._verify1(this);return this.red.pow(this,num)};var primes={k256:null,p224:null,p192:null,p25519:null};function MPrime(name,p){this.name=name;this.p=new BN(p,16);this.n=this.p.bitLength();this.k=new BN(1).iushln(this.n).isub(this.p);this.tmp=this._tmp()}MPrime.prototype._tmp=function _tmp(){var tmp=new BN(null);tmp.words=new Array(Math.ceil(this.n/13));return tmp};MPrime.prototype.ireduce=function ireduce(num){var r=num;var rlen;do{this.split(r,this.tmp);r=this.imulK(r);r=r.iadd(this.tmp);rlen=r.bitLength()}while(rlen>this.n);var cmp=rlen<this.n?-1:r.ucmp(this.p);if(cmp===0){r.words[0]=0;r.length=1}else if(cmp>0){r.isub(this.p)}else{r.strip()}return r};MPrime.prototype.split=function split(input,out){input.iushrn(this.n,0,out)};MPrime.prototype.imulK=function imulK(num){return num.imul(this.k)};function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}inherits(K256,MPrime);K256.prototype.split=function split(input,output){var mask=4194303;var outLen=Math.min(input.length,9);for(var i=0;i<outLen;i++){output.words[i]=input.words[i]}output.length=outLen;if(input.length<=9){input.words[0]=0;input.length=1;return}var prev=input.words[9];output.words[output.length++]=prev&mask;for(i=10;i<input.length;i++){var next=input.words[i]|0;input.words[i-10]=(next&mask)<<4|prev>>>22;prev=next}input.words[i-10]=prev>>>22;input.length-=9};K256.prototype.imulK=function imulK(num){num.words[num.length]=0;num.words[num.length+1]=0;num.length+=2;var lo=0;for(var i=0;i<num.length;i++){var w=num.words[i]|0;lo+=w*977;num.words[i]=lo&67108863;lo=w*64+(lo/67108864|0)}if(num.words[num.length-1]===0){num.length--;if(num.words[num.length-1]===0){num.length--}}return num};function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}inherits(P224,MPrime);function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}inherits(P192,MPrime);function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}inherits(P25519,MPrime);P25519.prototype.imulK=function imulK(num){var carry=0;for(var i=0;i<num.length;i++){var hi=(num.words[i]|0)*19+carry;var lo=hi&67108863;hi>>>=26;num.words[i]=lo;carry=hi}if(carry!==0){num.words[num.length++]=carry}return num};BN._prime=function prime(name){if(primes[name])return primes[name];var prime;if(name==="k256"){prime=new K256}else if(name==="p224"){prime=new P224}else if(name==="p192"){prime=new P192}else if(name==="p25519"){prime=new P25519}else{throw new Error("Unknown prime "+name)}primes[name]=prime;return prime};function Red(m){if(typeof m==="string"){var prime=BN._prime(m);this.m=prime.p;this.prime=prime}else{this.m=m;this.prime=null}}Red.prototype._verify1=function _verify1(a){assert(a.negative===0,"red works only with positives");assert(a.red,"red works only with red numbers")};Red.prototype._verify2=function _verify2(a,b){assert((a.negative|b.negative)===0,"red works only with positives");assert(a.red&&a.red===b.red,"red works only with red numbers")};Red.prototype.imod=function imod(a){if(this.prime)return this.prime.ireduce(a)._forceRed(this);return a.umod(this.m)._forceRed(this)};Red.prototype.neg=function neg(a){if(a.isZero()){return a.clone()}return this.m.sub(a)._forceRed(this)};Red.prototype.add=function add(a,b){this._verify2(a,b);var res=a.add(b);if(res.cmp(this.m)>=0){res.isub(this.m)}return res._forceRed(this)};Red.prototype.iadd=function iadd(a,b){this._verify2(a,b);var res=a.iadd(b);if(res.cmp(this.m)>=0){res.isub(this.m)}return res};Red.prototype.sub=function sub(a,b){this._verify2(a,b);var res=a.sub(b);if(res.cmpn(0)<0){res.iadd(this.m)}return res._forceRed(this)};Red.prototype.isub=function isub(a,b){this._verify2(a,b);var res=a.isub(b);if(res.cmpn(0)<0){res.iadd(this.m)}return res};Red.prototype.shl=function shl(a,num){this._verify1(a);return this.imod(a.ushln(num))};Red.prototype.imul=function imul(a,b){this._verify2(a,b);return this.imod(a.imul(b))};Red.prototype.mul=function mul(a,b){this._verify2(a,b);return this.imod(a.mul(b))};Red.prototype.isqr=function isqr(a){return this.imul(a,a.clone())};Red.prototype.sqr=function sqr(a){return this.mul(a,a)};Red.prototype.sqrt=function sqrt(a){if(a.isZero())return a.clone();var mod3=this.m.andln(3);assert(mod3%2===1);if(mod3===3){var pow=this.m.add(new BN(1)).iushrn(2);return this.pow(a,pow)}var q=this.m.subn(1);var s=0;while(!q.isZero()&&q.andln(1)===0){s++;q.iushrn(1)}assert(!q.isZero());var one=new BN(1).toRed(this);var nOne=one.redNeg();var lpow=this.m.subn(1).iushrn(1);var z=this.m.bitLength();z=new BN(2*z*z).toRed(this);while(this.pow(z,lpow).cmp(nOne)!==0){z.redIAdd(nOne)}var c=this.pow(z,q);var r=this.pow(a,q.addn(1).iushrn(1));var t=this.pow(a,q);var m=s;while(t.cmp(one)!==0){var tmp=t;for(var i=0;tmp.cmp(one)!==0;i++){tmp=tmp.redSqr()}assert(i<m);var b=this.pow(c,new BN(1).iushln(m-i-1));r=r.redMul(b);c=b.redSqr();t=t.redMul(c);m=i}return r};Red.prototype.invm=function invm(a){var inv=a._invmp(this.m);if(inv.negative!==0){inv.negative=0;return this.imod(inv).redNeg()}else{return this.imod(inv)}};Red.prototype.pow=function pow(a,num){if(num.isZero())return new BN(1);if(num.cmpn(1)===0)return a.clone();var windowSize=4;var wnd=new Array(1<<windowSize);wnd[0]=new BN(1).toRed(this);wnd[1]=a;for(var i=2;i<wnd.length;i++){wnd[i]=this.mul(wnd[i-1],a)}var res=wnd[0];var current=0;var currentLen=0;var start=num.bitLength()%26;if(start===0){start=26}for(i=num.length-1;i>=0;i--){var word=num.words[i];for(var j=start-1;j>=0;j--){var bit=word>>j&1;if(res!==wnd[0]){res=this.sqr(res)}if(bit===0&&current===0){currentLen=0;continue}current<<=1;current|=bit;currentLen++;if(currentLen!==windowSize&&(i!==0||j!==0))continue;res=this.mul(res,wnd[current]);currentLen=0;current=0}start=26}return res};Red.prototype.convertTo=function convertTo(num){var r=num.umod(this.m);return r===num?r.clone():r};Red.prototype.convertFrom=function convertFrom(num){var res=num.clone();res.red=null;return res};BN.mont=function mont(num){return new Mont(num)};function Mont(m){Red.call(this,m);this.shift=this.m.bitLength();if(this.shift%26!==0){this.shift+=26-this.shift%26}this.r=new BN(1).iushln(this.shift);this.r2=this.imod(this.r.sqr());this.rinv=this.r._invmp(this.m);this.minv=this.rinv.mul(this.r).isubn(1).div(this.m);this.minv=this.minv.umod(this.r);this.minv=this.r.sub(this.minv)}inherits(Mont,Red);Mont.prototype.convertTo=function convertTo(num){return this.imod(num.ushln(this.shift))};Mont.prototype.convertFrom=function convertFrom(num){var r=this.imod(num.mul(this.rinv));r.red=null;return r};Mont.prototype.imul=function imul(a,b){if(a.isZero()||b.isZero()){a.words[0]=0;a.length=1;return a}var t=a.imul(b);var c=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var u=t.isub(c).iushrn(this.shift);var res=u;if(u.cmp(this.m)>=0){res=u.isub(this.m)}else if(u.cmpn(0)<0){res=u.iadd(this.m)}return res._forceRed(this)};Mont.prototype.mul=function mul(a,b){if(a.isZero()||b.isZero())return new BN(0)._forceRed(this);var t=a.mul(b);var c=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var u=t.isub(c).iushrn(this.shift);var res=u;if(u.cmp(this.m)>=0){res=u.isub(this.m)}else if(u.cmpn(0)<0){res=u.iadd(this.m)}return res._forceRed(this)};Mont.prototype.invm=function invm(a){var res=this.imod(a._invmp(this.m).mul(this.r2));return res._forceRed(this)}})(typeof module==="undefined"||module,this)},{buffer:"/Users/paulfrazee/patchwork/node_modules/browser-resolve/empty.js"}],"/Users/paulfrazee/patchwork/node_modules/brorand/index.js":[function(require,module,exports){var r;module.exports=function rand(len){if(!r)r=new Rand(null);return r.generate(len)};function Rand(rand){this.rand=rand}module.exports.Rand=Rand;Rand.prototype.generate=function generate(len){return this._rand(len)};if(typeof window==="object"){if(window.crypto&&window.crypto.getRandomValues){Rand.prototype._rand=function _rand(n){var arr=new Uint8Array(n);window.crypto.getRandomValues(arr);return arr}}else if(window.msCrypto&&window.msCrypto.getRandomValues){Rand.prototype._rand=function _rand(n){var arr=new Uint8Array(n);window.msCrypto.getRandomValues(arr);return arr}}else{Rand.prototype._rand=function(){throw new Error("Not implemented yet")}}}else{try{var crypto=require("cry"+"pto");Rand.prototype._rand=function _rand(n){return crypto.randomBytes(n)}}catch(e){Rand.prototype._rand=function _rand(n){var res=new Uint8Array(n);for(var i=0;i<res.length;i++)res[i]=this.rand.getByte();return res}}}},{}],"/Users/paulfrazee/patchwork/node_modules/browser-resolve/empty.js":[function(require,module,exports){},{}],"/Users/paulfrazee/patchwork/node_modules/browser-split/index.js":[function(require,module,exports){module.exports=function split(undef){var nativeSplit=String.prototype.split,compliantExecNpcg=/()??/.exec("")[1]===undef,self;self=function(str,separator,limit){if(Object.prototype.toString.call(separator)!=="[object RegExp]"){return nativeSplit.call(str,separator,limit)}var output=[],flags=(separator.ignoreCase?"i":"")+(separator.multiline?"m":"")+(separator.extended?"x":"")+(separator.sticky?"y":""),lastLastIndex=0,separator=new RegExp(separator.source,flags+"g"),separator2,match,lastIndex,lastLength;str+="";if(!compliantExecNpcg){separator2=new RegExp("^"+separator.source+"$(?!\\s)",flags)}limit=limit===undef?-1>>>0:limit>>>0;while(match=separator.exec(str)){lastIndex=match.index+match[0].length;if(lastIndex>lastLastIndex){output.push(str.slice(lastLastIndex,match.index));if(!compliantExecNpcg&&match.length>1){match[0].replace(separator2,function(){for(var i=1;i<arguments.length-2;i++){if(arguments[i]===undef){match[i]=undef}}})}if(match.length>1&&match.index<str.length){Array.prototype.push.apply(output,match.slice(1))}lastLength=match[0].length;lastLastIndex=lastIndex;if(output.length>=limit){break}}if(separator.lastIndex===match.index){separator.lastIndex++}}if(lastLastIndex===str.length){if(lastLength||!separator.test("")){output.push("")}}else{output.push(str.slice(lastLastIndex))}return output.length>limit?output.slice(0,limit):output};return self}()},{}],"/Users/paulfrazee/patchwork/node_modules/browserify-aes/aes.js":[function(require,module,exports){(function(Buffer){var uint_max=Math.pow(2,32);function fixup_uint32(x){var ret,x_pos;ret=x>uint_max||x<0?(x_pos=Math.abs(x)%uint_max,x<0?uint_max-x_pos:x_pos):x;return ret}function scrub_vec(v){for(var i=0;i<v.length;v++){v[i]=0}return false}function Global(){this.SBOX=[];this.INV_SBOX=[];this.SUB_MIX=[[],[],[],[]];this.INV_SUB_MIX=[[],[],[],[]];this.init();this.RCON=[0,1,2,4,8,16,32,64,128,27,54]}Global.prototype.init=function(){var d,i,sx,t,x,x2,x4,x8,xi,_i;d=function(){var _i,_results;_results=[];for(i=_i=0;_i<256;i=++_i){if(i<128){_results.push(i<<1)}else{_results.push(i<<1^283)}}return _results}();x=0;xi=0;for(i=_i=0;_i<256;i=++_i){sx=xi^xi<<1^xi<<2^xi<<3^xi<<4;sx=sx>>>8^sx&255^99;this.SBOX[x]=sx;this.INV_SBOX[sx]=x;x2=d[x];x4=d[x2];x8=d[x4];t=d[sx]*257^sx*16843008;this.SUB_MIX[0][x]=t<<24|t>>>8;this.SUB_MIX[1][x]=t<<16|t>>>16;this.SUB_MIX[2][x]=t<<8|t>>>24;this.SUB_MIX[3][x]=t;t=x8*16843009^x4*65537^x2*257^x*16843008;this.INV_SUB_MIX[0][sx]=t<<24|t>>>8;this.INV_SUB_MIX[1][sx]=t<<16|t>>>16;this.INV_SUB_MIX[2][sx]=t<<8|t>>>24;this.INV_SUB_MIX[3][sx]=t;if(x===0){x=xi=1}else{x=x2^d[d[d[x8^x2]]];xi^=d[d[xi]]}}return true};var G=new Global;AES.blockSize=4*4;AES.prototype.blockSize=AES.blockSize;AES.keySize=256/8;AES.prototype.keySize=AES.keySize;function bufferToArray(buf){var len=buf.length/4;var out=new Array(len);var i=-1;while(++i<len){out[i]=buf.readUInt32BE(i*4)}return out}function AES(key){this._key=bufferToArray(key);this._doReset()}AES.prototype._doReset=function(){var invKsRow,keySize,keyWords,ksRow,ksRows,t;keyWords=this._key;keySize=keyWords.length;this._nRounds=keySize+6;ksRows=(this._nRounds+1)*4;this._keySchedule=[];for(ksRow=0;ksRow<ksRows;ksRow++){this._keySchedule[ksRow]=ksRow<keySize?keyWords[ksRow]:(t=this._keySchedule[ksRow-1],ksRow%keySize===0?(t=t<<8|t>>>24,t=G.SBOX[t>>>24]<<24|G.SBOX[t>>>16&255]<<16|G.SBOX[t>>>8&255]<<8|G.SBOX[t&255],t^=G.RCON[ksRow/keySize|0]<<24):keySize>6&&ksRow%keySize===4?t=G.SBOX[t>>>24]<<24|G.SBOX[t>>>16&255]<<16|G.SBOX[t>>>8&255]<<8|G.SBOX[t&255]:void 0,this._keySchedule[ksRow-keySize]^t)}this._invKeySchedule=[];for(invKsRow=0;invKsRow<ksRows;invKsRow++){ksRow=ksRows-invKsRow;t=this._keySchedule[ksRow-(invKsRow%4?0:4)];this._invKeySchedule[invKsRow]=invKsRow<4||ksRow<=4?t:G.INV_SUB_MIX[0][G.SBOX[t>>>24]]^G.INV_SUB_MIX[1][G.SBOX[t>>>16&255]]^G.INV_SUB_MIX[2][G.SBOX[t>>>8&255]]^G.INV_SUB_MIX[3][G.SBOX[t&255]]}return true};AES.prototype.encryptBlock=function(M){M=bufferToArray(new Buffer(M));var out=this._doCryptBlock(M,this._keySchedule,G.SUB_MIX,G.SBOX);var buf=new Buffer(16);buf.writeUInt32BE(out[0],0);buf.writeUInt32BE(out[1],4);buf.writeUInt32BE(out[2],8);buf.writeUInt32BE(out[3],12);return buf};AES.prototype.decryptBlock=function(M){M=bufferToArray(new Buffer(M));var temp=[M[3],M[1]];M[1]=temp[0];M[3]=temp[1];var out=this._doCryptBlock(M,this._invKeySchedule,G.INV_SUB_MIX,G.INV_SBOX);var buf=new Buffer(16);buf.writeUInt32BE(out[0],0);buf.writeUInt32BE(out[3],4);buf.writeUInt32BE(out[2],8);buf.writeUInt32BE(out[1],12);return buf};AES.prototype.scrub=function(){scrub_vec(this._keySchedule);scrub_vec(this._invKeySchedule);scrub_vec(this._key)};AES.prototype._doCryptBlock=function(M,keySchedule,SUB_MIX,SBOX){var ksRow,s0,s1,s2,s3,t0,t1,t2,t3;s0=M[0]^keySchedule[0];s1=M[1]^keySchedule[1];s2=M[2]^keySchedule[2];s3=M[3]^keySchedule[3];ksRow=4;for(var round=1;round<this._nRounds;round++){t0=SUB_MIX[0][s0>>>24]^SUB_MIX[1][s1>>>16&255]^SUB_MIX[2][s2>>>8&255]^SUB_MIX[3][s3&255]^keySchedule[ksRow++];t1=SUB_MIX[0][s1>>>24]^SUB_MIX[1][s2>>>16&255]^SUB_MIX[2][s3>>>8&255]^SUB_MIX[3][s0&255]^keySchedule[ksRow++];t2=SUB_MIX[0][s2>>>24]^SUB_MIX[1][s3>>>16&255]^SUB_MIX[2][s0>>>8&255]^SUB_MIX[3][s1&255]^keySchedule[ksRow++];t3=SUB_MIX[0][s3>>>24]^SUB_MIX[1][s0>>>16&255]^SUB_MIX[2][s1>>>8&255]^SUB_MIX[3][s2&255]^keySchedule[ksRow++];s0=t0;s1=t1;s2=t2;s3=t3}t0=(SBOX[s0>>>24]<<24|SBOX[s1>>>16&255]<<16|SBOX[s2>>>8&255]<<8|SBOX[s3&255])^keySchedule[ksRow++];t1=(SBOX[s1>>>24]<<24|SBOX[s2>>>16&255]<<16|SBOX[s3>>>8&255]<<8|SBOX[s0&255])^keySchedule[ksRow++];t2=(SBOX[s2>>>24]<<24|SBOX[s3>>>16&255]<<16|SBOX[s0>>>8&255]<<8|SBOX[s1&255])^keySchedule[ksRow++];t3=(SBOX[s3>>>24]<<24|SBOX[s0>>>16&255]<<16|SBOX[s1>>>8&255]<<8|SBOX[s2&255])^keySchedule[ksRow++];return[fixup_uint32(t0),fixup_uint32(t1),fixup_uint32(t2),fixup_uint32(t3)]};exports.AES=AES}).call(this,require("buffer").Buffer)},{buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js"}],"/Users/paulfrazee/patchwork/node_modules/browserify-aes/authCipher.js":[function(require,module,exports){(function(Buffer){var aes=require("./aes");var Transform=require("cipher-base");var inherits=require("inherits");var GHASH=require("./ghash");var xor=require("buffer-xor");inherits(StreamCipher,Transform);module.exports=StreamCipher;function StreamCipher(mode,key,iv,decrypt){if(!(this instanceof StreamCipher)){return new StreamCipher(mode,key,iv)}Transform.call(this);this._finID=Buffer.concat([iv,new Buffer([0,0,0,1])]);iv=Buffer.concat([iv,new Buffer([0,0,0,2])]);this._cipher=new aes.AES(key);this._prev=new Buffer(iv.length);this._cache=new Buffer("");this._secCache=new Buffer("");this._decrypt=decrypt;this._alen=0;this._len=0;iv.copy(this._prev);this._mode=mode;var h=new Buffer(4);h.fill(0);this._ghash=new GHASH(this._cipher.encryptBlock(h));this._authTag=null;this._called=false}StreamCipher.prototype._update=function(chunk){if(!this._called&&this._alen){var rump=16-this._alen%16;if(rump<16){rump=new Buffer(rump);rump.fill(0);this._ghash.update(rump)}}this._called=true;var out=this._mode.encrypt(this,chunk);if(this._decrypt){this._ghash.update(chunk)}else{this._ghash.update(out)}this._len+=chunk.length;return out};StreamCipher.prototype._final=function(){if(this._decrypt&&!this._authTag){throw new Error("Unsupported state or unable to authenticate data")}var tag=xor(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt){if(xorTest(tag,this._authTag)){throw new Error("Unsupported state or unable to authenticate data")}}else{this._authTag=tag}this._cipher.scrub()};StreamCipher.prototype.getAuthTag=function getAuthTag(){if(!this._decrypt&&Buffer.isBuffer(this._authTag)){return this._authTag}else{throw new Error("Attempting to get auth tag in unsupported state")}};StreamCipher.prototype.setAuthTag=function setAuthTag(tag){if(this._decrypt){this._authTag=tag}else{throw new Error("Attempting to set auth tag in unsupported state")}};StreamCipher.prototype.setAAD=function setAAD(buf){if(!this._called){this._ghash.update(buf);this._alen+=buf.length}else{throw new Error("Attempting to set AAD in unsupported state")}};function xorTest(a,b){var out=0;if(a.length!==b.length){out++}var len=Math.min(a.length,b.length);var i=-1;while(++i<len){out+=a[i]^b[i]}return out}}).call(this,require("buffer").Buffer)},{"./aes":"/Users/paulfrazee/patchwork/node_modules/browserify-aes/aes.js","./ghash":"/Users/paulfrazee/patchwork/node_modules/browserify-aes/ghash.js",buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js","buffer-xor":"/Users/paulfrazee/patchwork/node_modules/buffer-xor/index.js","cipher-base":"/Users/paulfrazee/patchwork/node_modules/cipher-base/index.js",inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js"}],"/Users/paulfrazee/patchwork/node_modules/browserify-aes/browser.js":[function(require,module,exports){var ciphers=require("./encrypter");exports.createCipher=exports.Cipher=ciphers.createCipher;exports.createCipheriv=exports.Cipheriv=ciphers.createCipheriv;var deciphers=require("./decrypter");exports.createDecipher=exports.Decipher=deciphers.createDecipher;exports.createDecipheriv=exports.Decipheriv=deciphers.createDecipheriv;var modes=require("./modes");function getCiphers(){return Object.keys(modes)}exports.listCiphers=exports.getCiphers=getCiphers},{"./decrypter":"/Users/paulfrazee/patchwork/node_modules/browserify-aes/decrypter.js","./encrypter":"/Users/paulfrazee/patchwork/node_modules/browserify-aes/encrypter.js","./modes":"/Users/paulfrazee/patchwork/node_modules/browserify-aes/modes.js"}],"/Users/paulfrazee/patchwork/node_modules/browserify-aes/decrypter.js":[function(require,module,exports){(function(Buffer){var aes=require("./aes");var Transform=require("cipher-base");var inherits=require("inherits");var modes=require("./modes");var StreamCipher=require("./streamCipher");var AuthCipher=require("./authCipher");var ebtk=require("evp_bytestokey");inherits(Decipher,Transform);function Decipher(mode,key,iv){if(!(this instanceof Decipher)){return new Decipher(mode,key,iv)}Transform.call(this);this._cache=new Splitter;this._last=void 0;this._cipher=new aes.AES(key);this._prev=new Buffer(iv.length);iv.copy(this._prev);this._mode=mode;this._autopadding=true}Decipher.prototype._update=function(data){this._cache.add(data);var chunk;var thing;var out=[];while(chunk=this._cache.get(this._autopadding)){thing=this._mode.decrypt(this,chunk);out.push(thing)}return Buffer.concat(out)};Decipher.prototype._final=function(){var chunk=this._cache.flush();if(this._autopadding){return unpad(this._mode.decrypt(this,chunk))}else if(chunk){throw new Error("data not multiple of block length")}};Decipher.prototype.setAutoPadding=function(setTo){this._autopadding=!!setTo;return this};function Splitter(){if(!(this instanceof Splitter)){return new Splitter}this.cache=new Buffer("")}Splitter.prototype.add=function(data){this.cache=Buffer.concat([this.cache,data])};Splitter.prototype.get=function(autoPadding){var out;if(autoPadding){if(this.cache.length>16){out=this.cache.slice(0,16);this.cache=this.cache.slice(16);return out}}else{if(this.cache.length>=16){out=this.cache.slice(0,16);this.cache=this.cache.slice(16);return out}}return null};Splitter.prototype.flush=function(){if(this.cache.length){return this.cache}};function unpad(last){var padded=last[15];var i=-1;while(++i<padded){if(last[i+(16-padded)]!==padded){throw new Error("unable to decrypt data")}}if(padded===16){return}return last.slice(0,16-padded)}var modelist={ECB:require("./modes/ecb"),CBC:require("./modes/cbc"),CFB:require("./modes/cfb"),CFB8:require("./modes/cfb8"),CFB1:require("./modes/cfb1"),OFB:require("./modes/ofb"),CTR:require("./modes/ctr"),GCM:require("./modes/ctr")};function createDecipheriv(suite,password,iv){var config=modes[suite.toLowerCase()];if(!config){throw new TypeError("invalid suite type")}if(typeof iv==="string"){iv=new Buffer(iv)}if(typeof password==="string"){password=new Buffer(password)}if(password.length!==config.key/8){throw new TypeError("invalid key length "+password.length)}if(iv.length!==config.iv){throw new TypeError("invalid iv length "+iv.length)}if(config.type==="stream"){return new StreamCipher(modelist[config.mode],password,iv,true)}else if(config.type==="auth"){return new AuthCipher(modelist[config.mode],password,iv,true)}return new Decipher(modelist[config.mode],password,iv)}function createDecipher(suite,password){var config=modes[suite.toLowerCase()];if(!config){throw new TypeError("invalid suite type")}var keys=ebtk(password,false,config.key,config.iv);return createDecipheriv(suite,keys.key,keys.iv)}exports.createDecipher=createDecipher;exports.createDecipheriv=createDecipheriv}).call(this,require("buffer").Buffer)},{"./aes":"/Users/paulfrazee/patchwork/node_modules/browserify-aes/aes.js","./authCipher":"/Users/paulfrazee/patchwork/node_modules/browserify-aes/authCipher.js","./modes":"/Users/paulfrazee/patchwork/node_modules/browserify-aes/modes.js","./modes/cbc":"/Users/paulfrazee/patchwork/node_modules/browserify-aes/modes/cbc.js","./modes/cfb":"/Users/paulfrazee/patchwork/node_modules/browserify-aes/modes/cfb.js","./modes/cfb1":"/Users/paulfrazee/patchwork/node_modules/browserify-aes/modes/cfb1.js","./modes/cfb8":"/Users/paulfrazee/patchwork/node_modules/browserify-aes/modes/cfb8.js","./modes/ctr":"/Users/paulfrazee/patchwork/node_modules/browserify-aes/modes/ctr.js","./modes/ecb":"/Users/paulfrazee/patchwork/node_modules/browserify-aes/modes/ecb.js","./modes/ofb":"/Users/paulfrazee/patchwork/node_modules/browserify-aes/modes/ofb.js","./streamCipher":"/Users/paulfrazee/patchwork/node_modules/browserify-aes/streamCipher.js",buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js","cipher-base":"/Users/paulfrazee/patchwork/node_modules/cipher-base/index.js",evp_bytestokey:"/Users/paulfrazee/patchwork/node_modules/evp_bytestokey/index.js",inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js"}],"/Users/paulfrazee/patchwork/node_modules/browserify-aes/encrypter.js":[function(require,module,exports){(function(Buffer){var aes=require("./aes");var Transform=require("cipher-base");var inherits=require("inherits");var modes=require("./modes");var ebtk=require("evp_bytestokey");var StreamCipher=require("./streamCipher");var AuthCipher=require("./authCipher");inherits(Cipher,Transform);function Cipher(mode,key,iv){if(!(this instanceof Cipher)){return new Cipher(mode,key,iv)}Transform.call(this);this._cache=new Splitter;this._cipher=new aes.AES(key);this._prev=new Buffer(iv.length);iv.copy(this._prev);this._mode=mode;this._autopadding=true}Cipher.prototype._update=function(data){this._cache.add(data);var chunk;var thing;var out=[];while(chunk=this._cache.get()){thing=this._mode.encrypt(this,chunk);out.push(thing)}return Buffer.concat(out)};Cipher.prototype._final=function(){var chunk=this._cache.flush();if(this._autopadding){chunk=this._mode.encrypt(this,chunk);this._cipher.scrub();return chunk}else if(chunk.toString("hex")!=="10101010101010101010101010101010"){this._cipher.scrub();throw new Error("data not multiple of block length")}};Cipher.prototype.setAutoPadding=function(setTo){this._autopadding=!!setTo;return this};function Splitter(){if(!(this instanceof Splitter)){return new Splitter}this.cache=new Buffer("")}Splitter.prototype.add=function(data){this.cache=Buffer.concat([this.cache,data])};Splitter.prototype.get=function(){if(this.cache.length>15){var out=this.cache.slice(0,16);this.cache=this.cache.slice(16);return out}return null};Splitter.prototype.flush=function(){var len=16-this.cache.length;var padBuff=new Buffer(len);var i=-1;while(++i<len){padBuff.writeUInt8(len,i)}var out=Buffer.concat([this.cache,padBuff]);return out};var modelist={ECB:require("./modes/ecb"),CBC:require("./modes/cbc"),CFB:require("./modes/cfb"),CFB8:require("./modes/cfb8"),CFB1:require("./modes/cfb1"),OFB:require("./modes/ofb"),CTR:require("./modes/ctr"),GCM:require("./modes/ctr")};function createCipheriv(suite,password,iv){var config=modes[suite.toLowerCase()];if(!config){throw new TypeError("invalid suite type")}if(typeof iv==="string"){iv=new Buffer(iv)}if(typeof password==="string"){password=new Buffer(password)}if(password.length!==config.key/8){throw new TypeError("invalid key length "+password.length)}if(iv.length!==config.iv){throw new TypeError("invalid iv length "+iv.length)}if(config.type==="stream"){return new StreamCipher(modelist[config.mode],password,iv)}else if(config.type==="auth"){return new AuthCipher(modelist[config.mode],password,iv)}return new Cipher(modelist[config.mode],password,iv)}function createCipher(suite,password){var config=modes[suite.toLowerCase()];if(!config){throw new TypeError("invalid suite type")}var keys=ebtk(password,false,config.key,config.iv);return createCipheriv(suite,keys.key,keys.iv)}exports.createCipheriv=createCipheriv;exports.createCipher=createCipher}).call(this,require("buffer").Buffer)},{"./aes":"/Users/paulfrazee/patchwork/node_modules/browserify-aes/aes.js","./authCipher":"/Users/paulfrazee/patchwork/node_modules/browserify-aes/authCipher.js","./modes":"/Users/paulfrazee/patchwork/node_modules/browserify-aes/modes.js","./modes/cbc":"/Users/paulfrazee/patchwork/node_modules/browserify-aes/modes/cbc.js","./modes/cfb":"/Users/paulfrazee/patchwork/node_modules/browserify-aes/modes/cfb.js","./modes/cfb1":"/Users/paulfrazee/patchwork/node_modules/browserify-aes/modes/cfb1.js","./modes/cfb8":"/Users/paulfrazee/patchwork/node_modules/browserify-aes/modes/cfb8.js","./modes/ctr":"/Users/paulfrazee/patchwork/node_modules/browserify-aes/modes/ctr.js","./modes/ecb":"/Users/paulfrazee/patchwork/node_modules/browserify-aes/modes/ecb.js","./modes/ofb":"/Users/paulfrazee/patchwork/node_modules/browserify-aes/modes/ofb.js","./streamCipher":"/Users/paulfrazee/patchwork/node_modules/browserify-aes/streamCipher.js",buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js","cipher-base":"/Users/paulfrazee/patchwork/node_modules/cipher-base/index.js",evp_bytestokey:"/Users/paulfrazee/patchwork/node_modules/evp_bytestokey/index.js",inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js"}],"/Users/paulfrazee/patchwork/node_modules/browserify-aes/ghash.js":[function(require,module,exports){(function(Buffer){var zeros=new Buffer(16);zeros.fill(0);module.exports=GHASH;function GHASH(key){this.h=key;this.state=new Buffer(16);this.state.fill(0);this.cache=new Buffer("")}GHASH.prototype.ghash=function(block){var i=-1;while(++i<block.length){this.state[i]^=block[i]}this._multiply()};GHASH.prototype._multiply=function(){var Vi=toArray(this.h);var Zi=[0,0,0,0];var j,xi,lsb_Vi;var i=-1;while(++i<128){xi=(this.state[~~(i/8)]&1<<7-i%8)!==0;if(xi){Zi=xor(Zi,Vi)}lsb_Vi=(Vi[3]&1)!==0;for(j=3;j>0;j--){Vi[j]=Vi[j]>>>1|(Vi[j-1]&1)<<31}Vi[0]=Vi[0]>>>1;if(lsb_Vi){Vi[0]=Vi[0]^225<<24}}this.state=fromArray(Zi)};GHASH.prototype.update=function(buf){this.cache=Buffer.concat([this.cache,buf]);var chunk;while(this.cache.length>=16){chunk=this.cache.slice(0,16);this.cache=this.cache.slice(16);this.ghash(chunk)}};GHASH.prototype.final=function(abl,bl){if(this.cache.length){this.ghash(Buffer.concat([this.cache,zeros],16))}this.ghash(fromArray([0,abl,0,bl]));return this.state};function toArray(buf){return[buf.readUInt32BE(0),buf.readUInt32BE(4),buf.readUInt32BE(8),buf.readUInt32BE(12)]}function fromArray(out){out=out.map(fixup_uint32);var buf=new Buffer(16);buf.writeUInt32BE(out[0],0);buf.writeUInt32BE(out[1],4);buf.writeUInt32BE(out[2],8);buf.writeUInt32BE(out[3],12);return buf}var uint_max=Math.pow(2,32);function fixup_uint32(x){var ret,x_pos;ret=x>uint_max||x<0?(x_pos=Math.abs(x)%uint_max,x<0?uint_max-x_pos:x_pos):x;
return ret}function xor(a,b){return[a[0]^b[0],a[1]^b[1],a[2]^b[2],a[3]^b[3]]}}).call(this,require("buffer").Buffer)},{buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js"}],"/Users/paulfrazee/patchwork/node_modules/browserify-aes/modes.js":[function(require,module,exports){exports["aes-128-ecb"]={cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"};exports["aes-192-ecb"]={cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"};exports["aes-256-ecb"]={cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"};exports["aes-128-cbc"]={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"};exports["aes-192-cbc"]={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"};exports["aes-256-cbc"]={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"};exports["aes128"]=exports["aes-128-cbc"];exports["aes192"]=exports["aes-192-cbc"];exports["aes256"]=exports["aes-256-cbc"];exports["aes-128-cfb"]={cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"};exports["aes-192-cfb"]={cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"};exports["aes-256-cfb"]={cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"};exports["aes-128-cfb8"]={cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"};exports["aes-192-cfb8"]={cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"};exports["aes-256-cfb8"]={cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"};exports["aes-128-cfb1"]={cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"};exports["aes-192-cfb1"]={cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"};exports["aes-256-cfb1"]={cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"};exports["aes-128-ofb"]={cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"};exports["aes-192-ofb"]={cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"};exports["aes-256-ofb"]={cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"};exports["aes-128-ctr"]={cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"};exports["aes-192-ctr"]={cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"};exports["aes-256-ctr"]={cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"};exports["aes-128-gcm"]={cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"};exports["aes-192-gcm"]={cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"};exports["aes-256-gcm"]={cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}},{}],"/Users/paulfrazee/patchwork/node_modules/browserify-aes/modes/cbc.js":[function(require,module,exports){var xor=require("buffer-xor");exports.encrypt=function(self,block){var data=xor(block,self._prev);self._prev=self._cipher.encryptBlock(data);return self._prev};exports.decrypt=function(self,block){var pad=self._prev;self._prev=block;var out=self._cipher.decryptBlock(block);return xor(out,pad)}},{"buffer-xor":"/Users/paulfrazee/patchwork/node_modules/buffer-xor/index.js"}],"/Users/paulfrazee/patchwork/node_modules/browserify-aes/modes/cfb.js":[function(require,module,exports){(function(Buffer){var xor=require("buffer-xor");exports.encrypt=function(self,data,decrypt){var out=new Buffer("");var len;while(data.length){if(self._cache.length===0){self._cache=self._cipher.encryptBlock(self._prev);self._prev=new Buffer("")}if(self._cache.length<=data.length){len=self._cache.length;out=Buffer.concat([out,encryptStart(self,data.slice(0,len),decrypt)]);data=data.slice(len)}else{out=Buffer.concat([out,encryptStart(self,data,decrypt)]);break}}return out};function encryptStart(self,data,decrypt){var len=data.length;var out=xor(data,self._cache);self._cache=self._cache.slice(len);self._prev=Buffer.concat([self._prev,decrypt?data:out]);return out}}).call(this,require("buffer").Buffer)},{buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js","buffer-xor":"/Users/paulfrazee/patchwork/node_modules/buffer-xor/index.js"}],"/Users/paulfrazee/patchwork/node_modules/browserify-aes/modes/cfb1.js":[function(require,module,exports){(function(Buffer){function encryptByte(self,byteParam,decrypt){var pad;var i=-1;var len=8;var out=0;var bit,value;while(++i<len){pad=self._cipher.encryptBlock(self._prev);bit=byteParam&1<<7-i?128:0;value=pad[0]^bit;out+=(value&128)>>i%8;self._prev=shiftIn(self._prev,decrypt?bit:value)}return out}exports.encrypt=function(self,chunk,decrypt){var len=chunk.length;var out=new Buffer(len);var i=-1;while(++i<len){out[i]=encryptByte(self,chunk[i],decrypt)}return out};function shiftIn(buffer,value){var len=buffer.length;var i=-1;var out=new Buffer(buffer.length);buffer=Buffer.concat([buffer,new Buffer([value])]);while(++i<len){out[i]=buffer[i]<<1|buffer[i+1]>>7}return out}}).call(this,require("buffer").Buffer)},{buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js"}],"/Users/paulfrazee/patchwork/node_modules/browserify-aes/modes/cfb8.js":[function(require,module,exports){(function(Buffer){function encryptByte(self,byteParam,decrypt){var pad=self._cipher.encryptBlock(self._prev);var out=pad[0]^byteParam;self._prev=Buffer.concat([self._prev.slice(1),new Buffer([decrypt?byteParam:out])]);return out}exports.encrypt=function(self,chunk,decrypt){var len=chunk.length;var out=new Buffer(len);var i=-1;while(++i<len){out[i]=encryptByte(self,chunk[i],decrypt)}return out}}).call(this,require("buffer").Buffer)},{buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js"}],"/Users/paulfrazee/patchwork/node_modules/browserify-aes/modes/ctr.js":[function(require,module,exports){(function(Buffer){var xor=require("buffer-xor");function incr32(iv){var len=iv.length;var item;while(len--){item=iv.readUInt8(len);if(item===255){iv.writeUInt8(0,len)}else{item++;iv.writeUInt8(item,len);break}}}function getBlock(self){var out=self._cipher.encryptBlock(self._prev);incr32(self._prev);return out}exports.encrypt=function(self,chunk){while(self._cache.length<chunk.length){self._cache=Buffer.concat([self._cache,getBlock(self)])}var pad=self._cache.slice(0,chunk.length);self._cache=self._cache.slice(chunk.length);return xor(chunk,pad)}}).call(this,require("buffer").Buffer)},{buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js","buffer-xor":"/Users/paulfrazee/patchwork/node_modules/buffer-xor/index.js"}],"/Users/paulfrazee/patchwork/node_modules/browserify-aes/modes/ecb.js":[function(require,module,exports){exports.encrypt=function(self,block){return self._cipher.encryptBlock(block)};exports.decrypt=function(self,block){return self._cipher.decryptBlock(block)}},{}],"/Users/paulfrazee/patchwork/node_modules/browserify-aes/modes/ofb.js":[function(require,module,exports){(function(Buffer){var xor=require("buffer-xor");function getBlock(self){self._prev=self._cipher.encryptBlock(self._prev);return self._prev}exports.encrypt=function(self,chunk){while(self._cache.length<chunk.length){self._cache=Buffer.concat([self._cache,getBlock(self)])}var pad=self._cache.slice(0,chunk.length);self._cache=self._cache.slice(chunk.length);return xor(chunk,pad)}}).call(this,require("buffer").Buffer)},{buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js","buffer-xor":"/Users/paulfrazee/patchwork/node_modules/buffer-xor/index.js"}],"/Users/paulfrazee/patchwork/node_modules/browserify-aes/streamCipher.js":[function(require,module,exports){(function(Buffer){var aes=require("./aes");var Transform=require("cipher-base");var inherits=require("inherits");inherits(StreamCipher,Transform);module.exports=StreamCipher;function StreamCipher(mode,key,iv,decrypt){if(!(this instanceof StreamCipher)){return new StreamCipher(mode,key,iv)}Transform.call(this);this._cipher=new aes.AES(key);this._prev=new Buffer(iv.length);this._cache=new Buffer("");this._secCache=new Buffer("");this._decrypt=decrypt;iv.copy(this._prev);this._mode=mode}StreamCipher.prototype._update=function(chunk){return this._mode.encrypt(this,chunk,this._decrypt)};StreamCipher.prototype._final=function(){this._cipher.scrub()}}).call(this,require("buffer").Buffer)},{"./aes":"/Users/paulfrazee/patchwork/node_modules/browserify-aes/aes.js",buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js","cipher-base":"/Users/paulfrazee/patchwork/node_modules/cipher-base/index.js",inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js"}],"/Users/paulfrazee/patchwork/node_modules/browserify-cipher/browser.js":[function(require,module,exports){var ebtk=require("evp_bytestokey");var aes=require("browserify-aes/browser");var DES=require("browserify-des");var desModes=require("browserify-des/modes");var aesModes=require("browserify-aes/modes");function createCipher(suite,password){var keyLen,ivLen;suite=suite.toLowerCase();if(aesModes[suite]){keyLen=aesModes[suite].key;ivLen=aesModes[suite].iv}else if(desModes[suite]){keyLen=desModes[suite].key*8;ivLen=desModes[suite].iv}else{throw new TypeError("invalid suite type")}var keys=ebtk(password,false,keyLen,ivLen);return createCipheriv(suite,keys.key,keys.iv)}function createDecipher(suite,password){var keyLen,ivLen;suite=suite.toLowerCase();if(aesModes[suite]){keyLen=aesModes[suite].key;ivLen=aesModes[suite].iv}else if(desModes[suite]){keyLen=desModes[suite].key*8;ivLen=desModes[suite].iv}else{throw new TypeError("invalid suite type")}var keys=ebtk(password,false,keyLen,ivLen);return createDecipheriv(suite,keys.key,keys.iv)}function createCipheriv(suite,key,iv){suite=suite.toLowerCase();if(aesModes[suite]){return aes.createCipheriv(suite,key,iv)}else if(desModes[suite]){return new DES({key:key,iv:iv,mode:suite})}else{throw new TypeError("invalid suite type")}}function createDecipheriv(suite,key,iv){suite=suite.toLowerCase();if(aesModes[suite]){return aes.createDecipheriv(suite,key,iv)}else if(desModes[suite]){return new DES({key:key,iv:iv,mode:suite,decrypt:true})}else{throw new TypeError("invalid suite type")}}exports.createCipher=exports.Cipher=createCipher;exports.createCipheriv=exports.Cipheriv=createCipheriv;exports.createDecipher=exports.Decipher=createDecipher;exports.createDecipheriv=exports.Decipheriv=createDecipheriv;function getCiphers(){return Object.keys(desModes).concat(aes.getCiphers())}exports.listCiphers=exports.getCiphers=getCiphers},{"browserify-aes/browser":"/Users/paulfrazee/patchwork/node_modules/browserify-aes/browser.js","browserify-aes/modes":"/Users/paulfrazee/patchwork/node_modules/browserify-aes/modes.js","browserify-des":"/Users/paulfrazee/patchwork/node_modules/browserify-des/index.js","browserify-des/modes":"/Users/paulfrazee/patchwork/node_modules/browserify-des/modes.js",evp_bytestokey:"/Users/paulfrazee/patchwork/node_modules/evp_bytestokey/index.js"}],"/Users/paulfrazee/patchwork/node_modules/browserify-des/index.js":[function(require,module,exports){(function(Buffer){var CipherBase=require("cipher-base");var des=require("des.js");var inherits=require("inherits");var modes={"des-ede3-cbc":des.CBC.instantiate(des.EDE),"des-ede3":des.EDE,"des-ede-cbc":des.CBC.instantiate(des.EDE),"des-ede":des.EDE,"des-cbc":des.CBC.instantiate(des.DES),"des-ecb":des.DES};modes.des=modes["des-cbc"];modes.des3=modes["des-ede3-cbc"];module.exports=DES;inherits(DES,CipherBase);function DES(opts){CipherBase.call(this);var modeName=opts.mode.toLowerCase();var mode=modes[modeName];var type;if(opts.decrypt){type="decrypt"}else{type="encrypt"}var key=opts.key;if(modeName==="des-ede"||modeName==="des-ede-cbc"){key=Buffer.concat([key,key.slice(0,8)])}var iv=opts.iv;this._des=mode.create({key:key,iv:iv,type:type})}DES.prototype._update=function(data){return new Buffer(this._des.update(data))};DES.prototype._final=function(){return new Buffer(this._des.final())}}).call(this,require("buffer").Buffer)},{buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js","cipher-base":"/Users/paulfrazee/patchwork/node_modules/cipher-base/index.js","des.js":"/Users/paulfrazee/patchwork/node_modules/des.js/lib/des.js",inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js"}],"/Users/paulfrazee/patchwork/node_modules/browserify-des/modes.js":[function(require,module,exports){exports["des-ecb"]={key:8,iv:0};exports["des-cbc"]=exports.des={key:8,iv:8};exports["des-ede3-cbc"]=exports.des3={key:24,iv:8};exports["des-ede3"]={key:24,iv:0};exports["des-ede-cbc"]={key:16,iv:8};exports["des-ede"]={key:16,iv:0}},{}],"/Users/paulfrazee/patchwork/node_modules/browserify-rsa/index.js":[function(require,module,exports){(function(Buffer){var bn=require("bn.js");var randomBytes=require("randombytes");module.exports=crt;function blind(priv){var r=getr(priv);var blinder=r.toRed(bn.mont(priv.modulus)).redPow(new bn(priv.publicExponent)).fromRed();return{blinder:blinder,unblinder:r.invm(priv.modulus)}}function crt(msg,priv){var blinds=blind(priv);var len=priv.modulus.byteLength();var mod=bn.mont(priv.modulus);var blinded=new bn(msg).mul(blinds.blinder).umod(priv.modulus);var c1=blinded.toRed(bn.mont(priv.prime1));var c2=blinded.toRed(bn.mont(priv.prime2));var qinv=priv.coefficient;var p=priv.prime1;var q=priv.prime2;var m1=c1.redPow(priv.exponent1);var m2=c2.redPow(priv.exponent2);m1=m1.fromRed();m2=m2.fromRed();var h=m1.isub(m2).imul(qinv).umod(p);h.imul(q);m2.iadd(h);return new Buffer(m2.imul(blinds.unblinder).umod(priv.modulus).toArray(false,len))}crt.getr=getr;function getr(priv){var len=priv.modulus.byteLength();var r=new bn(randomBytes(len));while(r.cmp(priv.modulus)>=0||!r.umod(priv.prime1)||!r.umod(priv.prime2)){r=new bn(randomBytes(len))}return r}}).call(this,require("buffer").Buffer)},{"bn.js":"/Users/paulfrazee/patchwork/node_modules/bn.js/lib/bn.js",buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js",randombytes:"/Users/paulfrazee/patchwork/node_modules/randombytes/browser.js"}],"/Users/paulfrazee/patchwork/node_modules/browserify-sign/algos.js":[function(require,module,exports){(function(Buffer){"use strict";exports["RSA-SHA224"]=exports.sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:new Buffer("302d300d06096086480165030402040500041c","hex")};exports["RSA-SHA256"]=exports.sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:new Buffer("3031300d060960864801650304020105000420","hex")};exports["RSA-SHA384"]=exports.sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:new Buffer("3041300d060960864801650304020205000430","hex")};exports["RSA-SHA512"]=exports.sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:new Buffer("3051300d060960864801650304020305000440","hex")};exports["RSA-SHA1"]={sign:"rsa",hash:"sha1",id:new Buffer("3021300906052b0e03021a05000414","hex")};exports["ecdsa-with-SHA1"]={sign:"ecdsa",hash:"sha1",id:new Buffer("","hex")};exports.DSA=exports["DSA-SHA1"]=exports["DSA-SHA"]={sign:"dsa",hash:"sha1",id:new Buffer("","hex")};exports["DSA-SHA224"]=exports["DSA-WITH-SHA224"]={sign:"dsa",hash:"sha224",id:new Buffer("","hex")};exports["DSA-SHA256"]=exports["DSA-WITH-SHA256"]={sign:"dsa",hash:"sha256",id:new Buffer("","hex")};exports["DSA-SHA384"]=exports["DSA-WITH-SHA384"]={sign:"dsa",hash:"sha384",id:new Buffer("","hex")};exports["DSA-SHA512"]=exports["DSA-WITH-SHA512"]={sign:"dsa",hash:"sha512",id:new Buffer("","hex")};exports["DSA-RIPEMD160"]={sign:"dsa",hash:"rmd160",id:new Buffer("","hex")};exports["RSA-RIPEMD160"]=exports.ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:new Buffer("3021300906052b2403020105000414","hex")};exports["RSA-MD5"]=exports.md5WithRSAEncryption={sign:"rsa",hash:"md5",id:new Buffer("3020300c06082a864886f70d020505000410","hex")}}).call(this,require("buffer").Buffer)},{buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js"}],"/Users/paulfrazee/patchwork/node_modules/browserify-sign/browser.js":[function(require,module,exports){(function(Buffer){var _algos=require("./algos");var createHash=require("create-hash");var inherits=require("inherits");var sign=require("./sign");var stream=require("stream");var verify=require("./verify");var algos={};Object.keys(_algos).forEach(function(key){algos[key]=algos[key.toLowerCase()]=_algos[key]});function Sign(algorithm){stream.Writable.call(this);var data=algos[algorithm];if(!data){throw new Error("Unknown message digest")}this._hashType=data.hash;this._hash=createHash(data.hash);this._tag=data.id;this._signType=data.sign}inherits(Sign,stream.Writable);Sign.prototype._write=function _write(data,_,done){this._hash.update(data);done()};Sign.prototype.update=function update(data,enc){if(typeof data==="string"){data=new Buffer(data,enc)}this._hash.update(data);return this};Sign.prototype.sign=function signMethod(key,enc){this.end();var hash=this._hash.digest();var sig=sign(Buffer.concat([this._tag,hash]),key,this._hashType,this._signType);return enc?sig.toString(enc):sig};function Verify(algorithm){stream.Writable.call(this);var data=algos[algorithm];if(!data){throw new Error("Unknown message digest")}this._hash=createHash(data.hash);this._tag=data.id;this._signType=data.sign}inherits(Verify,stream.Writable);Verify.prototype._write=function _write(data,_,done){this._hash.update(data);done()};Verify.prototype.update=function update(data,enc){if(typeof data==="string"){data=new Buffer(data,enc)}this._hash.update(data);return this};Verify.prototype.verify=function verifyMethod(key,sig,enc){if(typeof sig==="string"){sig=new Buffer(sig,enc)}this.end();var hash=this._hash.digest();return verify(sig,Buffer.concat([this._tag,hash]),key,this._signType)};function createSign(algorithm){return new Sign(algorithm)}function createVerify(algorithm){return new Verify(algorithm)}module.exports={Sign:createSign,Verify:createVerify,createSign:createSign,createVerify:createVerify}}).call(this,require("buffer").Buffer)},{"./algos":"/Users/paulfrazee/patchwork/node_modules/browserify-sign/algos.js","./sign":"/Users/paulfrazee/patchwork/node_modules/browserify-sign/sign.js","./verify":"/Users/paulfrazee/patchwork/node_modules/browserify-sign/verify.js",buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js","create-hash":"/Users/paulfrazee/patchwork/node_modules/create-hash/browser.js",inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js",stream:"/Users/paulfrazee/patchwork/node_modules/stream-browserify/index.js"}],"/Users/paulfrazee/patchwork/node_modules/browserify-sign/curves.js":[function(require,module,exports){"use strict";exports["1.3.132.0.10"]="secp256k1";exports["1.3.132.0.33"]="p224";exports["1.2.840.10045.3.1.1"]="p192";exports["1.2.840.10045.3.1.7"]="p256";exports["1.3.132.0.34"]="p384";exports["1.3.132.0.35"]="p521"},{}],"/Users/paulfrazee/patchwork/node_modules/browserify-sign/sign.js":[function(require,module,exports){(function(Buffer){var createHmac=require("create-hmac");var crt=require("browserify-rsa");var curves=require("./curves");var elliptic=require("elliptic");var parseKeys=require("parse-asn1");var BN=require("bn.js");var EC=elliptic.ec;function sign(hash,key,hashType,signType){var priv=parseKeys(key);if(priv.curve){if(signType!=="ecdsa")throw new Error("wrong private key type");return ecSign(hash,priv)}else if(priv.type==="dsa"){if(signType!=="dsa"){throw new Error("wrong private key type")}return dsaSign(hash,priv,hashType)}else{if(signType!=="rsa")throw new Error("wrong private key type")}var len=priv.modulus.byteLength();var pad=[0,1];while(hash.length+pad.length+1<len){pad.push(255)}pad.push(0);var i=-1;while(++i<hash.length){pad.push(hash[i])}var out=crt(pad,priv);return out}function ecSign(hash,priv){var curveId=curves[priv.curve.join(".")];if(!curveId)throw new Error("unknown curve "+priv.curve.join("."));var curve=new EC(curveId);var key=curve.genKeyPair();key._importPrivate(priv.privateKey);var out=key.sign(hash);return new Buffer(out.toDER())}function dsaSign(hash,priv,algo){var x=priv.params.priv_key;var p=priv.params.p;var q=priv.params.q;var g=priv.params.g;var r=new BN(0);var k;var H=bits2int(hash,q).mod(q);var s=false;var kv=getKey(x,q,hash,algo);while(s===false){k=makeKey(q,kv,algo);r=makeR(g,k,p,q);s=k.invm(q).imul(H.add(x.mul(r))).mod(q);if(!s.cmpn(0)){s=false;r=new BN(0)}}return toDER(r,s)}function toDER(r,s){r=r.toArray();s=s.toArray();if(r[0]&128){r=[0].concat(r)}if(s[0]&128){s=[0].concat(s)}var total=r.length+s.length+4;var res=[48,total,2,r.length];res=res.concat(r,[2,s.length],s);return new Buffer(res)}function getKey(x,q,hash,algo){x=new Buffer(x.toArray());if(x.length<q.byteLength()){var zeros=new Buffer(q.byteLength()-x.length);zeros.fill(0);x=Buffer.concat([zeros,x])}var hlen=hash.length;var hbits=bits2octets(hash,q);var v=new Buffer(hlen);v.fill(1);var k=new Buffer(hlen);k.fill(0);k=createHmac(algo,k).update(v).update(new Buffer([0])).update(x).update(hbits).digest();v=createHmac(algo,k).update(v).digest();k=createHmac(algo,k).update(v).update(new Buffer([1])).update(x).update(hbits).digest();v=createHmac(algo,k).update(v).digest();return{k:k,v:v}}function bits2int(obits,q){var bits=new BN(obits);var shift=(obits.length<<3)-q.bitLength();if(shift>0){bits.ishrn(shift)}return bits}function bits2octets(bits,q){bits=bits2int(bits,q);bits=bits.mod(q);var out=new Buffer(bits.toArray());if(out.length<q.byteLength()){var zeros=new Buffer(q.byteLength()-out.length);zeros.fill(0);out=Buffer.concat([zeros,out])}return out}function makeKey(q,kv,algo){var t,k;do{t=new Buffer("");while(t.length*8<q.bitLength()){kv.v=createHmac(algo,kv.k).update(kv.v).digest();t=Buffer.concat([t,kv.v])}k=bits2int(t,q);kv.k=createHmac(algo,kv.k).update(kv.v).update(new Buffer([0])).digest();kv.v=createHmac(algo,kv.k).update(kv.v).digest()}while(k.cmp(q)!==-1);return k}function makeR(g,k,p,q){return g.toRed(BN.mont(p)).redPow(k).fromRed().mod(q)}module.exports=sign;module.exports.getKey=getKey;module.exports.makeKey=makeKey}).call(this,require("buffer").Buffer)},{"./curves":"/Users/paulfrazee/patchwork/node_modules/browserify-sign/curves.js","bn.js":"/Users/paulfrazee/patchwork/node_modules/bn.js/lib/bn.js","browserify-rsa":"/Users/paulfrazee/patchwork/node_modules/browserify-rsa/index.js",buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js","create-hmac":"/Users/paulfrazee/patchwork/node_modules/create-hmac/browser.js",elliptic:"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic.js","parse-asn1":"/Users/paulfrazee/patchwork/node_modules/parse-asn1/index.js"}],"/Users/paulfrazee/patchwork/node_modules/browserify-sign/verify.js":[function(require,module,exports){(function(Buffer){var curves=require("./curves");var elliptic=require("elliptic");var parseKeys=require("parse-asn1");var BN=require("bn.js");var EC=elliptic.ec;function verify(sig,hash,key,signType){var pub=parseKeys(key);if(pub.type==="ec"){if(signType!=="ecdsa"){throw new Error("wrong public key type")}return ecVerify(sig,hash,pub)}else if(pub.type==="dsa"){if(signType!=="dsa"){throw new Error("wrong public key type")}return dsaVerify(sig,hash,pub)}else{if(signType!=="rsa"){throw new Error("wrong public key type")}}var len=pub.modulus.byteLength();var pad=[1];var padNum=0;while(hash.length+pad.length+2<len){pad.push(255);padNum++}pad.push(0);var i=-1;while(++i<hash.length){pad.push(hash[i])}pad=new Buffer(pad);var red=BN.mont(pub.modulus);sig=new BN(sig).toRed(red);sig=sig.redPow(new BN(pub.publicExponent));sig=new Buffer(sig.fromRed().toArray());var out=0;if(padNum<8){out=1}len=Math.min(sig.length,pad.length);if(sig.length!==pad.length){out=1}i=-1;while(++i<len){out|=sig[i]^pad[i]}return out===0}function ecVerify(sig,hash,pub){var curveId=curves[pub.data.algorithm.curve.join(".")];if(!curveId)throw new Error("unknown curve "+pub.data.algorithm.curve.join("."));var curve=new EC(curveId);var pubkey=pub.data.subjectPrivateKey.data;return curve.verify(hash,sig,pubkey)}function dsaVerify(sig,hash,pub){var p=pub.data.p;var q=pub.data.q;var g=pub.data.g;var y=pub.data.pub_key;var unpacked=parseKeys.signature.decode(sig,"der");var s=unpacked.s;var r=unpacked.r;checkValue(s,q);checkValue(r,q);var montp=BN.mont(p);var w=s.invm(q);var v=g.toRed(montp).redPow(new BN(hash).mul(w).mod(q)).fromRed().mul(y.toRed(montp).redPow(r.mul(w).mod(q)).fromRed()).mod(p).mod(q);return!v.cmp(r)}function checkValue(b,q){if(b.cmpn(0)<=0){throw new Error("invalid sig")}if(b.cmp(q)>=q){throw new Error("invalid sig")}}module.exports=verify}).call(this,require("buffer").Buffer)},{"./curves":"/Users/paulfrazee/patchwork/node_modules/browserify-sign/curves.js","bn.js":"/Users/paulfrazee/patchwork/node_modules/bn.js/lib/bn.js",buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js",elliptic:"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic.js","parse-asn1":"/Users/paulfrazee/patchwork/node_modules/parse-asn1/index.js"}],"/Users/paulfrazee/patchwork/node_modules/buffer-xor/index.js":[function(require,module,exports){(function(Buffer){module.exports=function xor(a,b){var length=Math.min(a.length,b.length);var buffer=new Buffer(length);for(var i=0;i<length;++i){buffer[i]=a[i]^b[i]}return buffer}}).call(this,require("buffer").Buffer)},{buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js"}],"/Users/paulfrazee/patchwork/node_modules/buffer/index.js":[function(require,module,exports){(function(global){"use strict";var base64=require("base64-js");var ieee754=require("ieee754");var isArray=require("isarray");exports.Buffer=Buffer;exports.SlowBuffer=SlowBuffer;exports.INSPECT_MAX_BYTES=50;Buffer.poolSize=8192;var rootParent={};Buffer.TYPED_ARRAY_SUPPORT=global.TYPED_ARRAY_SUPPORT!==undefined?global.TYPED_ARRAY_SUPPORT:typedArraySupport();function typedArraySupport(){function Bar(){}try{var arr=new Uint8Array(1);arr.foo=function(){return 42};arr.constructor=Bar;return arr.foo()===42&&arr.constructor===Bar&&typeof arr.subarray==="function"&&arr.subarray(1,1).byteLength===0}catch(e){return false}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Buffer(arg){if(!(this instanceof Buffer)){if(arguments.length>1)return new Buffer(arg,arguments[1]);return new Buffer(arg)}if(!Buffer.TYPED_ARRAY_SUPPORT){this.length=0;this.parent=undefined}if(typeof arg==="number"){return fromNumber(this,arg)}if(typeof arg==="string"){return fromString(this,arg,arguments.length>1?arguments[1]:"utf8")}return fromObject(this,arg)}function fromNumber(that,length){that=allocate(that,length<0?0:checked(length)|0);if(!Buffer.TYPED_ARRAY_SUPPORT){for(var i=0;i<length;i++){that[i]=0}}return that}function fromString(that,string,encoding){if(typeof encoding!=="string"||encoding==="")encoding="utf8";var length=byteLength(string,encoding)|0;that=allocate(that,length);that.write(string,encoding);return that}function fromObject(that,object){if(Buffer.isBuffer(object))return fromBuffer(that,object);if(isArray(object))return fromArray(that,object);if(object==null){throw new TypeError("must start with number, buffer, array or string")}if(typeof ArrayBuffer!=="undefined"){if(object.buffer instanceof ArrayBuffer){return fromTypedArray(that,object)}if(object instanceof ArrayBuffer){return fromArrayBuffer(that,object)}}if(object.length)return fromArrayLike(that,object);return fromJsonObject(that,object)}function fromBuffer(that,buffer){var length=checked(buffer.length)|0;that=allocate(that,length);buffer.copy(that,0,0,length);return that}function fromArray(that,array){var length=checked(array.length)|0;that=allocate(that,length);for(var i=0;i<length;i+=1){that[i]=array[i]&255}return that}function fromTypedArray(that,array){var length=checked(array.length)|0;that=allocate(that,length);for(var i=0;i<length;i+=1){that[i]=array[i]&255}return that}function fromArrayBuffer(that,array){if(Buffer.TYPED_ARRAY_SUPPORT){array.byteLength;that=Buffer._augment(new Uint8Array(array))}else{that=fromTypedArray(that,new Uint8Array(array))}return that}function fromArrayLike(that,array){var length=checked(array.length)|0;that=allocate(that,length);for(var i=0;i<length;i+=1){that[i]=array[i]&255}return that}function fromJsonObject(that,object){var array;var length=0;if(object.type==="Buffer"&&isArray(object.data)){array=object.data;length=checked(array.length)|0}that=allocate(that,length);for(var i=0;i<length;i+=1){that[i]=array[i]&255}return that}if(Buffer.TYPED_ARRAY_SUPPORT){Buffer.prototype.__proto__=Uint8Array.prototype;Buffer.__proto__=Uint8Array}else{Buffer.prototype.length=undefined;Buffer.prototype.parent=undefined}function allocate(that,length){if(Buffer.TYPED_ARRAY_SUPPORT){that=Buffer._augment(new Uint8Array(length));that.__proto__=Buffer.prototype}else{that.length=length;that._isBuffer=true}var fromPool=length!==0&&length<=Buffer.poolSize>>>1;if(fromPool)that.parent=rootParent;return that}function checked(length){if(length>=kMaxLength()){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+kMaxLength().toString(16)+" bytes")}return length|0}function SlowBuffer(subject,encoding){if(!(this instanceof SlowBuffer))return new SlowBuffer(subject,encoding);var buf=new Buffer(subject,encoding);delete buf.parent;return buf}Buffer.isBuffer=function isBuffer(b){return!!(b!=null&&b._isBuffer)};Buffer.compare=function compare(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b)){throw new TypeError("Arguments must be Buffers")}if(a===b)return 0;var x=a.length;var y=b.length;var i=0;var len=Math.min(x,y);while(i<len){if(a[i]!==b[i])break;++i}if(i!==len){x=a[i];y=b[i]}if(x<y)return-1;if(y<x)return 1;return 0};Buffer.isEncoding=function isEncoding(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};Buffer.concat=function concat(list,length){if(!isArray(list))throw new TypeError("list argument must be an Array of Buffers.");if(list.length===0){return new Buffer(0)}var i;if(length===undefined){length=0;for(i=0;i<list.length;i++){length+=list[i].length}}var buf=new Buffer(length);var pos=0;for(i=0;i<list.length;i++){var item=list[i];item.copy(buf,pos);pos+=item.length}return buf};function byteLength(string,encoding){if(typeof string!=="string")string=""+string;var len=string.length;if(len===0)return 0;var loweredCase=false;for(;;){switch(encoding){case"ascii":case"binary":case"raw":case"raws":return len;case"utf8":case"utf-8":return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return len*2;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase();loweredCase=true}}}Buffer.byteLength=byteLength;function slowToString(encoding,start,end){var loweredCase=false;start=start|0;end=end===undefined||end===Infinity?this.length:end|0;if(!encoding)encoding="utf8";if(start<0)start=0;if(end>this.length)end=this.length;if(end<=start)return"";while(true){switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"binary":return binarySlice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase();loweredCase=true}}}Buffer.prototype.toString=function toString(){var length=this.length|0;if(length===0)return"";if(arguments.length===0)return utf8Slice(this,0,length);return slowToString.apply(this,arguments)};Buffer.prototype.equals=function equals(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(this===b)return true;return Buffer.compare(this,b)===0};Buffer.prototype.inspect=function inspect(){var str="";var max=exports.INSPECT_MAX_BYTES;if(this.length>0){str=this.toString("hex",0,max).match(/.{2}/g).join(" ");if(this.length>max)str+=" ... "}return"<Buffer "+str+">"};Buffer.prototype.compare=function compare(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(this===b)return 0;return Buffer.compare(this,b)};Buffer.prototype.indexOf=function indexOf(val,byteOffset){if(byteOffset>2147483647)byteOffset=2147483647;else if(byteOffset<-2147483648)byteOffset=-2147483648;byteOffset>>=0;if(this.length===0)return-1;if(byteOffset>=this.length)return-1;if(byteOffset<0)byteOffset=Math.max(this.length+byteOffset,0);if(typeof val==="string"){
if(val.length===0)return-1;return String.prototype.indexOf.call(this,val,byteOffset)}if(Buffer.isBuffer(val)){return arrayIndexOf(this,val,byteOffset)}if(typeof val==="number"){if(Buffer.TYPED_ARRAY_SUPPORT&&Uint8Array.prototype.indexOf==="function"){return Uint8Array.prototype.indexOf.call(this,val,byteOffset)}return arrayIndexOf(this,[val],byteOffset)}function arrayIndexOf(arr,val,byteOffset){var foundIndex=-1;for(var i=0;byteOffset+i<arr.length;i++){if(arr[byteOffset+i]===val[foundIndex===-1?0:i-foundIndex]){if(foundIndex===-1)foundIndex=i;if(i-foundIndex+1===val.length)return byteOffset+foundIndex}else{foundIndex=-1}}return-1}throw new TypeError("val must be string, number or Buffer")};Buffer.prototype.get=function get(offset){console.log(".get() is deprecated. Access using array indexes instead.");return this.readUInt8(offset)};Buffer.prototype.set=function set(v,offset){console.log(".set() is deprecated. Access using array indexes instead.");return this.writeUInt8(v,offset)};function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;if(!length){length=remaining}else{length=Number(length);if(length>remaining){length=remaining}}var strLen=string.length;if(strLen%2!==0)throw new Error("Invalid hex string");if(length>strLen/2){length=strLen/2}for(var i=0;i<length;i++){var parsed=parseInt(string.substr(i*2,2),16);if(isNaN(parsed))throw new Error("Invalid hex string");buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function binaryWrite(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}Buffer.prototype.write=function write(string,offset,length,encoding){if(offset===undefined){encoding="utf8";length=this.length;offset=0}else if(length===undefined&&typeof offset==="string"){encoding=offset;length=this.length;offset=0}else if(isFinite(offset)){offset=offset|0;if(isFinite(length)){length=length|0;if(encoding===undefined)encoding="utf8"}else{encoding=length;length=undefined}}else{var swap=encoding;encoding=offset;offset=length|0;length=swap}var remaining=this.length-offset;if(length===undefined||length>remaining)length=remaining;if(string.length>0&&(length<0||offset<0)||offset>this.length){throw new RangeError("attempt to write outside buffer bounds")}if(!encoding)encoding="utf8";var loweredCase=false;for(;;){switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"binary":return binaryWrite(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase();loweredCase=true}}};Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(buf,start,end){if(start===0&&end===buf.length){return base64.fromByteArray(buf)}else{return base64.fromByteArray(buf.slice(start,end))}}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);var res=[];var i=start;while(i<end){var firstByte=buf[i];var codePoint=null;var bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:if(firstByte<128){codePoint=firstByte}break;case 2:secondByte=buf[i+1];if((secondByte&192)===128){tempCodePoint=(firstByte&31)<<6|secondByte&63;if(tempCodePoint>127){codePoint=tempCodePoint}}break;case 3:secondByte=buf[i+1];thirdByte=buf[i+2];if((secondByte&192)===128&&(thirdByte&192)===128){tempCodePoint=(firstByte&15)<<12|(secondByte&63)<<6|thirdByte&63;if(tempCodePoint>2047&&(tempCodePoint<55296||tempCodePoint>57343)){codePoint=tempCodePoint}}break;case 4:secondByte=buf[i+1];thirdByte=buf[i+2];fourthByte=buf[i+3];if((secondByte&192)===128&&(thirdByte&192)===128&&(fourthByte&192)===128){tempCodePoint=(firstByte&15)<<18|(secondByte&63)<<12|(thirdByte&63)<<6|fourthByte&63;if(tempCodePoint>65535&&tempCodePoint<1114112){codePoint=tempCodePoint}}}}if(codePoint===null){codePoint=65533;bytesPerSequence=1}else if(codePoint>65535){codePoint-=65536;res.push(codePoint>>>10&1023|55296);codePoint=56320|codePoint&1023}res.push(codePoint);i+=bytesPerSequence}return decodeCodePointsArray(res)}var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH){return String.fromCharCode.apply(String,codePoints)}var res="";var i=0;while(i<len){res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH))}return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;i++){ret+=String.fromCharCode(buf[i]&127)}return ret}function binarySlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;i++){ret+=String.fromCharCode(buf[i])}return ret}function hexSlice(buf,start,end){var len=buf.length;if(!start||start<0)start=0;if(!end||end<0||end>len)end=len;var out="";for(var i=start;i<end;i++){out+=toHex(buf[i])}return out}function utf16leSlice(buf,start,end){var bytes=buf.slice(start,end);var res="";for(var i=0;i<bytes.length;i+=2){res+=String.fromCharCode(bytes[i]+bytes[i+1]*256)}return res}Buffer.prototype.slice=function slice(start,end){var len=this.length;start=~~start;end=end===undefined?len:~~end;if(start<0){start+=len;if(start<0)start=0}else if(start>len){start=len}if(end<0){end+=len;if(end<0)end=0}else if(end>len){end=len}if(end<start)end=start;var newBuf;if(Buffer.TYPED_ARRAY_SUPPORT){newBuf=Buffer._augment(this.subarray(start,end))}else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,undefined);for(var i=0;i<sliceLen;i++){newBuf[i]=this[i+start]}}if(newBuf.length)newBuf.parent=this.parent||this;return newBuf};function checkOffset(offset,ext,length){if(offset%1!==0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}Buffer.prototype.readUIntLE=function readUIntLE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}return val};Buffer.prototype.readUIntBE=function readUIntBE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert){checkOffset(offset,byteLength,this.length)}var val=this[offset+--byteLength];var mul=1;while(byteLength>0&&(mul*=256)){val+=this[offset+--byteLength]*mul}return val};Buffer.prototype.readUInt8=function readUInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);return this[offset]};Buffer.prototype.readUInt16LE=function readUInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]|this[offset+1]<<8};Buffer.prototype.readUInt16BE=function readUInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]<<8|this[offset+1]};Buffer.prototype.readUInt32LE=function readUInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+this[offset+3]*16777216};Buffer.prototype.readUInt32BE=function readUInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]*16777216+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])};Buffer.prototype.readIntLE=function readIntLE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readIntBE=function readIntBE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var i=byteLength;var mul=1;var val=this[offset+--i];while(i>0&&(mul*=256)){val+=this[offset+--i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readInt8=function readInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);if(!(this[offset]&128))return this[offset];return(255-this[offset]+1)*-1};Buffer.prototype.readInt16LE=function readInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt16BE=function readInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt32LE=function readInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24};Buffer.prototype.readInt32BE=function readInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]};Buffer.prototype.readFloatLE=function readFloatLE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,true,23,4)};Buffer.prototype.readFloatBE=function readFloatBE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,false,23,4)};Buffer.prototype.readDoubleLE=function readDoubleLE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,true,52,8)};Buffer.prototype.readDoubleBE=function readDoubleBE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,false,52,8)};function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError("buffer must be a Buffer instance");if(value>max||value<min)throw new RangeError("value is out of bounds");if(offset+ext>buf.length)throw new RangeError("index out of range")}Buffer.prototype.writeUIntLE=function writeUIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength),0);var mul=1;var i=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUIntBE=function writeUIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength),0);var i=byteLength-1;var mul=1;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUInt8=function writeUInt8(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,1,255,0);if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value);this[offset]=value&255;return offset+1};function objectWriteUInt16(buf,value,offset,littleEndian){if(value<0)value=65535+value+1;for(var i=0,j=Math.min(buf.length-offset,2);i<j;i++){buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>(littleEndian?i:1-i)*8}}Buffer.prototype.writeUInt16LE=function writeUInt16LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8}else{objectWriteUInt16(this,value,offset,true)}return offset+2};Buffer.prototype.writeUInt16BE=function writeUInt16BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value&255}else{objectWriteUInt16(this,value,offset,false)}return offset+2};function objectWriteUInt32(buf,value,offset,littleEndian){if(value<0)value=4294967295+value+1;for(var i=0,j=Math.min(buf.length-offset,4);i<j;i++){buf[offset+i]=value>>>(littleEndian?i:3-i)*8&255}}Buffer.prototype.writeUInt32LE=function writeUInt32LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset+3]=value>>>24;this[offset+2]=value>>>16;this[offset+1]=value>>>8;this[offset]=value&255}else{objectWriteUInt32(this,value,offset,true)}return offset+4};Buffer.prototype.writeUInt32BE=function writeUInt32BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255}else{objectWriteUInt32(this,value,offset,false)}return offset+4};Buffer.prototype.writeIntLE=function writeIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0;var mul=1;var sub=value<0?1:0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeIntBE=function writeIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1;var mul=1;var sub=value<0?1:0;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeInt8=function writeInt8(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,1,127,-128);if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value);if(value<0)value=255+value+1;this[offset]=value&255;return offset+1};Buffer.prototype.writeInt16LE=function writeInt16LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8}else{objectWriteUInt16(this,value,offset,true)}return offset+2};Buffer.prototype.writeInt16BE=function writeInt16BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value&255}else{objectWriteUInt16(this,value,offset,false)}return offset+2};Buffer.prototype.writeInt32LE=function writeInt32LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8;this[offset+2]=value>>>16;this[offset+3]=value>>>24}else{objectWriteUInt32(this,value,offset,true)}return offset+4};Buffer.prototype.writeInt32BE=function writeInt32BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(value<0)value=4294967295+value+1;if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255}else{objectWriteUInt32(this,value,offset,false)}return offset+4};function checkIEEE754(buf,value,offset,ext,max,min){if(value>max||value<min)throw new RangeError("value is out of bounds");if(offset+ext>buf.length)throw new RangeError("index out of range");if(offset<0)throw new RangeError("index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,4,3.4028234663852886e38,-3.4028234663852886e38)}ieee754.write(buf,value,offset,littleEndian,23,4);return offset+4}Buffer.prototype.writeFloatLE=function writeFloatLE(value,offset,noAssert){return writeFloat(this,value,offset,true,noAssert)};Buffer.prototype.writeFloatBE=function writeFloatBE(value,offset,noAssert){return writeFloat(this,value,offset,false,noAssert)};function writeDouble(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,8,1.7976931348623157e308,-1.7976931348623157e308)}ieee754.write(buf,value,offset,littleEndian,52,8);return offset+8}Buffer.prototype.writeDoubleLE=function writeDoubleLE(value,offset,noAssert){return writeDouble(this,value,offset,true,noAssert)};Buffer.prototype.writeDoubleBE=function writeDoubleBE(value,offset,noAssert){return writeDouble(this,value,offset,false,noAssert)};Buffer.prototype.copy=function copy(target,targetStart,start,end){if(!start)start=0;if(!end&&end!==0)end=this.length;if(targetStart>=target.length)targetStart=target.length;if(!targetStart)targetStart=0;if(end>0&&end<start)end=start;if(end===start)return 0;if(target.length===0||this.length===0)return 0;if(targetStart<0){throw new RangeError("targetStart out of bounds")}if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");if(end>this.length)end=this.length;if(target.length-targetStart<end-start){end=target.length-targetStart+start}var len=end-start;var i;if(this===target&&start<targetStart&&targetStart<end){for(i=len-1;i>=0;i--){target[i+targetStart]=this[i+start]}}else if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT){for(i=0;i<len;i++){target[i+targetStart]=this[i+start]}}else{target._set(this.subarray(start,start+len),targetStart)}return len};Buffer.prototype.fill=function fill(value,start,end){if(!value)value=0;if(!start)start=0;if(!end)end=this.length;if(end<start)throw new RangeError("end < start");if(end===start)return;if(this.length===0)return;if(start<0||start>=this.length)throw new RangeError("start out of bounds");if(end<0||end>this.length)throw new RangeError("end out of bounds");var i;if(typeof value==="number"){for(i=start;i<end;i++){this[i]=value}}else{var bytes=utf8ToBytes(value.toString());var len=bytes.length;for(i=start;i<end;i++){this[i]=bytes[i%len]}}return this};Buffer.prototype.toArrayBuffer=function toArrayBuffer(){if(typeof Uint8Array!=="undefined"){if(Buffer.TYPED_ARRAY_SUPPORT){return new Buffer(this).buffer}else{var buf=new Uint8Array(this.length);for(var i=0,len=buf.length;i<len;i+=1){buf[i]=this[i]}return buf.buffer}}else{throw new TypeError("Buffer.toArrayBuffer not supported in this browser")}};var BP=Buffer.prototype;Buffer._augment=function _augment(arr){arr.constructor=Buffer;arr._isBuffer=true;arr._set=arr.set;arr.get=BP.get;arr.set=BP.set;arr.write=BP.write;arr.toString=BP.toString;arr.toLocaleString=BP.toString;arr.toJSON=BP.toJSON;arr.equals=BP.equals;arr.compare=BP.compare;arr.indexOf=BP.indexOf;arr.copy=BP.copy;arr.slice=BP.slice;arr.readUIntLE=BP.readUIntLE;arr.readUIntBE=BP.readUIntBE;arr.readUInt8=BP.readUInt8;arr.readUInt16LE=BP.readUInt16LE;arr.readUInt16BE=BP.readUInt16BE;arr.readUInt32LE=BP.readUInt32LE;arr.readUInt32BE=BP.readUInt32BE;arr.readIntLE=BP.readIntLE;arr.readIntBE=BP.readIntBE;arr.readInt8=BP.readInt8;arr.readInt16LE=BP.readInt16LE;arr.readInt16BE=BP.readInt16BE;arr.readInt32LE=BP.readInt32LE;arr.readInt32BE=BP.readInt32BE;arr.readFloatLE=BP.readFloatLE;arr.readFloatBE=BP.readFloatBE;arr.readDoubleLE=BP.readDoubleLE;arr.readDoubleBE=BP.readDoubleBE;arr.writeUInt8=BP.writeUInt8;arr.writeUIntLE=BP.writeUIntLE;arr.writeUIntBE=BP.writeUIntBE;arr.writeUInt16LE=BP.writeUInt16LE;arr.writeUInt16BE=BP.writeUInt16BE;arr.writeUInt32LE=BP.writeUInt32LE;arr.writeUInt32BE=BP.writeUInt32BE;arr.writeIntLE=BP.writeIntLE;arr.writeIntBE=BP.writeIntBE;arr.writeInt8=BP.writeInt8;arr.writeInt16LE=BP.writeInt16LE;arr.writeInt16BE=BP.writeInt16BE;arr.writeInt32LE=BP.writeInt32LE;arr.writeInt32BE=BP.writeInt32BE;arr.writeFloatLE=BP.writeFloatLE;arr.writeFloatBE=BP.writeFloatBE;arr.writeDoubleLE=BP.writeDoubleLE;arr.writeDoubleBE=BP.writeDoubleBE;arr.fill=BP.fill;arr.inspect=BP.inspect;arr.toArrayBuffer=BP.toArrayBuffer;return arr};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function base64clean(str){str=stringtrim(str).replace(INVALID_BASE64_RE,"");if(str.length<2)return"";while(str.length%4!==0){str=str+"="}return str}function stringtrim(str){if(str.trim)return str.trim();return str.replace(/^\s+|\s+$/g,"")}function toHex(n){if(n<16)return"0"+n.toString(16);return n.toString(16)}function utf8ToBytes(string,units){units=units||Infinity;var codePoint;var length=string.length;var leadSurrogate=null;var bytes=[];for(var i=0;i<length;i++){codePoint=string.charCodeAt(i);if(codePoint>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){if((units-=3)>-1)bytes.push(239,191,189);continue}else if(i+1===length){if((units-=3)>-1)bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){if((units-=3)>-1)bytes.push(239,191,189);leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else if(leadSurrogate){if((units-=3)>-1)bytes.push(239,191,189)}leadSurrogate=null;if(codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,codePoint&63|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,codePoint&63|128)}else if(codePoint<1114112){if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,codePoint&63|128)}else{throw new Error("Invalid code point")}}return bytes}function asciiToBytes(str){var byteArray=[];for(var i=0;i<str.length;i++){byteArray.push(str.charCodeAt(i)&255)}return byteArray}function utf16leToBytes(str,units){var c,hi,lo;var byteArray=[];for(var i=0;i<str.length;i++){if((units-=2)<0)break;c=str.charCodeAt(i);hi=c>>8;lo=c%256;byteArray.push(lo);byteArray.push(hi)}return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length;i++){if(i+offset>=dst.length||i>=src.length)break;dst[i+offset]=src[i]}return i}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"base64-js":"/Users/paulfrazee/patchwork/node_modules/buffer/node_modules/base64-js/lib/b64.js",ieee754:"/Users/paulfrazee/patchwork/node_modules/ieee754/index.js",isarray:"/Users/paulfrazee/patchwork/node_modules/buffer/node_modules/isarray/index.js"}],"/Users/paulfrazee/patchwork/node_modules/buffer/node_modules/base64-js/lib/b64.js":[function(require,module,exports){var lookup="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";(function(exports){"use strict";var Arr=typeof Uint8Array!=="undefined"?Uint8Array:Array;var PLUS="+".charCodeAt(0);var SLASH="/".charCodeAt(0);var NUMBER="0".charCodeAt(0);var LOWER="a".charCodeAt(0);var UPPER="A".charCodeAt(0);var PLUS_URL_SAFE="-".charCodeAt(0);var SLASH_URL_SAFE="_".charCodeAt(0);function decode(elt){var code=elt.charCodeAt(0);if(code===PLUS||code===PLUS_URL_SAFE)return 62;if(code===SLASH||code===SLASH_URL_SAFE)return 63;if(code<NUMBER)return-1;if(code<NUMBER+10)return code-NUMBER+26+26;if(code<UPPER+26)return code-UPPER;if(code<LOWER+26)return code-LOWER+26}function b64ToByteArray(b64){var i,j,l,tmp,placeHolders,arr;if(b64.length%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var len=b64.length;placeHolders="="===b64.charAt(len-2)?2:"="===b64.charAt(len-1)?1:0;arr=new Arr(b64.length*3/4-placeHolders);l=placeHolders>0?b64.length-4:b64.length;var L=0;function push(v){arr[L++]=v}for(i=0,j=0;i<l;i+=4,j+=3){tmp=decode(b64.charAt(i))<<18|decode(b64.charAt(i+1))<<12|decode(b64.charAt(i+2))<<6|decode(b64.charAt(i+3));push((tmp&16711680)>>16);push((tmp&65280)>>8);push(tmp&255)}if(placeHolders===2){tmp=decode(b64.charAt(i))<<2|decode(b64.charAt(i+1))>>4;push(tmp&255)}else if(placeHolders===1){tmp=decode(b64.charAt(i))<<10|decode(b64.charAt(i+1))<<4|decode(b64.charAt(i+2))>>2;push(tmp>>8&255);push(tmp&255)}return arr}function uint8ToBase64(uint8){var i,extraBytes=uint8.length%3,output="",temp,length;function encode(num){return lookup.charAt(num)}function tripletToBase64(num){return encode(num>>18&63)+encode(num>>12&63)+encode(num>>6&63)+encode(num&63)}for(i=0,length=uint8.length-extraBytes;i<length;i+=3){temp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2];output+=tripletToBase64(temp)}switch(extraBytes){case 1:temp=uint8[uint8.length-1];output+=encode(temp>>2);output+=encode(temp<<4&63);output+="==";break;case 2:temp=(uint8[uint8.length-2]<<8)+uint8[uint8.length-1];output+=encode(temp>>10);output+=encode(temp>>4&63);output+=encode(temp<<2&63);output+="=";break}return output}exports.toByteArray=b64ToByteArray;exports.fromByteArray=uint8ToBase64})(typeof exports==="undefined"?this.base64js={}:exports)},{}],"/Users/paulfrazee/patchwork/node_modules/buffer/node_modules/isarray/index.js":[function(require,module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return toString.call(arr)=="[object Array]"}},{}],"/Users/paulfrazee/patchwork/node_modules/cipher-base/index.js":[function(require,module,exports){(function(Buffer){var Transform=require("stream").Transform;var inherits=require("inherits");var StringDecoder=require("string_decoder").StringDecoder;module.exports=CipherBase;inherits(CipherBase,Transform);function CipherBase(hashMode){Transform.call(this);this.hashMode=typeof hashMode==="string";if(this.hashMode){this[hashMode]=this._finalOrDigest}else{this.final=this._finalOrDigest}this._decoder=null;this._encoding=null}CipherBase.prototype.update=function(data,inputEnc,outputEnc){if(typeof data==="string"){data=new Buffer(data,inputEnc)}var outData=this._update(data);if(this.hashMode){return this}if(outputEnc){outData=this._toString(outData,outputEnc)}return outData};CipherBase.prototype.setAutoPadding=function(){};CipherBase.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};CipherBase.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};CipherBase.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};CipherBase.prototype._transform=function(data,_,next){var err;try{if(this.hashMode){this._update(data)}else{this.push(this._update(data))}}catch(e){err=e}finally{next(err)}};CipherBase.prototype._flush=function(done){var err;try{this.push(this._final())}catch(e){err=e}finally{done(err)}};CipherBase.prototype._finalOrDigest=function(outputEnc){var outData=this._final()||new Buffer("");if(outputEnc){outData=this._toString(outData,outputEnc,true)}return outData};CipherBase.prototype._toString=function(value,enc,final){if(!this._decoder){this._decoder=new StringDecoder(enc);this._encoding=enc}if(this._encoding!==enc){throw new Error("can't switch encodings")}var out=this._decoder.write(value);if(final){out+=this._decoder.end()}return out}}).call(this,require("buffer").Buffer)},{buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js",inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js",stream:"/Users/paulfrazee/patchwork/node_modules/stream-browserify/index.js",string_decoder:"/Users/paulfrazee/patchwork/node_modules/string_decoder/index.js"}],"/Users/paulfrazee/patchwork/node_modules/class-list/index.js":[function(require,module,exports){var indexof=require("indexof");module.exports=ClassList;function ClassList(elem){var cl=elem.classList;if(cl){return cl}var classList={add:add,remove:remove,contains:contains,toggle:toggle,toString:$toString,length:0,item:item};return classList;function add(token){var list=getTokens();if(indexof(list,token)>-1){return}list.push(token);setTokens(list)}function remove(token){var list=getTokens(),index=indexof(list,token);if(index===-1){return}list.splice(index,1);setTokens(list)}function contains(token){return indexof(getTokens(),token)>-1}function toggle(token){if(contains(token)){remove(token);return false}else{add(token);return true}}function $toString(){return elem.className}function item(index){var tokens=getTokens();return tokens[index]||null}function getTokens(){var className=elem.className;return filter(className.split(" "),isTruthy)}function setTokens(list){var length=list.length;elem.className=list.join(" ");classList.length=length;for(var i=0;i<list.length;i++){classList[i]=list[i]}delete list[length]}}function filter(arr,fn){var ret=[];for(var i=0;i<arr.length;i++){if(fn(arr[i]))ret.push(arr[i])}return ret}function isTruthy(value){return!!value}},{indexof:"/Users/paulfrazee/patchwork/node_modules/indexof/index.js"}],"/Users/paulfrazee/patchwork/node_modules/classNames/index.js":[function(require,module,exports){(function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){var classes=[];for(var i=0;i<arguments.length;i++){var arg=arguments[i];if(!arg)continue;var argType=typeof arg;if(argType==="string"||argType==="number"){classes.push(arg)}else if(Array.isArray(arg)){classes.push(classNames.apply(null,arg))}else if(argType==="object"){for(var key in arg){if(hasOwn.call(arg,key)&&arg[key]){classes.push(key)}}}}return classes.join(" ")}if(typeof module!=="undefined"&&module.exports){module.exports=classNames}else if(typeof define==="function"&&typeof define.amd==="object"&&define.amd){define("classnames",[],function(){return classNames})}else{window.classNames=classNames}})()},{}],"/Users/paulfrazee/patchwork/node_modules/classnames/index.js":[function(require,module,exports){arguments[4]["/Users/paulfrazee/patchwork/node_modules/classNames/index.js"][0].apply(exports,arguments)},{}],"/Users/paulfrazee/patchwork/node_modules/core-util-is/lib/util.js":[function(require,module,exports){(function(Buffer){function isArray(arg){if(Array.isArray){return Array.isArray(arg)}return objectToString(arg)==="[object Array]"}exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return typeof arg==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0}exports.isUndefined=isUndefined;function isRegExp(re){return objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==="object"&&arg!==null}exports.isObject=isObject;function isDate(d){return objectToString(d)==="[object Date]"}exports.isDate=isDate;function isError(e){return objectToString(e)==="[object Error]"||e instanceof Error}exports.isError=isError;function isFunction(arg){return typeof arg==="function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||typeof arg==="undefined"}exports.isPrimitive=isPrimitive;exports.isBuffer=Buffer.isBuffer;function objectToString(o){return Object.prototype.toString.call(o)}}).call(this,{isBuffer:require("../../is-buffer/index.js")})},{"../../is-buffer/index.js":"/Users/paulfrazee/patchwork/node_modules/is-buffer/index.js"}],"/Users/paulfrazee/patchwork/node_modules/create-ecdh/browser.js":[function(require,module,exports){(function(Buffer){var elliptic=require("elliptic");var BN=require("bn.js");module.exports=function createECDH(curve){return new ECDH(curve)};var aliases={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};aliases.p224=aliases.secp224r1;
aliases.p256=aliases.secp256r1=aliases.prime256v1;aliases.p192=aliases.secp192r1=aliases.prime192v1;aliases.p384=aliases.secp384r1;aliases.p521=aliases.secp521r1;function ECDH(curve){this.curveType=aliases[curve];if(!this.curveType){this.curveType={name:curve}}this.curve=new elliptic.ec(this.curveType.name);this.keys=void 0}ECDH.prototype.generateKeys=function(enc,format){this.keys=this.curve.genKeyPair();return this.getPublicKey(enc,format)};ECDH.prototype.computeSecret=function(other,inenc,enc){inenc=inenc||"utf8";if(!Buffer.isBuffer(other)){other=new Buffer(other,inenc)}var otherPub=this.curve.keyFromPublic(other).getPublic();var out=otherPub.mul(this.keys.getPrivate()).getX();return formatReturnValue(out,enc,this.curveType.byteLength)};ECDH.prototype.getPublicKey=function(enc,format){var key=this.keys.getPublic(format==="compressed",true);if(format==="hybrid"){if(key[key.length-1]%2){key[0]=7}else{key[0]=6}}return formatReturnValue(key,enc)};ECDH.prototype.getPrivateKey=function(enc){return formatReturnValue(this.keys.getPrivate(),enc)};ECDH.prototype.setPublicKey=function(pub,enc){enc=enc||"utf8";if(!Buffer.isBuffer(pub)){pub=new Buffer(pub,enc)}this.keys._importPublic(pub);return this};ECDH.prototype.setPrivateKey=function(priv,enc){enc=enc||"utf8";if(!Buffer.isBuffer(priv)){priv=new Buffer(priv,enc)}var _priv=new BN(priv);_priv=_priv.toString(16);this.keys._importPrivate(_priv);return this};function formatReturnValue(bn,enc,len){if(!Array.isArray(bn)){bn=bn.toArray()}var buf=new Buffer(bn);if(len&&buf.length<len){var zeros=new Buffer(len-buf.length);zeros.fill(0);buf=Buffer.concat([zeros,buf])}if(!enc){return buf}else{return buf.toString(enc)}}}).call(this,require("buffer").Buffer)},{"bn.js":"/Users/paulfrazee/patchwork/node_modules/bn.js/lib/bn.js",buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js",elliptic:"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic.js"}],"/Users/paulfrazee/patchwork/node_modules/create-hash/browser.js":[function(require,module,exports){(function(Buffer){"use strict";var inherits=require("inherits");var md5=require("./md5");var rmd160=require("ripemd160");var sha=require("sha.js");var Base=require("cipher-base");function HashNoConstructor(hash){Base.call(this,"digest");this._hash=hash;this.buffers=[]}inherits(HashNoConstructor,Base);HashNoConstructor.prototype._update=function(data){this.buffers.push(data)};HashNoConstructor.prototype._final=function(){var buf=Buffer.concat(this.buffers);var r=this._hash(buf);this.buffers=null;return r};function Hash(hash){Base.call(this,"digest");this._hash=hash}inherits(Hash,Base);Hash.prototype._update=function(data){this._hash.update(data)};Hash.prototype._final=function(){return this._hash.digest()};module.exports=function createHash(alg){alg=alg.toLowerCase();if("md5"===alg)return new HashNoConstructor(md5);if("rmd160"===alg||"ripemd160"===alg)return new HashNoConstructor(rmd160);return new Hash(sha(alg))}}).call(this,require("buffer").Buffer)},{"./md5":"/Users/paulfrazee/patchwork/node_modules/create-hash/md5.js",buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js","cipher-base":"/Users/paulfrazee/patchwork/node_modules/cipher-base/index.js",inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js",ripemd160:"/Users/paulfrazee/patchwork/node_modules/ripemd160/lib/ripemd160.js","sha.js":"/Users/paulfrazee/patchwork/node_modules/sha.js/index.js"}],"/Users/paulfrazee/patchwork/node_modules/create-hash/helpers.js":[function(require,module,exports){(function(Buffer){"use strict";var intSize=4;var zeroBuffer=new Buffer(intSize);zeroBuffer.fill(0);var chrsz=8;function toArray(buf,bigEndian){if(buf.length%intSize!==0){var len=buf.length+(intSize-buf.length%intSize);buf=Buffer.concat([buf,zeroBuffer],len)}var arr=[];var fn=bigEndian?buf.readInt32BE:buf.readInt32LE;for(var i=0;i<buf.length;i+=intSize){arr.push(fn.call(buf,i))}return arr}function toBuffer(arr,size,bigEndian){var buf=new Buffer(size);var fn=bigEndian?buf.writeInt32BE:buf.writeInt32LE;for(var i=0;i<arr.length;i++){fn.call(buf,arr[i],i*4,true)}return buf}function hash(buf,fn,hashSize,bigEndian){if(!Buffer.isBuffer(buf))buf=new Buffer(buf);var arr=fn(toArray(buf,bigEndian),buf.length*chrsz);return toBuffer(arr,hashSize,bigEndian)}exports.hash=hash}).call(this,require("buffer").Buffer)},{buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js"}],"/Users/paulfrazee/patchwork/node_modules/create-hash/md5.js":[function(require,module,exports){"use strict";var helpers=require("./helpers");function core_md5(x,len){x[len>>5]|=128<<len%32;x[(len+64>>>9<<4)+14]=len;var a=1732584193;var b=-271733879;var c=-1732584194;var d=271733878;for(var i=0;i<x.length;i+=16){var olda=a;var oldb=b;var oldc=c;var oldd=d;a=md5_ff(a,b,c,d,x[i+0],7,-680876936);d=md5_ff(d,a,b,c,x[i+1],12,-389564586);c=md5_ff(c,d,a,b,x[i+2],17,606105819);b=md5_ff(b,c,d,a,x[i+3],22,-1044525330);a=md5_ff(a,b,c,d,x[i+4],7,-176418897);d=md5_ff(d,a,b,c,x[i+5],12,1200080426);c=md5_ff(c,d,a,b,x[i+6],17,-1473231341);b=md5_ff(b,c,d,a,x[i+7],22,-45705983);a=md5_ff(a,b,c,d,x[i+8],7,1770035416);d=md5_ff(d,a,b,c,x[i+9],12,-1958414417);c=md5_ff(c,d,a,b,x[i+10],17,-42063);b=md5_ff(b,c,d,a,x[i+11],22,-1990404162);a=md5_ff(a,b,c,d,x[i+12],7,1804603682);d=md5_ff(d,a,b,c,x[i+13],12,-40341101);c=md5_ff(c,d,a,b,x[i+14],17,-1502002290);b=md5_ff(b,c,d,a,x[i+15],22,1236535329);a=md5_gg(a,b,c,d,x[i+1],5,-165796510);d=md5_gg(d,a,b,c,x[i+6],9,-1069501632);c=md5_gg(c,d,a,b,x[i+11],14,643717713);b=md5_gg(b,c,d,a,x[i+0],20,-373897302);a=md5_gg(a,b,c,d,x[i+5],5,-701558691);d=md5_gg(d,a,b,c,x[i+10],9,38016083);c=md5_gg(c,d,a,b,x[i+15],14,-660478335);b=md5_gg(b,c,d,a,x[i+4],20,-405537848);a=md5_gg(a,b,c,d,x[i+9],5,568446438);d=md5_gg(d,a,b,c,x[i+14],9,-1019803690);c=md5_gg(c,d,a,b,x[i+3],14,-187363961);b=md5_gg(b,c,d,a,x[i+8],20,1163531501);a=md5_gg(a,b,c,d,x[i+13],5,-1444681467);d=md5_gg(d,a,b,c,x[i+2],9,-51403784);c=md5_gg(c,d,a,b,x[i+7],14,1735328473);b=md5_gg(b,c,d,a,x[i+12],20,-1926607734);a=md5_hh(a,b,c,d,x[i+5],4,-378558);d=md5_hh(d,a,b,c,x[i+8],11,-2022574463);c=md5_hh(c,d,a,b,x[i+11],16,1839030562);b=md5_hh(b,c,d,a,x[i+14],23,-35309556);a=md5_hh(a,b,c,d,x[i+1],4,-1530992060);d=md5_hh(d,a,b,c,x[i+4],11,1272893353);c=md5_hh(c,d,a,b,x[i+7],16,-155497632);b=md5_hh(b,c,d,a,x[i+10],23,-1094730640);a=md5_hh(a,b,c,d,x[i+13],4,681279174);d=md5_hh(d,a,b,c,x[i+0],11,-358537222);c=md5_hh(c,d,a,b,x[i+3],16,-722521979);b=md5_hh(b,c,d,a,x[i+6],23,76029189);a=md5_hh(a,b,c,d,x[i+9],4,-640364487);d=md5_hh(d,a,b,c,x[i+12],11,-421815835);c=md5_hh(c,d,a,b,x[i+15],16,530742520);b=md5_hh(b,c,d,a,x[i+2],23,-995338651);a=md5_ii(a,b,c,d,x[i+0],6,-198630844);d=md5_ii(d,a,b,c,x[i+7],10,1126891415);c=md5_ii(c,d,a,b,x[i+14],15,-1416354905);b=md5_ii(b,c,d,a,x[i+5],21,-57434055);a=md5_ii(a,b,c,d,x[i+12],6,1700485571);d=md5_ii(d,a,b,c,x[i+3],10,-1894986606);c=md5_ii(c,d,a,b,x[i+10],15,-1051523);b=md5_ii(b,c,d,a,x[i+1],21,-2054922799);a=md5_ii(a,b,c,d,x[i+8],6,1873313359);d=md5_ii(d,a,b,c,x[i+15],10,-30611744);c=md5_ii(c,d,a,b,x[i+6],15,-1560198380);b=md5_ii(b,c,d,a,x[i+13],21,1309151649);a=md5_ii(a,b,c,d,x[i+4],6,-145523070);d=md5_ii(d,a,b,c,x[i+11],10,-1120210379);c=md5_ii(c,d,a,b,x[i+2],15,718787259);b=md5_ii(b,c,d,a,x[i+9],21,-343485551);a=safe_add(a,olda);b=safe_add(b,oldb);c=safe_add(c,oldc);d=safe_add(d,oldd)}return Array(a,b,c,d)}function md5_cmn(q,a,b,x,s,t){return safe_add(bit_rol(safe_add(safe_add(a,q),safe_add(x,t)),s),b)}function md5_ff(a,b,c,d,x,s,t){return md5_cmn(b&c|~b&d,a,b,x,s,t)}function md5_gg(a,b,c,d,x,s,t){return md5_cmn(b&d|c&~d,a,b,x,s,t)}function md5_hh(a,b,c,d,x,s,t){return md5_cmn(b^c^d,a,b,x,s,t)}function md5_ii(a,b,c,d,x,s,t){return md5_cmn(c^(b|~d),a,b,x,s,t)}function safe_add(x,y){var lsw=(x&65535)+(y&65535);var msw=(x>>16)+(y>>16)+(lsw>>16);return msw<<16|lsw&65535}function bit_rol(num,cnt){return num<<cnt|num>>>32-cnt}module.exports=function md5(buf){return helpers.hash(buf,core_md5,16)}},{"./helpers":"/Users/paulfrazee/patchwork/node_modules/create-hash/helpers.js"}],"/Users/paulfrazee/patchwork/node_modules/create-hmac/browser.js":[function(require,module,exports){(function(Buffer){"use strict";var createHash=require("create-hash/browser");var inherits=require("inherits");var Transform=require("stream").Transform;var ZEROS=new Buffer(128);ZEROS.fill(0);function Hmac(alg,key){Transform.call(this);alg=alg.toLowerCase();if(typeof key==="string"){key=new Buffer(key)}var blocksize=alg==="sha512"||alg==="sha384"?128:64;this._alg=alg;this._key=key;if(key.length>blocksize){key=createHash(alg).update(key).digest()}else if(key.length<blocksize){key=Buffer.concat([key,ZEROS],blocksize)}var ipad=this._ipad=new Buffer(blocksize);var opad=this._opad=new Buffer(blocksize);for(var i=0;i<blocksize;i++){ipad[i]=key[i]^54;opad[i]=key[i]^92}this._hash=createHash(alg).update(ipad)}inherits(Hmac,Transform);Hmac.prototype.update=function(data,enc){this._hash.update(data,enc);return this};Hmac.prototype._transform=function(data,_,next){this._hash.update(data);next()};Hmac.prototype._flush=function(next){this.push(this.digest());next()};Hmac.prototype.digest=function(enc){var h=this._hash.digest();return createHash(this._alg).update(this._opad).update(h).digest(enc)};module.exports=function createHmac(alg,key){return new Hmac(alg,key)}}).call(this,require("buffer").Buffer)},{buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js","create-hash/browser":"/Users/paulfrazee/patchwork/node_modules/create-hash/browser.js",inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js",stream:"/Users/paulfrazee/patchwork/node_modules/stream-browserify/index.js"}],"/Users/paulfrazee/patchwork/node_modules/crypto-browserify/index.js":[function(require,module,exports){"use strict";exports.randomBytes=exports.rng=exports.pseudoRandomBytes=exports.prng=require("randombytes");exports.createHash=exports.Hash=require("create-hash");exports.createHmac=exports.Hmac=require("create-hmac");var hashes=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(Object.keys(require("browserify-sign/algos")));exports.getHashes=function(){return hashes};var p=require("pbkdf2");exports.pbkdf2=p.pbkdf2;exports.pbkdf2Sync=p.pbkdf2Sync;var aes=require("browserify-cipher");["Cipher","createCipher","Cipheriv","createCipheriv","Decipher","createDecipher","Decipheriv","createDecipheriv","getCiphers","listCiphers"].forEach(function(key){exports[key]=aes[key]});var dh=require("diffie-hellman");["DiffieHellmanGroup","createDiffieHellmanGroup","getDiffieHellman","createDiffieHellman","DiffieHellman"].forEach(function(key){exports[key]=dh[key]});var sign=require("browserify-sign");["createSign","Sign","createVerify","Verify"].forEach(function(key){exports[key]=sign[key]});exports.createECDH=require("create-ecdh");var publicEncrypt=require("public-encrypt");["publicEncrypt","privateEncrypt","publicDecrypt","privateDecrypt"].forEach(function(key){exports[key]=publicEncrypt[key]});["createCredentials"].forEach(function(name){exports[name]=function(){throw new Error(["sorry, "+name+" is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))}})},{"browserify-cipher":"/Users/paulfrazee/patchwork/node_modules/browserify-cipher/browser.js","browserify-sign":"/Users/paulfrazee/patchwork/node_modules/browserify-sign/browser.js","browserify-sign/algos":"/Users/paulfrazee/patchwork/node_modules/browserify-sign/algos.js","create-ecdh":"/Users/paulfrazee/patchwork/node_modules/create-ecdh/browser.js","create-hash":"/Users/paulfrazee/patchwork/node_modules/create-hash/browser.js","create-hmac":"/Users/paulfrazee/patchwork/node_modules/create-hmac/browser.js","diffie-hellman":"/Users/paulfrazee/patchwork/node_modules/diffie-hellman/browser.js",pbkdf2:"/Users/paulfrazee/patchwork/node_modules/pbkdf2/browser.js","public-encrypt":"/Users/paulfrazee/patchwork/node_modules/public-encrypt/browser.js",randombytes:"/Users/paulfrazee/patchwork/node_modules/randombytes/browser.js"}],"/Users/paulfrazee/patchwork/node_modules/deep-equal/index.js":[function(require,module,exports){var pSlice=Array.prototype.slice;var objectKeys=require("./lib/keys.js");var isArguments=require("./lib/is_arguments.js");var deepEqual=module.exports=function(actual,expected,opts){if(!opts)opts={};if(actual===expected){return true}else if(actual instanceof Date&&expected instanceof Date){return actual.getTime()===expected.getTime()}else if(!actual||!expected||typeof actual!="object"&&typeof expected!="object"){return opts.strict?actual===expected:actual==expected}else{return objEquiv(actual,expected,opts)}};function isUndefinedOrNull(value){return value===null||value===undefined}function isBuffer(x){if(!x||typeof x!=="object"||typeof x.length!=="number")return false;if(typeof x.copy!=="function"||typeof x.slice!=="function"){return false}if(x.length>0&&typeof x[0]!=="number")return false;return true}function objEquiv(a,b,opts){var i,key;if(isUndefinedOrNull(a)||isUndefinedOrNull(b))return false;if(a.prototype!==b.prototype)return false;if(isArguments(a)){if(!isArguments(b)){return false}a=pSlice.call(a);b=pSlice.call(b);return deepEqual(a,b,opts)}if(isBuffer(a)){if(!isBuffer(b)){return false}if(a.length!==b.length)return false;for(i=0;i<a.length;i++){if(a[i]!==b[i])return false}return true}try{var ka=objectKeys(a),kb=objectKeys(b)}catch(e){return false}if(ka.length!=kb.length)return false;ka.sort();kb.sort();for(i=ka.length-1;i>=0;i--){if(ka[i]!=kb[i])return false}for(i=ka.length-1;i>=0;i--){key=ka[i];if(!deepEqual(a[key],b[key],opts))return false}return typeof a===typeof b}},{"./lib/is_arguments.js":"/Users/paulfrazee/patchwork/node_modules/deep-equal/lib/is_arguments.js","./lib/keys.js":"/Users/paulfrazee/patchwork/node_modules/deep-equal/lib/keys.js"}],"/Users/paulfrazee/patchwork/node_modules/deep-equal/lib/is_arguments.js":[function(require,module,exports){var supportsArgumentsClass=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";exports=module.exports=supportsArgumentsClass?supported:unsupported;exports.supported=supported;function supported(object){return Object.prototype.toString.call(object)=="[object Arguments]"}exports.unsupported=unsupported;function unsupported(object){return object&&typeof object=="object"&&typeof object.length=="number"&&Object.prototype.hasOwnProperty.call(object,"callee")&&!Object.prototype.propertyIsEnumerable.call(object,"callee")||false}},{}],"/Users/paulfrazee/patchwork/node_modules/deep-equal/lib/keys.js":[function(require,module,exports){exports=module.exports=typeof Object.keys==="function"?Object.keys:shim;exports.shim=shim;function shim(obj){var keys=[];for(var key in obj)keys.push(key);return keys}},{}],"/Users/paulfrazee/patchwork/node_modules/des.js/lib/des.js":[function(require,module,exports){"use strict";exports.utils=require("./des/utils");exports.Cipher=require("./des/cipher");exports.DES=require("./des/des");exports.CBC=require("./des/cbc");exports.EDE=require("./des/ede")},{"./des/cbc":"/Users/paulfrazee/patchwork/node_modules/des.js/lib/des/cbc.js","./des/cipher":"/Users/paulfrazee/patchwork/node_modules/des.js/lib/des/cipher.js","./des/des":"/Users/paulfrazee/patchwork/node_modules/des.js/lib/des/des.js","./des/ede":"/Users/paulfrazee/patchwork/node_modules/des.js/lib/des/ede.js","./des/utils":"/Users/paulfrazee/patchwork/node_modules/des.js/lib/des/utils.js"}],"/Users/paulfrazee/patchwork/node_modules/des.js/lib/des/cbc.js":[function(require,module,exports){"use strict";var assert=require("minimalistic-assert");var inherits=require("inherits");var proto={};function CBCState(iv){assert.equal(iv.length,8,"Invalid IV length");this.iv=new Array(8);for(var i=0;i<this.iv.length;i++)this.iv[i]=iv[i]}function instantiate(Base){function CBC(options){Base.call(this,options);this._cbcInit()}inherits(CBC,Base);var keys=Object.keys(proto);for(var i=0;i<keys.length;i++){var key=keys[i];CBC.prototype[key]=proto[key]}CBC.create=function create(options){return new CBC(options)};return CBC}exports.instantiate=instantiate;proto._cbcInit=function _cbcInit(){var state=new CBCState(this.options.iv);this._cbcState=state};proto._update=function _update(inp,inOff,out,outOff){var state=this._cbcState;var superProto=this.constructor.super_.prototype;var iv=state.iv;if(this.type==="encrypt"){for(var i=0;i<this.blockSize;i++)iv[i]^=inp[inOff+i];superProto._update.call(this,iv,0,out,outOff);for(var i=0;i<this.blockSize;i++)iv[i]=out[outOff+i]}else{superProto._update.call(this,inp,inOff,out,outOff);for(var i=0;i<this.blockSize;i++)out[outOff+i]^=iv[i];for(var i=0;i<this.blockSize;i++)iv[i]=inp[inOff+i]}}},{inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js","minimalistic-assert":"/Users/paulfrazee/patchwork/node_modules/minimalistic-assert/index.js"}],"/Users/paulfrazee/patchwork/node_modules/des.js/lib/des/cipher.js":[function(require,module,exports){"use strict";var assert=require("minimalistic-assert");function Cipher(options){this.options=options;this.type=this.options.type;this.blockSize=8;this._init();this.buffer=new Array(this.blockSize);this.bufferOff=0}module.exports=Cipher;Cipher.prototype._init=function _init(){};Cipher.prototype.update=function update(data){if(data.length===0)return[];if(this.type==="decrypt")return this._updateDecrypt(data);else return this._updateEncrypt(data)};Cipher.prototype._buffer=function _buffer(data,off){var min=Math.min(this.buffer.length-this.bufferOff,data.length-off);for(var i=0;i<min;i++)this.buffer[this.bufferOff+i]=data[off+i];this.bufferOff+=min;return min};Cipher.prototype._flushBuffer=function _flushBuffer(out,off){this._update(this.buffer,0,out,off);this.bufferOff=0;return this.blockSize};Cipher.prototype._updateEncrypt=function _updateEncrypt(data){var inputOff=0;var outputOff=0;var count=(this.bufferOff+data.length)/this.blockSize|0;var out=new Array(count*this.blockSize);if(this.bufferOff!==0){inputOff+=this._buffer(data,inputOff);if(this.bufferOff===this.buffer.length)outputOff+=this._flushBuffer(out,outputOff)}var max=data.length-(data.length-inputOff)%this.blockSize;for(;inputOff<max;inputOff+=this.blockSize){this._update(data,inputOff,out,outputOff);outputOff+=this.blockSize}for(;inputOff<data.length;inputOff++,this.bufferOff++)this.buffer[this.bufferOff]=data[inputOff];return out};Cipher.prototype._updateDecrypt=function _updateDecrypt(data){var inputOff=0;var outputOff=0;var count=Math.ceil((this.bufferOff+data.length)/this.blockSize)-1;var out=new Array(count*this.blockSize);for(;count>0;count--){inputOff+=this._buffer(data,inputOff);outputOff+=this._flushBuffer(out,outputOff)}inputOff+=this._buffer(data,inputOff);return out};Cipher.prototype.final=function final(buffer){var first;if(buffer)first=this.update(buffer);var last;if(this.type==="encrypt")last=this._finalEncrypt();else last=this._finalDecrypt();if(first)return first.concat(last);else return last};Cipher.prototype._pad=function _pad(buffer,off){if(off===0)return false;while(off<buffer.length)buffer[off++]=0;return true};Cipher.prototype._finalEncrypt=function _finalEncrypt(){if(!this._pad(this.buffer,this.bufferOff))return[];var out=new Array(this.blockSize);this._update(this.buffer,0,out,0);return out};Cipher.prototype._unpad=function _unpad(buffer){return buffer};Cipher.prototype._finalDecrypt=function _finalDecrypt(){assert.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var out=new Array(this.blockSize);this._flushBuffer(out,0);return this._unpad(out)}},{"minimalistic-assert":"/Users/paulfrazee/patchwork/node_modules/minimalistic-assert/index.js"}],"/Users/paulfrazee/patchwork/node_modules/des.js/lib/des/des.js":[function(require,module,exports){"use strict";var assert=require("minimalistic-assert");var inherits=require("inherits");var des=require("../des");var utils=des.utils;var Cipher=des.Cipher;function DESState(){this.tmp=new Array(2);this.keys=null}function DES(options){Cipher.call(this,options);var state=new DESState;this._desState=state;this.deriveKeys(state,options.key)}inherits(DES,Cipher);module.exports=DES;DES.create=function create(options){return new DES(options)};var shiftTable=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];DES.prototype.deriveKeys=function deriveKeys(state,key){state.keys=new Array(16*2);assert.equal(key.length,this.blockSize,"Invalid key length");var kL=utils.readUInt32BE(key,0);var kR=utils.readUInt32BE(key,4);utils.pc1(kL,kR,state.tmp,0);kL=state.tmp[0];kR=state.tmp[1];for(var i=0;i<state.keys.length;i+=2){var shift=shiftTable[i>>>1];kL=utils.r28shl(kL,shift);kR=utils.r28shl(kR,shift);utils.pc2(kL,kR,state.keys,i)}};DES.prototype._update=function _update(inp,inOff,out,outOff){var state=this._desState;var l=utils.readUInt32BE(inp,inOff);var r=utils.readUInt32BE(inp,inOff+4);utils.ip(l,r,state.tmp,0);l=state.tmp[0];r=state.tmp[1];if(this.type==="encrypt")this._encrypt(state,l,r,state.tmp,0);else this._decrypt(state,l,r,state.tmp,0);l=state.tmp[0];r=state.tmp[1];utils.writeUInt32BE(out,l,outOff);utils.writeUInt32BE(out,r,outOff+4)};DES.prototype._pad=function _pad(buffer,off){var value=buffer.length-off;for(var i=off;i<buffer.length;i++)buffer[i]=value;return true};DES.prototype._unpad=function _unpad(buffer){var pad=buffer[buffer.length-1];for(var i=buffer.length-pad;i<buffer.length;i++)assert.equal(buffer[i],pad);return buffer.slice(0,buffer.length-pad)};DES.prototype._encrypt=function _encrypt(state,lStart,rStart,out,off){var l=lStart;var r=rStart;for(var i=0;i<state.keys.length;i+=2){var keyL=state.keys[i];var keyR=state.keys[i+1];utils.expand(r,state.tmp,0);keyL^=state.tmp[0];keyR^=state.tmp[1];var s=utils.substitute(keyL,keyR);var f=utils.permute(s);var t=r;r=(l^f)>>>0;l=t}utils.rip(r,l,out,off)};DES.prototype._decrypt=function _decrypt(state,lStart,rStart,out,off){var l=rStart;var r=lStart;for(var i=state.keys.length-2;i>=0;i-=2){var keyL=state.keys[i];var keyR=state.keys[i+1];utils.expand(l,state.tmp,0);keyL^=state.tmp[0];keyR^=state.tmp[1];var s=utils.substitute(keyL,keyR);var f=utils.permute(s);var t=l;l=(r^f)>>>0;r=t}utils.rip(l,r,out,off)}},{"../des":"/Users/paulfrazee/patchwork/node_modules/des.js/lib/des.js",inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js","minimalistic-assert":"/Users/paulfrazee/patchwork/node_modules/minimalistic-assert/index.js"}],"/Users/paulfrazee/patchwork/node_modules/des.js/lib/des/ede.js":[function(require,module,exports){"use strict";var assert=require("minimalistic-assert");var inherits=require("inherits");var des=require("../des");var Cipher=des.Cipher;var DES=des.DES;function EDEState(type,key){assert.equal(key.length,24,"Invalid key length");var k1=key.slice(0,8);var k2=key.slice(8,16);var k3=key.slice(16,24);if(type==="encrypt"){this.ciphers=[DES.create({type:"encrypt",key:k1}),DES.create({type:"decrypt",key:k2}),DES.create({type:"encrypt",key:k3})]}else{this.ciphers=[DES.create({type:"decrypt",key:k3}),DES.create({type:"encrypt",key:k2}),DES.create({type:"decrypt",key:k1})]}}function EDE(options){Cipher.call(this,options);var state=new EDEState(this.type,this.options.key);this._edeState=state}inherits(EDE,Cipher);module.exports=EDE;EDE.create=function create(options){return new EDE(options)};EDE.prototype._update=function _update(inp,inOff,out,outOff){var state=this._edeState;state.ciphers[0]._update(inp,inOff,out,outOff);state.ciphers[1]._update(out,outOff,out,outOff);state.ciphers[2]._update(out,outOff,out,outOff)};EDE.prototype._pad=DES.prototype._pad;EDE.prototype._unpad=DES.prototype._unpad},{"../des":"/Users/paulfrazee/patchwork/node_modules/des.js/lib/des.js",inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js","minimalistic-assert":"/Users/paulfrazee/patchwork/node_modules/minimalistic-assert/index.js"}],"/Users/paulfrazee/patchwork/node_modules/des.js/lib/des/utils.js":[function(require,module,exports){"use strict";exports.readUInt32BE=function readUInt32BE(bytes,off){var res=bytes[0+off]<<24|bytes[1+off]<<16|bytes[2+off]<<8|bytes[3+off];return res>>>0};exports.writeUInt32BE=function writeUInt32BE(bytes,value,off){bytes[0+off]=value>>>24;bytes[1+off]=value>>>16&255;bytes[2+off]=value>>>8&255;bytes[3+off]=value&255};exports.ip=function ip(inL,inR,out,off){var outL=0;var outR=0;for(var i=6;i>=0;i-=2){for(var j=0;j<=24;j+=8){outL<<=1;outL|=inR>>>j+i&1}for(var j=0;j<=24;j+=8){outL<<=1;outL|=inL>>>j+i&1}}for(var i=6;i>=0;i-=2){for(var j=1;j<=25;j+=8){outR<<=1;outR|=inR>>>j+i&1}for(var j=1;j<=25;j+=8){outR<<=1;outR|=inL>>>j+i&1}}out[off+0]=outL>>>0;out[off+1]=outR>>>0};exports.rip=function rip(inL,inR,out,off){var outL=0;var outR=0;for(var i=0;i<4;i++){for(var j=24;j>=0;j-=8){outL<<=1;outL|=inR>>>j+i&1;outL<<=1;outL|=inL>>>j+i&1}}for(var i=4;i<8;i++){for(var j=24;j>=0;j-=8){outR<<=1;outR|=inR>>>j+i&1;outR<<=1;outR|=inL>>>j+i&1}}out[off+0]=outL>>>0;out[off+1]=outR>>>0};exports.pc1=function pc1(inL,inR,out,off){var outL=0;var outR=0;for(var i=7;i>=5;i--){for(var j=0;j<=24;j+=8){outL<<=1;outL|=inR>>j+i&1}for(var j=0;j<=24;j+=8){outL<<=1;outL|=inL>>j+i&1}}for(var j=0;j<=24;j+=8){outL<<=1;outL|=inR>>j+i&1}for(var i=1;i<=3;i++){for(var j=0;j<=24;j+=8){outR<<=1;outR|=inR>>j+i&1}for(var j=0;j<=24;j+=8){outR<<=1;outR|=inL>>j+i&1}}for(var j=0;j<=24;j+=8){outR<<=1;outR|=inL>>j+i&1}out[off+0]=outL>>>0;out[off+1]=outR>>>0};exports.r28shl=function r28shl(num,shift){return num<<shift&268435455|num>>>28-shift};var pc2table=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];exports.pc2=function pc2(inL,inR,out,off){var outL=0;var outR=0;var len=pc2table.length>>>1;for(var i=0;i<len;i++){outL<<=1;outL|=inL>>>pc2table[i]&1}for(var i=len;i<pc2table.length;i++){outR<<=1;outR|=inR>>>pc2table[i]&1}out[off+0]=outL>>>0;out[off+1]=outR>>>0};exports.expand=function expand(r,out,off){var outL=0;var outR=0;outL=(r&1)<<5|r>>>27;for(var i=23;i>=15;i-=4){outL<<=6;outL|=r>>>i&63}for(var i=11;i>=3;i-=4){outR|=r>>>i&63;outR<<=6}outR|=(r&31)<<1|r>>>31;out[off+0]=outL>>>0;out[off+1]=outR>>>0};var sTable=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];exports.substitute=function substitute(inL,inR){var out=0;for(var i=0;i<4;i++){var b=inL>>>18-i*6&63;var sb=sTable[i*64+b];out<<=4;out|=sb}for(var i=0;i<4;i++){var b=inR>>>18-i*6&63;var sb=sTable[4*64+i*64+b];out<<=4;out|=sb}return out>>>0};var permuteTable=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];exports.permute=function permute(num){var out=0;for(var i=0;i<permuteTable.length;i++){out<<=1;out|=num>>>permuteTable[i]&1}return out>>>0};exports.padSplit=function padSplit(num,size,group){var str=num.toString(2);while(str.length<size)str="0"+str;var out=[];for(var i=0;i<size;i+=group)out.push(str.slice(i,i+group));return out.join(" ")}},{}],"/Users/paulfrazee/patchwork/node_modules/diffie-hellman/browser.js":[function(require,module,exports){(function(Buffer){var generatePrime=require("./lib/generatePrime");var primes=require("./lib/primes.json");var DH=require("./lib/dh");function getDiffieHellman(mod){var prime=new Buffer(primes[mod].prime,"hex");var gen=new Buffer(primes[mod].gen,"hex");return new DH(prime,gen)}var ENCODINGS={binary:true,hex:true,base64:true};function createDiffieHellman(prime,enc,generator,genc){if(Buffer.isBuffer(enc)||ENCODINGS[enc]===undefined){return createDiffieHellman(prime,"binary",enc,generator)}enc=enc||"binary";genc=genc||"binary";generator=generator||new Buffer([2]);if(!Buffer.isBuffer(generator)){generator=new Buffer(generator,genc)}if(typeof prime==="number"){return new DH(generatePrime(prime,generator),generator,true)}if(!Buffer.isBuffer(prime)){prime=new Buffer(prime,enc)}return new DH(prime,generator,true)}exports.DiffieHellmanGroup=exports.createDiffieHellmanGroup=exports.getDiffieHellman=getDiffieHellman;exports.createDiffieHellman=exports.DiffieHellman=createDiffieHellman}).call(this,require("buffer").Buffer)},{"./lib/dh":"/Users/paulfrazee/patchwork/node_modules/diffie-hellman/lib/dh.js","./lib/generatePrime":"/Users/paulfrazee/patchwork/node_modules/diffie-hellman/lib/generatePrime.js","./lib/primes.json":"/Users/paulfrazee/patchwork/node_modules/diffie-hellman/lib/primes.json",buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js"}],"/Users/paulfrazee/patchwork/node_modules/diffie-hellman/lib/dh.js":[function(require,module,exports){(function(Buffer){var BN=require("bn.js");var MillerRabin=require("miller-rabin");var millerRabin=new MillerRabin;var TWENTYFOUR=new BN(24);var ELEVEN=new BN(11);var TEN=new BN(10);var THREE=new BN(3);var SEVEN=new BN(7);var primes=require("./generatePrime");var randomBytes=require("randombytes");module.exports=DH;function setPublicKey(pub,enc){enc=enc||"utf8";if(!Buffer.isBuffer(pub)){pub=new Buffer(pub,enc)}this._pub=new BN(pub);return this}function setPrivateKey(priv,enc){enc=enc||"utf8";if(!Buffer.isBuffer(priv)){priv=new Buffer(priv,enc)}this._priv=new BN(priv);return this}var primeCache={};function checkPrime(prime,generator){var gen=generator.toString("hex");var hex=[gen,prime.toString(16)].join("_");if(hex in primeCache){return primeCache[hex]}var error=0;if(prime.isEven()||!primes.simpleSieve||!primes.fermatTest(prime)||!millerRabin.test(prime)){error+=1;if(gen==="02"||gen==="05"){error+=8}else{error+=4}primeCache[hex]=error;return error}if(!millerRabin.test(prime.shrn(1))){error+=2}var rem;switch(gen){case"02":if(prime.mod(TWENTYFOUR).cmp(ELEVEN)){error+=8}break;case"05":rem=prime.mod(TEN);if(rem.cmp(THREE)&&rem.cmp(SEVEN)){error+=8}break;default:error+=4}primeCache[hex]=error;return error}function DH(prime,generator,malleable){this.setGenerator(generator);this.__prime=new BN(prime);this._prime=BN.mont(this.__prime);this._primeLen=prime.length;this._pub=undefined;this._priv=undefined;this._primeCode=undefined;if(malleable){this.setPublicKey=setPublicKey;this.setPrivateKey=setPrivateKey}else{this._primeCode=8}}Object.defineProperty(DH.prototype,"verifyError",{enumerable:true,get:function(){if(typeof this._primeCode!=="number"){this._primeCode=checkPrime(this.__prime,this.__gen)}return this._primeCode}});DH.prototype.generateKeys=function(){if(!this._priv){this._priv=new BN(randomBytes(this._primeLen))}this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed();return this.getPublicKey()};DH.prototype.computeSecret=function(other){other=new BN(other);other=other.toRed(this._prime);var secret=other.redPow(this._priv).fromRed();var out=new Buffer(secret.toArray());var prime=this.getPrime();if(out.length<prime.length){var front=new Buffer(prime.length-out.length);front.fill(0);out=Buffer.concat([front,out])}return out};DH.prototype.getPublicKey=function getPublicKey(enc){return formatReturnValue(this._pub,enc)};DH.prototype.getPrivateKey=function getPrivateKey(enc){
return formatReturnValue(this._priv,enc)};DH.prototype.getPrime=function(enc){return formatReturnValue(this.__prime,enc)};DH.prototype.getGenerator=function(enc){return formatReturnValue(this._gen,enc)};DH.prototype.setGenerator=function(gen,enc){enc=enc||"utf8";if(!Buffer.isBuffer(gen)){gen=new Buffer(gen,enc)}this.__gen=gen;this._gen=new BN(gen);return this};function formatReturnValue(bn,enc){var buf=new Buffer(bn.toArray());if(!enc){return buf}else{return buf.toString(enc)}}}).call(this,require("buffer").Buffer)},{"./generatePrime":"/Users/paulfrazee/patchwork/node_modules/diffie-hellman/lib/generatePrime.js","bn.js":"/Users/paulfrazee/patchwork/node_modules/bn.js/lib/bn.js",buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js","miller-rabin":"/Users/paulfrazee/patchwork/node_modules/miller-rabin/lib/mr.js",randombytes:"/Users/paulfrazee/patchwork/node_modules/randombytes/browser.js"}],"/Users/paulfrazee/patchwork/node_modules/diffie-hellman/lib/generatePrime.js":[function(require,module,exports){var randomBytes=require("randombytes");module.exports=findPrime;findPrime.simpleSieve=simpleSieve;findPrime.fermatTest=fermatTest;var BN=require("bn.js");var TWENTYFOUR=new BN(24);var MillerRabin=require("miller-rabin");var millerRabin=new MillerRabin;var ONE=new BN(1);var TWO=new BN(2);var FIVE=new BN(5);var SIXTEEN=new BN(16);var EIGHT=new BN(8);var TEN=new BN(10);var THREE=new BN(3);var SEVEN=new BN(7);var ELEVEN=new BN(11);var FOUR=new BN(4);var TWELVE=new BN(12);var primes=null;function _getPrimes(){if(primes!==null)return primes;var limit=1048576;var res=[];res[0]=2;for(var i=1,k=3;k<limit;k+=2){var sqrt=Math.ceil(Math.sqrt(k));for(var j=0;j<i&&res[j]<=sqrt;j++)if(k%res[j]===0)break;if(i!==j&&res[j]<=sqrt)continue;res[i++]=k}primes=res;return res}function simpleSieve(p){var primes=_getPrimes();for(var i=0;i<primes.length;i++)if(p.modn(primes[i])===0){if(p.cmpn(primes[i])===0){return true}else{return false}}return true}function fermatTest(p){var red=BN.mont(p);return TWO.toRed(red).redPow(p.subn(1)).fromRed().cmpn(1)===0}function findPrime(bits,gen){if(bits<16){if(gen===2||gen===5){return new BN([140,123])}else{return new BN([140,39])}}gen=new BN(gen);var num,n2;while(true){num=new BN(randomBytes(Math.ceil(bits/8)));while(num.bitLength()>bits){num.ishrn(1)}if(num.isEven()){num.iadd(ONE)}if(!num.testn(1)){num.iadd(TWO)}if(!gen.cmp(TWO)){while(num.mod(TWENTYFOUR).cmp(ELEVEN)){num.iadd(FOUR)}}else if(!gen.cmp(FIVE)){while(num.mod(TEN).cmp(THREE)){num.iadd(FOUR)}}n2=num.shrn(1);if(simpleSieve(n2)&&simpleSieve(num)&&fermatTest(n2)&&fermatTest(num)&&millerRabin.test(n2)&&millerRabin.test(num)){return num}}}},{"bn.js":"/Users/paulfrazee/patchwork/node_modules/bn.js/lib/bn.js","miller-rabin":"/Users/paulfrazee/patchwork/node_modules/miller-rabin/lib/mr.js",randombytes:"/Users/paulfrazee/patchwork/node_modules/randombytes/browser.js"}],"/Users/paulfrazee/patchwork/node_modules/diffie-hellman/lib/primes.json":[function(require,module,exports){module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],"/Users/paulfrazee/patchwork/node_modules/element-class/index.js":[function(require,module,exports){module.exports=function(opts){return new ElementClass(opts)};function indexOf(arr,prop){if(arr.indexOf)return arr.indexOf(prop);for(var i=0,len=arr.length;i<len;i++)if(arr[i]===prop)return i;return-1}function ElementClass(opts){if(!(this instanceof ElementClass))return new ElementClass(opts);var self=this;if(!opts)opts={};if(opts.nodeType)opts={el:opts};this.opts=opts;this.el=opts.el||document.body;if(typeof this.el!=="object")this.el=document.querySelector(this.el)}ElementClass.prototype.add=function(className){var el=this.el;if(!el)return;if(el.className==="")return el.className=className;var classes=el.className.split(" ");if(indexOf(classes,className)>-1)return classes;classes.push(className);el.className=classes.join(" ");return classes};ElementClass.prototype.remove=function(className){var el=this.el;if(!el)return;if(el.className==="")return;var classes=el.className.split(" ");var idx=indexOf(classes,className);if(idx>-1)classes.splice(idx,1);el.className=classes.join(" ");return classes};ElementClass.prototype.has=function(className){var el=this.el;if(!el)return;var classes=el.className.split(" ");return indexOf(classes,className)>-1};ElementClass.prototype.toggle=function(className){var el=this.el;if(!el)return;if(this.has(className))this.remove(className);else this.add(className)}},{}],"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic.js":[function(require,module,exports){"use strict";var elliptic=exports;elliptic.version=require("../package.json").version;elliptic.utils=require("./elliptic/utils");elliptic.rand=require("brorand");elliptic.hmacDRBG=require("./elliptic/hmac-drbg");elliptic.curve=require("./elliptic/curve");elliptic.curves=require("./elliptic/curves");elliptic.ec=require("./elliptic/ec");elliptic.eddsa=require("./elliptic/eddsa")},{"../package.json":"/Users/paulfrazee/patchwork/node_modules/elliptic/package.json","./elliptic/curve":"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic/curve/index.js","./elliptic/curves":"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic/curves.js","./elliptic/ec":"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic/ec/index.js","./elliptic/eddsa":"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic/eddsa/index.js","./elliptic/hmac-drbg":"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic/hmac-drbg.js","./elliptic/utils":"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic/utils.js",brorand:"/Users/paulfrazee/patchwork/node_modules/brorand/index.js"}],"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic/curve/base.js":[function(require,module,exports){"use strict";var BN=require("bn.js");var elliptic=require("../../elliptic");var utils=elliptic.utils;var getNAF=utils.getNAF;var getJSF=utils.getJSF;var assert=utils.assert;function BaseCurve(type,conf){this.type=type;this.p=new BN(conf.p,16);this.red=conf.prime?BN.red(conf.prime):BN.mont(this.p);this.zero=new BN(0).toRed(this.red);this.one=new BN(1).toRed(this.red);this.two=new BN(2).toRed(this.red);this.n=conf.n&&new BN(conf.n,16);this.g=conf.g&&this.pointFromJSON(conf.g,conf.gRed);this._wnafT1=new Array(4);this._wnafT2=new Array(4);this._wnafT3=new Array(4);this._wnafT4=new Array(4)}module.exports=BaseCurve;BaseCurve.prototype.point=function point(){throw new Error("Not implemented")};BaseCurve.prototype.validate=function validate(){throw new Error("Not implemented")};BaseCurve.prototype._fixedNafMul=function _fixedNafMul(p,k){assert(p.precomputed);var doubles=p._getDoubles();var naf=getNAF(k,1);var I=(1<<doubles.step+1)-(doubles.step%2===0?2:1);I/=3;var repr=[];for(var j=0;j<naf.length;j+=doubles.step){var nafW=0;for(var k=j+doubles.step-1;k>=j;k--)nafW=(nafW<<1)+naf[k];repr.push(nafW)}var a=this.jpoint(null,null,null);var b=this.jpoint(null,null,null);for(var i=I;i>0;i--){for(var j=0;j<repr.length;j++){var nafW=repr[j];if(nafW===i)b=b.mixedAdd(doubles.points[j]);else if(nafW===-i)b=b.mixedAdd(doubles.points[j].neg())}a=a.add(b)}return a.toP()};BaseCurve.prototype._wnafMul=function _wnafMul(p,k){var w=4;var nafPoints=p._getNAFPoints(w);w=nafPoints.wnd;var wnd=nafPoints.points;var naf=getNAF(k,w);var acc=this.jpoint(null,null,null);for(var i=naf.length-1;i>=0;i--){for(var k=0;i>=0&&naf[i]===0;i--)k++;if(i>=0)k++;acc=acc.dblp(k);if(i<0)break;var z=naf[i];assert(z!==0);if(p.type==="affine"){if(z>0)acc=acc.mixedAdd(wnd[z-1>>1]);else acc=acc.mixedAdd(wnd[-z-1>>1].neg())}else{if(z>0)acc=acc.add(wnd[z-1>>1]);else acc=acc.add(wnd[-z-1>>1].neg())}}return p.type==="affine"?acc.toP():acc};BaseCurve.prototype._wnafMulAdd=function _wnafMulAdd(defW,points,coeffs,len){var wndWidth=this._wnafT1;var wnd=this._wnafT2;var naf=this._wnafT3;var max=0;for(var i=0;i<len;i++){var p=points[i];var nafPoints=p._getNAFPoints(defW);wndWidth[i]=nafPoints.wnd;wnd[i]=nafPoints.points}for(var i=len-1;i>=1;i-=2){var a=i-1;var b=i;if(wndWidth[a]!==1||wndWidth[b]!==1){naf[a]=getNAF(coeffs[a],wndWidth[a]);naf[b]=getNAF(coeffs[b],wndWidth[b]);max=Math.max(naf[a].length,max);max=Math.max(naf[b].length,max);continue}var comb=[points[a],null,null,points[b]];if(points[a].y.cmp(points[b].y)===0){comb[1]=points[a].add(points[b]);comb[2]=points[a].toJ().mixedAdd(points[b].neg())}else if(points[a].y.cmp(points[b].y.redNeg())===0){comb[1]=points[a].toJ().mixedAdd(points[b]);comb[2]=points[a].add(points[b].neg())}else{comb[1]=points[a].toJ().mixedAdd(points[b]);comb[2]=points[a].toJ().mixedAdd(points[b].neg())}var index=[-3,-1,-5,-7,0,7,5,1,3];var jsf=getJSF(coeffs[a],coeffs[b]);max=Math.max(jsf[0].length,max);naf[a]=new Array(max);naf[b]=new Array(max);for(var j=0;j<max;j++){var ja=jsf[0][j]|0;var jb=jsf[1][j]|0;naf[a][j]=index[(ja+1)*3+(jb+1)];naf[b][j]=0;wnd[a]=comb}}var acc=this.jpoint(null,null,null);var tmp=this._wnafT4;for(var i=max;i>=0;i--){var k=0;while(i>=0){var zero=true;for(var j=0;j<len;j++){tmp[j]=naf[j][i]|0;if(tmp[j]!==0)zero=false}if(!zero)break;k++;i--}if(i>=0)k++;acc=acc.dblp(k);if(i<0)break;for(var j=0;j<len;j++){var z=tmp[j];var p;if(z===0)continue;else if(z>0)p=wnd[j][z-1>>1];else if(z<0)p=wnd[j][-z-1>>1].neg();if(p.type==="affine")acc=acc.mixedAdd(p);else acc=acc.add(p)}}for(var i=0;i<len;i++)wnd[i]=null;return acc.toP()};function BasePoint(curve,type){this.curve=curve;this.type=type;this.precomputed=null}BaseCurve.BasePoint=BasePoint;BasePoint.prototype.eq=function eq(){throw new Error("Not implemented")};BasePoint.prototype.validate=function validate(){return this.curve.validate(this)};BaseCurve.prototype.decodePoint=function decodePoint(bytes,enc){bytes=utils.toArray(bytes,enc);var len=this.p.byteLength();if(bytes[0]===4&&bytes.length-1===2*len){return this.point(bytes.slice(1,1+len),bytes.slice(1+len,1+2*len))}else if((bytes[0]===2||bytes[0]===3)&&bytes.length-1===len){return this.pointFromX(bytes.slice(1,1+len),bytes[0]===3)}throw new Error("Unknown point format")};BasePoint.prototype.encodeCompressed=function encodeCompressed(enc){return this.encode(enc,true)};BasePoint.prototype._encode=function _encode(compact){var len=this.curve.p.byteLength();var x=this.getX().toArray("be",len);if(compact)return[this.getY().isEven()?2:3].concat(x);return[4].concat(x,this.getY().toArray("be",len))};BasePoint.prototype.encode=function encode(enc,compact){return utils.encode(this._encode(compact),enc)};BasePoint.prototype.precompute=function precompute(power){if(this.precomputed)return this;var precomputed={doubles:null,naf:null,beta:null};precomputed.naf=this._getNAFPoints(8);precomputed.doubles=this._getDoubles(4,power);precomputed.beta=this._getBeta();this.precomputed=precomputed;return this};BasePoint.prototype._hasDoubles=function _hasDoubles(k){if(!this.precomputed)return false;var doubles=this.precomputed.doubles;if(!doubles)return false;return doubles.points.length>=Math.ceil((k.bitLength()+1)/doubles.step)};BasePoint.prototype._getDoubles=function _getDoubles(step,power){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;var doubles=[this];var acc=this;for(var i=0;i<power;i+=step){for(var j=0;j<step;j++)acc=acc.dbl();doubles.push(acc)}return{step:step,points:doubles}};BasePoint.prototype._getNAFPoints=function _getNAFPoints(wnd){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;var res=[this];var max=(1<<wnd)-1;var dbl=max===1?null:this.dbl();for(var i=1;i<max;i++)res[i]=res[i-1].add(dbl);return{wnd:wnd,points:res}};BasePoint.prototype._getBeta=function _getBeta(){return null};BasePoint.prototype.dblp=function dblp(k){var r=this;for(var i=0;i<k;i++)r=r.dbl();return r}},{"../../elliptic":"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic.js","bn.js":"/Users/paulfrazee/patchwork/node_modules/bn.js/lib/bn.js"}],"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic/curve/edwards.js":[function(require,module,exports){"use strict";var curve=require("../curve");var elliptic=require("../../elliptic");var BN=require("bn.js");var inherits=require("inherits");var Base=curve.base;var assert=elliptic.utils.assert;function EdwardsCurve(conf){this.twisted=(conf.a|0)!==1;this.mOneA=this.twisted&&(conf.a|0)===-1;this.extended=this.mOneA;Base.call(this,"edwards",conf);this.a=new BN(conf.a,16).umod(this.red.m);this.a=this.a.toRed(this.red);this.c=new BN(conf.c,16).toRed(this.red);this.c2=this.c.redSqr();this.d=new BN(conf.d,16).toRed(this.red);this.dd=this.d.redAdd(this.d);assert(!this.twisted||this.c.fromRed().cmpn(1)===0);this.oneC=(conf.c|0)===1}inherits(EdwardsCurve,Base);module.exports=EdwardsCurve;EdwardsCurve.prototype._mulA=function _mulA(num){if(this.mOneA)return num.redNeg();else return this.a.redMul(num)};EdwardsCurve.prototype._mulC=function _mulC(num){if(this.oneC)return num;else return this.c.redMul(num)};EdwardsCurve.prototype.jpoint=function jpoint(x,y,z,t){return this.point(x,y,z,t)};EdwardsCurve.prototype.pointFromX=function pointFromX(x,odd){x=new BN(x,16);if(!x.red)x=x.toRed(this.red);var x2=x.redSqr();var rhs=this.c2.redSub(this.a.redMul(x2));var lhs=this.one.redSub(this.c2.redMul(this.d).redMul(x2));var y2=rhs.redMul(lhs.redInvm());var y=y2.redSqrt();if(y.redSqr().redSub(y2).cmp(this.zero)!==0)throw new Error("invalid point");var isOdd=y.fromRed().isOdd();if(odd&&!isOdd||!odd&&isOdd)y=y.redNeg();return this.point(x,y)};EdwardsCurve.prototype.pointFromY=function pointFromY(y,odd){y=new BN(y,16);if(!y.red)y=y.toRed(this.red);var y2=y.redSqr();var lhs=y2.redSub(this.one);var rhs=y2.redMul(this.d).redAdd(this.one);var x2=lhs.redMul(rhs.redInvm());if(x2.cmp(this.zero)===0){if(odd)throw new Error("invalid point");else return this.point(this.zero,y)}var x=x2.redSqrt();if(x.redSqr().redSub(x2).cmp(this.zero)!==0)throw new Error("invalid point");if(x.isOdd()!==odd)x=x.redNeg();return this.point(x,y)};EdwardsCurve.prototype.validate=function validate(point){if(point.isInfinity())return true;point.normalize();var x2=point.x.redSqr();var y2=point.y.redSqr();var lhs=x2.redMul(this.a).redAdd(y2);var rhs=this.c2.redMul(this.one.redAdd(this.d.redMul(x2).redMul(y2)));return lhs.cmp(rhs)===0};function Point(curve,x,y,z,t){Base.BasePoint.call(this,curve,"projective");if(x===null&&y===null&&z===null){this.x=this.curve.zero;this.y=this.curve.one;this.z=this.curve.one;this.t=this.curve.zero;this.zOne=true}else{this.x=new BN(x,16);this.y=new BN(y,16);this.z=z?new BN(z,16):this.curve.one;this.t=t&&new BN(t,16);if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);if(this.t&&!this.t.red)this.t=this.t.toRed(this.curve.red);this.zOne=this.z===this.curve.one;if(this.curve.extended&&!this.t){this.t=this.x.redMul(this.y);if(!this.zOne)this.t=this.t.redMul(this.z.redInvm())}}}inherits(Point,Base.BasePoint);EdwardsCurve.prototype.pointFromJSON=function pointFromJSON(obj){return Point.fromJSON(this,obj)};EdwardsCurve.prototype.point=function point(x,y,z,t){return new Point(this,x,y,z,t)};Point.fromJSON=function fromJSON(curve,obj){return new Point(curve,obj[0],obj[1],obj[2])};Point.prototype.inspect=function inspect(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function isInfinity(){return this.x.cmpn(0)===0&&this.y.cmp(this.z)===0};Point.prototype._extDbl=function _extDbl(){var a=this.x.redSqr();var b=this.y.redSqr();var c=this.z.redSqr();c=c.redIAdd(c);var d=this.curve._mulA(a);var e=this.x.redAdd(this.y).redSqr().redISub(a).redISub(b);var g=d.redAdd(b);var f=g.redSub(c);var h=d.redSub(b);var nx=e.redMul(f);var ny=g.redMul(h);var nt=e.redMul(h);var nz=f.redMul(g);return this.curve.point(nx,ny,nz,nt)};Point.prototype._projDbl=function _projDbl(){var b=this.x.redAdd(this.y).redSqr();var c=this.x.redSqr();var d=this.y.redSqr();var nx;var ny;var nz;if(this.curve.twisted){var e=this.curve._mulA(c);var f=e.redAdd(d);if(this.zOne){nx=b.redSub(c).redSub(d).redMul(f.redSub(this.curve.two));ny=f.redMul(e.redSub(d));nz=f.redSqr().redSub(f).redSub(f)}else{var h=this.z.redSqr();var j=f.redSub(h).redISub(h);nx=b.redSub(c).redISub(d).redMul(j);ny=f.redMul(e.redSub(d));nz=f.redMul(j)}}else{var e=c.redAdd(d);var h=this.curve._mulC(this.c.redMul(this.z)).redSqr();var j=e.redSub(h).redSub(h);nx=this.curve._mulC(b.redISub(e)).redMul(j);ny=this.curve._mulC(e).redMul(c.redISub(d));nz=e.redMul(j)}return this.curve.point(nx,ny,nz)};Point.prototype.dbl=function dbl(){if(this.isInfinity())return this;if(this.curve.extended)return this._extDbl();else return this._projDbl()};Point.prototype._extAdd=function _extAdd(p){var a=this.y.redSub(this.x).redMul(p.y.redSub(p.x));var b=this.y.redAdd(this.x).redMul(p.y.redAdd(p.x));var c=this.t.redMul(this.curve.dd).redMul(p.t);var d=this.z.redMul(p.z.redAdd(p.z));var e=b.redSub(a);var f=d.redSub(c);var g=d.redAdd(c);var h=b.redAdd(a);var nx=e.redMul(f);var ny=g.redMul(h);var nt=e.redMul(h);var nz=f.redMul(g);return this.curve.point(nx,ny,nz,nt)};Point.prototype._projAdd=function _projAdd(p){var a=this.z.redMul(p.z);var b=a.redSqr();var c=this.x.redMul(p.x);var d=this.y.redMul(p.y);var e=this.curve.d.redMul(c).redMul(d);var f=b.redSub(e);var g=b.redAdd(e);var tmp=this.x.redAdd(this.y).redMul(p.x.redAdd(p.y)).redISub(c).redISub(d);var nx=a.redMul(f).redMul(tmp);var ny;var nz;if(this.curve.twisted){ny=a.redMul(g).redMul(d.redSub(this.curve._mulA(c)));nz=f.redMul(g)}else{ny=a.redMul(g).redMul(d.redSub(c));nz=this.curve._mulC(f).redMul(g)}return this.curve.point(nx,ny,nz)};Point.prototype.add=function add(p){if(this.isInfinity())return p;if(p.isInfinity())return this;if(this.curve.extended)return this._extAdd(p);else return this._projAdd(p)};Point.prototype.mul=function mul(k){if(this._hasDoubles(k))return this.curve._fixedNafMul(this,k);else return this.curve._wnafMul(this,k)};Point.prototype.mulAdd=function mulAdd(k1,p,k2){return this.curve._wnafMulAdd(1,[this,p],[k1,k2],2)};Point.prototype.normalize=function normalize(){if(this.zOne)return this;var zi=this.z.redInvm();this.x=this.x.redMul(zi);this.y=this.y.redMul(zi);if(this.t)this.t=this.t.redMul(zi);this.z=this.curve.one;this.zOne=true;return this};Point.prototype.neg=function neg(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Point.prototype.getX=function getX(){this.normalize();return this.x.fromRed()};Point.prototype.getY=function getY(){this.normalize();return this.y.fromRed()};Point.prototype.eq=function eq(other){return this===other||this.getX().cmp(other.getX())===0&&this.getY().cmp(other.getY())===0};Point.prototype.toP=Point.prototype.normalize;Point.prototype.mixedAdd=Point.prototype.add},{"../../elliptic":"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic.js","../curve":"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic/curve/index.js","bn.js":"/Users/paulfrazee/patchwork/node_modules/bn.js/lib/bn.js",inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js"}],"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic/curve/index.js":[function(require,module,exports){"use strict";var curve=exports;curve.base=require("./base");curve.short=require("./short");curve.mont=require("./mont");curve.edwards=require("./edwards")},{"./base":"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic/curve/base.js","./edwards":"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic/curve/edwards.js","./mont":"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic/curve/mont.js","./short":"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic/curve/short.js"}],"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic/curve/mont.js":[function(require,module,exports){"use strict";var curve=require("../curve");var BN=require("bn.js");var inherits=require("inherits");var Base=curve.base;var elliptic=require("../../elliptic");var utils=elliptic.utils;function MontCurve(conf){Base.call(this,"mont",conf);this.a=new BN(conf.a,16).toRed(this.red);this.b=new BN(conf.b,16).toRed(this.red);this.i4=new BN(4).toRed(this.red).redInvm();this.two=new BN(2).toRed(this.red);this.a24=this.i4.redMul(this.a.redAdd(this.two))}inherits(MontCurve,Base);module.exports=MontCurve;MontCurve.prototype.validate=function validate(point){var x=point.normalize().x;var x2=x.redSqr();var rhs=x2.redMul(x).redAdd(x2.redMul(this.a)).redAdd(x);var y=rhs.redSqrt();return y.redSqr().cmp(rhs)===0};function Point(curve,x,z){Base.BasePoint.call(this,curve,"projective");if(x===null&&z===null){this.x=this.curve.one;this.z=this.curve.zero}else{this.x=new BN(x,16);this.z=new BN(z,16);if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red)}}inherits(Point,Base.BasePoint);MontCurve.prototype.decodePoint=function decodePoint(bytes,enc){return this.point(utils.toArray(bytes,enc),1)};MontCurve.prototype.point=function point(x,z){return new Point(this,x,z)};MontCurve.prototype.pointFromJSON=function pointFromJSON(obj){return Point.fromJSON(this,obj)};Point.prototype.precompute=function precompute(){};Point.prototype._encode=function _encode(){return this.getX().toArray("be",this.curve.p.byteLength())};Point.fromJSON=function fromJSON(curve,obj){return new Point(curve,obj[0],obj[1]||curve.one)};Point.prototype.inspect=function inspect(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function isInfinity(){return this.z.cmpn(0)===0};Point.prototype.dbl=function dbl(){var a=this.x.redAdd(this.z);var aa=a.redSqr();var b=this.x.redSub(this.z);var bb=b.redSqr();var c=aa.redSub(bb);var nx=aa.redMul(bb);var nz=c.redMul(bb.redAdd(this.curve.a24.redMul(c)));return this.curve.point(nx,nz)};Point.prototype.add=function add(){
throw new Error("Not supported on Montgomery curve")};Point.prototype.diffAdd=function diffAdd(p,diff){var a=this.x.redAdd(this.z);var b=this.x.redSub(this.z);var c=p.x.redAdd(p.z);var d=p.x.redSub(p.z);var da=d.redMul(a);var cb=c.redMul(b);var nx=diff.z.redMul(da.redAdd(cb).redSqr());var nz=diff.x.redMul(da.redISub(cb).redSqr());return this.curve.point(nx,nz)};Point.prototype.mul=function mul(k){var t=k.clone();var a=this;var b=this.curve.point(null,null);var c=this;for(var bits=[];t.cmpn(0)!==0;t.iushrn(1))bits.push(t.andln(1));for(var i=bits.length-1;i>=0;i--){if(bits[i]===0){a=a.diffAdd(b,c);b=b.dbl()}else{b=a.diffAdd(b,c);a=a.dbl()}}return b};Point.prototype.mulAdd=function mulAdd(){throw new Error("Not supported on Montgomery curve")};Point.prototype.eq=function eq(other){return this.getX().cmp(other.getX())===0};Point.prototype.normalize=function normalize(){this.x=this.x.redMul(this.z.redInvm());this.z=this.curve.one;return this};Point.prototype.getX=function getX(){this.normalize();return this.x.fromRed()}},{"../../elliptic":"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic.js","../curve":"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic/curve/index.js","bn.js":"/Users/paulfrazee/patchwork/node_modules/bn.js/lib/bn.js",inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js"}],"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic/curve/short.js":[function(require,module,exports){"use strict";var curve=require("../curve");var elliptic=require("../../elliptic");var BN=require("bn.js");var inherits=require("inherits");var Base=curve.base;var assert=elliptic.utils.assert;function ShortCurve(conf){Base.call(this,"short",conf);this.a=new BN(conf.a,16).toRed(this.red);this.b=new BN(conf.b,16).toRed(this.red);this.tinv=this.two.redInvm();this.zeroA=this.a.fromRed().cmpn(0)===0;this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0;this.endo=this._getEndomorphism(conf);this._endoWnafT1=new Array(4);this._endoWnafT2=new Array(4)}inherits(ShortCurve,Base);module.exports=ShortCurve;ShortCurve.prototype._getEndomorphism=function _getEndomorphism(conf){if(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)return;var beta;var lambda;if(conf.beta){beta=new BN(conf.beta,16).toRed(this.red)}else{var betas=this._getEndoRoots(this.p);beta=betas[0].cmp(betas[1])<0?betas[0]:betas[1];beta=beta.toRed(this.red)}if(conf.lambda){lambda=new BN(conf.lambda,16)}else{var lambdas=this._getEndoRoots(this.n);if(this.g.mul(lambdas[0]).x.cmp(this.g.x.redMul(beta))===0){lambda=lambdas[0]}else{lambda=lambdas[1];assert(this.g.mul(lambda).x.cmp(this.g.x.redMul(beta))===0)}}var basis;if(conf.basis){basis=conf.basis.map(function(vec){return{a:new BN(vec.a,16),b:new BN(vec.b,16)}})}else{basis=this._getEndoBasis(lambda)}return{beta:beta,lambda:lambda,basis:basis}};ShortCurve.prototype._getEndoRoots=function _getEndoRoots(num){var red=num===this.p?this.red:BN.mont(num);var tinv=new BN(2).toRed(red).redInvm();var ntinv=tinv.redNeg();var s=new BN(3).toRed(red).redNeg().redSqrt().redMul(tinv);var l1=ntinv.redAdd(s).fromRed();var l2=ntinv.redSub(s).fromRed();return[l1,l2]};ShortCurve.prototype._getEndoBasis=function _getEndoBasis(lambda){var aprxSqrt=this.n.ushrn(Math.floor(this.n.bitLength()/2));var u=lambda;var v=this.n.clone();var x1=new BN(1);var y1=new BN(0);var x2=new BN(0);var y2=new BN(1);var a0;var b0;var a1;var b1;var a2;var b2;var prevR;var i=0;var r;var x;while(u.cmpn(0)!==0){var q=v.div(u);r=v.sub(q.mul(u));x=x2.sub(q.mul(x1));var y=y2.sub(q.mul(y1));if(!a1&&r.cmp(aprxSqrt)<0){a0=prevR.neg();b0=x1;a1=r.neg();b1=x}else if(a1&&++i===2){break}prevR=r;v=u;u=r;x2=x1;x1=x;y2=y1;y1=y}a2=r.neg();b2=x;var len1=a1.sqr().add(b1.sqr());var len2=a2.sqr().add(b2.sqr());if(len2.cmp(len1)>=0){a2=a0;b2=b0}if(a1.negative){a1=a1.neg();b1=b1.neg()}if(a2.negative){a2=a2.neg();b2=b2.neg()}return[{a:a1,b:b1},{a:a2,b:b2}]};ShortCurve.prototype._endoSplit=function _endoSplit(k){var basis=this.endo.basis;var v1=basis[0];var v2=basis[1];var c1=v2.b.mul(k).divRound(this.n);var c2=v1.b.neg().mul(k).divRound(this.n);var p1=c1.mul(v1.a);var p2=c2.mul(v2.a);var q1=c1.mul(v1.b);var q2=c2.mul(v2.b);var k1=k.sub(p1).sub(p2);var k2=q1.add(q2).neg();return{k1:k1,k2:k2}};ShortCurve.prototype.pointFromX=function pointFromX(x,odd){x=new BN(x,16);if(!x.red)x=x.toRed(this.red);var y2=x.redSqr().redMul(x).redIAdd(x.redMul(this.a)).redIAdd(this.b);var y=y2.redSqrt();if(y.redSqr().redSub(y2).cmp(this.zero)!==0)throw new Error("invalid point");var isOdd=y.fromRed().isOdd();if(odd&&!isOdd||!odd&&isOdd)y=y.redNeg();return this.point(x,y)};ShortCurve.prototype.validate=function validate(point){if(point.inf)return true;var x=point.x;var y=point.y;var ax=this.a.redMul(x);var rhs=x.redSqr().redMul(x).redIAdd(ax).redIAdd(this.b);return y.redSqr().redISub(rhs).cmpn(0)===0};ShortCurve.prototype._endoWnafMulAdd=function _endoWnafMulAdd(points,coeffs){var npoints=this._endoWnafT1;var ncoeffs=this._endoWnafT2;for(var i=0;i<points.length;i++){var split=this._endoSplit(coeffs[i]);var p=points[i];var beta=p._getBeta();if(split.k1.negative){split.k1.ineg();p=p.neg(true)}if(split.k2.negative){split.k2.ineg();beta=beta.neg(true)}npoints[i*2]=p;npoints[i*2+1]=beta;ncoeffs[i*2]=split.k1;ncoeffs[i*2+1]=split.k2}var res=this._wnafMulAdd(1,npoints,ncoeffs,i*2);for(var j=0;j<i*2;j++){npoints[j]=null;ncoeffs[j]=null}return res};function Point(curve,x,y,isRed){Base.BasePoint.call(this,curve,"affine");if(x===null&&y===null){this.x=null;this.y=null;this.inf=true}else{this.x=new BN(x,16);this.y=new BN(y,16);if(isRed){this.x.forceRed(this.curve.red);this.y.forceRed(this.curve.red)}if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);this.inf=false}}inherits(Point,Base.BasePoint);ShortCurve.prototype.point=function point(x,y,isRed){return new Point(this,x,y,isRed)};ShortCurve.prototype.pointFromJSON=function pointFromJSON(obj,red){return Point.fromJSON(this,obj,red)};Point.prototype._getBeta=function _getBeta(){if(!this.curve.endo)return;var pre=this.precomputed;if(pre&&pre.beta)return pre.beta;var beta=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(pre){var curve=this.curve;var endoMul=function(p){return curve.point(p.x.redMul(curve.endo.beta),p.y)};pre.beta=beta;beta.precomputed={beta:null,naf:pre.naf&&{wnd:pre.naf.wnd,points:pre.naf.points.map(endoMul)},doubles:pre.doubles&&{step:pre.doubles.step,points:pre.doubles.points.map(endoMul)}}}return beta};Point.prototype.toJSON=function toJSON(){if(!this.precomputed)return[this.x,this.y];return[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]};Point.fromJSON=function fromJSON(curve,obj,red){if(typeof obj==="string")obj=JSON.parse(obj);var res=curve.point(obj[0],obj[1],red);if(!obj[2])return res;function obj2point(obj){return curve.point(obj[0],obj[1],red)}var pre=obj[2];res.precomputed={beta:null,doubles:pre.doubles&&{step:pre.doubles.step,points:[res].concat(pre.doubles.points.map(obj2point))},naf:pre.naf&&{wnd:pre.naf.wnd,points:[res].concat(pre.naf.points.map(obj2point))}};return res};Point.prototype.inspect=function inspect(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function isInfinity(){return this.inf};Point.prototype.add=function add(p){if(this.inf)return p;if(p.inf)return this;if(this.eq(p))return this.dbl();if(this.neg().eq(p))return this.curve.point(null,null);if(this.x.cmp(p.x)===0)return this.curve.point(null,null);var c=this.y.redSub(p.y);if(c.cmpn(0)!==0)c=c.redMul(this.x.redSub(p.x).redInvm());var nx=c.redSqr().redISub(this.x).redISub(p.x);var ny=c.redMul(this.x.redSub(nx)).redISub(this.y);return this.curve.point(nx,ny)};Point.prototype.dbl=function dbl(){if(this.inf)return this;var ys1=this.y.redAdd(this.y);if(ys1.cmpn(0)===0)return this.curve.point(null,null);var a=this.curve.a;var x2=this.x.redSqr();var dyinv=ys1.redInvm();var c=x2.redAdd(x2).redIAdd(x2).redIAdd(a).redMul(dyinv);var nx=c.redSqr().redISub(this.x.redAdd(this.x));var ny=c.redMul(this.x.redSub(nx)).redISub(this.y);return this.curve.point(nx,ny)};Point.prototype.getX=function getX(){return this.x.fromRed()};Point.prototype.getY=function getY(){return this.y.fromRed()};Point.prototype.mul=function mul(k){k=new BN(k,16);if(this._hasDoubles(k))return this.curve._fixedNafMul(this,k);else if(this.curve.endo)return this.curve._endoWnafMulAdd([this],[k]);else return this.curve._wnafMul(this,k)};Point.prototype.mulAdd=function mulAdd(k1,p2,k2){var points=[this,p2];var coeffs=[k1,k2];if(this.curve.endo)return this.curve._endoWnafMulAdd(points,coeffs);else return this.curve._wnafMulAdd(1,points,coeffs,2)};Point.prototype.eq=function eq(p){return this===p||this.inf===p.inf&&(this.inf||this.x.cmp(p.x)===0&&this.y.cmp(p.y)===0)};Point.prototype.neg=function neg(_precompute){if(this.inf)return this;var res=this.curve.point(this.x,this.y.redNeg());if(_precompute&&this.precomputed){var pre=this.precomputed;var negate=function(p){return p.neg()};res.precomputed={naf:pre.naf&&{wnd:pre.naf.wnd,points:pre.naf.points.map(negate)},doubles:pre.doubles&&{step:pre.doubles.step,points:pre.doubles.points.map(negate)}}}return res};Point.prototype.toJ=function toJ(){if(this.inf)return this.curve.jpoint(null,null,null);var res=this.curve.jpoint(this.x,this.y,this.curve.one);return res};function JPoint(curve,x,y,z){Base.BasePoint.call(this,curve,"jacobian");if(x===null&&y===null&&z===null){this.x=this.curve.one;this.y=this.curve.one;this.z=new BN(0)}else{this.x=new BN(x,16);this.y=new BN(y,16);this.z=new BN(z,16)}if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);this.zOne=this.z===this.curve.one}inherits(JPoint,Base.BasePoint);ShortCurve.prototype.jpoint=function jpoint(x,y,z){return new JPoint(this,x,y,z)};JPoint.prototype.toP=function toP(){if(this.isInfinity())return this.curve.point(null,null);var zinv=this.z.redInvm();var zinv2=zinv.redSqr();var ax=this.x.redMul(zinv2);var ay=this.y.redMul(zinv2).redMul(zinv);return this.curve.point(ax,ay)};JPoint.prototype.neg=function neg(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint.prototype.add=function add(p){if(this.isInfinity())return p;if(p.isInfinity())return this;var pz2=p.z.redSqr();var z2=this.z.redSqr();var u1=this.x.redMul(pz2);var u2=p.x.redMul(z2);var s1=this.y.redMul(pz2.redMul(p.z));var s2=p.y.redMul(z2.redMul(this.z));var h=u1.redSub(u2);var r=s1.redSub(s2);if(h.cmpn(0)===0){if(r.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl()}var h2=h.redSqr();var h3=h2.redMul(h);var v=u1.redMul(h2);var nx=r.redSqr().redIAdd(h3).redISub(v).redISub(v);var ny=r.redMul(v.redISub(nx)).redISub(s1.redMul(h3));var nz=this.z.redMul(p.z).redMul(h);return this.curve.jpoint(nx,ny,nz)};JPoint.prototype.mixedAdd=function mixedAdd(p){if(this.isInfinity())return p.toJ();if(p.isInfinity())return this;var z2=this.z.redSqr();var u1=this.x;var u2=p.x.redMul(z2);var s1=this.y;var s2=p.y.redMul(z2).redMul(this.z);var h=u1.redSub(u2);var r=s1.redSub(s2);if(h.cmpn(0)===0){if(r.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl()}var h2=h.redSqr();var h3=h2.redMul(h);var v=u1.redMul(h2);var nx=r.redSqr().redIAdd(h3).redISub(v).redISub(v);var ny=r.redMul(v.redISub(nx)).redISub(s1.redMul(h3));var nz=this.z.redMul(h);return this.curve.jpoint(nx,ny,nz)};JPoint.prototype.dblp=function dblp(pow){if(pow===0)return this;if(this.isInfinity())return this;if(!pow)return this.dbl();if(this.curve.zeroA||this.curve.threeA){var r=this;for(var i=0;i<pow;i++)r=r.dbl();return r}var a=this.curve.a;var tinv=this.curve.tinv;var jx=this.x;var jy=this.y;var jz=this.z;var jz4=jz.redSqr().redSqr();var jyd=jy.redAdd(jy);for(var i=0;i<pow;i++){var jx2=jx.redSqr();var jyd2=jyd.redSqr();var jyd4=jyd2.redSqr();var c=jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4));var t1=jx.redMul(jyd2);var nx=c.redSqr().redISub(t1.redAdd(t1));var t2=t1.redISub(nx);var dny=c.redMul(t2);dny=dny.redIAdd(dny).redISub(jyd4);var nz=jyd.redMul(jz);if(i+1<pow)jz4=jz4.redMul(jyd4);jx=nx;jz=nz;jyd=dny}return this.curve.jpoint(jx,jyd.redMul(tinv),jz)};JPoint.prototype.dbl=function dbl(){if(this.isInfinity())return this;if(this.curve.zeroA)return this._zeroDbl();else if(this.curve.threeA)return this._threeDbl();else return this._dbl()};JPoint.prototype._zeroDbl=function _zeroDbl(){var nx;var ny;var nz;if(this.zOne){var xx=this.x.redSqr();var yy=this.y.redSqr();var yyyy=yy.redSqr();var s=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);s=s.redIAdd(s);var m=xx.redAdd(xx).redIAdd(xx);var t=m.redSqr().redISub(s).redISub(s);var yyyy8=yyyy.redIAdd(yyyy);yyyy8=yyyy8.redIAdd(yyyy8);yyyy8=yyyy8.redIAdd(yyyy8);nx=t;ny=m.redMul(s.redISub(t)).redISub(yyyy8);nz=this.y.redAdd(this.y)}else{var a=this.x.redSqr();var b=this.y.redSqr();var c=b.redSqr();var d=this.x.redAdd(b).redSqr().redISub(a).redISub(c);d=d.redIAdd(d);var e=a.redAdd(a).redIAdd(a);var f=e.redSqr();var c8=c.redIAdd(c);c8=c8.redIAdd(c8);c8=c8.redIAdd(c8);nx=f.redISub(d).redISub(d);ny=e.redMul(d.redISub(nx)).redISub(c8);nz=this.y.redMul(this.z);nz=nz.redIAdd(nz)}return this.curve.jpoint(nx,ny,nz)};JPoint.prototype._threeDbl=function _threeDbl(){var nx;var ny;var nz;if(this.zOne){var xx=this.x.redSqr();var yy=this.y.redSqr();var yyyy=yy.redSqr();var s=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);s=s.redIAdd(s);var m=xx.redAdd(xx).redIAdd(xx).redIAdd(this.curve.a);var t=m.redSqr().redISub(s).redISub(s);nx=t;var yyyy8=yyyy.redIAdd(yyyy);yyyy8=yyyy8.redIAdd(yyyy8);yyyy8=yyyy8.redIAdd(yyyy8);ny=m.redMul(s.redISub(t)).redISub(yyyy8);nz=this.y.redAdd(this.y)}else{var delta=this.z.redSqr();var gamma=this.y.redSqr();var beta=this.x.redMul(gamma);var alpha=this.x.redSub(delta).redMul(this.x.redAdd(delta));alpha=alpha.redAdd(alpha).redIAdd(alpha);var beta4=beta.redIAdd(beta);beta4=beta4.redIAdd(beta4);var beta8=beta4.redAdd(beta4);nx=alpha.redSqr().redISub(beta8);nz=this.y.redAdd(this.z).redSqr().redISub(gamma).redISub(delta);var ggamma8=gamma.redSqr();ggamma8=ggamma8.redIAdd(ggamma8);ggamma8=ggamma8.redIAdd(ggamma8);ggamma8=ggamma8.redIAdd(ggamma8);ny=alpha.redMul(beta4.redISub(nx)).redISub(ggamma8)}return this.curve.jpoint(nx,ny,nz)};JPoint.prototype._dbl=function _dbl(){var a=this.curve.a;var jx=this.x;var jy=this.y;var jz=this.z;var jz4=jz.redSqr().redSqr();var jx2=jx.redSqr();var jy2=jy.redSqr();var c=jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4));var jxd4=jx.redAdd(jx);jxd4=jxd4.redIAdd(jxd4);var t1=jxd4.redMul(jy2);var nx=c.redSqr().redISub(t1.redAdd(t1));var t2=t1.redISub(nx);var jyd8=jy2.redSqr();jyd8=jyd8.redIAdd(jyd8);jyd8=jyd8.redIAdd(jyd8);jyd8=jyd8.redIAdd(jyd8);var ny=c.redMul(t2).redISub(jyd8);var nz=jy.redAdd(jy).redMul(jz);return this.curve.jpoint(nx,ny,nz)};JPoint.prototype.trpl=function trpl(){if(!this.curve.zeroA)return this.dbl().add(this);var xx=this.x.redSqr();var yy=this.y.redSqr();var zz=this.z.redSqr();var yyyy=yy.redSqr();var m=xx.redAdd(xx).redIAdd(xx);var mm=m.redSqr();var e=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);e=e.redIAdd(e);e=e.redAdd(e).redIAdd(e);e=e.redISub(mm);var ee=e.redSqr();var t=yyyy.redIAdd(yyyy);t=t.redIAdd(t);t=t.redIAdd(t);t=t.redIAdd(t);var u=m.redIAdd(e).redSqr().redISub(mm).redISub(ee).redISub(t);var yyu4=yy.redMul(u);yyu4=yyu4.redIAdd(yyu4);yyu4=yyu4.redIAdd(yyu4);var nx=this.x.redMul(ee).redISub(yyu4);nx=nx.redIAdd(nx);nx=nx.redIAdd(nx);var ny=this.y.redMul(u.redMul(t.redISub(u)).redISub(e.redMul(ee)));ny=ny.redIAdd(ny);ny=ny.redIAdd(ny);ny=ny.redIAdd(ny);var nz=this.z.redAdd(e).redSqr().redISub(zz).redISub(ee);return this.curve.jpoint(nx,ny,nz)};JPoint.prototype.mul=function mul(k,kbase){k=new BN(k,kbase);return this.curve._wnafMul(this,k)};JPoint.prototype.eq=function eq(p){if(p.type==="affine")return this.eq(p.toJ());if(this===p)return true;var z2=this.z.redSqr();var pz2=p.z.redSqr();if(this.x.redMul(pz2).redISub(p.x.redMul(z2)).cmpn(0)!==0)return false;var z3=z2.redMul(this.z);var pz3=pz2.redMul(p.z);return this.y.redMul(pz3).redISub(p.y.redMul(z3)).cmpn(0)===0};JPoint.prototype.inspect=function inspect(){if(this.isInfinity())return"<EC JPoint Infinity>";return"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint.prototype.isInfinity=function isInfinity(){return this.z.cmpn(0)===0}},{"../../elliptic":"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic.js","../curve":"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic/curve/index.js","bn.js":"/Users/paulfrazee/patchwork/node_modules/bn.js/lib/bn.js",inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js"}],"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic/curves.js":[function(require,module,exports){"use strict";var curves=exports;var hash=require("hash.js");var elliptic=require("../elliptic");var assert=elliptic.utils.assert;function PresetCurve(options){if(options.type==="short")this.curve=new elliptic.curve.short(options);else if(options.type==="edwards")this.curve=new elliptic.curve.edwards(options);else this.curve=new elliptic.curve.mont(options);this.g=this.curve.g;this.n=this.curve.n;this.hash=options.hash;assert(this.g.validate(),"Invalid curve");assert(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}curves.PresetCurve=PresetCurve;function defineCurve(name,options){Object.defineProperty(curves,name,{configurable:true,enumerable:true,get:function(){var curve=new PresetCurve(options);Object.defineProperty(curves,name,{configurable:true,enumerable:true,value:curve});return curve}})}defineCurve("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash.sha256,gRed:false,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});defineCurve("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash.sha256,gRed:false,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});defineCurve("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash.sha256,gRed:false,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});defineCurve("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f "+"5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 "+"f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash.sha384,gRed:false,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 "+"5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 "+"0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});defineCurve("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b "+"99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd "+"3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 "+"f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash.sha512,gRed:false,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 "+"053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 "+"a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 "+"579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 "+"3fad0761 353c7086 a272c240 88be9476 9fd16650"]});defineCurve("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"0",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash.sha256,gRed:false,g:["9"]});defineCurve("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash.sha256,gRed:false,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var pre;try{pre=require("./precomputed/secp256k1")}catch(e){pre=undefined}defineCurve("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:false,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",pre]})},{"../elliptic":"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic.js","./precomputed/secp256k1":"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic/precomputed/secp256k1.js","hash.js":"/Users/paulfrazee/patchwork/node_modules/hash.js/lib/hash.js"}],"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic/ec/index.js":[function(require,module,exports){"use strict";var BN=require("bn.js");var elliptic=require("../../elliptic");var utils=elliptic.utils;var assert=utils.assert;var KeyPair=require("./key");var Signature=require("./signature");function EC(options){if(!(this instanceof EC))return new EC(options);if(typeof options==="string"){assert(elliptic.curves.hasOwnProperty(options),"Unknown curve "+options);options=elliptic.curves[options]}if(options instanceof elliptic.curves.PresetCurve)options={curve:options};this.curve=options.curve.curve;this.n=this.curve.n;this.nh=this.n.ushrn(1);this.g=this.curve.g;this.g=options.curve.g;this.g.precompute(options.curve.n.bitLength()+1);this.hash=options.hash||options.curve.hash}module.exports=EC;EC.prototype.keyPair=function keyPair(options){return new KeyPair(this,options)};EC.prototype.keyFromPrivate=function keyFromPrivate(priv,enc){return KeyPair.fromPrivate(this,priv,enc)};EC.prototype.keyFromPublic=function keyFromPublic(pub,enc){return KeyPair.fromPublic(this,pub,enc)};EC.prototype.genKeyPair=function genKeyPair(options){if(!options)options={};var drbg=new elliptic.hmacDRBG({hash:this.hash,pers:options.pers,entropy:options.entropy||elliptic.rand(this.hash.hmacStrength),nonce:this.n.toArray()});var bytes=this.n.byteLength();var ns2=this.n.sub(new BN(2));do{var priv=new BN(drbg.generate(bytes));if(priv.cmp(ns2)>0)continue;priv.iaddn(1);return this.keyFromPrivate(priv)}while(true)};EC.prototype._truncateToN=function truncateToN(msg,truncOnly){var delta=msg.byteLength()*8-this.n.bitLength();if(delta>0)msg=msg.ushrn(delta);if(!truncOnly&&msg.cmp(this.n)>=0)return msg.sub(this.n);else return msg};EC.prototype.sign=function sign(msg,key,enc,options){if(typeof enc==="object"){options=enc;enc=null}if(!options)options={};key=this.keyFromPrivate(key,enc);msg=this._truncateToN(new BN(msg,16));var bytes=this.n.byteLength();var bkey=key.getPrivate().toArray("be",bytes);var nonce=msg.toArray("be",bytes);var drbg=new elliptic.hmacDRBG({hash:this.hash,entropy:bkey,nonce:nonce,pers:options.pers,persEnc:options.persEnc});var ns1=this.n.sub(new BN(1));for(var iter=0;true;iter++){var k=options.k?options.k(iter):new BN(drbg.generate(this.n.byteLength()));k=this._truncateToN(k,true);if(k.cmpn(1)<=0||k.cmp(ns1)>=0)continue;var kp=this.g.mul(k);if(kp.isInfinity())continue;var kpX=kp.getX();var r=kpX.umod(this.n);if(r.cmpn(0)===0)continue;var s=k.invm(this.n).mul(r.mul(key.getPrivate()).iadd(msg));s=s.umod(this.n);if(s.cmpn(0)===0)continue;var recoveryParam=(kp.getY().isOdd()?1:0)|(kpX.cmp(r)!==0?2:0);if(options.canonical&&s.cmp(this.nh)>0){s=this.n.sub(s);recoveryParam^=1}return new Signature({r:r,s:s,recoveryParam:recoveryParam})}};EC.prototype.verify=function verify(msg,signature,key,enc){msg=this._truncateToN(new BN(msg,16));key=this.keyFromPublic(key,enc);signature=new Signature(signature,"hex");var r=signature.r;var s=signature.s;if(r.cmpn(1)<0||r.cmp(this.n)>=0)return false;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return false;var sinv=s.invm(this.n);var u1=sinv.mul(msg).umod(this.n);var u2=sinv.mul(r).umod(this.n);var p=this.g.mulAdd(u1,key.getPublic(),u2);if(p.isInfinity())return false;return p.getX().umod(this.n).cmp(r)===0};EC.prototype.recoverPubKey=function(msg,signature,j,enc){assert((3&j)===j,"The recovery param is more than two bits");signature=new Signature(signature,enc);var n=this.n;var e=new BN(msg);var r=signature.r;var s=signature.s;var isYOdd=j&1;var isSecondKey=j>>1;if(r.cmp(this.curve.p.umod(this.curve.n))>=0&&isSecondKey)throw new Error("Unable to find sencond key candinate");if(isSecondKey)r=this.curve.pointFromX(r.add(this.curve.n),isYOdd);else r=this.curve.pointFromX(r,isYOdd);var eNeg=n.sub(e);var rInv=signature.r.invm(n);return r.mul(s).add(this.g.mul(eNeg)).mul(rInv)};EC.prototype.getKeyRecoveryParam=function(e,signature,Q,enc){signature=new Signature(signature,enc);if(signature.recoveryParam!==null)return signature.recoveryParam;for(var i=0;i<4;i++){var Qprime;try{Qprime=this.recoverPubKey(e,signature,i)}catch(e){continue}if(Qprime.eq(Q))return i}throw new Error("Unable to find valid recovery factor")}},{"../../elliptic":"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic.js","./key":"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic/ec/key.js","./signature":"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic/ec/signature.js","bn.js":"/Users/paulfrazee/patchwork/node_modules/bn.js/lib/bn.js"}],"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic/ec/key.js":[function(require,module,exports){"use strict";var BN=require("bn.js");function KeyPair(ec,options){this.ec=ec;this.priv=null;this.pub=null;if(options.priv)this._importPrivate(options.priv,options.privEnc);if(options.pub)this._importPublic(options.pub,options.pubEnc)}module.exports=KeyPair;KeyPair.fromPublic=function fromPublic(ec,pub,enc){if(pub instanceof KeyPair)return pub;return new KeyPair(ec,{pub:pub,pubEnc:enc})};KeyPair.fromPrivate=function fromPrivate(ec,priv,enc){if(priv instanceof KeyPair)return priv;return new KeyPair(ec,{priv:priv,privEnc:enc})};KeyPair.prototype.validate=function validate(){var pub=this.getPublic();if(pub.isInfinity())return{result:false,reason:"Invalid public key"};if(!pub.validate())return{result:false,reason:"Public key is not a point"};if(!pub.mul(this.ec.curve.n).isInfinity())return{result:false,reason:"Public key * N != O"};return{result:true,reason:null}};KeyPair.prototype.getPublic=function getPublic(compact,enc){if(typeof compact==="string"){enc=compact;compact=null}if(!this.pub)this.pub=this.ec.g.mul(this.priv);if(!enc)return this.pub;return this.pub.encode(enc,compact)};KeyPair.prototype.getPrivate=function getPrivate(enc){if(enc==="hex")return this.priv.toString(16,2);else return this.priv};KeyPair.prototype._importPrivate=function _importPrivate(key,enc){this.priv=new BN(key,enc||16);this.priv=this.priv.umod(this.ec.curve.n)};KeyPair.prototype._importPublic=function _importPublic(key,enc){if(key.x||key.y){this.pub=this.ec.curve.point(key.x,key.y);return}this.pub=this.ec.curve.decodePoint(key,enc)};KeyPair.prototype.derive=function derive(pub){return pub.mul(this.priv).getX()};KeyPair.prototype.sign=function sign(msg,enc,options){return this.ec.sign(msg,this,enc,options)};KeyPair.prototype.verify=function verify(msg,signature){return this.ec.verify(msg,signature,this)};KeyPair.prototype.inspect=function inspect(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"bn.js":"/Users/paulfrazee/patchwork/node_modules/bn.js/lib/bn.js"}],"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic/ec/signature.js":[function(require,module,exports){"use strict";var BN=require("bn.js");var elliptic=require("../../elliptic");var utils=elliptic.utils;var assert=utils.assert;function Signature(options,enc){if(options instanceof Signature)return options;if(this._importDER(options,enc))return;assert(options.r&&options.s,"Signature without r or s");this.r=new BN(options.r,16);this.s=new BN(options.s,16);if(options.recoveryParam===undefined)this.recoveryParam=null;else this.recoveryParam=options.recoveryParam}module.exports=Signature;function Position(){this.place=0}function getLength(buf,p){var initial=buf[p.place++];if(!(initial&128)){return initial}var octetLen=initial&15;var val=0;for(var i=0,off=p.place;i<octetLen;i++,off++){val<<=8;val|=buf[off]}p.place=off;return val}function rmPadding(buf){var i=0;var len=buf.length-1;while(!buf[i]&&!(buf[i+1]&128)&&i<len){i++}if(i===0){return buf}return buf.slice(i)}Signature.prototype._importDER=function _importDER(data,enc){data=utils.toArray(data,enc);var p=new Position;if(data[p.place++]!==48){return false}var len=getLength(data,p);if(len+p.place!==data.length){return false}if(data[p.place++]!==2){return false}var rlen=getLength(data,p);var r=data.slice(p.place,rlen+p.place);p.place+=rlen;if(data[p.place++]!==2){return false}var slen=getLength(data,p);if(data.length!==slen+p.place){return false}var s=data.slice(p.place,slen+p.place);if(r[0]===0&&r[1]&128){r=r.slice(1)}if(s[0]===0&&s[1]&128){s=s.slice(1)}this.r=new BN(r);this.s=new BN(s);this.recoveryParam=null;return true};function constructLength(arr,len){if(len<128){arr.push(len);return}var octets=1+(Math.log(len)/Math.LN2>>>3);arr.push(octets|128);while(--octets){arr.push(len>>>(octets<<3)&255)}arr.push(len)}Signature.prototype.toDER=function toDER(enc){var r=this.r.toArray();var s=this.s.toArray();if(r[0]&128)r=[0].concat(r);if(s[0]&128)s=[0].concat(s);r=rmPadding(r);s=rmPadding(s);while(!s[0]&&!(s[1]&128)){s=s.slice(1)}var arr=[2];constructLength(arr,r.length);arr=arr.concat(r);arr.push(2);constructLength(arr,s.length);var backHalf=arr.concat(s);var res=[48];constructLength(res,backHalf.length);res=res.concat(backHalf);return utils.encode(res,enc)}},{"../../elliptic":"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic.js","bn.js":"/Users/paulfrazee/patchwork/node_modules/bn.js/lib/bn.js"}],"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic/eddsa/index.js":[function(require,module,exports){
"use strict";var hash=require("hash.js");var elliptic=require("../../elliptic");var utils=elliptic.utils;var assert=utils.assert;var parseBytes=utils.parseBytes;var KeyPair=require("./key");var Signature=require("./signature");function EDDSA(curve){assert(curve==="ed25519","only tested with ed25519 so far");if(!(this instanceof EDDSA))return new EDDSA(curve);var curve=elliptic.curves[curve].curve;this.curve=curve;this.g=curve.g;this.g.precompute(curve.n.bitLength()+1);this.pointClass=curve.point().constructor;this.encodingLength=Math.ceil(curve.n.bitLength()/8);this.hash=hash.sha512}module.exports=EDDSA;EDDSA.prototype.sign=function sign(message,secret){message=parseBytes(message);var key=this.keyFromSecret(secret);var r=this.hashInt(key.messagePrefix(),message);var R=this.g.mul(r);var Rencoded=this.encodePoint(R);var s_=this.hashInt(Rencoded,key.pubBytes(),message).mul(key.priv());var S=r.add(s_).umod(this.curve.n);return this.makeSignature({R:R,S:S,Rencoded:Rencoded})};EDDSA.prototype.verify=function verify(message,sig,pub){message=parseBytes(message);sig=this.makeSignature(sig);var key=this.keyFromPublic(pub);var h=this.hashInt(sig.Rencoded(),key.pubBytes(),message);var SG=this.g.mul(sig.S());var RplusAh=sig.R().add(key.pub().mul(h));return RplusAh.eq(SG)};EDDSA.prototype.hashInt=function hashInt(){var hash=this.hash();for(var i=0;i<arguments.length;i++)hash.update(arguments[i]);return utils.intFromLE(hash.digest()).umod(this.curve.n)};EDDSA.prototype.keyFromPublic=function keyFromPublic(pub){return KeyPair.fromPublic(this,pub)};EDDSA.prototype.keyFromSecret=function keyFromSecret(secret){return KeyPair.fromSecret(this,secret)};EDDSA.prototype.makeSignature=function makeSignature(sig){if(sig instanceof Signature)return sig;return new Signature(this,sig)};EDDSA.prototype.encodePoint=function encodePoint(point){var enc=point.getY().toArray("le",this.encodingLength);enc[this.encodingLength-1]|=point.getX().isOdd()?128:0;return enc};EDDSA.prototype.decodePoint=function decodePoint(bytes){bytes=utils.parseBytes(bytes);var lastIx=bytes.length-1;var normed=bytes.slice(0,lastIx).concat(bytes[lastIx]&~128);var xIsOdd=(bytes[lastIx]&128)!==0;var y=utils.intFromLE(normed);return this.curve.pointFromY(y,xIsOdd)};EDDSA.prototype.encodeInt=function encodeInt(num){return num.toArray("le",this.encodingLength)};EDDSA.prototype.decodeInt=function decodeInt(bytes){return utils.intFromLE(bytes)};EDDSA.prototype.isPoint=function isPoint(val){return val instanceof this.pointClass}},{"../../elliptic":"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic.js","./key":"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic/eddsa/key.js","./signature":"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic/eddsa/signature.js","hash.js":"/Users/paulfrazee/patchwork/node_modules/hash.js/lib/hash.js"}],"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic/eddsa/key.js":[function(require,module,exports){"use strict";var elliptic=require("../../elliptic");var utils=elliptic.utils;var assert=utils.assert;var parseBytes=utils.parseBytes;var cachedProperty=utils.cachedProperty;function KeyPair(eddsa,params){this.eddsa=eddsa;this._secret=parseBytes(params.secret);if(eddsa.isPoint(params.pub))this._pub=params.pub;else this._pubBytes=parseBytes(params.pub)}KeyPair.fromPublic=function fromPublic(eddsa,pub){if(pub instanceof KeyPair)return pub;return new KeyPair(eddsa,{pub:pub})};KeyPair.fromSecret=function fromSecret(eddsa,secret){if(secret instanceof KeyPair)return secret;return new KeyPair(eddsa,{secret:secret})};KeyPair.prototype.secret=function secret(){return this._secret};cachedProperty(KeyPair,function pubBytes(){return this.eddsa.encodePoint(this.pub())});cachedProperty(KeyPair,function pub(){if(this._pubBytes)return this.eddsa.decodePoint(this._pubBytes);return this.eddsa.g.mul(this.priv())});cachedProperty(KeyPair,function privBytes(){var eddsa=this.eddsa;var hash=this.hash();var lastIx=eddsa.encodingLength-1;var a=hash.slice(0,eddsa.encodingLength);a[0]&=248;a[lastIx]&=127;a[lastIx]|=64;return a});cachedProperty(KeyPair,function priv(){return this.eddsa.decodeInt(this.privBytes())});cachedProperty(KeyPair,function hash(){return this.eddsa.hash().update(this.secret()).digest()});cachedProperty(KeyPair,function messagePrefix(){return this.hash().slice(this.eddsa.encodingLength)});KeyPair.prototype.sign=function sign(message){assert(this._secret,"KeyPair can only verify");return this.eddsa.sign(message,this)};KeyPair.prototype.verify=function verify(message,sig){return this.eddsa.verify(message,sig,this)};KeyPair.prototype.getSecret=function getSecret(enc){assert(this._secret,"KeyPair is public only");return utils.encode(this.secret(),enc)};KeyPair.prototype.getPublic=function getPublic(enc){return utils.encode(this.pubBytes(),enc)};module.exports=KeyPair},{"../../elliptic":"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic.js"}],"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic/eddsa/signature.js":[function(require,module,exports){"use strict";var BN=require("bn.js");var elliptic=require("../../elliptic");var utils=elliptic.utils;var assert=utils.assert;var cachedProperty=utils.cachedProperty;var parseBytes=utils.parseBytes;function Signature(eddsa,sig){this.eddsa=eddsa;if(typeof sig!=="object")sig=parseBytes(sig);if(Array.isArray(sig)){sig={R:sig.slice(0,eddsa.encodingLength),S:sig.slice(eddsa.encodingLength)}}assert(sig.R&&sig.S,"Signature without R or S");if(eddsa.isPoint(sig.R))this._R=sig.R;if(sig.S instanceof BN)this._S=sig.S;this._Rencoded=Array.isArray(sig.R)?sig.R:sig.Rencoded;this._Sencoded=Array.isArray(sig.S)?sig.S:sig.Sencoded}cachedProperty(Signature,function S(){return this.eddsa.decodeInt(this.Sencoded())});cachedProperty(Signature,function R(){return this.eddsa.decodePoint(this.Rencoded())});cachedProperty(Signature,function Rencoded(){return this.eddsa.encodePoint(this.R())});cachedProperty(Signature,function Sencoded(){return this.eddsa.encodeInt(this.S())});Signature.prototype.toBytes=function toBytes(){return this.Rencoded().concat(this.Sencoded())};Signature.prototype.toHex=function toHex(){return utils.encode(this.toBytes(),"hex").toUpperCase()};module.exports=Signature},{"../../elliptic":"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic.js","bn.js":"/Users/paulfrazee/patchwork/node_modules/bn.js/lib/bn.js"}],"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic/hmac-drbg.js":[function(require,module,exports){"use strict";var hash=require("hash.js");var elliptic=require("../elliptic");var utils=elliptic.utils;var assert=utils.assert;function HmacDRBG(options){if(!(this instanceof HmacDRBG))return new HmacDRBG(options);this.hash=options.hash;this.predResist=!!options.predResist;this.outLen=this.hash.outSize;this.minEntropy=options.minEntropy||this.hash.hmacStrength;this.reseed=null;this.reseedInterval=null;this.K=null;this.V=null;var entropy=utils.toArray(options.entropy,options.entropyEnc);var nonce=utils.toArray(options.nonce,options.nonceEnc);var pers=utils.toArray(options.pers,options.persEnc);assert(entropy.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits");this._init(entropy,nonce,pers)}module.exports=HmacDRBG;HmacDRBG.prototype._init=function init(entropy,nonce,pers){var seed=entropy.concat(nonce).concat(pers);this.K=new Array(this.outLen/8);this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++){this.K[i]=0;this.V[i]=1}this._update(seed);this.reseed=1;this.reseedInterval=281474976710656};HmacDRBG.prototype._hmac=function hmac(){return new hash.hmac(this.hash,this.K)};HmacDRBG.prototype._update=function update(seed){var kmac=this._hmac().update(this.V).update([0]);if(seed)kmac=kmac.update(seed);this.K=kmac.digest();this.V=this._hmac().update(this.V).digest();if(!seed)return;this.K=this._hmac().update(this.V).update([1]).update(seed).digest();this.V=this._hmac().update(this.V).digest()};HmacDRBG.prototype.reseed=function reseed(entropy,entropyEnc,add,addEnc){if(typeof entropyEnc!=="string"){addEnc=add;add=entropyEnc;entropyEnc=null}entropy=utils.toBuffer(entropy,entropyEnc);add=utils.toBuffer(add,addEnc);assert(entropy.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits");this._update(entropy.concat(add||[]));this.reseed=1};HmacDRBG.prototype.generate=function generate(len,enc,add,addEnc){if(this.reseed>this.reseedInterval)throw new Error("Reseed is required");if(typeof enc!=="string"){addEnc=add;add=enc;enc=null}if(add){add=utils.toArray(add,addEnc);this._update(add)}var temp=[];while(temp.length<len){this.V=this._hmac().update(this.V).digest();temp=temp.concat(this.V)}var res=temp.slice(0,len);this._update(add);this.reseed++;return utils.encode(res,enc)}},{"../elliptic":"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic.js","hash.js":"/Users/paulfrazee/patchwork/node_modules/hash.js/lib/hash.js"}],"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic/precomputed/secp256k1.js":[function(require,module,exports){module.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]
}}},{}],"/Users/paulfrazee/patchwork/node_modules/elliptic/lib/elliptic/utils.js":[function(require,module,exports){"use strict";var utils=exports;var BN=require("bn.js");utils.assert=function assert(val,msg){if(!val)throw new Error(msg||"Assertion failed")};function toArray(msg,enc){if(Array.isArray(msg))return msg.slice();if(!msg)return[];var res=[];if(typeof msg!=="string"){for(var i=0;i<msg.length;i++)res[i]=msg[i]|0;return res}if(!enc){for(var i=0;i<msg.length;i++){var c=msg.charCodeAt(i);var hi=c>>8;var lo=c&255;if(hi)res.push(hi,lo);else res.push(lo)}}else if(enc==="hex"){msg=msg.replace(/[^a-z0-9]+/gi,"");if(msg.length%2!==0)msg="0"+msg;for(var i=0;i<msg.length;i+=2)res.push(parseInt(msg[i]+msg[i+1],16))}return res}utils.toArray=toArray;function zero2(word){if(word.length===1)return"0"+word;else return word}utils.zero2=zero2;function toHex(msg){var res="";for(var i=0;i<msg.length;i++)res+=zero2(msg[i].toString(16));return res}utils.toHex=toHex;utils.encode=function encode(arr,enc){if(enc==="hex")return toHex(arr);else return arr};function getNAF(num,w){var naf=[];var ws=1<<w+1;var k=num.clone();while(k.cmpn(1)>=0){var z;if(k.isOdd()){var mod=k.andln(ws-1);if(mod>(ws>>1)-1)z=(ws>>1)-mod;else z=mod;k.isubn(z)}else{z=0}naf.push(z);var shift=k.cmpn(0)!==0&&k.andln(ws-1)===0?w+1:1;for(var i=1;i<shift;i++)naf.push(0);k.iushrn(shift)}return naf}utils.getNAF=getNAF;function getJSF(k1,k2){var jsf=[[],[]];k1=k1.clone();k2=k2.clone();var d1=0;var d2=0;while(k1.cmpn(-d1)>0||k2.cmpn(-d2)>0){var m14=k1.andln(3)+d1&3;var m24=k2.andln(3)+d2&3;if(m14===3)m14=-1;if(m24===3)m24=-1;var u1;if((m14&1)===0){u1=0}else{var m8=k1.andln(7)+d1&7;if((m8===3||m8===5)&&m24===2)u1=-m14;else u1=m14}jsf[0].push(u1);var u2;if((m24&1)===0){u2=0}else{var m8=k2.andln(7)+d2&7;if((m8===3||m8===5)&&m14===2)u2=-m24;else u2=m24}jsf[1].push(u2);if(2*d1===u1+1)d1=1-d1;if(2*d2===u2+1)d2=1-d2;k1.iushrn(1);k2.iushrn(1)}return jsf}utils.getJSF=getJSF;function cachedProperty(obj,computer){var name=computer.name;var key="_"+name;obj.prototype[name]=function cachedProperty(){return this[key]!==undefined?this[key]:this[key]=computer.call(this)}}utils.cachedProperty=cachedProperty;function parseBytes(bytes){return typeof bytes==="string"?utils.toArray(bytes,"hex"):bytes}utils.parseBytes=parseBytes;function intFromLE(bytes){return new BN(bytes,"hex","le")}utils.intFromLE=intFromLE},{"bn.js":"/Users/paulfrazee/patchwork/node_modules/bn.js/lib/bn.js"}],"/Users/paulfrazee/patchwork/node_modules/elliptic/package.json":[function(require,module,exports){module.exports=module.exports=module.exports={_args:[["elliptic@^6.0.0","/Users/paulfrazee/patchwork/node_modules/browserify-sign"]],_from:"elliptic@>=6.0.0 <7.0.0",_id:"elliptic@6.2.2",_inCache:true,_installable:true,_location:"/elliptic",_nodeVersion:"5.4.1",_npmUser:{email:"fedor@indutny.com",name:"indutny"},_npmVersion:"3.3.12",_phantomChildren:{},_requested:{name:"elliptic",raw:"elliptic@^6.0.0",rawSpec:"^6.0.0",scope:null,spec:">=6.0.0 <7.0.0",type:"range"},_requiredBy:["/browserify-sign","/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.2.2.tgz",_shasum:"806bfa651a5aa4996a1e79c92b573761ea7d7574",_shrinkwrap:null,_spec:"elliptic@^6.0.0",_where:"/Users/paulfrazee/patchwork/node_modules/browserify-sign",author:{email:"fedor@indutny.com",name:"Fedor Indutny"},bugs:{url:"https://github.com/indutny/elliptic/issues"},dependencies:{"bn.js":"^4.0.0",brorand:"^1.0.1","hash.js":"^1.0.0",inherits:"^2.0.1"},description:"EC cryptography",devDependencies:{browserify:"^3.44.2",coveralls:"^2.11.3",istanbul:"^0.3.17",jscs:"^1.11.3",jshint:"^2.6.0",mocha:"^2.1.0","uglify-js":"^2.4.13"},directories:{},dist:{shasum:"806bfa651a5aa4996a1e79c92b573761ea7d7574",tarball:"http://registry.npmjs.org/elliptic/-/elliptic-6.2.2.tgz"},files:["lib"],gitHead:"628eb61186a7f1c81247cf991d808dc9ead83645",homepage:"https://github.com/indutny/elliptic",keywords:["Cryptography","EC","Elliptic","curve"],license:"MIT",main:"lib/elliptic.js",maintainers:[{name:"indutny",email:"fedor@indutny.com"}],name:"elliptic",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{coveralls:"cat ./coverage/lcov.info | coveralls",test:"make lint && istanbul test _mocha --reporter=spec test/*-test.js"},version:"6.2.2"}},{}],"/Users/paulfrazee/patchwork/node_modules/emoji-named-characters/index.js":[function(require,module,exports){(function(root,factory){if(typeof exports==="object"){module.exports=factory()}else if(typeof define==="function"&&define.amd){define(factory)}else{root.emoji=factory()}})(this,function(){return{100:{character:"",syllables:3,types:["noun"]},1234:{character:"",syllables:4,types:[]},"+1":{character:"",syllables:2,types:["interjection"]},"-1":{character:"",syllables:3,types:[]},"8ball":{character:"",syllables:2,types:[]},a:{character:"",syllables:1,types:["noun","idiom","indefinite-article","preposition","auxiliary-verb","abbreviation"]},ab:{character:"",syllables:1,types:["noun"]},abc:{character:"",syllables:3,types:[]},abcd:{character:"",syllables:4,types:[]},accept:{character:"",syllables:2,types:["verb-transitive","verb-intransitive"]},aerial_tramway:{character:"",syllables:3,types:[]},airplane:{character:"",syllables:2,types:["noun"]},alarm_clock:{character:"",syllables:3,types:[]},alien:{character:"",syllables:3,types:["adjective","noun","verb-transitive"]},ambulance:{character:"",syllables:3,types:["noun"]},anchor:{character:"",syllables:2,types:["noun","verb-transitive","verb-intransitive"]},angel:{character:"",syllables:2,types:["noun"]},anger:{character:"",syllables:2,types:["noun","verb-transitive","verb-intransitive"]},angry:{character:"",syllables:2,types:["adjective"]},anguished:{character:"",syllables:2,types:["adjective"]},ant:{character:"",syllables:1,types:["noun","idiom"]},apple:{character:"",syllables:2,types:["noun","idiom"]},aquarius:{character:"",syllables:4,types:[]},aries:{character:"",syllables:2,types:[]},arrow_backward:{character:"",syllables:4,types:[]},arrow_double_down:{character:"",syllables:5,types:[]},arrow_double_up:{character:"",syllables:5,types:[]},arrow_down:{character:"",syllables:3,types:[]},arrow_down_small:{character:"",syllables:4,types:[]},arrow_forward:{character:"",syllables:4,types:[]},arrow_heading_down:{character:"",syllables:5,types:[]},arrow_heading_up:{character:"",syllables:5,types:[]},arrow_left:{character:"",syllables:3,types:[]},arrow_lower_left:{character:"",syllables:5,types:[]},arrow_lower_right:{character:"",syllables:5,types:[]},arrow_right:{character:"",syllables:3,types:[]},arrow_right_hook:{character:"",syllables:4,types:[]},arrow_up:{character:"",syllables:3,types:[]},arrow_up_down:{character:"",syllables:4,types:[]},arrow_up_small:{character:"",syllables:4,types:[]},arrow_upper_left:{character:"",syllables:5,types:[]},arrow_upper_right:{character:"",syllables:5,types:[]},arrows_clockwise:{character:"",syllables:4,types:[]},arrows_counterclockwise:{character:"",syllables:6,types:[]},art:{character:"",syllables:1,types:["noun","verb"]},articulated_lorry:{character:"",syllables:7,types:[]},astonished:{character:"",syllables:3,types:["adjective","verb"]},atm:{character:"",syllables:3,types:["abbreviation"]},b:{character:"",syllables:1,types:["noun","abbreviation"]},baby:{character:"",syllables:2,types:["noun","adjective","verb-transitive"]},baby_bottle:{character:"",syllables:4,types:[]},baby_chick:{character:"",syllables:3,types:[]},baby_symbol:{character:"",syllables:4,types:[]},baggage_claim:{character:"",syllables:3,types:[]},balloon:{character:"",syllables:2,types:["noun","verb-intransitive","verb-transitive","adjective"]},ballot_box_with_check:{character:"",syllables:5,types:[]},bamboo:{character:"",syllables:2,types:["noun"]},banana:{character:"",syllables:3,types:["noun"]},bangbang:{character:"",syllables:2,types:[]},bank:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive","phrasal-verb"]},bar_chart:{character:"",syllables:2,types:[]},barber:{character:"",syllables:2,types:["noun","verb-transitive","verb-intransitive"]},baseball:{character:"",syllables:2,types:["noun"]},basketball:{character:"",syllables:3,types:["noun"]},bath:{character:"",syllables:1,types:["noun"]},bathtub:{character:"",syllables:2,types:["noun"]},battery:{character:"",syllables:3,types:["noun"]},bear:{character:"",syllables:1,types:["verb-transitive","verb-intransitive","phrasal-verb","idiom","noun","adjective"]},bee:{character:"",syllables:1,types:["noun","idiom"]},beer:{character:"",syllables:1,types:["noun"]},beers:{character:"",syllables:1,types:["noun"]},beetle:{character:"",syllables:2,types:["noun","verb-intransitive","adjective"]},beginner:{character:"",syllables:3,types:["noun"]},bell:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive","idiom"]},bento:{character:"",syllables:2,types:["noun"]},bicyclist:{character:"",syllables:3,types:["noun"]},bike:{character:"",syllables:1,types:["noun","verb-intransitive"]},bikini:{character:"",syllables:3,types:["noun"]},bird:{character:"",syllables:1,types:["noun","verb-intransitive","idiom"]},birthday:{character:"",syllables:2,types:["noun"]},black_circle:{character:"",syllables:3,types:[]},black_joker:{character:"",syllables:3,types:[]},black_nib:{character:"",syllables:2,types:[]},black_square:{character:"",syllables:2,types:[]},black_square_button:{character:"",syllables:4,types:[]},blossom:{character:"",syllables:2,types:["noun","verb-intransitive"]},blowfish:{character:"",syllables:2,types:["noun"]},blue_book:{character:"",syllables:2,types:[]},blue_car:{character:"",syllables:2,types:[]},blue_heart:{character:"",syllables:2,types:[]},blush:{character:"",syllables:1,types:["verb-intransitive","noun"]},boar:{character:"",syllables:1,types:["noun"]},boat:{character:"",syllables:1,types:["noun","verb-intransitive","verb-transitive","idiom"]},bomb:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive"]},book:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive","adjective","idiom"]},bookmark:{character:"",syllables:2,types:["noun"]},bookmark_tabs:{character:"",syllables:3,types:[]},books:{character:"",syllables:1,types:["noun","verb"]},boom:{character:"",syllables:1,types:["verb-intransitive","verb-transitive","noun","idiom"]},boot:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive","idiom"]},bouquet:{character:"",syllables:2,types:["noun"]},bow:{character:"",syllables:1,types:["noun","verb-intransitive","verb-transitive","phrasal-verb","idiom"]},bowling:{character:"",syllables:2,types:["noun"]},boy:{character:"",syllables:1,types:["noun","interjection"]},bread:{character:"",syllables:1,types:["noun","verb-transitive"]},bride_with_veil:{character:"",syllables:3,types:[]},bridge_at_night:{character:"",syllables:3,types:[]},briefcase:{character:"",syllables:2,types:["noun"]},broken_heart:{character:"",syllables:3,types:[]},bug:{character:"",syllables:1,types:["noun","verb-intransitive","verb-transitive","phrasal-verb","idiom"]},bulb:{character:"",syllables:1,types:["noun"]},bullettrain_front:{character:"",syllables:4,types:[]},bullettrain_side:{character:"",syllables:4,types:[]},bus:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive"]},busstop:{character:"",syllables:2,types:[]},bust_in_silhouette:{character:"",syllables:5,types:[]},busts_in_silhouette:{character:"",syllables:5,types:[]},cactus:{character:"",syllables:2,types:["noun"]},cake:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive"]},calendar:{character:"",syllables:3,types:["noun","verb-transitive"]},calling:{character:"",syllables:2,types:["noun"]},camel:{character:"",syllables:2,types:["noun"]},camera:{character:"",syllables:3,types:["noun","idiom"]},cancer:{character:"",syllables:2,types:["noun"]},candy:{character:"",syllables:2,types:["noun","verb-transitive","verb-intransitive"]},capital_abcd:{character:"",syllables:7,types:[]},capricorn:{character:"",syllables:3,types:[]},car:{character:"",syllables:1,types:["noun"]},card_index:{character:"",syllables:3,types:[]},carousel_horse:{character:"",syllables:4,types:[]},cat:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive","idiom"]},cat2:{character:"",syllables:2,types:[]},cd:{character:"",syllables:2,types:["abbreviation"]},chart:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive"]},chart_with_downwards_trend:{character:"",syllables:5,types:[]},chart_with_upwards_trend:{character:"",syllables:5,types:[]},checkered_flag:{character:"",syllables:3,types:[]},cherries:{character:"",syllables:2,types:["noun"]},cherry_blossom:{character:"",syllables:4,types:[]},chestnut:{character:"",syllables:2,types:["noun","adjective"]},chicken:{character:"",syllables:2,types:["noun","adjective","verb-intransitive"]},children_crossing:{character:"",syllables:4,types:[]},chocolate_bar:{character:"",syllables:3,types:[]},christmas_tree:{character:"",syllables:3,types:[]},church:{character:"",syllables:1,types:["noun","verb-transitive","adjective"]},cinema:{character:"",syllables:3,types:["noun"]},circus_tent:{character:"",syllables:3,types:[]},city_sunrise:{character:"",syllables:4,types:[]},city_sunset:{character:"",syllables:4,types:[]},cl:{character:"",syllables:2,types:["abbreviation"]},clap:{character:"",syllables:1,types:["verb-intransitive","verb-transitive","noun"]},clapper:{character:"",syllables:2,types:["noun"]},clipboard:{character:"",syllables:2,types:["noun"]},clock1:{character:"",syllables:2,types:[]},clock10:{character:"",syllables:2,types:[]},clock1030:{character:"",syllables:4,types:[]},clock11:{character:"",syllables:4,types:[]},clock1130:{character:"",syllables:6,types:[]},clock12:{character:"",syllables:2,types:[]},clock1230:{character:"",syllables:4,types:[]},clock130:{character:"",syllables:4,types:[]},clock2:{character:"",syllables:2,types:[]},clock230:{character:"",syllables:4,types:[]},clock3:{character:"",syllables:2,types:[]},clock330:{character:"",syllables:4,types:[]},clock4:{character:"",syllables:2,types:[]},clock430:{character:"",syllables:4,types:[]},clock5:{character:"",syllables:2,types:[]},clock530:{character:"",syllables:4,types:[]},clock6:{character:"",syllables:2,types:[]},clock630:{character:"",syllables:4,types:[]},clock7:{character:"",syllables:3,types:[]},clock730:{character:"",syllables:5,types:[]},clock8:{character:"",syllables:2,types:[]},clock830:{character:"",syllables:4,types:[]},clock9:{character:"",syllables:2,types:[]},clock930:{character:"",syllables:4,types:[]},closed_book:{character:"",syllables:2,types:[]},closed_lock_with_key:{character:"",syllables:4,types:[]},closed_umbrella:{character:"",syllables:4,types:[]},cloud:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive","idiom"]},clubs:{character:"",syllables:1,types:["verb","noun"]},cn:{character:"",syllables:2,types:[]},cocktail:{character:"",syllables:2,types:["noun","adjective"]},coffee:{character:"",syllables:2,types:["noun"]},cold_sweat:{character:"",syllables:2,types:[]},collision:{character:"",syllables:3,types:["noun"]},computer:{character:"",syllables:3,types:["noun"]},confetti_ball:{character:"",syllables:4,types:[]},confounded:{character:"",syllables:3,types:["adjective"]},confused:{character:"",syllables:2,types:["adjective"]},congratulations:{character:"",syllables:5,types:["interjection","noun"]},construction:{character:"",syllables:3,types:["noun"]},construction_worker:{character:"",syllables:5,types:[]},convenience_store:{character:"",syllables:4,types:[]},cookie:{character:"",syllables:2,types:["noun"]},cool:{character:"",syllables:1,types:["adjective","adverb","verb-transitive","verb-intransitive","noun","idiom"]},cop:{character:"",syllables:1,types:["noun","verb-transitive","phrasal-verb","idiom"]},copyright:{character:"",syllables:3,types:["noun","adjective","verb-transitive"]},corn:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive"]},couple:{character:"",syllables:2,types:["noun","verb-transitive","verb-intransitive","adjective"]},couple_with_heart:{character:"",syllables:4,types:[]},couplekiss:{character:"",syllables:3,types:[]},cow:{character:"",syllables:1,types:["noun","idiom","verb-transitive"]},cow2:{character:"",syllables:2,types:[]},credit_card:{character:"",syllables:3,types:[]},crocodile:{character:"",syllables:3,types:["noun"]},crossed_flags:{character:"",syllables:2,types:[]},crown:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive"]},cry:{character:"",syllables:1,types:["verb-intransitive","verb-transitive","noun","phrasal-verb","idiom"]},crying_cat_face:{character:"",syllables:4,types:[]},crystal_ball:{character:"",syllables:3,types:[]},cupid:{character:"",syllables:2,types:["noun"]},curly_loop:{character:"",syllables:3,types:[]},currency_exchange:{character:"",syllables:5,types:[]},curry:{character:"",syllables:2,types:["verb-transitive","idiom","noun"]},custard:{character:"",syllables:2,types:["noun"]},customs:{character:"",syllables:2,types:["noun"]},cyclone:{character:"",syllables:2,types:["noun"]},dancer:{character:"",syllables:2,types:["noun"]},dancers:{character:"",syllables:2,types:["noun"]},dango:{character:"",syllables:2,types:[]},dart:{character:"",syllables:1,types:["noun","verb-intransitive","verb-transitive"]},dash:{character:"",syllables:1,types:["verb-transitive","verb-intransitive","noun"]},date:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive","idiom"]},de:{character:"",syllables:1,types:["noun","verb"]},deciduous_tree:{character:"",syllables:5,types:[]},department_store:{character:"",syllables:4,types:[]},diamond_shape_with_a_dot_inside:{character:"",syllables:8,types:[]},diamonds:{character:"",syllables:2,types:["noun","verb"]},disappointed:{character:"",syllables:4,types:["adjective"]},disappointed_relieved:{character:"",syllables:6,types:[]},dizzy:{character:"",syllables:2,types:["adjective","verb-transitive"]},dizzy_face:{character:"",syllables:3,types:[]},do_not_litter:{character:"",syllables:4,types:[]},dog:{character:"",syllables:1,types:["noun","adverb","verb-transitive","idiom"]},dog2:{character:"",syllables:2,types:[]},dollar:{character:"",syllables:2,types:["noun"]},dolls:{character:"",syllables:1,types:["noun"]},dolphin:{character:"",syllables:2,types:["noun"]},donut:{character:"",syllables:2,types:["noun"]},door:{character:"",syllables:1,types:["noun","verb-transitive","idiom"]},doughnut:{character:"",syllables:2,types:["noun"]},dragon:{character:"",syllables:2,types:["noun"]},dragon_face:{character:"",syllables:3,types:[]},dress:{character:"",syllables:1,types:["verb-transitive","verb-intransitive","noun","adjective","phrasal-verb","idiom"]},dromedary_camel:{character:"",syllables:6,types:[]},droplet:{character:"",syllables:2,types:["noun"]},dvd:{character:"",syllables:3,types:[]},"e-mail":{character:"",syllables:2,types:["noun","verb-transitive"]},ear:{character:"",syllables:1,types:["noun","idiom","verb-intransitive"]},ear_of_rice:{character:"",syllables:3,types:[]},earth_africa:{character:"",syllables:4,types:[]},earth_americas:{character:"",syllables:5,types:[]},earth_asia:{character:"",syllables:3,types:[]},egg:{character:"",syllables:1,types:["noun","verb-transitive","idiom"]},eggplant:{character:"",syllables:2,types:["noun"]},eight:{character:"8",syllables:1,types:["noun"]},eight_pointed_black_star:{character:"",syllables:5,types:[]},eight_spoked_asterisk:{character:"",syllables:4,types:[]},electric_plug:{character:"",syllables:4,types:[]},elephant:{character:"",syllables:3,types:["noun"]},email:{character:"",syllables:2,types:["noun","verb"]},end:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive","idiom"]},envelope:{character:"",syllables:3,types:["noun","idiom"]},es:{character:"",syllables:1,types:["noun"]},euro:{character:"",syllables:2,types:["noun"]},european_castle:{character:"",syllables:6,types:[]},european_post_office:{character:"",syllables:7,types:[]},evergreen_tree:{character:"",syllables:4,types:[]},exclamation:{character:"",syllables:4,types:["noun"]},expressionless:{character:"",syllables:4,types:["adjective"]},eyeglasses:{character:"",syllables:3,types:["noun"]},eyes:{character:"",syllables:1,types:["noun","verb"]},facepunch:{character:"",syllables:2,types:[]},factory:{character:"",syllables:3,types:["noun"]},fallen_leaf:{character:"",syllables:3,types:[]},family:{character:"",syllables:3,types:["noun","adjective"]},fast_forward:{character:"",syllables:3,types:[]},fax:{character:"",syllables:1,types:["noun","verb-transitive"]},fearful:{character:"",syllables:2,types:["adjective"]},feet:{character:"",syllables:1,types:["noun"]},ferris_wheel:{character:"",syllables:3,types:[]},file_folder:{character:"",syllables:3,types:[]},fire:{character:"",syllables:2,types:["noun","verb-transitive","verb-intransitive","phrasal-verb","idiom"]},fire_engine:{character:"",syllables:4,types:[]},fireworks:{character:"",syllables:2,types:["noun"]},first_quarter_moon:{character:"",syllables:4,types:[]},first_quarter_moon_with_face:{character:"",syllables:6,types:[]},fish:{character:"",syllables:1,types:["noun","verb-intransitive","verb-transitive","phrasal-verb","idiom"]},fish_cake:{character:"",syllables:2,types:[]},fishing_pole_and_fish:{character:"",syllables:5,types:[]},fist:{character:"",syllables:1,types:["noun","verb-transitive"]},five:{character:"5",syllables:1,types:["noun"]},flags:{character:"",syllables:1,types:["noun"]},flashlight:{character:"",syllables:2,types:["noun"]},floppy_disk:{character:"",syllables:3,types:[]},flower_playing_cards:{character:"",syllables:5,types:[]},flushed:{character:"",syllables:1,types:["adjective","verb"]},foggy:{character:"",syllables:2,types:["adjective"]},football:{character:"",syllables:2,types:["noun"]},fork_and_knife:{character:"",syllables:3,types:[]},fountain:{character:"",syllables:2,types:["noun","verb-transitive"]},four:{character:"4",syllables:1,types:["noun","idiom"]},four_leaf_clover:{character:"",syllables:4,types:[]},fr:{character:"",syllables:2,types:[]},free:{character:"",syllables:1,types:["adjective","adverb","verb-transitive","idiom"]},fried_shrimp:{character:"",syllables:2,types:[]},fries:{character:"",syllables:1,types:["verb","noun"]},frog:{character:"",syllables:1,types:["noun"]},frowning:{character:"",syllables:2,types:["verb"]},fuelpump:{character:"",syllables:2,types:[]},full_moon:{character:"",syllables:2,types:[]},full_moon_with_face:{character:"",syllables:4,types:[]},game_die:{character:"",syllables:2,types:[]},gb:{character:"",syllables:2,types:[]},gem:{character:"",syllables:1,types:["noun","verb-transitive"]},gemini:{character:"",syllables:3,types:[]},ghost:{character:"",syllables:1,types:["noun","verb-intransitive","verb-transitive"]},gift:{character:"",syllables:1,types:["noun","verb-transitive"]},gift_heart:{character:"",syllables:2,types:[]},girl:{character:"",syllables:1,types:["noun"]},globe_with_meridians:{character:"",syllables:2,types:[]},goat:{character:"",syllables:1,types:["noun"]},golf:{character:"",syllables:1,types:["noun","verb-intransitive"]},grapes:{character:"",syllables:1,types:["noun"]},green_apple:{character:"",syllables:3,types:[]},green_book:{character:"",syllables:2,types:[]},green_heart:{character:"",syllables:2,types:[]},grey_exclamation:{character:"",syllables:5,types:[]},grey_question:{character:"",syllables:3,types:[]},grimacing:{character:"",syllables:3,types:["verb"]},grin:{character:"",syllables:1,types:["verb-intransitive","verb-transitive","noun"]},grinning:{character:"",syllables:2,types:["verb"]},guardsman:{character:"",syllables:2,types:["noun"]},guitar:{character:"",syllables:2,types:["noun"]},gun:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive","phrasal-verb","idiom"]},haircut:{character:"",syllables:2,types:["noun"]},hamburger:{character:"",syllables:3,types:["noun"]},hammer:{character:"",syllables:2,types:["noun","verb-transitive","verb-intransitive","idiom"]},hamster:{character:"",syllables:2,types:["noun"]},hand:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive","phrasal-verb","idiom"]},handbag:{character:"",syllables:2,types:["noun"]},hankey:{character:"",syllables:2,types:["noun"]},hash:{character:"#",syllables:1,types:["noun","verb-transitive","idiom"]},hatched_chick:{character:"",syllables:2,types:[]},hatching_chick:{character:"",syllables:3,types:[]},headphones:{character:"",syllables:2,types:["noun"]},hear_no_evil:{character:"",syllables:4,types:[]},heart:{character:"",syllables:1,types:["noun","verb-transitive","idiom"]},heart_decoration:{character:"",syllables:5,types:[]},heart_eyes:{character:"",syllables:2,types:[]},heart_eyes_cat:{character:"",syllables:3,types:[]},heartbeat:{character:"",syllables:2,types:["noun"]},heartpulse:{character:"",syllables:2,types:[]},hearts:{character:"",syllables:1,types:["noun","verb"]},heavy_check_mark:{character:"",syllables:4,types:[]},heavy_division_sign:{character:"",syllables:6,types:[]},heavy_dollar_sign:{character:"",syllables:5,types:[]},heavy_exclamation_mark:{character:"",syllables:7,types:[]},heavy_minus_sign:{character:"",syllables:5,types:[]},heavy_multiplication_x:{character:"",syllables:8,types:[]},heavy_plus_sign:{character:"",syllables:4,types:[]},helicopter:{character:"",syllables:4,types:["noun","verb-transitive"]},herb:{character:"",syllables:1,types:["noun"]},hibiscus:{character:"",syllables:3,types:["noun"]},high_brightness:{character:"",syllables:3,types:[]},high_heel:{character:"",syllables:2,types:[]},hocho:{character:"",syllables:2,types:[]},honey_pot:{character:"",syllables:3,types:[]},honeybee:{character:"",syllables:3,types:["noun"]},horse:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive","adjective","phrasal-verb","idiom"]},horse_racing:{character:"",syllables:3,types:[]},hospital:{character:"",syllables:3,types:["noun"]},hotel:{character:"",syllables:2,types:["noun"]},hotsprings:{character:"",syllables:2,types:[]},hourglass:{character:"",syllables:3,types:["noun","adjective"]},hourglass_flowing_sand:{character:"",syllables:6,types:[]},house:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive","idiom"]},house_with_garden:{character:"",syllables:4,types:[]},hushed:{character:"",syllables:1,types:["adjective","verb"]},ice_cream:{character:"",syllables:2,types:[]},icecream:{character:"",syllables:2,types:["noun"]},id:{character:"",syllables:1,types:["noun"]},ideograph_advantage:{character:"",syllables:3,types:[]},imp:{character:"",syllables:1,types:["noun","verb-transitive"]},inbox_tray:{character:"",syllables:1,types:[]},incoming_envelope:{character:"",syllables:6,types:[]},information_desk_person:{character:"",syllables:7,types:[]},information_source:{character:"",syllables:5,types:[]},innocent:{character:"",syllables:3,types:["adjective","noun"]},interrobang:{character:"",syllables:4,types:["noun"]},iphone:{character:"",syllables:2,types:[]},it:{character:"",syllables:1,types:["pronoun","noun","idiom"]},izakaya_lantern:{character:"",syllables:2,types:[]},jack_o_lantern:{character:"",syllables:4,types:[]},japan:{character:"",syllables:2,types:["noun","verb-transitive"]},japanese_castle:{character:"",syllables:5,types:[]},japanese_goblin:{character:"",syllables:5,types:[]},japanese_ogre:{character:"",syllables:5,types:[]},jeans:{character:"",syllables:1,types:["noun"]},joy:{character:"",syllables:1,types:["noun","verb-intransitive","verb-transitive"]},joy_cat:{character:"",syllables:2,types:[]},jp:{character:"",syllables:2,types:["abbreviation"]},key:{character:"",syllables:1,types:["noun","adjective","verb-transitive","verb-intransitive","phrasal-verb","idiom"]},keycap_ten:{character:"",syllables:1,types:[]},kimono:{character:"",syllables:3,types:["noun"]},kiss:{character:"",syllables:1,types:["verb-transitive","verb-intransitive","noun","phrasal-verb","idiom"]},kissing:{character:"",syllables:2,types:["verb","adjective"]},kissing_cat:{character:"",syllables:3,types:[]},kissing_closed_eyes:{character:"",syllables:4,types:[]},kissing_face:{character:"",syllables:3,types:[]},kissing_heart:{character:"",syllables:3,types:[]},kissing_smiling_eyes:{character:"",syllables:5,types:[]},koala:{character:"",syllables:3,types:["noun"]},koko:{character:"",syllables:2,types:["noun"]},kr:{character:"",syllables:2,types:[]},large_blue_circle:{character:"",syllables:4,types:[]},large_blue_diamond:{character:"",syllables:4,types:[]},large_orange_diamond:{character:"",syllables:5,types:[]},last_quarter_moon:{character:"",syllables:4,types:[]},last_quarter_moon_with_face:{character:"",syllables:6,types:[]},laughing:{character:"",syllables:2,types:["noun","verb"]},leaves:{character:"",syllables:1,types:["noun"]},ledger:{character:"",syllables:2,types:["noun"]},left_luggage:{character:"",syllables:3,types:[]},left_right_arrow:{character:"",syllables:4,types:[]},leftwards_arrow_with_hook:{character:"",syllables:4,types:[]},lemon:{character:"",syllables:2,types:["noun","adjective"]},leo:{character:"",syllables:2,types:[]},leopard:{character:"",syllables:2,types:["noun"]},libra:{character:"",syllables:2,types:["noun"]},light_rail:{character:"",syllables:2,types:[]},link:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive"]},lips:{character:"",syllables:1,types:["noun"]},lipstick:{character:"",syllables:2,types:["noun"]},lock:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive","phrasal-verb","idiom"]},lock_with_ink_pen:{character:"",syllables:4,types:[]},lollipop:{character:"",syllables:3,types:["noun"]},loop:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive","idiom"]},loudspeaker:{character:"",syllables:3,types:["noun"]},love_hotel:{character:"",syllables:3,types:[]},love_letter:{character:"",syllables:3,types:[]},low_brightness:{character:"",syllables:3,types:[]},m:{character:"",syllables:1,types:["noun","abbreviation"]},mag:{character:"",syllables:1,types:["noun"]},mag_right:{character:"",syllables:2,types:[]},mahjong:{character:"",syllables:2,types:["noun"]},mailbox:{character:"",syllables:2,types:["noun"]},mailbox_closed:{character:"",syllables:3,types:[]},mailbox_with_mail:{character:"",syllables:4,types:[]},mailbox_with_no_mail:{character:"",syllables:5,types:[]},man:{character:"",syllables:1,types:["noun","verb-transitive","interjection","idiom"]},man_with_gua_pi_mao:{character:"",syllables:4,types:[]},man_with_turban:{character:"",syllables:4,types:[]},mans_shoe:{character:"",syllables:2,types:[]},maple_leaf:{character:"",syllables:3,types:[]},mask:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive"]},massage:{character:"",syllables:2,types:["noun","verb-transitive"]},meat_on_bone:{character:"",syllables:3,types:[]},mega:{character:"",syllables:2,types:["adjective"]},melon:{character:"",syllables:2,types:["noun"]
},memo:{character:"",syllables:2,types:["noun"]},mens:{character:"",syllables:1,types:[]},metro:{character:"",syllables:2,types:["noun","adjective"]},microphone:{character:"",syllables:3,types:["noun"]},microscope:{character:"",syllables:3,types:["noun"]},milky_way:{character:"",syllables:3,types:[]},minibus:{character:"",syllables:3,types:["noun"]},minidisc:{character:"",syllables:3,types:["noun"]},mobile_phone_off:{character:"",syllables:4,types:[]},money_with_wings:{character:"",syllables:4,types:[]},moneybag:{character:"",syllables:3,types:["noun"]},monkey:{character:"",syllables:2,types:["noun","verb-intransitive","verb-transitive"]},monkey_face:{character:"",syllables:3,types:[]},monorail:{character:"",syllables:3,types:["noun"]},moon:{character:"",syllables:1,types:["noun","verb-intransitive","verb-transitive"]},mortar_board:{character:"",syllables:3,types:[]},mount_fuji:{character:"",syllables:3,types:[]},mountain_bicyclist:{character:"",syllables:5,types:[]},mountain_cableway:{character:"",syllables:2,types:[]},mountain_railway:{character:"",syllables:4,types:[]},mouse:{character:"",syllables:1,types:["noun","verb-intransitive"]},mouse2:{character:"",syllables:2,types:[]},movie_camera:{character:"",syllables:5,types:[]},moyai:{character:"",syllables:2,types:[]},muscle:{character:"",syllables:2,types:["noun","verb-intransitive","verb-transitive"]},mushroom:{character:"",syllables:2,types:["noun","verb-intransitive","adjective"]},musical_keyboard:{character:"",syllables:5,types:[]},musical_note:{character:"",syllables:4,types:[]},musical_score:{character:"",syllables:4,types:[]},mute:{character:"",syllables:1,types:["adjective","noun","verb-transitive"]},nail_care:{character:"",syllables:2,types:[]},name_badge:{character:"",syllables:2,types:[]},necktie:{character:"",syllables:2,types:["noun"]},negative_squared_cross_mark:{character:"",syllables:6,types:[]},neutral_face:{character:"",syllables:3,types:[]},"new":{character:"",syllables:1,types:["adjective","adverb"]},new_moon:{character:"",syllables:2,types:[]},new_moon_with_face:{character:"",syllables:4,types:[]},newspaper:{character:"",syllables:3,types:["noun"]},ng:{character:"",syllables:1,types:["abbreviation"]},nine:{character:"9",syllables:1,types:["noun","idiom"]},no_bell:{character:"",syllables:2,types:[]},no_bicycles:{character:"",syllables:4,types:[]},no_entry:{character:"",syllables:3,types:[]},no_entry_sign:{character:"",syllables:4,types:[]},no_good:{character:"",syllables:2,types:[]},no_mobile_phones:{character:"",syllables:4,types:[]},no_mouth:{character:"",syllables:2,types:[]},no_pedestrians:{character:"",syllables:5,types:[]},no_smoking:{character:"",syllables:3,types:[]},"non-potable_water":{character:"",syllables:6,types:[]},nose:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive","phrasal-verb","idiom"]},notebook:{character:"",syllables:2,types:["noun"]},notebook_with_decorative_cover:{character:"",syllables:8,types:[]},notes:{character:"",syllables:1,types:["noun"]},nut_and_bolt:{character:"",syllables:3,types:[]},o:{character:"",syllables:1,types:["noun"]},o2:{character:"",syllables:2,types:[]},ocean:{character:"",syllables:2,types:["noun"]},octopus:{character:"",syllables:3,types:["noun"]},oden:{character:"",syllables:2,types:[]},office:{character:"",syllables:2,types:["noun"]},ok:{character:"",syllables:2,types:["adjective"]},ok_hand:{character:"",syllables:3,types:[]},ok_woman:{character:"",syllables:4,types:[]},older_man:{character:"",syllables:3,types:[]},older_woman:{character:"",syllables:4,types:[]},on:{character:"",syllables:1,types:["preposition","adverb","adjective","idiom"]},oncoming_automobile:{character:"",syllables:7,types:[]},oncoming_bus:{character:"",syllables:4,types:[]},oncoming_police_car:{character:"",syllables:6,types:[]},oncoming_taxi:{character:"",syllables:5,types:[]},one:{character:"1",syllables:1,types:["adjective","noun","pronoun","idiom"]},open_file_folder:{character:"",syllables:5,types:[]},open_hands:{character:"",syllables:3,types:[]},open_mouth:{character:"",syllables:3,types:[]},ophiuchus:{character:"",syllables:4,types:[]},orange_book:{character:"",syllables:3,types:[]},outbox_tray:{character:"",syllables:1,types:[]},ox:{character:"",syllables:1,types:["noun"]},page_facing_up:{character:"",syllables:4,types:[]},page_with_curl:{character:"",syllables:3,types:[]},pager:{character:"",syllables:2,types:["noun"]},palm_tree:{character:"",syllables:2,types:[]},panda_face:{character:"",syllables:3,types:[]},paperclip:{character:"",syllables:3,types:["noun"]},parking:{character:"",syllables:2,types:["noun"]},part_alternation_mark:{character:"",syllables:6,types:[]},partly_sunny:{character:"",syllables:4,types:[]},passport_control:{character:"",syllables:4,types:[]},paw_prints:{character:"",syllables:2,types:[]},peach:{character:"",syllables:1,types:["noun","verb-intransitive","verb-transitive"]},pear:{character:"",syllables:1,types:["noun"]},pencil:{character:"",syllables:2,types:["noun","verb-transitive","phrasal-verb"]},pencil2:{character:"",syllables:3,types:[]},penguin:{character:"",syllables:2,types:["noun"]},pensive:{character:"",syllables:2,types:["adjective"]},performing_arts:{character:"",syllables:4,types:[]},persevere:{character:"",syllables:3,types:["verb-intransitive"]},person_frowning:{character:"",syllables:4,types:[]},person_with_blond_hair:{character:"",syllables:5,types:[]},person_with_pouting_face:{character:"",syllables:6,types:[]},phone:{character:"",syllables:1,types:["noun","verb-intransitive","verb-transitive"]},pig:{character:"",syllables:1,types:["noun","verb-intransitive","phrasal-verb","idiom"]},pig2:{character:"",syllables:2,types:[]},pig_nose:{character:"",syllables:2,types:[]},pill:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive"]},pineapple:{character:"",syllables:3,types:["noun"]},pisces:{character:"",syllables:2,types:[]},pizza:{character:"",syllables:2,types:["noun"]},plus1:{character:"",syllables:2,types:[]},point_down:{character:"",syllables:2,types:[]},point_left:{character:"",syllables:2,types:[]},point_right:{character:"",syllables:2,types:[]},point_up:{character:"",syllables:2,types:[]},point_up_2:{character:"",syllables:2,types:[]},police_car:{character:"",syllables:3,types:[]},poodle:{character:"",syllables:2,types:["noun"]},poop:{character:"",syllables:1,types:["noun","verb-transitive","phrasal-verb","verb-intransitive"]},post_office:{character:"",syllables:3,types:[]},postal_horn:{character:"",syllables:3,types:[]},postbox:{character:"",syllables:2,types:["noun"]},potable_water:{character:"",syllables:5,types:[]},pouch:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive"]},poultry_leg:{character:"",syllables:3,types:[]},pound:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive","idiom"]},pouting_cat:{character:"",syllables:3,types:[]},pray:{character:"",syllables:1,types:["verb-intransitive","verb-transitive"]},princess:{character:"",syllables:2,types:["noun","adjective"]},punch:{character:"",syllables:1,types:["noun","verb-transitive","phrasal-verb","idiom"]},purple_heart:{character:"",syllables:3,types:[]},purse:{character:"",syllables:1,types:["noun","verb-transitive"]},pushpin:{character:"",syllables:2,types:["noun"]},put_litter_in_its_place:{character:"",syllables:6,types:[]},question:{character:"",syllables:2,types:["noun","verb-transitive","verb-intransitive","idiom"]},rabbit:{character:"",syllables:2,types:["noun","verb-intransitive"]},rabbit2:{character:"",syllables:3,types:[]},racehorse:{character:"",syllables:2,types:["noun"]},radio:{character:"",syllables:3,types:["noun","verb-transitive","verb-intransitive"]},radio_button:{character:"",syllables:5,types:[]},rage:{character:"",syllables:1,types:["noun","verb-intransitive"]},railway_car:{character:"",syllables:3,types:[]},rainbow:{character:"",syllables:2,types:["noun"]},raised_hand:{character:"",syllables:2,types:[]},raised_hands:{character:"",syllables:2,types:[]},raising_hand:{character:"",syllables:3,types:[]},ram:{character:"",syllables:1,types:["noun","verb-transitive"]},ramen:{character:"",syllables:2,types:["noun"]},rat:{character:"",syllables:1,types:["noun","verb-intransitive","verb-transitive"]},recycle:{character:"",syllables:3,types:["verb-transitive"]},red_car:{character:"",syllables:2,types:[]},red_circle:{character:"",syllables:3,types:[]},registered:{character:"",syllables:3,types:["adjective"]},relaxed:{character:"",syllables:2,types:["adjective"]},relieved:{character:"",syllables:2,types:["adjective","verb"]},repeat:{character:"",syllables:2,types:["verb-transitive","verb-intransitive","noun","adjective"]},repeat_one:{character:"",syllables:3,types:[]},restroom:{character:"",syllables:2,types:["noun"]},revolving_hearts:{character:"",syllables:4,types:[]},rewind:{character:"",syllables:2,types:["verb-transitive","noun"]},ribbon:{character:"",syllables:2,types:["noun","verb-transitive"]},rice:{character:"",syllables:1,types:["noun","verb-transitive"]},rice_ball:{character:"",syllables:2,types:[]},rice_cracker:{character:"",syllables:3,types:[]},rice_scene:{character:"",syllables:2,types:[]},ring:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive","phrasal-verb","idiom"]},rocket:{character:"",syllables:2,types:["noun","verb-intransitive","verb-transitive"]},roller_coaster:{character:"",syllables:4,types:[]},rooster:{character:"",syllables:2,types:["noun"]},rose:{character:"",syllables:1,types:["noun","adjective","idiom","verb"]},rotating_light:{character:"",syllables:4,types:[]},round_pushpin:{character:"",syllables:3,types:[]},rowboat:{character:"",syllables:2,types:["noun"]},ru:{character:"",syllables:1,types:[]},rugby_football:{character:"",syllables:4,types:[]},runner:{character:"",syllables:2,types:["noun"]},running:{character:"",syllables:2,types:["noun","adjective","adverb","idiom"]},running_shirt_with_sash:{character:"",syllables:5,types:[]},sa:{character:"",syllables:1,types:[]},sagittarius:{character:"",syllables:5,types:[]},sailboat:{character:"",syllables:2,types:["noun"]},sake:{character:"",syllables:1,types:["noun"]},sandal:{character:"",syllables:2,types:["noun"]},santa:{character:"",syllables:2,types:[]},satellite:{character:"",syllables:3,types:["noun"]},satisfied:{character:"",syllables:3,types:["adjective"]},saxophone:{character:"",syllables:3,types:["noun"]},school:{character:"",syllables:1,types:["noun","verb-transitive","adjective","verb-intransitive"]},school_satchel:{character:"",syllables:1,types:[]},scissors:{character:"",syllables:2,types:["noun","verb"]},scorpius:{character:"",syllables:3,types:[]},scream:{character:"",syllables:1,types:["verb-intransitive","verb-transitive","noun"]},scream_cat:{character:"",syllables:2,types:[]},scroll:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive"]},seat:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive","idiom"]},secret:{character:"",syllables:2,types:["adjective","noun"]},see_no_evil:{character:"",syllables:4,types:[]},seedling:{character:"",syllables:2,types:["noun"]},seven:{character:"7",syllables:2,types:["noun"]},shaved_ice:{character:"",syllables:2,types:[]},sheep:{character:"",syllables:1,types:["noun"]},shell:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive","phrasal-verb"]},ship:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive","phrasal-verb","idiom"]},shirt:{character:"",syllables:1,types:["noun","idiom"]},shit:{character:"",syllables:1,types:["verb-intransitive","verb-transitive","noun","interjection","phrasal-verb","idiom"]},shoe:{character:"",syllables:1,types:["noun","verb-transitive","idiom"]},shower:{character:"",syllables:2,types:["noun","verb-transitive","verb-intransitive"]},signal_strength:{character:"",syllables:3,types:[]},six:{character:"6",syllables:1,types:["noun","idiom"]},six_pointed_star:{character:"",syllables:4,types:[]},ski:{character:"",syllables:1,types:["noun","verb-intransitive","verb-transitive"]},skull:{character:"",syllables:1,types:["noun"]},sleeping:{character:"",syllables:2,types:["verb","adjective","noun"]},sleepy:{character:"",syllables:2,types:["adjective"]},slot_machine:{character:"",syllables:3,types:[]},small_blue_diamond:{character:"",syllables:4,types:[]},small_orange_diamond:{character:"",syllables:5,types:[]},small_red_triangle:{character:"",syllables:5,types:[]},small_red_triangle_down:{character:"",syllables:6,types:[]},smile:{character:"",syllables:1,types:["noun","verb-intransitive","verb-transitive"]},smile_cat:{character:"",syllables:2,types:[]},smiley:{character:"",syllables:2,types:["noun","adjective"]},smiley_cat:{character:"",syllables:3,types:[]},smiling_imp:{character:"",syllables:3,types:[]},smirk:{character:"",syllables:1,types:["verb-intransitive","noun"]},smirk_cat:{character:"",syllables:2,types:[]},smoking:{character:"",syllables:2,types:["adjective"]},snail:{character:"",syllables:1,types:["noun"]},snake:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive"]},snowboarder:{character:"",syllables:3,types:["noun"]},snowflake:{character:"",syllables:2,types:["noun"]},snowman:{character:"",syllables:2,types:["noun"]},sob:{character:"",syllables:1,types:["verb-intransitive","verb-transitive","noun"]},soccer:{character:"",syllables:2,types:["noun"]},soon:{character:"",syllables:1,types:["adverb","idiom"]},sos:{character:"",syllables:3,types:[]},sound:{character:"",syllables:1,types:["noun","verb-intransitive","verb-transitive","phrasal-verb","adjective","adverb"]},space_invader:{character:"",syllables:4,types:[]},spades:{character:"",syllables:1,types:["noun","verb"]},spaghetti:{character:"",syllables:3,types:["noun"]},sparkler:{character:"",syllables:2,types:["noun"]},sparkles:{character:"",syllables:2,types:["noun","verb"]},sparkling_heart:{character:"",syllables:3,types:[]},speak_no_evil:{character:"",syllables:4,types:[]},speaker:{character:"",syllables:2,types:["noun"]},speech_balloon:{character:"",syllables:3,types:[]},speedboat:{character:"",syllables:2,types:["noun"]},star:{character:"",syllables:1,types:["noun","adjective","verb-transitive","verb-intransitive","idiom"]},star2:{character:"",syllables:2,types:[]},stars:{character:"",syllables:1,types:["noun","verb"]},station:{character:"",syllables:2,types:["noun","verb-transitive"]},statue_of_liberty:{character:"",syllables:6,types:[]},steam_locomotive:{character:"",syllables:5,types:[]},stew:{character:"",syllables:1,types:["verb-transitive","verb-intransitive","noun"]},straight_ruler:{character:"",syllables:3,types:[]},strawberry:{character:"",syllables:3,types:["noun","adjective"]},stuck_out_tongue:{character:"",syllables:3,types:[]},stuck_out_tongue_closed_eyes:{character:"",syllables:5,types:[]},stuck_out_tongue_winking_eye:{character:"",syllables:6,types:[]},sun_with_face:{character:"",syllables:3,types:[]},sunflower:{character:"",syllables:3,types:["noun"]},sunglasses:{character:"",syllables:3,types:["noun"]},sunny:{character:"",syllables:2,types:["adjective"]},sunrise:{character:"",syllables:2,types:["noun"]},sunrise_over_mountains:{character:"",syllables:6,types:[]},surfer:{character:"",syllables:2,types:["noun"]},sushi:{character:"",syllables:2,types:["noun"]},suspension_railway:{character:"",syllables:5,types:[]},sweat:{character:"",syllables:1,types:["verb-intransitive","verb-transitive","noun","phrasal-verb","idiom"]},sweat_drops:{character:"",syllables:2,types:[]},sweat_smile:{character:"",syllables:2,types:[]},sweet_potato:{character:"",syllables:4,types:[]},swimmer:{character:"",syllables:2,types:["noun"]},symbols:{character:"",syllables:2,types:["noun"]},syringe:{character:"",syllables:2,types:["noun"]},tada:{character:"",syllables:2,types:["interjection"]},tanabata_tree:{character:"",syllables:5,types:[]},tangerine:{character:"",syllables:3,types:["noun"]},taurus:{character:"",syllables:2,types:["noun"]},taxi:{character:"",syllables:2,types:["noun","verb-intransitive","verb-transitive"]},tea:{character:"",syllables:1,types:["noun"]},telephone:{character:"",syllables:3,types:["noun","verb-transitive","verb-intransitive"]},telephone_receiver:{character:"",syllables:6,types:[]},telescope:{character:"",syllables:3,types:["noun","verb-transitive","verb-intransitive"]},tennis:{character:"",syllables:2,types:["noun"]},tent:{character:"",syllables:1,types:["noun","verb-intransitive","verb-transitive"]},thought_balloon:{character:"",syllables:3,types:[]},three:{character:"3",syllables:1,types:["noun"]},thumbsdown:{character:"",syllables:2,types:[]},thumbsup:{character:"",syllables:2,types:[]},ticket:{character:"",syllables:2,types:["noun","verb-transitive"]},tiger:{character:"",syllables:2,types:["noun"]},tiger2:{character:"",syllables:3,types:[]},tired_face:{character:"",syllables:3,types:[]},tm:{character:"",syllables:2,types:[]},toilet:{character:"",syllables:2,types:["noun"]},tokyo_tower:{character:"",syllables:5,types:[]},tomato:{character:"",syllables:3,types:["noun"]},tongue:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive","idiom"]},top:{character:"",syllables:1,types:["noun","adjective","verb-transitive","verb-intransitive","phrasal-verb","idiom"]},tophat:{character:"",syllables:2,types:["noun"]},tractor:{character:"",syllables:2,types:["noun"]},traffic_light:{character:"",syllables:3,types:[]},train:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive"]},train2:{character:"",syllables:2,types:[]},tram:{character:"",syllables:1,types:["noun","verb-transitive"]},triangular_flag_on_post:{character:"",syllables:7,types:[]},triangular_ruler:{character:"",syllables:6,types:[]},trident:{character:"",syllables:2,types:["noun","adjective"]},triumph:{character:"",syllables:2,types:["verb-intransitive","noun"]},trolleybus:{character:"",syllables:3,types:["noun"]},trophy:{character:"",syllables:2,types:["noun"]},tropical_drink:{character:"",syllables:4,types:[]},tropical_fish:{character:"",syllables:4,types:[]},truck:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive"]},trumpet:{character:"",syllables:2,types:["noun","verb-intransitive","verb-transitive"]},tshirt:{character:"",syllables:2,types:[]},tulip:{character:"",syllables:2,types:["noun"]},turtle:{character:"",syllables:2,types:["noun","verb-intransitive"]},tv:{character:"",syllables:2,types:["noun"]},twisted_rightwards_arrows:{character:"",syllables:4,types:[]},two:{character:"2",syllables:1,types:["noun","idiom"]},two_hearts:{character:"",syllables:2,types:[]},two_men_holding_hands:{character:"",syllables:5,types:[]},two_women_holding_hands:{character:"",syllables:6,types:[]},u5272:{character:"",syllables:0,types:[]},u5408:{character:"",syllables:0,types:[]},u55b6:{character:"",syllables:0,types:[]},u6307:{character:"",syllables:0,types:[]},u6708:{character:"",syllables:0,types:[]},u6709:{character:"",syllables:0,types:[]},u6e80:{character:"",syllables:0,types:[]},u7121:{character:"",syllables:0,types:[]},u7533:{character:"",syllables:0,types:[]},u7981:{character:"",syllables:0,types:[]},u7a7a:{character:"",syllables:0,types:[]},uk:{character:"",syllables:2,types:[]},umbrella:{character:"",syllables:3,types:["noun"]},unamused:{character:"",syllables:3,types:["adjective"]},underage:{character:"",syllables:3,types:["noun","adjective"]},unlock:{character:"",syllables:2,types:["verb-transitive","verb-intransitive"]},up:{character:"",syllables:1,types:["adverb","adjective","preposition","noun","verb-transitive","verb-intransitive","idiom"]},us:{character:"",syllables:1,types:["pronoun"]},v:{character:"",syllables:1,types:["noun"]},vertical_traffic_light:{character:"",syllables:6,types:[]},vhs:{character:"",syllables:3,types:[]},vibration_mode:{character:"",syllables:4,types:[]},video_camera:{character:"",syllables:6,types:[]},video_game:{character:"",syllables:4,types:[]},violin:{character:"",syllables:3,types:["noun"]},virgo:{character:"",syllables:2,types:[]},volcano:{character:"",syllables:3,types:["noun"]},vs:{character:"",syllables:2,types:["preposition"]},walking:{character:"",syllables:2,types:["adjective","noun"]},waning_crescent_moon:{character:"",syllables:5,types:[]},waning_gibbous_moon:{character:"",syllables:5,types:[]},warning:{character:"",syllables:2,types:["noun","adjective"]},watch:{character:"",syllables:1,types:["verb-intransitive","verb-transitive","noun","phrasal-verb","idiom"]},water_buffalo:{character:"",syllables:5,types:[]},watermelon:{character:"",syllables:4,types:["noun"]},wave:{character:"",syllables:1,types:["verb-intransitive","verb-transitive","noun","phrasal-verb"]},wavy_dash:{character:"",syllables:3,types:[]},waxing_crescent_moon:{character:"",syllables:5,types:[]},waxing_gibbous_moon:{character:"",syllables:5,types:[]},wc:{character:"",syllables:2,types:[]},weary:{character:"",syllables:2,types:["adjective","verb-transitive"]},wedding:{character:"",syllables:2,types:["noun"]},whale:{character:"",syllables:1,types:["noun","verb-intransitive","verb-transitive"]},whale2:{character:"",syllables:2,types:[]},wheelchair:{character:"",syllables:2,types:["noun"]},white_check_mark:{character:"",syllables:3,types:[]},white_circle:{character:"",syllables:3,types:[]},white_flower:{character:"",syllables:3,types:[]},white_large_square:{character:"",syllables:3,types:[]},white_square_button:{character:"",syllables:4,types:[]},wind_chime:{character:"",syllables:2,types:[]},wine_glass:{character:"",syllables:2,types:[]},wink:{character:"",syllables:1,types:["verb-intransitive","verb-transitive","noun","phrasal-verb"]},wolf:{character:"",syllables:1,types:["noun","verb-transitive","idiom"]},woman:{character:"",syllables:2,types:["noun","idiom"]},womans_clothes:{character:"",syllables:3,types:[]},womans_hat:{character:"",syllables:3,types:[]},womens:{character:"",syllables:2,types:[]},worried:{character:"",syllables:2,types:["adjective","verb"]},wrench:{character:"",syllables:1,types:["noun","verb-transitive","verb-intransitive"]},x:{character:"",syllables:1,types:["noun","verb-transitive",null]},yellow_heart:{character:"",syllables:3,types:[]},yen:{character:"",syllables:1,types:["noun","verb-intransitive"]},yum:{character:"",syllables:1,types:["interjection"]},zap:{character:"",syllables:1,types:["verb-transitive","verb-intransitive","noun","interjection"]},zero:{character:"0",syllables:2,types:["noun","adjective","verb-transitive","phrasal-verb"]},zzz:{character:"",syllables:0,types:["interjection","verb"]}}})},{}],"/Users/paulfrazee/patchwork/node_modules/events/events.js":[function(require,module,exports){function EventEmitter(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;EventEmitter.defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError("n must be a positive number");this._maxListeners=n;return this};EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(!this._events)this._events={};if(type==="error"){if(!this._events.error||isObject(this._events.error)&&!this._events.error.length){er=arguments[1];if(er instanceof Error){throw er}throw TypeError('Uncaught, unspecified "error" event.')}}handler=this._events[type];if(isUndefined(handler))return false;if(isFunction(handler)){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1);handler.apply(this,args)}}else if(isObject(handler)){args=Array.prototype.slice.call(arguments,1);listeners=handler.slice();len=listeners.length;for(i=0;i<len;i++)listeners[i].apply(this,args)}return true};EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener);if(!this._events[type])this._events[type]=listener;else if(isObject(this._events[type]))this._events[type].push(listener);else this._events[type]=[this._events[type],listener];if(isObject(this._events[type])&&!this._events[type].warned){if(!isUndefined(this._maxListeners)){m=this._maxListeners}else{m=EventEmitter.defaultMaxListeners}if(m&&m>0&&this._events[type].length>m){this._events[type].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[type].length);if(typeof console.trace==="function"){console.trace()}}}return this};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.once=function(type,listener){if(!isFunction(listener))throw TypeError("listener must be a function");var fired=false;function g(){this.removeListener(type,g);if(!fired){fired=true;listener.apply(this,arguments)}}g.listener=listener;this.on(type,g);return this};EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;list=this._events[type];length=list.length;position=-1;if(list===listener||isFunction(list.listener)&&list.listener===listener){delete this._events[type];if(this._events.removeListener)this.emit("removeListener",type,listener)}else if(isObject(list)){for(i=length;i-- >0;){if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}}if(position<0)return this;if(list.length===1){list.length=0;delete this._events[type]}else{list.splice(position,1)}if(this._events.removeListener)this.emit("removeListener",type,listener)}return this};EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[type])delete this._events[type];return this}if(arguments.length===0){for(key in this._events){if(key==="removeListener")continue;this.removeAllListeners(key)}this.removeAllListeners("removeListener");this._events={};return this}listeners=this._events[type];if(isFunction(listeners)){this.removeListener(type,listeners)}else if(listeners){while(listeners.length)this.removeListener(type,listeners[listeners.length-1])}delete this._events[type];return this};EventEmitter.prototype.listeners=function(type){var ret;if(!this._events||!this._events[type])ret=[];else if(isFunction(this._events[type]))ret=[this._events[type]];else ret=this._events[type].slice();return ret};EventEmitter.prototype.listenerCount=function(type){if(this._events){var evlistener=this._events[type];if(isFunction(evlistener))return 1;else if(evlistener)return evlistener.length}return 0};EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type)};function isFunction(arg){return typeof arg==="function"}function isNumber(arg){return typeof arg==="number"}function isObject(arg){return typeof arg==="object"&&arg!==null}function isUndefined(arg){return arg===void 0}},{}],"/Users/paulfrazee/patchwork/node_modules/evp_bytestokey/index.js":[function(require,module,exports){(function(Buffer){var md5=require("create-hash/md5");module.exports=EVP_BytesToKey;function EVP_BytesToKey(password,salt,keyLen,ivLen){if(!Buffer.isBuffer(password)){password=new Buffer(password,"binary")}if(salt&&!Buffer.isBuffer(salt)){salt=new Buffer(salt,"binary")}keyLen=keyLen/8;ivLen=ivLen||0;var ki=0;var ii=0;var key=new Buffer(keyLen);var iv=new Buffer(ivLen);var addmd=0;var md_buf;var i;var bufs=[];while(true){if(addmd++>0){bufs.push(md_buf)}bufs.push(password);if(salt){bufs.push(salt)}md_buf=md5(Buffer.concat(bufs));bufs=[];i=0;if(keyLen>0){while(true){if(keyLen===0){break}if(i===md_buf.length){break}key[ki++]=md_buf[i];keyLen--;i++}}if(ivLen>0&&i!==md_buf.length){while(true){if(ivLen===0){break}if(i===md_buf.length){break}iv[ii++]=md_buf[i];ivLen--;i++}}if(keyLen===0&&ivLen===0){break}}for(i=0;i<md_buf.length;i++){md_buf[i]=0}return{key:key,iv:iv}}}).call(this,require("buffer").Buffer)},{buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js","create-hash/md5":"/Users/paulfrazee/patchwork/node_modules/create-hash/md5.js"}],"/Users/paulfrazee/patchwork/node_modules/exenv/index.js":[function(require,module,exports){(function(){"use strict";var canUseDOM=!!(typeof window!=="undefined"&&window.document&&window.document.createElement);var ExecutionEnvironment={canUseDOM:canUseDOM,canUseWorkers:typeof Worker!=="undefined",canUseEventListeners:canUseDOM&&!!(window.addEventListener||window.attachEvent),canUseViewport:canUseDOM&&!!window.screen};if(typeof define==="function"&&typeof define.amd==="object"&&define.amd){define(function(){return ExecutionEnvironment})}else if(typeof module!=="undefined"&&module.exports){module.exports=ExecutionEnvironment}else{window.ExecutionEnvironment=ExecutionEnvironment}})()},{}],"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/CSSCore.js":[function(require,module,exports){"use strict";var invariant=require("./invariant");var CSSCore={addClass:function(element,className){!!/\s/.test(className)?"production"!=="production"?invariant(false,'CSSCore.addClass takes only a single class name. "%s" contains '+"multiple classes.",className):invariant(false):undefined;if(className){if(element.classList){element.classList.add(className)}else if(!CSSCore.hasClass(element,className)){element.className=element.className+" "+className}}return element},removeClass:function(element,className){!!/\s/.test(className)?"production"!=="production"?invariant(false,'CSSCore.removeClass takes only a single class name. "%s" contains '+"multiple classes.",className):invariant(false):undefined;if(className){if(element.classList){element.classList.remove(className)}else if(CSSCore.hasClass(element,className)){element.className=element.className.replace(new RegExp("(^|\\s)"+className+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}}return element},conditionClass:function(element,className,bool){return(bool?CSSCore.addClass:CSSCore.removeClass)(element,className)},hasClass:function(element,className){!!/\s/.test(className)?"production"!=="production"?invariant(false,"CSS.hasClass takes only a single class name."):invariant(false):undefined;if(element.classList){return!!className&&element.classList.contains(className)}return(" "+element.className+" ").indexOf(" "+className+" ")>-1}};module.exports=CSSCore},{"./invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js"}],"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/EventListener.js":[function(require,module,exports){"use strict";var emptyFunction=require("./emptyFunction");var EventListener={listen:function(target,eventType,callback){if(target.addEventListener){target.addEventListener(eventType,callback,false);return{remove:function(){target.removeEventListener(eventType,callback,false);
}}}else if(target.attachEvent){target.attachEvent("on"+eventType,callback);return{remove:function(){target.detachEvent("on"+eventType,callback)}}}},capture:function(target,eventType,callback){if(target.addEventListener){target.addEventListener(eventType,callback,true);return{remove:function(){target.removeEventListener(eventType,callback,true)}}}else{if("production"!=="production"){console.error("Attempted to listen to events during the capture phase on a "+"browser that does not support the capture phase. Your application "+"will not receive some events.")}return{remove:emptyFunction}}},registerDefault:function(){}};module.exports=EventListener},{"./emptyFunction":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/emptyFunction.js"}],"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/ExecutionEnvironment.js":[function(require,module,exports){"use strict";var canUseDOM=!!(typeof window!=="undefined"&&window.document&&window.document.createElement);var ExecutionEnvironment={canUseDOM:canUseDOM,canUseWorkers:typeof Worker!=="undefined",canUseEventListeners:canUseDOM&&!!(window.addEventListener||window.attachEvent),canUseViewport:canUseDOM&&!!window.screen,isInWorker:!canUseDOM};module.exports=ExecutionEnvironment},{}],"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/camelize.js":[function(require,module,exports){"use strict";var _hyphenPattern=/-(.)/g;function camelize(string){return string.replace(_hyphenPattern,function(_,character){return character.toUpperCase()})}module.exports=camelize},{}],"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/camelizeStyleName.js":[function(require,module,exports){"use strict";var camelize=require("./camelize");var msPattern=/^-ms-/;function camelizeStyleName(string){return camelize(string.replace(msPattern,"ms-"))}module.exports=camelizeStyleName},{"./camelize":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/camelize.js"}],"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/containsNode.js":[function(require,module,exports){"use strict";var isTextNode=require("./isTextNode");function containsNode(_x,_x2){var _again=true;_function:while(_again){var outerNode=_x,innerNode=_x2;_again=false;if(!outerNode||!innerNode){return false}else if(outerNode===innerNode){return true}else if(isTextNode(outerNode)){return false}else if(isTextNode(innerNode)){_x=outerNode;_x2=innerNode.parentNode;_again=true;continue _function}else if(outerNode.contains){return outerNode.contains(innerNode)}else if(outerNode.compareDocumentPosition){return!!(outerNode.compareDocumentPosition(innerNode)&16)}else{return false}}}module.exports=containsNode},{"./isTextNode":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/isTextNode.js"}],"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/createArrayFromMixed.js":[function(require,module,exports){"use strict";var toArray=require("./toArray");function hasArrayNature(obj){return!!obj&&(typeof obj=="object"||typeof obj=="function")&&"length"in obj&&!("setInterval"in obj)&&typeof obj.nodeType!="number"&&(Array.isArray(obj)||"callee"in obj||"item"in obj)}function createArrayFromMixed(obj){if(!hasArrayNature(obj)){return[obj]}else if(Array.isArray(obj)){return obj.slice()}else{return toArray(obj)}}module.exports=createArrayFromMixed},{"./toArray":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/toArray.js"}],"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/createNodesFromMarkup.js":[function(require,module,exports){"use strict";var ExecutionEnvironment=require("./ExecutionEnvironment");var createArrayFromMixed=require("./createArrayFromMixed");var getMarkupWrap=require("./getMarkupWrap");var invariant=require("./invariant");var dummyNode=ExecutionEnvironment.canUseDOM?document.createElement("div"):null;var nodeNamePattern=/^\s*<(\w+)/;function getNodeName(markup){var nodeNameMatch=markup.match(nodeNamePattern);return nodeNameMatch&&nodeNameMatch[1].toLowerCase()}function createNodesFromMarkup(markup,handleScript){var node=dummyNode;!!!dummyNode?"production"!=="production"?invariant(false,"createNodesFromMarkup dummy not initialized"):invariant(false):undefined;var nodeName=getNodeName(markup);var wrap=nodeName&&getMarkupWrap(nodeName);if(wrap){node.innerHTML=wrap[1]+markup+wrap[2];var wrapDepth=wrap[0];while(wrapDepth--){node=node.lastChild}}else{node.innerHTML=markup}var scripts=node.getElementsByTagName("script");if(scripts.length){!handleScript?"production"!=="production"?invariant(false,"createNodesFromMarkup(...): Unexpected <script> element rendered."):invariant(false):undefined;createArrayFromMixed(scripts).forEach(handleScript)}var nodes=createArrayFromMixed(node.childNodes);while(node.lastChild){node.removeChild(node.lastChild)}return nodes}module.exports=createNodesFromMarkup},{"./ExecutionEnvironment":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/ExecutionEnvironment.js","./createArrayFromMixed":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/createArrayFromMixed.js","./getMarkupWrap":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/getMarkupWrap.js","./invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js"}],"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/emptyFunction.js":[function(require,module,exports){"use strict";function makeEmptyFunction(arg){return function(){return arg}}function emptyFunction(){}emptyFunction.thatReturns=makeEmptyFunction;emptyFunction.thatReturnsFalse=makeEmptyFunction(false);emptyFunction.thatReturnsTrue=makeEmptyFunction(true);emptyFunction.thatReturnsNull=makeEmptyFunction(null);emptyFunction.thatReturnsThis=function(){return this};emptyFunction.thatReturnsArgument=function(arg){return arg};module.exports=emptyFunction},{}],"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/emptyObject.js":[function(require,module,exports){"use strict";var emptyObject={};if("production"!=="production"){Object.freeze(emptyObject)}module.exports=emptyObject},{}],"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/focusNode.js":[function(require,module,exports){"use strict";function focusNode(node){try{node.focus()}catch(e){}}module.exports=focusNode},{}],"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/getActiveElement.js":[function(require,module,exports){"use strict";function getActiveElement(){if(typeof document==="undefined"){return null}try{return document.activeElement||document.body}catch(e){return document.body}}module.exports=getActiveElement},{}],"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/getMarkupWrap.js":[function(require,module,exports){"use strict";var ExecutionEnvironment=require("./ExecutionEnvironment");var invariant=require("./invariant");var dummyNode=ExecutionEnvironment.canUseDOM?document.createElement("div"):null;var shouldWrap={};var selectWrap=[1,'<select multiple="true">',"</select>"];var tableWrap=[1,"<table>","</table>"];var trWrap=[3,"<table><tbody><tr>","</tr></tbody></table>"];var svgWrap=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"];var markupWrap={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:selectWrap,option:selectWrap,caption:tableWrap,colgroup:tableWrap,tbody:tableWrap,tfoot:tableWrap,thead:tableWrap,td:trWrap,th:trWrap};var svgElements=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];svgElements.forEach(function(nodeName){markupWrap[nodeName]=svgWrap;shouldWrap[nodeName]=true});function getMarkupWrap(nodeName){!!!dummyNode?"production"!=="production"?invariant(false,"Markup wrapping node not initialized"):invariant(false):undefined;if(!markupWrap.hasOwnProperty(nodeName)){nodeName="*"}if(!shouldWrap.hasOwnProperty(nodeName)){if(nodeName==="*"){dummyNode.innerHTML="<link />"}else{dummyNode.innerHTML="<"+nodeName+"></"+nodeName+">"}shouldWrap[nodeName]=!dummyNode.firstChild}return shouldWrap[nodeName]?markupWrap[nodeName]:null}module.exports=getMarkupWrap},{"./ExecutionEnvironment":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/ExecutionEnvironment.js","./invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js"}],"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/getUnboundedScrollPosition.js":[function(require,module,exports){"use strict";function getUnboundedScrollPosition(scrollable){if(scrollable===window){return{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}}return{x:scrollable.scrollLeft,y:scrollable.scrollTop}}module.exports=getUnboundedScrollPosition},{}],"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/hyphenate.js":[function(require,module,exports){"use strict";var _uppercasePattern=/([A-Z])/g;function hyphenate(string){return string.replace(_uppercasePattern,"-$1").toLowerCase()}module.exports=hyphenate},{}],"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/hyphenateStyleName.js":[function(require,module,exports){"use strict";var hyphenate=require("./hyphenate");var msPattern=/^ms-/;function hyphenateStyleName(string){return hyphenate(string).replace(msPattern,"-ms-")}module.exports=hyphenateStyleName},{"./hyphenate":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/hyphenate.js"}],"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js":[function(require,module,exports){"use strict";function invariant(condition,format,a,b,c,d,e,f){if("production"!=="production"){if(format===undefined){throw new Error("invariant requires an error message argument")}}if(!condition){var error;if(format===undefined){error=new Error("Minified exception occurred; use the non-minified dev environment "+"for the full error message and additional helpful warnings.")}else{var args=[a,b,c,d,e,f];var argIndex=0;error=new Error(format.replace(/%s/g,function(){return args[argIndex++]}));error.name="Invariant Violation"}error.framesToPop=1;throw error}}module.exports=invariant},{}],"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/isNode.js":[function(require,module,exports){"use strict";function isNode(object){return!!(object&&(typeof Node==="function"?object instanceof Node:typeof object==="object"&&typeof object.nodeType==="number"&&typeof object.nodeName==="string"))}module.exports=isNode},{}],"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/isTextNode.js":[function(require,module,exports){"use strict";var isNode=require("./isNode");function isTextNode(object){return isNode(object)&&object.nodeType==3}module.exports=isTextNode},{"./isNode":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/isNode.js"}],"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/keyMirror.js":[function(require,module,exports){"use strict";var invariant=require("./invariant");var keyMirror=function(obj){var ret={};var key;!(obj instanceof Object&&!Array.isArray(obj))?"production"!=="production"?invariant(false,"keyMirror(...): Argument must be an object."):invariant(false):undefined;for(key in obj){if(!obj.hasOwnProperty(key)){continue}ret[key]=key}return ret};module.exports=keyMirror},{"./invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js"}],"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/keyOf.js":[function(require,module,exports){"use strict";var keyOf=function(oneKeyObj){var key;for(key in oneKeyObj){if(!oneKeyObj.hasOwnProperty(key)){continue}return key}return null};module.exports=keyOf},{}],"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/mapObject.js":[function(require,module,exports){"use strict";var hasOwnProperty=Object.prototype.hasOwnProperty;function mapObject(object,callback,context){if(!object){return null}var result={};for(var name in object){if(hasOwnProperty.call(object,name)){result[name]=callback.call(context,object[name],name,object)}}return result}module.exports=mapObject},{}],"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/memoizeStringOnly.js":[function(require,module,exports){"use strict";function memoizeStringOnly(callback){var cache={};return function(string){if(!cache.hasOwnProperty(string)){cache[string]=callback.call(this,string)}return cache[string]}}module.exports=memoizeStringOnly},{}],"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/performance.js":[function(require,module,exports){"use strict";var ExecutionEnvironment=require("./ExecutionEnvironment");var performance;if(ExecutionEnvironment.canUseDOM){performance=window.performance||window.msPerformance||window.webkitPerformance}module.exports=performance||{}},{"./ExecutionEnvironment":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/ExecutionEnvironment.js"}],"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/performanceNow.js":[function(require,module,exports){"use strict";var performance=require("./performance");var performanceNow;if(performance.now){performanceNow=function(){return performance.now()}}else{performanceNow=function(){return Date.now()}}module.exports=performanceNow},{"./performance":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/performance.js"}],"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/shallowEqual.js":[function(require,module,exports){"use strict";var hasOwnProperty=Object.prototype.hasOwnProperty;function shallowEqual(objA,objB){if(objA===objB){return true}if(typeof objA!=="object"||objA===null||typeof objB!=="object"||objB===null){return false}var keysA=Object.keys(objA);var keysB=Object.keys(objB);if(keysA.length!==keysB.length){return false}var bHasOwnProperty=hasOwnProperty.bind(objB);for(var i=0;i<keysA.length;i++){if(!bHasOwnProperty(keysA[i])||objA[keysA[i]]!==objB[keysA[i]]){return false}}return true}module.exports=shallowEqual},{}],"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/toArray.js":[function(require,module,exports){"use strict";var invariant=require("./invariant");function toArray(obj){var length=obj.length;!(!Array.isArray(obj)&&(typeof obj==="object"||typeof obj==="function"))?"production"!=="production"?invariant(false,"toArray: Array-like object expected"):invariant(false):undefined;!(typeof length==="number")?"production"!=="production"?invariant(false,"toArray: Object needs a length property"):invariant(false):undefined;!(length===0||length-1 in obj)?"production"!=="production"?invariant(false,"toArray: Object should have keys for indices"):invariant(false):undefined;if(obj.hasOwnProperty){try{return Array.prototype.slice.call(obj)}catch(e){}}var ret=Array(length);for(var ii=0;ii<length;ii++){ret[ii]=obj[ii]}return ret}module.exports=toArray},{"./invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js"}],"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/warning.js":[function(require,module,exports){"use strict";var emptyFunction=require("./emptyFunction");var warning=emptyFunction;if("production"!=="production"){warning=function(condition,format){for(var _len=arguments.length,args=Array(_len>2?_len-2:0),_key=2;_key<_len;_key++){args[_key-2]=arguments[_key]}if(format===undefined){throw new Error("`warning(condition, format, ...args)` requires a warning "+"message argument")}if(format.indexOf("Failed Composite propType: ")===0){return}if(!condition){var argIndex=0;var message="Warning: "+format.replace(/%s/g,function(){return args[argIndex++]});if(typeof console!=="undefined"){console.error(message)}try{throw new Error(message)}catch(x){}}}}module.exports=warning},{"./emptyFunction":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/emptyFunction.js"}],"/Users/paulfrazee/patchwork/node_modules/hammerjs/hammer.js":[function(require,module,exports){(function(window,document,exportName,undefined){"use strict";var VENDOR_PREFIXES=["","webkit","Moz","MS","ms","o"];var TEST_ELEMENT=document.createElement("div");var TYPE_FUNCTION="function";var round=Math.round;var abs=Math.abs;var now=Date.now;function setTimeoutContext(fn,timeout,context){return setTimeout(bindFn(fn,context),timeout)}function invokeArrayArg(arg,fn,context){if(Array.isArray(arg)){each(arg,context[fn],context);return true}return false}function each(obj,iterator,context){var i;if(!obj){return}if(obj.forEach){obj.forEach(iterator,context)}else if(obj.length!==undefined){i=0;while(i<obj.length){iterator.call(context,obj[i],i,obj);i++}}else{for(i in obj){obj.hasOwnProperty(i)&&iterator.call(context,obj[i],i,obj)}}}function deprecate(method,name,message){var deprecationMessage="DEPRECATED METHOD: "+name+"\n"+message+" AT \n";return function(){var e=new Error("get-stack-trace");var stack=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace";var log=window.console&&(window.console.warn||window.console.log);if(log){log.call(window.console,deprecationMessage,stack)}return method.apply(this,arguments)}}var assign;if(typeof Object.assign!=="function"){assign=function assign(target){if(target===undefined||target===null){throw new TypeError("Cannot convert undefined or null to object")}var output=Object(target);for(var index=1;index<arguments.length;index++){var source=arguments[index];if(source!==undefined&&source!==null){for(var nextKey in source){if(source.hasOwnProperty(nextKey)){output[nextKey]=source[nextKey]}}}}return output}}else{assign=Object.assign}var extend=deprecate(function extend(dest,src,merge){var keys=Object.keys(src);var i=0;while(i<keys.length){if(!merge||merge&&dest[keys[i]]===undefined){dest[keys[i]]=src[keys[i]]}i++}return dest},"extend","Use `assign`.");var merge=deprecate(function merge(dest,src){return extend(dest,src,true)},"merge","Use `assign`.");function inherit(child,base,properties){var baseP=base.prototype,childP;childP=child.prototype=Object.create(baseP);childP.constructor=child;childP._super=baseP;if(properties){assign(childP,properties)}}function bindFn(fn,context){return function boundFn(){return fn.apply(context,arguments)}}function boolOrFn(val,args){if(typeof val==TYPE_FUNCTION){return val.apply(args?args[0]||undefined:undefined,args)}return val}function ifUndefined(val1,val2){return val1===undefined?val2:val1}function addEventListeners(target,types,handler){each(splitStr(types),function(type){target.addEventListener(type,handler,false)})}function removeEventListeners(target,types,handler){each(splitStr(types),function(type){target.removeEventListener(type,handler,false)})}function hasParent(node,parent){while(node){if(node==parent){return true}node=node.parentNode}return false}function inStr(str,find){return str.indexOf(find)>-1}function splitStr(str){return str.trim().split(/\s+/g)}function inArray(src,find,findByKey){if(src.indexOf&&!findByKey){return src.indexOf(find)}else{var i=0;while(i<src.length){if(findByKey&&src[i][findByKey]==find||!findByKey&&src[i]===find){return i}i++}return-1}}function toArray(obj){return Array.prototype.slice.call(obj,0)}function uniqueArray(src,key,sort){var results=[];var values=[];var i=0;while(i<src.length){var val=key?src[i][key]:src[i];if(inArray(values,val)<0){results.push(src[i])}values[i]=val;i++}if(sort){if(!key){results=results.sort()}else{results=results.sort(function sortUniqueArray(a,b){return a[key]>b[key]})}}return results}function prefixed(obj,property){var prefix,prop;var camelProp=property[0].toUpperCase()+property.slice(1);var i=0;while(i<VENDOR_PREFIXES.length){prefix=VENDOR_PREFIXES[i];prop=prefix?prefix+camelProp:property;if(prop in obj){return prop}i++}return undefined}var _uniqueId=1;function uniqueId(){return _uniqueId++}function getWindowForElement(element){var doc=element.ownerDocument||element;return doc.defaultView||doc.parentWindow||window}var MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i;var SUPPORT_TOUCH="ontouchstart"in window;var SUPPORT_POINTER_EVENTS=prefixed(window,"PointerEvent")!==undefined;var SUPPORT_ONLY_TOUCH=SUPPORT_TOUCH&&MOBILE_REGEX.test(navigator.userAgent);var INPUT_TYPE_TOUCH="touch";var INPUT_TYPE_PEN="pen";var INPUT_TYPE_MOUSE="mouse";var INPUT_TYPE_KINECT="kinect";var COMPUTE_INTERVAL=25;var INPUT_START=1;var INPUT_MOVE=2;var INPUT_END=4;var INPUT_CANCEL=8;var DIRECTION_NONE=1;var DIRECTION_LEFT=2;var DIRECTION_RIGHT=4;var DIRECTION_UP=8;var DIRECTION_DOWN=16;var DIRECTION_HORIZONTAL=DIRECTION_LEFT|DIRECTION_RIGHT;var DIRECTION_VERTICAL=DIRECTION_UP|DIRECTION_DOWN;var DIRECTION_ALL=DIRECTION_HORIZONTAL|DIRECTION_VERTICAL;var PROPS_XY=["x","y"];var PROPS_CLIENT_XY=["clientX","clientY"];function Input(manager,callback){var self=this;this.manager=manager;this.callback=callback;this.element=manager.element;this.target=manager.options.inputTarget;this.domHandler=function(ev){if(boolOrFn(manager.options.enable,[manager])){self.handler(ev)}};this.init()}Input.prototype={handler:function(){},init:function(){this.evEl&&addEventListeners(this.element,this.evEl,this.domHandler);this.evTarget&&addEventListeners(this.target,this.evTarget,this.domHandler);this.evWin&&addEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&removeEventListeners(this.element,this.evEl,this.domHandler);this.evTarget&&removeEventListeners(this.target,this.evTarget,this.domHandler);this.evWin&&removeEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)}};function createInputInstance(manager){var Type;var inputClass=manager.options.inputClass;if(inputClass){Type=inputClass}else if(SUPPORT_POINTER_EVENTS){Type=PointerEventInput}else if(SUPPORT_ONLY_TOUCH){Type=TouchInput}else if(!SUPPORT_TOUCH){Type=MouseInput}else{Type=TouchMouseInput}return new Type(manager,inputHandler)}function inputHandler(manager,eventType,input){var pointersLen=input.pointers.length;var changedPointersLen=input.changedPointers.length;var isFirst=eventType&INPUT_START&&pointersLen-changedPointersLen===0;var isFinal=eventType&(INPUT_END|INPUT_CANCEL)&&pointersLen-changedPointersLen===0;input.isFirst=!!isFirst;input.isFinal=!!isFinal;if(isFirst){manager.session={}}input.eventType=eventType;computeInputData(manager,input);manager.emit("hammer.input",input);manager.recognize(input);manager.session.prevInput=input}function computeInputData(manager,input){var session=manager.session;var pointers=input.pointers;var pointersLength=pointers.length;if(!session.firstInput){session.firstInput=simpleCloneInputData(input)}if(pointersLength>1&&!session.firstMultiple){session.firstMultiple=simpleCloneInputData(input)}else if(pointersLength===1){session.firstMultiple=false}var firstInput=session.firstInput;var firstMultiple=session.firstMultiple;var offsetCenter=firstMultiple?firstMultiple.center:firstInput.center;var center=input.center=getCenter(pointers);input.timeStamp=now();input.deltaTime=input.timeStamp-firstInput.timeStamp;input.angle=getAngle(offsetCenter,center);input.distance=getDistance(offsetCenter,center);computeDeltaXY(session,input);input.offsetDirection=getDirection(input.deltaX,input.deltaY);var overallVelocity=getVelocity(input.deltaTime,input.deltaX,input.deltaY);input.overallVelocityX=overallVelocity.x;input.overallVelocityY=overallVelocity.y;input.overallVelocity=abs(overallVelocity.x)>abs(overallVelocity.y)?overallVelocity.x:overallVelocity.y;input.scale=firstMultiple?getScale(firstMultiple.pointers,pointers):1;input.rotation=firstMultiple?getRotation(firstMultiple.pointers,pointers):0;input.maxPointers=!session.prevInput?input.pointers.length:input.pointers.length>session.prevInput.maxPointers?input.pointers.length:session.prevInput.maxPointers;computeIntervalInputData(session,input);var target=manager.element;if(hasParent(input.srcEvent.target,target)){target=input.srcEvent.target}input.target=target}function computeDeltaXY(session,input){var center=input.center;var offset=session.offsetDelta||{};var prevDelta=session.prevDelta||{};var prevInput=session.prevInput||{};if(input.eventType===INPUT_START||prevInput.eventType===INPUT_END){prevDelta=session.prevDelta={x:prevInput.deltaX||0,y:prevInput.deltaY||0};offset=session.offsetDelta={x:center.x,y:center.y}}input.deltaX=prevDelta.x+(center.x-offset.x);input.deltaY=prevDelta.y+(center.y-offset.y)}function computeIntervalInputData(session,input){var last=session.lastInterval||input,deltaTime=input.timeStamp-last.timeStamp,velocity,velocityX,velocityY,direction;if(input.eventType!=INPUT_CANCEL&&(deltaTime>COMPUTE_INTERVAL||last.velocity===undefined)){var deltaX=input.deltaX-last.deltaX;var deltaY=input.deltaY-last.deltaY;var v=getVelocity(deltaTime,deltaX,deltaY);velocityX=v.x;velocityY=v.y;velocity=abs(v.x)>abs(v.y)?v.x:v.y;direction=getDirection(deltaX,deltaY);session.lastInterval=input}else{velocity=last.velocity;velocityX=last.velocityX;velocityY=last.velocityY;direction=last.direction}input.velocity=velocity;input.velocityX=velocityX;input.velocityY=velocityY;input.direction=direction}function simpleCloneInputData(input){var pointers=[];var i=0;while(i<input.pointers.length){pointers[i]={clientX:round(input.pointers[i].clientX),clientY:round(input.pointers[i].clientY)};i++}return{timeStamp:now(),pointers:pointers,center:getCenter(pointers),deltaX:input.deltaX,deltaY:input.deltaY}}function getCenter(pointers){var pointersLength=pointers.length;if(pointersLength===1){return{x:round(pointers[0].clientX),y:round(pointers[0].clientY)}}var x=0,y=0,i=0;while(i<pointersLength){x+=pointers[i].clientX;y+=pointers[i].clientY;i++}return{x:round(x/pointersLength),y:round(y/pointersLength)}}function getVelocity(deltaTime,x,y){return{x:x/deltaTime||0,y:y/deltaTime||0}}function getDirection(x,y){if(x===y){return DIRECTION_NONE}if(abs(x)>=abs(y)){return x<0?DIRECTION_LEFT:DIRECTION_RIGHT}return y<0?DIRECTION_UP:DIRECTION_DOWN}function getDistance(p1,p2,props){if(!props){props=PROPS_XY}var x=p2[props[0]]-p1[props[0]],y=p2[props[1]]-p1[props[1]];return Math.sqrt(x*x+y*y)}function getAngle(p1,p2,props){if(!props){props=PROPS_XY}var x=p2[props[0]]-p1[props[0]],y=p2[props[1]]-p1[props[1]];return Math.atan2(y,x)*180/Math.PI}function getRotation(start,end){return getAngle(end[1],end[0],PROPS_CLIENT_XY)+getAngle(start[1],start[0],PROPS_CLIENT_XY)}function getScale(start,end){return getDistance(end[0],end[1],PROPS_CLIENT_XY)/getDistance(start[0],start[1],PROPS_CLIENT_XY)}var MOUSE_INPUT_MAP={mousedown:INPUT_START,mousemove:INPUT_MOVE,mouseup:INPUT_END};var MOUSE_ELEMENT_EVENTS="mousedown";var MOUSE_WINDOW_EVENTS="mousemove mouseup";function MouseInput(){this.evEl=MOUSE_ELEMENT_EVENTS;this.evWin=MOUSE_WINDOW_EVENTS;this.allow=true;this.pressed=false;Input.apply(this,arguments)}inherit(MouseInput,Input,{handler:function MEhandler(ev){var eventType=MOUSE_INPUT_MAP[ev.type];if(eventType&INPUT_START&&ev.button===0){this.pressed=true}if(eventType&INPUT_MOVE&&ev.which!==1){eventType=INPUT_END}if(!this.pressed||!this.allow){return}if(eventType&INPUT_END){this.pressed=false}this.callback(this.manager,eventType,{pointers:[ev],changedPointers:[ev],pointerType:INPUT_TYPE_MOUSE,srcEvent:ev})}});var POINTER_INPUT_MAP={pointerdown:INPUT_START,pointermove:INPUT_MOVE,pointerup:INPUT_END,pointercancel:INPUT_CANCEL,pointerout:INPUT_CANCEL};var IE10_POINTER_TYPE_ENUM={2:INPUT_TYPE_TOUCH,3:INPUT_TYPE_PEN,4:INPUT_TYPE_MOUSE,5:INPUT_TYPE_KINECT};var POINTER_ELEMENT_EVENTS="pointerdown";var POINTER_WINDOW_EVENTS="pointermove pointerup pointercancel";if(window.MSPointerEvent&&!window.PointerEvent){POINTER_ELEMENT_EVENTS="MSPointerDown";POINTER_WINDOW_EVENTS="MSPointerMove MSPointerUp MSPointerCancel"}function PointerEventInput(){this.evEl=POINTER_ELEMENT_EVENTS;this.evWin=POINTER_WINDOW_EVENTS;Input.apply(this,arguments);this.store=this.manager.session.pointerEvents=[]}inherit(PointerEventInput,Input,{handler:function PEhandler(ev){var store=this.store;var removePointer=false;var eventTypeNormalized=ev.type.toLowerCase().replace("ms","");var eventType=POINTER_INPUT_MAP[eventTypeNormalized];var pointerType=IE10_POINTER_TYPE_ENUM[ev.pointerType]||ev.pointerType;var isTouch=pointerType==INPUT_TYPE_TOUCH;var storeIndex=inArray(store,ev.pointerId,"pointerId");if(eventType&INPUT_START&&(ev.button===0||isTouch)){if(storeIndex<0){store.push(ev);storeIndex=store.length-1}}else if(eventType&(INPUT_END|INPUT_CANCEL)){removePointer=true}if(storeIndex<0){return}store[storeIndex]=ev;this.callback(this.manager,eventType,{pointers:store,changedPointers:[ev],pointerType:pointerType,srcEvent:ev});if(removePointer){store.splice(storeIndex,1)}}});var SINGLE_TOUCH_INPUT_MAP={touchstart:INPUT_START,touchmove:INPUT_MOVE,touchend:INPUT_END,touchcancel:INPUT_CANCEL};var SINGLE_TOUCH_TARGET_EVENTS="touchstart";var SINGLE_TOUCH_WINDOW_EVENTS="touchstart touchmove touchend touchcancel";function SingleTouchInput(){this.evTarget=SINGLE_TOUCH_TARGET_EVENTS;this.evWin=SINGLE_TOUCH_WINDOW_EVENTS;this.started=false;Input.apply(this,arguments)}inherit(SingleTouchInput,Input,{handler:function TEhandler(ev){var type=SINGLE_TOUCH_INPUT_MAP[ev.type];if(type===INPUT_START){this.started=true}if(!this.started){return}var touches=normalizeSingleTouches.call(this,ev,type);if(type&(INPUT_END|INPUT_CANCEL)&&touches[0].length-touches[1].length===0){this.started=false}this.callback(this.manager,type,{pointers:touches[0],changedPointers:touches[1],pointerType:INPUT_TYPE_TOUCH,srcEvent:ev})}});function normalizeSingleTouches(ev,type){var all=toArray(ev.touches);var changed=toArray(ev.changedTouches);if(type&(INPUT_END|INPUT_CANCEL)){all=uniqueArray(all.concat(changed),"identifier",true)}return[all,changed]}var TOUCH_INPUT_MAP={touchstart:INPUT_START,touchmove:INPUT_MOVE,touchend:INPUT_END,touchcancel:INPUT_CANCEL};var TOUCH_TARGET_EVENTS="touchstart touchmove touchend touchcancel";function TouchInput(){this.evTarget=TOUCH_TARGET_EVENTS;this.targetIds={};Input.apply(this,arguments)}inherit(TouchInput,Input,{handler:function MTEhandler(ev){var type=TOUCH_INPUT_MAP[ev.type];var touches=getTouches.call(this,ev,type);if(!touches){return}this.callback(this.manager,type,{pointers:touches[0],changedPointers:touches[1],pointerType:INPUT_TYPE_TOUCH,srcEvent:ev})}});function getTouches(ev,type){var allTouches=toArray(ev.touches);var targetIds=this.targetIds;if(type&(INPUT_START|INPUT_MOVE)&&allTouches.length===1){targetIds[allTouches[0].identifier]=true;return[allTouches,allTouches]}var i,targetTouches,changedTouches=toArray(ev.changedTouches),changedTargetTouches=[],target=this.target;targetTouches=allTouches.filter(function(touch){return hasParent(touch.target,target)});if(type===INPUT_START){i=0;while(i<targetTouches.length){targetIds[targetTouches[i].identifier]=true;i++}}i=0;while(i<changedTouches.length){if(targetIds[changedTouches[i].identifier]){changedTargetTouches.push(changedTouches[i])}if(type&(INPUT_END|INPUT_CANCEL)){delete targetIds[changedTouches[i].identifier]}i++}if(!changedTargetTouches.length){return}return[uniqueArray(targetTouches.concat(changedTargetTouches),"identifier",true),changedTargetTouches]}function TouchMouseInput(){Input.apply(this,arguments);var handler=bindFn(this.handler,this);this.touch=new TouchInput(this.manager,handler);this.mouse=new MouseInput(this.manager,handler)}inherit(TouchMouseInput,Input,{handler:function TMEhandler(manager,inputEvent,inputData){var isTouch=inputData.pointerType==INPUT_TYPE_TOUCH,isMouse=inputData.pointerType==INPUT_TYPE_MOUSE;if(isTouch){this.mouse.allow=false}else if(isMouse&&!this.mouse.allow){return}if(inputEvent&(INPUT_END|INPUT_CANCEL)){this.mouse.allow=true}this.callback(manager,inputEvent,inputData)},destroy:function destroy(){this.touch.destroy();this.mouse.destroy()}});var PREFIXED_TOUCH_ACTION=prefixed(TEST_ELEMENT.style,"touchAction");var NATIVE_TOUCH_ACTION=PREFIXED_TOUCH_ACTION!==undefined;var TOUCH_ACTION_COMPUTE="compute";var TOUCH_ACTION_AUTO="auto";var TOUCH_ACTION_MANIPULATION="manipulation";var TOUCH_ACTION_NONE="none";var TOUCH_ACTION_PAN_X="pan-x";var TOUCH_ACTION_PAN_Y="pan-y";function TouchAction(manager,value){this.manager=manager;this.set(value)}TouchAction.prototype={set:function(value){if(value==TOUCH_ACTION_COMPUTE){value=this.compute()}if(NATIVE_TOUCH_ACTION&&this.manager.element.style){this.manager.element.style[PREFIXED_TOUCH_ACTION]=value;
}this.actions=value.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var actions=[];each(this.manager.recognizers,function(recognizer){if(boolOrFn(recognizer.options.enable,[recognizer])){actions=actions.concat(recognizer.getTouchAction())}});return cleanTouchActions(actions.join(" "))},preventDefaults:function(input){if(NATIVE_TOUCH_ACTION){return}var srcEvent=input.srcEvent;var direction=input.offsetDirection;if(this.manager.session.prevented){srcEvent.preventDefault();return}var actions=this.actions;var hasNone=inStr(actions,TOUCH_ACTION_NONE);var hasPanY=inStr(actions,TOUCH_ACTION_PAN_Y);var hasPanX=inStr(actions,TOUCH_ACTION_PAN_X);if(hasNone){var isTapPointer=input.pointers.length===1;var isTapMovement=input.distance<2;var isTapTouchTime=input.deltaTime<250;if(isTapPointer&&isTapMovement&&isTapTouchTime){return}}if(hasPanX&&hasPanY){return}if(hasNone||hasPanY&&direction&DIRECTION_HORIZONTAL||hasPanX&&direction&DIRECTION_VERTICAL){return this.preventSrc(srcEvent)}},preventSrc:function(srcEvent){this.manager.session.prevented=true;srcEvent.preventDefault()}};function cleanTouchActions(actions){if(inStr(actions,TOUCH_ACTION_NONE)){return TOUCH_ACTION_NONE}var hasPanX=inStr(actions,TOUCH_ACTION_PAN_X);var hasPanY=inStr(actions,TOUCH_ACTION_PAN_Y);if(hasPanX&&hasPanY){return TOUCH_ACTION_NONE}if(hasPanX||hasPanY){return hasPanX?TOUCH_ACTION_PAN_X:TOUCH_ACTION_PAN_Y}if(inStr(actions,TOUCH_ACTION_MANIPULATION)){return TOUCH_ACTION_MANIPULATION}return TOUCH_ACTION_AUTO}var STATE_POSSIBLE=1;var STATE_BEGAN=2;var STATE_CHANGED=4;var STATE_ENDED=8;var STATE_RECOGNIZED=STATE_ENDED;var STATE_CANCELLED=16;var STATE_FAILED=32;function Recognizer(options){this.options=assign({},this.defaults,options||{});this.id=uniqueId();this.manager=null;this.options.enable=ifUndefined(this.options.enable,true);this.state=STATE_POSSIBLE;this.simultaneous={};this.requireFail=[]}Recognizer.prototype={defaults:{},set:function(options){assign(this.options,options);this.manager&&this.manager.touchAction.update();return this},recognizeWith:function(otherRecognizer){if(invokeArrayArg(otherRecognizer,"recognizeWith",this)){return this}var simultaneous=this.simultaneous;otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this);if(!simultaneous[otherRecognizer.id]){simultaneous[otherRecognizer.id]=otherRecognizer;otherRecognizer.recognizeWith(this)}return this},dropRecognizeWith:function(otherRecognizer){if(invokeArrayArg(otherRecognizer,"dropRecognizeWith",this)){return this}otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this);delete this.simultaneous[otherRecognizer.id];return this},requireFailure:function(otherRecognizer){if(invokeArrayArg(otherRecognizer,"requireFailure",this)){return this}var requireFail=this.requireFail;otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this);if(inArray(requireFail,otherRecognizer)===-1){requireFail.push(otherRecognizer);otherRecognizer.requireFailure(this)}return this},dropRequireFailure:function(otherRecognizer){if(invokeArrayArg(otherRecognizer,"dropRequireFailure",this)){return this}otherRecognizer=getRecognizerByNameIfManager(otherRecognizer,this);var index=inArray(this.requireFail,otherRecognizer);if(index>-1){this.requireFail.splice(index,1)}return this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(otherRecognizer){return!!this.simultaneous[otherRecognizer.id]},emit:function(input){var self=this;var state=this.state;function emit(event){self.manager.emit(event,input)}if(state<STATE_ENDED){emit(self.options.event+stateStr(state))}emit(self.options.event);if(input.additionalEvent){emit(input.additionalEvent)}if(state>=STATE_ENDED){emit(self.options.event+stateStr(state))}},tryEmit:function(input){if(this.canEmit()){return this.emit(input)}this.state=STATE_FAILED},canEmit:function(){var i=0;while(i<this.requireFail.length){if(!(this.requireFail[i].state&(STATE_FAILED|STATE_POSSIBLE))){return false}i++}return true},recognize:function(inputData){var inputDataClone=assign({},inputData);if(!boolOrFn(this.options.enable,[this,inputDataClone])){this.reset();this.state=STATE_FAILED;return}if(this.state&(STATE_RECOGNIZED|STATE_CANCELLED|STATE_FAILED)){this.state=STATE_POSSIBLE}this.state=this.process(inputDataClone);if(this.state&(STATE_BEGAN|STATE_CHANGED|STATE_ENDED|STATE_CANCELLED)){this.tryEmit(inputDataClone)}},process:function(inputData){},getTouchAction:function(){},reset:function(){}};function stateStr(state){if(state&STATE_CANCELLED){return"cancel"}else if(state&STATE_ENDED){return"end"}else if(state&STATE_CHANGED){return"move"}else if(state&STATE_BEGAN){return"start"}return""}function directionStr(direction){if(direction==DIRECTION_DOWN){return"down"}else if(direction==DIRECTION_UP){return"up"}else if(direction==DIRECTION_LEFT){return"left"}else if(direction==DIRECTION_RIGHT){return"right"}return""}function getRecognizerByNameIfManager(otherRecognizer,recognizer){var manager=recognizer.manager;if(manager){return manager.get(otherRecognizer)}return otherRecognizer}function AttrRecognizer(){Recognizer.apply(this,arguments)}inherit(AttrRecognizer,Recognizer,{defaults:{pointers:1},attrTest:function(input){var optionPointers=this.options.pointers;return optionPointers===0||input.pointers.length===optionPointers},process:function(input){var state=this.state;var eventType=input.eventType;var isRecognized=state&(STATE_BEGAN|STATE_CHANGED);var isValid=this.attrTest(input);if(isRecognized&&(eventType&INPUT_CANCEL||!isValid)){return state|STATE_CANCELLED}else if(isRecognized||isValid){if(eventType&INPUT_END){return state|STATE_ENDED}else if(!(state&STATE_BEGAN)){return STATE_BEGAN}return state|STATE_CHANGED}return STATE_FAILED}});function PanRecognizer(){AttrRecognizer.apply(this,arguments);this.pX=null;this.pY=null}inherit(PanRecognizer,AttrRecognizer,{defaults:{event:"pan",threshold:10,pointers:1,direction:DIRECTION_ALL},getTouchAction:function(){var direction=this.options.direction;var actions=[];if(direction&DIRECTION_HORIZONTAL){actions.push(TOUCH_ACTION_PAN_Y)}if(direction&DIRECTION_VERTICAL){actions.push(TOUCH_ACTION_PAN_X)}return actions},directionTest:function(input){var options=this.options;var hasMoved=true;var distance=input.distance;var direction=input.direction;var x=input.deltaX;var y=input.deltaY;if(!(direction&options.direction)){if(options.direction&DIRECTION_HORIZONTAL){direction=x===0?DIRECTION_NONE:x<0?DIRECTION_LEFT:DIRECTION_RIGHT;hasMoved=x!=this.pX;distance=Math.abs(input.deltaX)}else{direction=y===0?DIRECTION_NONE:y<0?DIRECTION_UP:DIRECTION_DOWN;hasMoved=y!=this.pY;distance=Math.abs(input.deltaY)}}input.direction=direction;return hasMoved&&distance>options.threshold&&direction&options.direction},attrTest:function(input){return AttrRecognizer.prototype.attrTest.call(this,input)&&(this.state&STATE_BEGAN||!(this.state&STATE_BEGAN)&&this.directionTest(input))},emit:function(input){this.pX=input.deltaX;this.pY=input.deltaY;var direction=directionStr(input.direction);if(direction){input.additionalEvent=this.options.event+direction}this._super.emit.call(this,input)}});function PinchRecognizer(){AttrRecognizer.apply(this,arguments)}inherit(PinchRecognizer,AttrRecognizer,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[TOUCH_ACTION_NONE]},attrTest:function(input){return this._super.attrTest.call(this,input)&&(Math.abs(input.scale-1)>this.options.threshold||this.state&STATE_BEGAN)},emit:function(input){if(input.scale!==1){var inOut=input.scale<1?"in":"out";input.additionalEvent=this.options.event+inOut}this._super.emit.call(this,input)}});function PressRecognizer(){Recognizer.apply(this,arguments);this._timer=null;this._input=null}inherit(PressRecognizer,Recognizer,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[TOUCH_ACTION_AUTO]},process:function(input){var options=this.options;var validPointers=input.pointers.length===options.pointers;var validMovement=input.distance<options.threshold;var validTime=input.deltaTime>options.time;this._input=input;if(!validMovement||!validPointers||input.eventType&(INPUT_END|INPUT_CANCEL)&&!validTime){this.reset()}else if(input.eventType&INPUT_START){this.reset();this._timer=setTimeoutContext(function(){this.state=STATE_RECOGNIZED;this.tryEmit()},options.time,this)}else if(input.eventType&INPUT_END){return STATE_RECOGNIZED}return STATE_FAILED},reset:function(){clearTimeout(this._timer)},emit:function(input){if(this.state!==STATE_RECOGNIZED){return}if(input&&input.eventType&INPUT_END){this.manager.emit(this.options.event+"up",input)}else{this._input.timeStamp=now();this.manager.emit(this.options.event,this._input)}}});function RotateRecognizer(){AttrRecognizer.apply(this,arguments)}inherit(RotateRecognizer,AttrRecognizer,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[TOUCH_ACTION_NONE]},attrTest:function(input){return this._super.attrTest.call(this,input)&&(Math.abs(input.rotation)>this.options.threshold||this.state&STATE_BEGAN)}});function SwipeRecognizer(){AttrRecognizer.apply(this,arguments)}inherit(SwipeRecognizer,AttrRecognizer,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:DIRECTION_HORIZONTAL|DIRECTION_VERTICAL,pointers:1},getTouchAction:function(){return PanRecognizer.prototype.getTouchAction.call(this)},attrTest:function(input){var direction=this.options.direction;var velocity;if(direction&(DIRECTION_HORIZONTAL|DIRECTION_VERTICAL)){velocity=input.overallVelocity}else if(direction&DIRECTION_HORIZONTAL){velocity=input.overallVelocityX}else if(direction&DIRECTION_VERTICAL){velocity=input.overallVelocityY}return this._super.attrTest.call(this,input)&&direction&input.offsetDirection&&input.distance>this.options.threshold&&input.maxPointers==this.options.pointers&&abs(velocity)>this.options.velocity&&input.eventType&INPUT_END},emit:function(input){var direction=directionStr(input.offsetDirection);if(direction){this.manager.emit(this.options.event+direction,input)}this.manager.emit(this.options.event,input)}});function TapRecognizer(){Recognizer.apply(this,arguments);this.pTime=false;this.pCenter=false;this._timer=null;this._input=null;this.count=0}inherit(TapRecognizer,Recognizer,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[TOUCH_ACTION_MANIPULATION]},process:function(input){var options=this.options;var validPointers=input.pointers.length===options.pointers;var validMovement=input.distance<options.threshold;var validTouchTime=input.deltaTime<options.time;this.reset();if(input.eventType&INPUT_START&&this.count===0){return this.failTimeout()}if(validMovement&&validTouchTime&&validPointers){if(input.eventType!=INPUT_END){return this.failTimeout()}var validInterval=this.pTime?input.timeStamp-this.pTime<options.interval:true;var validMultiTap=!this.pCenter||getDistance(this.pCenter,input.center)<options.posThreshold;this.pTime=input.timeStamp;this.pCenter=input.center;if(!validMultiTap||!validInterval){this.count=1}else{this.count+=1}this._input=input;var tapCount=this.count%options.taps;if(tapCount===0){if(!this.hasRequireFailures()){return STATE_RECOGNIZED}else{this._timer=setTimeoutContext(function(){this.state=STATE_RECOGNIZED;this.tryEmit()},options.interval,this);return STATE_BEGAN}}}return STATE_FAILED},failTimeout:function(){this._timer=setTimeoutContext(function(){this.state=STATE_FAILED},this.options.interval,this);return STATE_FAILED},reset:function(){clearTimeout(this._timer)},emit:function(){if(this.state==STATE_RECOGNIZED){this._input.tapCount=this.count;this.manager.emit(this.options.event,this._input)}}});function Hammer(element,options){options=options||{};options.recognizers=ifUndefined(options.recognizers,Hammer.defaults.preset);return new Manager(element,options)}Hammer.VERSION="2.0.6";Hammer.defaults={domEvents:false,touchAction:TOUCH_ACTION_COMPUTE,enable:true,inputTarget:null,inputClass:null,preset:[[RotateRecognizer,{enable:false}],[PinchRecognizer,{enable:false},["rotate"]],[SwipeRecognizer,{direction:DIRECTION_HORIZONTAL}],[PanRecognizer,{direction:DIRECTION_HORIZONTAL},["swipe"]],[TapRecognizer],[TapRecognizer,{event:"doubletap",taps:2},["tap"]],[PressRecognizer]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var STOP=1;var FORCED_STOP=2;function Manager(element,options){this.options=assign({},Hammer.defaults,options||{});this.options.inputTarget=this.options.inputTarget||element;this.handlers={};this.session={};this.recognizers=[];this.element=element;this.input=createInputInstance(this);this.touchAction=new TouchAction(this,this.options.touchAction);toggleCssProps(this,true);each(this.options.recognizers,function(item){var recognizer=this.add(new item[0](item[1]));item[2]&&recognizer.recognizeWith(item[2]);item[3]&&recognizer.requireFailure(item[3])},this)}Manager.prototype={set:function(options){assign(this.options,options);if(options.touchAction){this.touchAction.update()}if(options.inputTarget){this.input.destroy();this.input.target=options.inputTarget;this.input.init()}return this},stop:function(force){this.session.stopped=force?FORCED_STOP:STOP},recognize:function(inputData){var session=this.session;if(session.stopped){return}this.touchAction.preventDefaults(inputData);var recognizer;var recognizers=this.recognizers;var curRecognizer=session.curRecognizer;if(!curRecognizer||curRecognizer&&curRecognizer.state&STATE_RECOGNIZED){curRecognizer=session.curRecognizer=null}var i=0;while(i<recognizers.length){recognizer=recognizers[i];if(session.stopped!==FORCED_STOP&&(!curRecognizer||recognizer==curRecognizer||recognizer.canRecognizeWith(curRecognizer))){recognizer.recognize(inputData)}else{recognizer.reset()}if(!curRecognizer&&recognizer.state&(STATE_BEGAN|STATE_CHANGED|STATE_ENDED)){curRecognizer=session.curRecognizer=recognizer}i++}},get:function(recognizer){if(recognizer instanceof Recognizer){return recognizer}var recognizers=this.recognizers;for(var i=0;i<recognizers.length;i++){if(recognizers[i].options.event==recognizer){return recognizers[i]}}return null},add:function(recognizer){if(invokeArrayArg(recognizer,"add",this)){return this}var existing=this.get(recognizer.options.event);if(existing){this.remove(existing)}this.recognizers.push(recognizer);recognizer.manager=this;this.touchAction.update();return recognizer},remove:function(recognizer){if(invokeArrayArg(recognizer,"remove",this)){return this}recognizer=this.get(recognizer);if(recognizer){var recognizers=this.recognizers;var index=inArray(recognizers,recognizer);if(index!==-1){recognizers.splice(index,1);this.touchAction.update()}}return this},on:function(events,handler){var handlers=this.handlers;each(splitStr(events),function(event){handlers[event]=handlers[event]||[];handlers[event].push(handler)});return this},off:function(events,handler){var handlers=this.handlers;each(splitStr(events),function(event){if(!handler){delete handlers[event]}else{handlers[event]&&handlers[event].splice(inArray(handlers[event],handler),1)}});return this},emit:function(event,data){if(this.options.domEvents){triggerDomEvent(event,data)}var handlers=this.handlers[event]&&this.handlers[event].slice();if(!handlers||!handlers.length){return}data.type=event;data.preventDefault=function(){data.srcEvent.preventDefault()};var i=0;while(i<handlers.length){handlers[i](data);i++}},destroy:function(){this.element&&toggleCssProps(this,false);this.handlers={};this.session={};this.input.destroy();this.element=null}};function toggleCssProps(manager,add){var element=manager.element;if(!element.style){return}each(manager.options.cssProps,function(value,name){element.style[prefixed(element.style,name)]=add?value:""})}function triggerDomEvent(event,data){var gestureEvent=document.createEvent("Event");gestureEvent.initEvent(event,true,true);gestureEvent.gesture=data;data.target.dispatchEvent(gestureEvent)}assign(Hammer,{INPUT_START:INPUT_START,INPUT_MOVE:INPUT_MOVE,INPUT_END:INPUT_END,INPUT_CANCEL:INPUT_CANCEL,STATE_POSSIBLE:STATE_POSSIBLE,STATE_BEGAN:STATE_BEGAN,STATE_CHANGED:STATE_CHANGED,STATE_ENDED:STATE_ENDED,STATE_RECOGNIZED:STATE_RECOGNIZED,STATE_CANCELLED:STATE_CANCELLED,STATE_FAILED:STATE_FAILED,DIRECTION_NONE:DIRECTION_NONE,DIRECTION_LEFT:DIRECTION_LEFT,DIRECTION_RIGHT:DIRECTION_RIGHT,DIRECTION_UP:DIRECTION_UP,DIRECTION_DOWN:DIRECTION_DOWN,DIRECTION_HORIZONTAL:DIRECTION_HORIZONTAL,DIRECTION_VERTICAL:DIRECTION_VERTICAL,DIRECTION_ALL:DIRECTION_ALL,Manager:Manager,Input:Input,TouchAction:TouchAction,TouchInput:TouchInput,MouseInput:MouseInput,PointerEventInput:PointerEventInput,TouchMouseInput:TouchMouseInput,SingleTouchInput:SingleTouchInput,Recognizer:Recognizer,AttrRecognizer:AttrRecognizer,Tap:TapRecognizer,Pan:PanRecognizer,Swipe:SwipeRecognizer,Pinch:PinchRecognizer,Rotate:RotateRecognizer,Press:PressRecognizer,on:addEventListeners,off:removeEventListeners,each:each,merge:merge,extend:extend,assign:assign,inherit:inherit,bindFn:bindFn,prefixed:prefixed});var freeGlobal=typeof window!=="undefined"?window:typeof self!=="undefined"?self:{};freeGlobal.Hammer=Hammer;if(typeof define==="function"&&define.amd){define(function(){return Hammer})}else if(typeof module!="undefined"&&module.exports){module.exports=Hammer}else{window[exportName]=Hammer}})(window,document,"Hammer")},{}],"/Users/paulfrazee/patchwork/node_modules/hash.js/lib/hash.js":[function(require,module,exports){var hash=exports;hash.utils=require("./hash/utils");hash.common=require("./hash/common");hash.sha=require("./hash/sha");hash.ripemd=require("./hash/ripemd");hash.hmac=require("./hash/hmac");hash.sha1=hash.sha.sha1;hash.sha256=hash.sha.sha256;hash.sha224=hash.sha.sha224;hash.sha384=hash.sha.sha384;hash.sha512=hash.sha.sha512;hash.ripemd160=hash.ripemd.ripemd160},{"./hash/common":"/Users/paulfrazee/patchwork/node_modules/hash.js/lib/hash/common.js","./hash/hmac":"/Users/paulfrazee/patchwork/node_modules/hash.js/lib/hash/hmac.js","./hash/ripemd":"/Users/paulfrazee/patchwork/node_modules/hash.js/lib/hash/ripemd.js","./hash/sha":"/Users/paulfrazee/patchwork/node_modules/hash.js/lib/hash/sha.js","./hash/utils":"/Users/paulfrazee/patchwork/node_modules/hash.js/lib/hash/utils.js"}],"/Users/paulfrazee/patchwork/node_modules/hash.js/lib/hash/common.js":[function(require,module,exports){var hash=require("../hash");var utils=hash.utils;var assert=utils.assert;function BlockHash(){this.pending=null;this.pendingTotal=0;this.blockSize=this.constructor.blockSize;this.outSize=this.constructor.outSize;this.hmacStrength=this.constructor.hmacStrength;this.padLength=this.constructor.padLength/8;this.endian="big";this._delta8=this.blockSize/8;this._delta32=this.blockSize/32}exports.BlockHash=BlockHash;BlockHash.prototype.update=function update(msg,enc){msg=utils.toArray(msg,enc);if(!this.pending)this.pending=msg;else this.pending=this.pending.concat(msg);this.pendingTotal+=msg.length;if(this.pending.length>=this._delta8){msg=this.pending;var r=msg.length%this._delta8;this.pending=msg.slice(msg.length-r,msg.length);if(this.pending.length===0)this.pending=null;msg=utils.join32(msg,0,msg.length-r,this.endian);for(var i=0;i<msg.length;i+=this._delta32)this._update(msg,i,i+this._delta32)}return this};BlockHash.prototype.digest=function digest(enc){this.update(this._pad());assert(this.pending===null);return this._digest(enc)};BlockHash.prototype._pad=function pad(){var len=this.pendingTotal;var bytes=this._delta8;var k=bytes-(len+this.padLength)%bytes;var res=new Array(k+this.padLength);res[0]=128;for(var i=1;i<k;i++)res[i]=0;len<<=3;if(this.endian==="big"){for(var t=8;t<this.padLength;t++)res[i++]=0;res[i++]=0;res[i++]=0;res[i++]=0;res[i++]=0;res[i++]=len>>>24&255;res[i++]=len>>>16&255;res[i++]=len>>>8&255;res[i++]=len&255}else{res[i++]=len&255;res[i++]=len>>>8&255;res[i++]=len>>>16&255;res[i++]=len>>>24&255;res[i++]=0;res[i++]=0;res[i++]=0;res[i++]=0;for(var t=8;t<this.padLength;t++)res[i++]=0}return res}},{"../hash":"/Users/paulfrazee/patchwork/node_modules/hash.js/lib/hash.js"}],"/Users/paulfrazee/patchwork/node_modules/hash.js/lib/hash/hmac.js":[function(require,module,exports){var hmac=exports;var hash=require("../hash");var utils=hash.utils;var assert=utils.assert;function Hmac(hash,key,enc){if(!(this instanceof Hmac))return new Hmac(hash,key,enc);this.Hash=hash;this.blockSize=hash.blockSize/8;this.outSize=hash.outSize/8;this.inner=null;this.outer=null;this._init(utils.toArray(key,enc))}module.exports=Hmac;Hmac.prototype._init=function init(key){if(key.length>this.blockSize)key=(new this.Hash).update(key).digest();assert(key.length<=this.blockSize);for(var i=key.length;i<this.blockSize;i++)key.push(0);for(var i=0;i<key.length;i++)key[i]^=54;this.inner=(new this.Hash).update(key);for(var i=0;i<key.length;i++)key[i]^=106;this.outer=(new this.Hash).update(key)};Hmac.prototype.update=function update(msg,enc){this.inner.update(msg,enc);return this};Hmac.prototype.digest=function digest(enc){this.outer.update(this.inner.digest());return this.outer.digest(enc)}},{"../hash":"/Users/paulfrazee/patchwork/node_modules/hash.js/lib/hash.js"}],"/Users/paulfrazee/patchwork/node_modules/hash.js/lib/hash/ripemd.js":[function(require,module,exports){var hash=require("../hash");var utils=hash.utils;var rotl32=utils.rotl32;var sum32=utils.sum32;var sum32_3=utils.sum32_3;var sum32_4=utils.sum32_4;var BlockHash=hash.common.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this);this.h=[1732584193,4023233417,2562383102,271733878,3285377520];this.endian="little"}utils.inherits(RIPEMD160,BlockHash);exports.ripemd160=RIPEMD160;RIPEMD160.blockSize=512;RIPEMD160.outSize=160;RIPEMD160.hmacStrength=192;RIPEMD160.padLength=64;RIPEMD160.prototype._update=function update(msg,start){var A=this.h[0];var B=this.h[1];var C=this.h[2];var D=this.h[3];var E=this.h[4];var Ah=A;var Bh=B;var Ch=C;var Dh=D;var Eh=E;for(var j=0;j<80;j++){var T=sum32(rotl32(sum32_4(A,f(j,B,C,D),msg[r[j]+start],K(j)),s[j]),E);A=E;E=D;D=rotl32(C,10);C=B;B=T;T=sum32(rotl32(sum32_4(Ah,f(79-j,Bh,Ch,Dh),msg[rh[j]+start],Kh(j)),sh[j]),Eh);Ah=Eh;Eh=Dh;Dh=rotl32(Ch,10);Ch=Bh;Bh=T}T=sum32_3(this.h[1],C,Dh);this.h[1]=sum32_3(this.h[2],D,Eh);this.h[2]=sum32_3(this.h[3],E,Ah);this.h[3]=sum32_3(this.h[4],A,Bh);this.h[4]=sum32_3(this.h[0],B,Ch);this.h[0]=T};RIPEMD160.prototype._digest=function digest(enc){if(enc==="hex")return utils.toHex32(this.h,"little");else return utils.split32(this.h,"little")};function f(j,x,y,z){if(j<=15)return x^y^z;else if(j<=31)return x&y|~x&z;else if(j<=47)return(x|~y)^z;else if(j<=63)return x&z|y&~z;else return x^(y|~z)}function K(j){if(j<=15)return 0;else if(j<=31)return 1518500249;else if(j<=47)return 1859775393;else if(j<=63)return 2400959708;else return 2840853838}function Kh(j){if(j<=15)return 1352829926;else if(j<=31)return 1548603684;else if(j<=47)return 1836072691;else if(j<=63)return 2053994217;else return 0}var r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13];var rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11];var s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6];var sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"../hash":"/Users/paulfrazee/patchwork/node_modules/hash.js/lib/hash.js"}],"/Users/paulfrazee/patchwork/node_modules/hash.js/lib/hash/sha.js":[function(require,module,exports){var hash=require("../hash");var utils=hash.utils;var assert=utils.assert;var rotr32=utils.rotr32;var rotl32=utils.rotl32;var sum32=utils.sum32;var sum32_4=utils.sum32_4;var sum32_5=utils.sum32_5;var rotr64_hi=utils.rotr64_hi;var rotr64_lo=utils.rotr64_lo;var shr64_hi=utils.shr64_hi;var shr64_lo=utils.shr64_lo;var sum64=utils.sum64;var sum64_hi=utils.sum64_hi;var sum64_lo=utils.sum64_lo;var sum64_4_hi=utils.sum64_4_hi;var sum64_4_lo=utils.sum64_4_lo;var sum64_5_hi=utils.sum64_5_hi;var sum64_5_lo=utils.sum64_5_lo;var BlockHash=hash.common.BlockHash;var sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];var sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];var sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA256(){if(!(this instanceof SHA256))return new SHA256;BlockHash.call(this);this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];this.k=sha256_K;this.W=new Array(64)}utils.inherits(SHA256,BlockHash);exports.sha256=SHA256;SHA256.blockSize=512;SHA256.outSize=256;SHA256.hmacStrength=192;SHA256.padLength=64;SHA256.prototype._update=function _update(msg,start){var W=this.W;for(var i=0;i<16;i++)W[i]=msg[start+i];for(;i<W.length;i++)W[i]=sum32_4(g1_256(W[i-2]),W[i-7],g0_256(W[i-15]),W[i-16]);var a=this.h[0];var b=this.h[1];var c=this.h[2];var d=this.h[3];var e=this.h[4];var f=this.h[5];var g=this.h[6];var h=this.h[7];assert(this.k.length===W.length);for(var i=0;i<W.length;i++){var T1=sum32_5(h,s1_256(e),ch32(e,f,g),this.k[i],W[i]);var T2=sum32(s0_256(a),maj32(a,b,c));h=g;g=f;f=e;e=sum32(d,T1);d=c;c=b;b=a;a=sum32(T1,T2)}this.h[0]=sum32(this.h[0],a);this.h[1]=sum32(this.h[1],b);this.h[2]=sum32(this.h[2],c);this.h[3]=sum32(this.h[3],d);this.h[4]=sum32(this.h[4],e);this.h[5]=sum32(this.h[5],f);this.h[6]=sum32(this.h[6],g);this.h[7]=sum32(this.h[7],h)};SHA256.prototype._digest=function digest(enc){if(enc==="hex")return utils.toHex32(this.h,"big");else return utils.split32(this.h,"big")};function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this);this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils.inherits(SHA224,SHA256);exports.sha224=SHA224;SHA224.blockSize=512;SHA224.outSize=224;SHA224.hmacStrength=192;SHA224.padLength=64;SHA224.prototype._digest=function digest(enc){if(enc==="hex")return utils.toHex32(this.h.slice(0,7),"big");else return utils.split32(this.h.slice(0,7),"big")};function SHA512(){if(!(this instanceof SHA512))return new SHA512;BlockHash.call(this);this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209];this.k=sha512_K;this.W=new Array(160)}utils.inherits(SHA512,BlockHash);exports.sha512=SHA512;SHA512.blockSize=1024;SHA512.outSize=512;SHA512.hmacStrength=192;SHA512.padLength=128;SHA512.prototype._prepareBlock=function _prepareBlock(msg,start){var W=this.W;for(var i=0;i<32;i++)W[i]=msg[start+i];for(;i<W.length;i+=2){var c0_hi=g1_512_hi(W[i-4],W[i-3]);var c0_lo=g1_512_lo(W[i-4],W[i-3]);var c1_hi=W[i-14];var c1_lo=W[i-13];var c2_hi=g0_512_hi(W[i-30],W[i-29]);var c2_lo=g0_512_lo(W[i-30],W[i-29]);var c3_hi=W[i-32];var c3_lo=W[i-31];W[i]=sum64_4_hi(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo);W[i+1]=sum64_4_lo(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo)}};SHA512.prototype._update=function _update(msg,start){this._prepareBlock(msg,start);var W=this.W;var ah=this.h[0];var al=this.h[1];var bh=this.h[2];var bl=this.h[3];var ch=this.h[4];var cl=this.h[5];var dh=this.h[6];var dl=this.h[7];var eh=this.h[8];var el=this.h[9];var fh=this.h[10];var fl=this.h[11];var gh=this.h[12];var gl=this.h[13];var hh=this.h[14];var hl=this.h[15];assert(this.k.length===W.length);for(var i=0;i<W.length;i+=2){var c0_hi=hh;var c0_lo=hl;var c1_hi=s1_512_hi(eh,el);var c1_lo=s1_512_lo(eh,el);var c2_hi=ch64_hi(eh,el,fh,fl,gh,gl);var c2_lo=ch64_lo(eh,el,fh,fl,gh,gl);var c3_hi=this.k[i];var c3_lo=this.k[i+1];var c4_hi=W[i];var c4_lo=W[i+1];var T1_hi=sum64_5_hi(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo,c4_hi,c4_lo);var T1_lo=sum64_5_lo(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo,c4_hi,c4_lo);var c0_hi=s0_512_hi(ah,al);var c0_lo=s0_512_lo(ah,al);var c1_hi=maj64_hi(ah,al,bh,bl,ch,cl);var c1_lo=maj64_lo(ah,al,bh,bl,ch,cl);var T2_hi=sum64_hi(c0_hi,c0_lo,c1_hi,c1_lo);var T2_lo=sum64_lo(c0_hi,c0_lo,c1_hi,c1_lo);hh=gh;hl=gl;gh=fh;gl=fl;fh=eh;fl=el;eh=sum64_hi(dh,dl,T1_hi,T1_lo);el=sum64_lo(dl,dl,T1_hi,T1_lo);dh=ch;dl=cl;ch=bh;cl=bl;bh=ah;bl=al;ah=sum64_hi(T1_hi,T1_lo,T2_hi,T2_lo);al=sum64_lo(T1_hi,T1_lo,T2_hi,T2_lo)}sum64(this.h,0,ah,al);sum64(this.h,2,bh,bl);sum64(this.h,4,ch,cl);sum64(this.h,6,dh,dl);sum64(this.h,8,eh,el);sum64(this.h,10,fh,fl);sum64(this.h,12,gh,gl);sum64(this.h,14,hh,hl)};SHA512.prototype._digest=function digest(enc){if(enc==="hex")return utils.toHex32(this.h,"big");else return utils.split32(this.h,"big")};function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512.call(this);this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils.inherits(SHA384,SHA512);exports.sha384=SHA384;SHA384.blockSize=1024;SHA384.outSize=384;SHA384.hmacStrength=192;SHA384.padLength=128;SHA384.prototype._digest=function digest(enc){if(enc==="hex")return utils.toHex32(this.h.slice(0,12),"big");else return utils.split32(this.h.slice(0,12),"big")};function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash.call(this);this.h=[1732584193,4023233417,2562383102,271733878,3285377520];
this.W=new Array(80)}utils.inherits(SHA1,BlockHash);exports.sha1=SHA1;SHA1.blockSize=512;SHA1.outSize=160;SHA1.hmacStrength=80;SHA1.padLength=64;SHA1.prototype._update=function _update(msg,start){var W=this.W;for(var i=0;i<16;i++)W[i]=msg[start+i];for(;i<W.length;i++)W[i]=rotl32(W[i-3]^W[i-8]^W[i-14]^W[i-16],1);var a=this.h[0];var b=this.h[1];var c=this.h[2];var d=this.h[3];var e=this.h[4];for(var i=0;i<W.length;i++){var s=~~(i/20);var t=sum32_5(rotl32(a,5),ft_1(s,b,c,d),e,W[i],sha1_K[s]);e=d;d=c;c=rotl32(b,30);b=a;a=t}this.h[0]=sum32(this.h[0],a);this.h[1]=sum32(this.h[1],b);this.h[2]=sum32(this.h[2],c);this.h[3]=sum32(this.h[3],d);this.h[4]=sum32(this.h[4],e)};SHA1.prototype._digest=function digest(enc){if(enc==="hex")return utils.toHex32(this.h,"big");else return utils.split32(this.h,"big")};function ch32(x,y,z){return x&y^~x&z}function maj32(x,y,z){return x&y^x&z^y&z}function p32(x,y,z){return x^y^z}function s0_256(x){return rotr32(x,2)^rotr32(x,13)^rotr32(x,22)}function s1_256(x){return rotr32(x,6)^rotr32(x,11)^rotr32(x,25)}function g0_256(x){return rotr32(x,7)^rotr32(x,18)^x>>>3}function g1_256(x){return rotr32(x,17)^rotr32(x,19)^x>>>10}function ft_1(s,x,y,z){if(s===0)return ch32(x,y,z);if(s===1||s===3)return p32(x,y,z);if(s===2)return maj32(x,y,z)}function ch64_hi(xh,xl,yh,yl,zh,zl){var r=xh&yh^~xh&zh;if(r<0)r+=4294967296;return r}function ch64_lo(xh,xl,yh,yl,zh,zl){var r=xl&yl^~xl&zl;if(r<0)r+=4294967296;return r}function maj64_hi(xh,xl,yh,yl,zh,zl){var r=xh&yh^xh&zh^yh&zh;if(r<0)r+=4294967296;return r}function maj64_lo(xh,xl,yh,yl,zh,zl){var r=xl&yl^xl&zl^yl&zl;if(r<0)r+=4294967296;return r}function s0_512_hi(xh,xl){var c0_hi=rotr64_hi(xh,xl,28);var c1_hi=rotr64_hi(xl,xh,2);var c2_hi=rotr64_hi(xl,xh,7);var r=c0_hi^c1_hi^c2_hi;if(r<0)r+=4294967296;return r}function s0_512_lo(xh,xl){var c0_lo=rotr64_lo(xh,xl,28);var c1_lo=rotr64_lo(xl,xh,2);var c2_lo=rotr64_lo(xl,xh,7);var r=c0_lo^c1_lo^c2_lo;if(r<0)r+=4294967296;return r}function s1_512_hi(xh,xl){var c0_hi=rotr64_hi(xh,xl,14);var c1_hi=rotr64_hi(xh,xl,18);var c2_hi=rotr64_hi(xl,xh,9);var r=c0_hi^c1_hi^c2_hi;if(r<0)r+=4294967296;return r}function s1_512_lo(xh,xl){var c0_lo=rotr64_lo(xh,xl,14);var c1_lo=rotr64_lo(xh,xl,18);var c2_lo=rotr64_lo(xl,xh,9);var r=c0_lo^c1_lo^c2_lo;if(r<0)r+=4294967296;return r}function g0_512_hi(xh,xl){var c0_hi=rotr64_hi(xh,xl,1);var c1_hi=rotr64_hi(xh,xl,8);var c2_hi=shr64_hi(xh,xl,7);var r=c0_hi^c1_hi^c2_hi;if(r<0)r+=4294967296;return r}function g0_512_lo(xh,xl){var c0_lo=rotr64_lo(xh,xl,1);var c1_lo=rotr64_lo(xh,xl,8);var c2_lo=shr64_lo(xh,xl,7);var r=c0_lo^c1_lo^c2_lo;if(r<0)r+=4294967296;return r}function g1_512_hi(xh,xl){var c0_hi=rotr64_hi(xh,xl,19);var c1_hi=rotr64_hi(xl,xh,29);var c2_hi=shr64_hi(xh,xl,6);var r=c0_hi^c1_hi^c2_hi;if(r<0)r+=4294967296;return r}function g1_512_lo(xh,xl){var c0_lo=rotr64_lo(xh,xl,19);var c1_lo=rotr64_lo(xl,xh,29);var c2_lo=shr64_lo(xh,xl,6);var r=c0_lo^c1_lo^c2_lo;if(r<0)r+=4294967296;return r}},{"../hash":"/Users/paulfrazee/patchwork/node_modules/hash.js/lib/hash.js"}],"/Users/paulfrazee/patchwork/node_modules/hash.js/lib/hash/utils.js":[function(require,module,exports){var utils=exports;var inherits=require("inherits");function toArray(msg,enc){if(Array.isArray(msg))return msg.slice();if(!msg)return[];var res=[];if(typeof msg==="string"){if(!enc){for(var i=0;i<msg.length;i++){var c=msg.charCodeAt(i);var hi=c>>8;var lo=c&255;if(hi)res.push(hi,lo);else res.push(lo)}}else if(enc==="hex"){msg=msg.replace(/[^a-z0-9]+/gi,"");if(msg.length%2!==0)msg="0"+msg;for(var i=0;i<msg.length;i+=2)res.push(parseInt(msg[i]+msg[i+1],16))}}else{for(var i=0;i<msg.length;i++)res[i]=msg[i]|0}return res}utils.toArray=toArray;function toHex(msg){var res="";for(var i=0;i<msg.length;i++)res+=zero2(msg[i].toString(16));return res}utils.toHex=toHex;function htonl(w){var res=w>>>24|w>>>8&65280|w<<8&16711680|(w&255)<<24;return res>>>0}utils.htonl=htonl;function toHex32(msg,endian){var res="";for(var i=0;i<msg.length;i++){var w=msg[i];if(endian==="little")w=htonl(w);res+=zero8(w.toString(16))}return res}utils.toHex32=toHex32;function zero2(word){if(word.length===1)return"0"+word;else return word}utils.zero2=zero2;function zero8(word){if(word.length===7)return"0"+word;else if(word.length===6)return"00"+word;else if(word.length===5)return"000"+word;else if(word.length===4)return"0000"+word;else if(word.length===3)return"00000"+word;else if(word.length===2)return"000000"+word;else if(word.length===1)return"0000000"+word;else return word}utils.zero8=zero8;function join32(msg,start,end,endian){var len=end-start;assert(len%4===0);var res=new Array(len/4);for(var i=0,k=start;i<res.length;i++,k+=4){var w;if(endian==="big")w=msg[k]<<24|msg[k+1]<<16|msg[k+2]<<8|msg[k+3];else w=msg[k+3]<<24|msg[k+2]<<16|msg[k+1]<<8|msg[k];res[i]=w>>>0}return res}utils.join32=join32;function split32(msg,endian){var res=new Array(msg.length*4);for(var i=0,k=0;i<msg.length;i++,k+=4){var m=msg[i];if(endian==="big"){res[k]=m>>>24;res[k+1]=m>>>16&255;res[k+2]=m>>>8&255;res[k+3]=m&255}else{res[k+3]=m>>>24;res[k+2]=m>>>16&255;res[k+1]=m>>>8&255;res[k]=m&255}}return res}utils.split32=split32;function rotr32(w,b){return w>>>b|w<<32-b}utils.rotr32=rotr32;function rotl32(w,b){return w<<b|w>>>32-b}utils.rotl32=rotl32;function sum32(a,b){return a+b>>>0}utils.sum32=sum32;function sum32_3(a,b,c){return a+b+c>>>0}utils.sum32_3=sum32_3;function sum32_4(a,b,c,d){return a+b+c+d>>>0}utils.sum32_4=sum32_4;function sum32_5(a,b,c,d,e){return a+b+c+d+e>>>0}utils.sum32_5=sum32_5;function assert(cond,msg){if(!cond)throw new Error(msg||"Assertion failed")}utils.assert=assert;utils.inherits=inherits;function sum64(buf,pos,ah,al){var bh=buf[pos];var bl=buf[pos+1];var lo=al+bl>>>0;var hi=(lo<al?1:0)+ah+bh;buf[pos]=hi>>>0;buf[pos+1]=lo}exports.sum64=sum64;function sum64_hi(ah,al,bh,bl){var lo=al+bl>>>0;var hi=(lo<al?1:0)+ah+bh;return hi>>>0}exports.sum64_hi=sum64_hi;function sum64_lo(ah,al,bh,bl){var lo=al+bl;return lo>>>0}exports.sum64_lo=sum64_lo;function sum64_4_hi(ah,al,bh,bl,ch,cl,dh,dl){var carry=0;var lo=al;lo=lo+bl>>>0;carry+=lo<al?1:0;lo=lo+cl>>>0;carry+=lo<cl?1:0;lo=lo+dl>>>0;carry+=lo<dl?1:0;var hi=ah+bh+ch+dh+carry;return hi>>>0}exports.sum64_4_hi=sum64_4_hi;function sum64_4_lo(ah,al,bh,bl,ch,cl,dh,dl){var lo=al+bl+cl+dl;return lo>>>0}exports.sum64_4_lo=sum64_4_lo;function sum64_5_hi(ah,al,bh,bl,ch,cl,dh,dl,eh,el){var carry=0;var lo=al;lo=lo+bl>>>0;carry+=lo<al?1:0;lo=lo+cl>>>0;carry+=lo<cl?1:0;lo=lo+dl>>>0;carry+=lo<dl?1:0;lo=lo+el>>>0;carry+=lo<el?1:0;var hi=ah+bh+ch+dh+eh+carry;return hi>>>0}exports.sum64_5_hi=sum64_5_hi;function sum64_5_lo(ah,al,bh,bl,ch,cl,dh,dl,eh,el){var lo=al+bl+cl+dl+el;return lo>>>0}exports.sum64_5_lo=sum64_5_lo;function rotr64_hi(ah,al,num){var r=al<<32-num|ah>>>num;return r>>>0}exports.rotr64_hi=rotr64_hi;function rotr64_lo(ah,al,num){var r=ah<<32-num|al>>>num;return r>>>0}exports.rotr64_lo=rotr64_lo;function shr64_hi(ah,al,num){return ah>>>num}exports.shr64_hi=shr64_hi;function shr64_lo(ah,al,num){var r=ah<<32-num|al>>>num;return r>>>0}exports.shr64_lo=shr64_lo},{inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js"}],"/Users/paulfrazee/patchwork/node_modules/history/lib/Actions.js":[function(require,module,exports){"use strict";exports.__esModule=true;var PUSH="PUSH";exports.PUSH=PUSH;var REPLACE="REPLACE";exports.REPLACE=REPLACE;var POP="POP";exports.POP=POP;exports["default"]={PUSH:PUSH,REPLACE:REPLACE,POP:POP}},{}],"/Users/paulfrazee/patchwork/node_modules/history/lib/AsyncUtils.js":[function(require,module,exports){"use strict";exports.__esModule=true;exports.loopAsync=loopAsync;function loopAsync(turns,work,callback){var currentTurn=0;var isDone=false;function done(){isDone=true;callback.apply(this,arguments)}function next(){if(isDone)return;if(currentTurn<turns){work.call(this,currentTurn++,next,done)}else{done.apply(this,arguments)}}next()}},{}],"/Users/paulfrazee/patchwork/node_modules/history/lib/DOMStateStorage.js":[function(require,module,exports){"use strict";exports.__esModule=true;exports.saveState=saveState;exports.readState=readState;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _warning=require("warning");var _warning2=_interopRequireDefault(_warning);var KeyPrefix="@@History/";var QuotaExceededError="QuotaExceededError";var SecurityError="SecurityError";function createKey(key){return KeyPrefix+key}function saveState(key,state){try{window.sessionStorage.setItem(createKey(key),JSON.stringify(state))}catch(error){if(error.name===SecurityError){"production"!=="production"?_warning2["default"](false,"[history] Unable to save state; sessionStorage is not available due to security settings"):undefined;return}if(error.name===QuotaExceededError&&window.sessionStorage.length===0){"production"!=="production"?_warning2["default"](false,"[history] Unable to save state; sessionStorage is not available in Safari private mode"):undefined;return}throw error}}function readState(key){var json=undefined;try{json=window.sessionStorage.getItem(createKey(key))}catch(error){if(error.name===SecurityError){"production"!=="production"?_warning2["default"](false,"[history] Unable to read state; sessionStorage is not available due to security settings"):undefined;return null}}if(json){try{return JSON.parse(json)}catch(error){}}return null}},{warning:"/Users/paulfrazee/patchwork/node_modules/warning/browser.js"}],"/Users/paulfrazee/patchwork/node_modules/history/lib/DOMUtils.js":[function(require,module,exports){"use strict";exports.__esModule=true;exports.addEventListener=addEventListener;exports.removeEventListener=removeEventListener;exports.getHashPath=getHashPath;exports.replaceHashPath=replaceHashPath;exports.getWindowPath=getWindowPath;exports.go=go;exports.getUserConfirmation=getUserConfirmation;exports.supportsHistory=supportsHistory;exports.supportsGoWithoutReloadUsingHash=supportsGoWithoutReloadUsingHash;function addEventListener(node,event,listener){if(node.addEventListener){node.addEventListener(event,listener,false)}else{node.attachEvent("on"+event,listener)}}function removeEventListener(node,event,listener){if(node.removeEventListener){node.removeEventListener(event,listener,false)}else{node.detachEvent("on"+event,listener)}}function getHashPath(){return window.location.href.split("#")[1]||""}function replaceHashPath(path){window.location.replace(window.location.pathname+window.location.search+"#"+path)}function getWindowPath(){return window.location.pathname+window.location.search+window.location.hash}function go(n){if(n)window.history.go(n)}function getUserConfirmation(message,callback){callback(window.confirm(message))}function supportsHistory(){var ua=navigator.userAgent;if((ua.indexOf("Android 2.")!==-1||ua.indexOf("Android 4.0")!==-1)&&ua.indexOf("Mobile Safari")!==-1&&ua.indexOf("Chrome")===-1&&ua.indexOf("Windows Phone")===-1){return false}return window.history&&"pushState"in window.history}function supportsGoWithoutReloadUsingHash(){var ua=navigator.userAgent;return ua.indexOf("Firefox")===-1}},{}],"/Users/paulfrazee/patchwork/node_modules/history/lib/ExecutionEnvironment.js":[function(require,module,exports){"use strict";exports.__esModule=true;var canUseDOM=!!(typeof window!=="undefined"&&window.document&&window.document.createElement);exports.canUseDOM=canUseDOM},{}],"/Users/paulfrazee/patchwork/node_modules/history/lib/createBrowserHistory.js":[function(require,module,exports){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _invariant=require("invariant");var _invariant2=_interopRequireDefault(_invariant);var _Actions=require("./Actions");var _ExecutionEnvironment=require("./ExecutionEnvironment");var _DOMUtils=require("./DOMUtils");var _DOMStateStorage=require("./DOMStateStorage");var _createDOMHistory=require("./createDOMHistory");var _createDOMHistory2=_interopRequireDefault(_createDOMHistory);function createBrowserHistory(){var options=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];!_ExecutionEnvironment.canUseDOM?"production"!=="production"?_invariant2["default"](false,"Browser history needs a DOM"):_invariant2["default"](false):undefined;var forceRefresh=options.forceRefresh;var isSupported=_DOMUtils.supportsHistory();var useRefresh=!isSupported||forceRefresh;function getCurrentLocation(historyState){historyState=historyState||window.history.state||{};var path=_DOMUtils.getWindowPath();var _historyState=historyState;var key=_historyState.key;var state=undefined;if(key){state=_DOMStateStorage.readState(key)}else{state=null;key=history.createKey();if(isSupported)window.history.replaceState(_extends({},historyState,{key:key}),null,path)}return history.createLocation(path,state,undefined,key)}function startPopStateListener(_ref){var transitionTo=_ref.transitionTo;function popStateListener(event){if(event.state===undefined)return;transitionTo(getCurrentLocation(event.state))}_DOMUtils.addEventListener(window,"popstate",popStateListener);return function(){_DOMUtils.removeEventListener(window,"popstate",popStateListener)}}function finishTransition(location){var basename=location.basename;var pathname=location.pathname;var search=location.search;var hash=location.hash;var state=location.state;var action=location.action;var key=location.key;if(action===_Actions.POP)return;_DOMStateStorage.saveState(key,state);var path=(basename||"")+pathname+search+hash;var historyState={key:key};if(action===_Actions.PUSH){if(useRefresh){window.location.href=path;return false}else{window.history.pushState(historyState,null,path)}}else{if(useRefresh){window.location.replace(path);return false}else{window.history.replaceState(historyState,null,path)}}}var history=_createDOMHistory2["default"](_extends({},options,{getCurrentLocation:getCurrentLocation,finishTransition:finishTransition,saveState:_DOMStateStorage.saveState}));var listenerCount=0,stopPopStateListener=undefined;function listenBefore(listener){if(++listenerCount===1)stopPopStateListener=startPopStateListener(history);var unlisten=history.listenBefore(listener);return function(){unlisten();if(--listenerCount===0)stopPopStateListener()}}function listen(listener){if(++listenerCount===1)stopPopStateListener=startPopStateListener(history);var unlisten=history.listen(listener);return function(){unlisten();if(--listenerCount===0)stopPopStateListener()}}function registerTransitionHook(hook){if(++listenerCount===1)stopPopStateListener=startPopStateListener(history);history.registerTransitionHook(hook)}function unregisterTransitionHook(hook){history.unregisterTransitionHook(hook);if(--listenerCount===0)stopPopStateListener()}return _extends({},history,{listenBefore:listenBefore,listen:listen,registerTransitionHook:registerTransitionHook,unregisterTransitionHook:unregisterTransitionHook})}exports["default"]=createBrowserHistory;module.exports=exports["default"]},{"./Actions":"/Users/paulfrazee/patchwork/node_modules/history/lib/Actions.js","./DOMStateStorage":"/Users/paulfrazee/patchwork/node_modules/history/lib/DOMStateStorage.js","./DOMUtils":"/Users/paulfrazee/patchwork/node_modules/history/lib/DOMUtils.js","./ExecutionEnvironment":"/Users/paulfrazee/patchwork/node_modules/history/lib/ExecutionEnvironment.js","./createDOMHistory":"/Users/paulfrazee/patchwork/node_modules/history/lib/createDOMHistory.js",invariant:"/Users/paulfrazee/patchwork/node_modules/invariant/browser.js"}],"/Users/paulfrazee/patchwork/node_modules/history/lib/createDOMHistory.js":[function(require,module,exports){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _invariant=require("invariant");var _invariant2=_interopRequireDefault(_invariant);var _ExecutionEnvironment=require("./ExecutionEnvironment");var _DOMUtils=require("./DOMUtils");var _createHistory=require("./createHistory");var _createHistory2=_interopRequireDefault(_createHistory);function createDOMHistory(options){var history=_createHistory2["default"](_extends({getUserConfirmation:_DOMUtils.getUserConfirmation},options,{go:_DOMUtils.go}));function listen(listener){!_ExecutionEnvironment.canUseDOM?"production"!=="production"?_invariant2["default"](false,"DOM history needs a DOM"):_invariant2["default"](false):undefined;return history.listen(listener)}return _extends({},history,{listen:listen})}exports["default"]=createDOMHistory;module.exports=exports["default"]},{"./DOMUtils":"/Users/paulfrazee/patchwork/node_modules/history/lib/DOMUtils.js","./ExecutionEnvironment":"/Users/paulfrazee/patchwork/node_modules/history/lib/ExecutionEnvironment.js","./createHistory":"/Users/paulfrazee/patchwork/node_modules/history/lib/createHistory.js",invariant:"/Users/paulfrazee/patchwork/node_modules/invariant/browser.js"}],"/Users/paulfrazee/patchwork/node_modules/history/lib/createHashHistory.js":[function(require,module,exports){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _warning=require("warning");var _warning2=_interopRequireDefault(_warning);var _invariant=require("invariant");var _invariant2=_interopRequireDefault(_invariant);var _Actions=require("./Actions");var _ExecutionEnvironment=require("./ExecutionEnvironment");var _DOMUtils=require("./DOMUtils");var _DOMStateStorage=require("./DOMStateStorage");var _createDOMHistory=require("./createDOMHistory");var _createDOMHistory2=_interopRequireDefault(_createDOMHistory);function isAbsolutePath(path){return typeof path==="string"&&path.charAt(0)==="/"}function ensureSlash(){var path=_DOMUtils.getHashPath();if(isAbsolutePath(path))return true;_DOMUtils.replaceHashPath("/"+path);return false}function addQueryStringValueToPath(path,key,value){return path+(path.indexOf("?")===-1?"?":"&")+(key+"="+value)}function stripQueryStringValueFromPath(path,key){return path.replace(new RegExp("[?&]?"+key+"=[a-zA-Z0-9]+"),"")}function getQueryStringValueFromPath(path,key){var match=path.match(new RegExp("\\?.*?\\b"+key+"=(.+?)\\b"));return match&&match[1]}var DefaultQueryKey="_k";function createHashHistory(){var options=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];!_ExecutionEnvironment.canUseDOM?"production"!=="production"?_invariant2["default"](false,"Hash history needs a DOM"):_invariant2["default"](false):undefined;var queryKey=options.queryKey;if(queryKey===undefined||!!queryKey)queryKey=typeof queryKey==="string"?queryKey:DefaultQueryKey;function getCurrentLocation(){var path=_DOMUtils.getHashPath();var key=undefined,state=undefined;if(queryKey){key=getQueryStringValueFromPath(path,queryKey);path=stripQueryStringValueFromPath(path,queryKey);if(key){state=_DOMStateStorage.readState(key)}else{state=null;key=history.createKey();_DOMUtils.replaceHashPath(addQueryStringValueToPath(path,queryKey,key))}}else{key=state=null}return history.createLocation(path,state,undefined,key)}function startHashChangeListener(_ref){var transitionTo=_ref.transitionTo;function hashChangeListener(){if(!ensureSlash())return;transitionTo(getCurrentLocation())}ensureSlash();_DOMUtils.addEventListener(window,"hashchange",hashChangeListener);return function(){_DOMUtils.removeEventListener(window,"hashchange",hashChangeListener)}}function finishTransition(location){var basename=location.basename;var pathname=location.pathname;var search=location.search;var state=location.state;var action=location.action;var key=location.key;if(action===_Actions.POP)return;var path=(basename||"")+pathname+search;if(queryKey){path=addQueryStringValueToPath(path,queryKey,key);_DOMStateStorage.saveState(key,state)}else{location.key=location.state=null}var currentHash=_DOMUtils.getHashPath();if(action===_Actions.PUSH){if(currentHash!==path){window.location.hash=path}else{"production"!=="production"?_warning2["default"](false,"You cannot PUSH the same path using hash history"):undefined}}else if(currentHash!==path){_DOMUtils.replaceHashPath(path)}}var history=_createDOMHistory2["default"](_extends({},options,{getCurrentLocation:getCurrentLocation,finishTransition:finishTransition,saveState:_DOMStateStorage.saveState}));var listenerCount=0,stopHashChangeListener=undefined;function listenBefore(listener){if(++listenerCount===1)stopHashChangeListener=startHashChangeListener(history);var unlisten=history.listenBefore(listener);return function(){unlisten();if(--listenerCount===0)stopHashChangeListener()}}function listen(listener){if(++listenerCount===1)stopHashChangeListener=startHashChangeListener(history);var unlisten=history.listen(listener);return function(){unlisten();if(--listenerCount===0)stopHashChangeListener()}}function pushState(state,path){"production"!=="production"?_warning2["default"](queryKey||state==null,"You cannot use state without a queryKey it will be dropped"):undefined;history.pushState(state,path)}function replaceState(state,path){"production"!=="production"?_warning2["default"](queryKey||state==null,"You cannot use state without a queryKey it will be dropped"):undefined;history.replaceState(state,path)}var goIsSupportedWithoutReload=_DOMUtils.supportsGoWithoutReloadUsingHash();function go(n){"production"!=="production"?_warning2["default"](goIsSupportedWithoutReload,"Hash history go(n) causes a full page reload in this browser"):undefined;history.go(n)}function createHref(path){return"#"+history.createHref(path)}function registerTransitionHook(hook){if(++listenerCount===1)stopHashChangeListener=startHashChangeListener(history);history.registerTransitionHook(hook)}function unregisterTransitionHook(hook){history.unregisterTransitionHook(hook);if(--listenerCount===0)stopHashChangeListener()}return _extends({},history,{listenBefore:listenBefore,listen:listen,pushState:pushState,replaceState:replaceState,go:go,createHref:createHref,registerTransitionHook:registerTransitionHook,unregisterTransitionHook:unregisterTransitionHook})}exports["default"]=createHashHistory;module.exports=exports["default"]},{"./Actions":"/Users/paulfrazee/patchwork/node_modules/history/lib/Actions.js","./DOMStateStorage":"/Users/paulfrazee/patchwork/node_modules/history/lib/DOMStateStorage.js","./DOMUtils":"/Users/paulfrazee/patchwork/node_modules/history/lib/DOMUtils.js","./ExecutionEnvironment":"/Users/paulfrazee/patchwork/node_modules/history/lib/ExecutionEnvironment.js","./createDOMHistory":"/Users/paulfrazee/patchwork/node_modules/history/lib/createDOMHistory.js",invariant:"/Users/paulfrazee/patchwork/node_modules/invariant/browser.js",warning:"/Users/paulfrazee/patchwork/node_modules/warning/browser.js"}],"/Users/paulfrazee/patchwork/node_modules/history/lib/createHistory.js":[function(require,module,exports){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _deepEqual=require("deep-equal");var _deepEqual2=_interopRequireDefault(_deepEqual);var _AsyncUtils=require("./AsyncUtils");var _Actions=require("./Actions");var _createLocation2=require("./createLocation");var _createLocation3=_interopRequireDefault(_createLocation2);var _runTransitionHook=require("./runTransitionHook");var _runTransitionHook2=_interopRequireDefault(_runTransitionHook);var _deprecate=require("./deprecate");var _deprecate2=_interopRequireDefault(_deprecate);function createRandomKey(length){return Math.random().toString(36).substr(2,length)}function locationsAreEqual(a,b){return a.pathname===b.pathname&&a.search===b.search&&a.key===b.key&&_deepEqual2["default"](a.state,b.state)}var DefaultKeyLength=6;function createHistory(){var options=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var getCurrentLocation=options.getCurrentLocation;var finishTransition=options.finishTransition;var saveState=options.saveState;var go=options.go;var keyLength=options.keyLength;var getUserConfirmation=options.getUserConfirmation;if(typeof keyLength!=="number")keyLength=DefaultKeyLength;var transitionHooks=[];function listenBefore(hook){transitionHooks.push(hook);return function(){transitionHooks=transitionHooks.filter(function(item){return item!==hook})}}var allKeys=[];var changeListeners=[];var location=undefined;function getCurrent(){if(pendingLocation&&pendingLocation.action===_Actions.POP){return allKeys.indexOf(pendingLocation.key)}else if(location){return allKeys.indexOf(location.key)}else{return-1}}function updateLocation(newLocation){var current=getCurrent();location=newLocation;if(location.action===_Actions.PUSH){allKeys=[].concat(allKeys.slice(0,current+1),[location.key])}else if(location.action===_Actions.REPLACE){allKeys[current]=location.key}changeListeners.forEach(function(listener){listener(location)})}function listen(listener){changeListeners.push(listener);if(location){listener(location)}else{var _location=getCurrentLocation();allKeys=[_location.key];updateLocation(_location)}return function(){changeListeners=changeListeners.filter(function(item){return item!==listener})}}function confirmTransitionTo(location,callback){_AsyncUtils.loopAsync(transitionHooks.length,function(index,next,done){_runTransitionHook2["default"](transitionHooks[index],location,function(result){if(result!=null){done(result)}else{next()}})},function(message){if(getUserConfirmation&&typeof message==="string"){getUserConfirmation(message,function(ok){callback(ok!==false)})}else{callback(message!==false)}})}var pendingLocation=undefined;function transitionTo(nextLocation){if(location&&locationsAreEqual(location,nextLocation))return;pendingLocation=nextLocation;confirmTransitionTo(nextLocation,function(ok){if(pendingLocation!==nextLocation)return;if(ok){if(nextLocation.action===_Actions.PUSH){var _getCurrentLocation=getCurrentLocation();var pathname=_getCurrentLocation.pathname;var search=_getCurrentLocation.search;var currentPath=pathname+search;var path=nextLocation.pathname+nextLocation.search;if(currentPath===path)nextLocation.action=_Actions.REPLACE}if(finishTransition(nextLocation)!==false)updateLocation(nextLocation)}else if(location&&nextLocation.action===_Actions.POP){var prevIndex=allKeys.indexOf(location.key);var nextIndex=allKeys.indexOf(nextLocation.key);if(prevIndex!==-1&&nextIndex!==-1)go(prevIndex-nextIndex)}})}function pushState(state,path){transitionTo(createLocation(path,state,_Actions.PUSH,createKey()))}function push(path){pushState(null,path)}function replaceState(state,path){transitionTo(createLocation(path,state,_Actions.REPLACE,createKey()))}function replace(path){replaceState(null,path)}function goBack(){go(-1)}function goForward(){go(1)}function createKey(){return createRandomKey(keyLength)}function createPath(path){if(path==null||typeof path==="string")return path;var pathname=path.pathname;var search=path.search;var hash=path.hash;var result=pathname;if(search)result+=search;if(hash)result+=hash;return result}function createHref(path){return createPath(path)}function createLocation(path,state,action){var key=arguments.length<=3||arguments[3]===undefined?createKey():arguments[3];return _createLocation3["default"](path,state,action,key)}function setState(state){if(location){updateLocationState(location,state);updateLocation(location)}else{updateLocationState(getCurrentLocation(),state)}}function updateLocationState(location,state){location.state=_extends({},location.state,state);saveState(location.key,location.state)}function registerTransitionHook(hook){if(transitionHooks.indexOf(hook)===-1)transitionHooks.push(hook)}function unregisterTransitionHook(hook){transitionHooks=transitionHooks.filter(function(item){return item!==hook})}return{listenBefore:listenBefore,listen:listen,transitionTo:transitionTo,pushState:pushState,replaceState:replaceState,push:push,replace:replace,go:go,goBack:goBack,goForward:goForward,createKey:createKey,createPath:createPath,createHref:createHref,createLocation:createLocation,setState:_deprecate2["default"](setState,"setState is deprecated; use location.key to save state instead"),registerTransitionHook:_deprecate2["default"](registerTransitionHook,"registerTransitionHook is deprecated; use listenBefore instead"),unregisterTransitionHook:_deprecate2["default"](unregisterTransitionHook,"unregisterTransitionHook is deprecated; use the callback returned from listenBefore instead")}}exports["default"]=createHistory;module.exports=exports["default"]},{"./Actions":"/Users/paulfrazee/patchwork/node_modules/history/lib/Actions.js","./AsyncUtils":"/Users/paulfrazee/patchwork/node_modules/history/lib/AsyncUtils.js","./createLocation":"/Users/paulfrazee/patchwork/node_modules/history/lib/createLocation.js","./deprecate":"/Users/paulfrazee/patchwork/node_modules/history/lib/deprecate.js","./runTransitionHook":"/Users/paulfrazee/patchwork/node_modules/history/lib/runTransitionHook.js","deep-equal":"/Users/paulfrazee/patchwork/node_modules/deep-equal/index.js"}],"/Users/paulfrazee/patchwork/node_modules/history/lib/createLocation.js":[function(require,module,exports){"use strict";exports.__esModule=true;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _Actions=require("./Actions");var _parsePath=require("./parsePath");var _parsePath2=_interopRequireDefault(_parsePath);function createLocation(){var path=arguments.length<=0||arguments[0]===undefined?"/":arguments[0];var state=arguments.length<=1||arguments[1]===undefined?null:arguments[1];var action=arguments.length<=2||arguments[2]===undefined?_Actions.POP:arguments[2];var key=arguments.length<=3||arguments[3]===undefined?null:arguments[3];if(typeof path==="string")path=_parsePath2["default"](path);var pathname=path.pathname||"/";var search=path.search||"";var hash=path.hash||"";return{pathname:pathname,search:search,hash:hash,state:state,action:action,key:key}}exports["default"]=createLocation;module.exports=exports["default"]},{"./Actions":"/Users/paulfrazee/patchwork/node_modules/history/lib/Actions.js","./parsePath":"/Users/paulfrazee/patchwork/node_modules/history/lib/parsePath.js"}],"/Users/paulfrazee/patchwork/node_modules/history/lib/createMemoryHistory.js":[function(require,module,exports){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _invariant=require("invariant");var _invariant2=_interopRequireDefault(_invariant);var _Actions=require("./Actions");var _createHistory=require("./createHistory");var _createHistory2=_interopRequireDefault(_createHistory);function createStateStorage(entries){return entries.filter(function(entry){return entry.state}).reduce(function(memo,entry){memo[entry.key]=entry.state;return memo},{})}function createMemoryHistory(){var options=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];if(Array.isArray(options)){options={entries:options}}else if(typeof options==="string"){options={entries:[options]}}var history=_createHistory2["default"](_extends({},options,{getCurrentLocation:getCurrentLocation,
finishTransition:finishTransition,saveState:saveState,go:go}));var _options=options;var entries=_options.entries;var current=_options.current;if(typeof entries==="string"){entries=[entries]}else if(!Array.isArray(entries)){entries=["/"]}entries=entries.map(function(entry){var key=history.createKey();if(typeof entry==="string")return{pathname:entry,key:key};if(typeof entry==="object"&&entry)return _extends({},entry,{key:key});!false?"production"!=="production"?_invariant2["default"](false,"Unable to create history entry from %s",entry):_invariant2["default"](false):undefined});if(current==null){current=entries.length-1}else{!(current>=0&&current<entries.length)?"production"!=="production"?_invariant2["default"](false,"Current index must be >= 0 and < %s, was %s",entries.length,current):_invariant2["default"](false):undefined}var storage=createStateStorage(entries);function saveState(key,state){storage[key]=state}function readState(key){return storage[key]}function getCurrentLocation(){var entry=entries[current];var key=entry.key;var basename=entry.basename;var pathname=entry.pathname;var search=entry.search;var path=(basename||"")+pathname+(search||"");var state=undefined;if(key){state=readState(key)}else{state=null;key=history.createKey();entry.key=key}return history.createLocation(path,state,undefined,key)}function canGo(n){var index=current+n;return index>=0&&index<entries.length}function go(n){if(n){!canGo(n)?"production"!=="production"?_invariant2["default"](false,"Cannot go(%s) there is not enough history",n):_invariant2["default"](false):undefined;current+=n;var currentLocation=getCurrentLocation();history.transitionTo(_extends({},currentLocation,{action:_Actions.POP}))}}function finishTransition(location){switch(location.action){case _Actions.PUSH:current+=1;if(current<entries.length)entries.splice(current);entries.push(location);saveState(location.key,location.state);break;case _Actions.REPLACE:entries[current]=location;saveState(location.key,location.state);break}}return history}exports["default"]=createMemoryHistory;module.exports=exports["default"]},{"./Actions":"/Users/paulfrazee/patchwork/node_modules/history/lib/Actions.js","./createHistory":"/Users/paulfrazee/patchwork/node_modules/history/lib/createHistory.js",invariant:"/Users/paulfrazee/patchwork/node_modules/invariant/browser.js"}],"/Users/paulfrazee/patchwork/node_modules/history/lib/deprecate.js":[function(require,module,exports){"use strict";exports.__esModule=true;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _warning=require("warning");var _warning2=_interopRequireDefault(_warning);function deprecate(fn,message){return function(){"production"!=="production"?_warning2["default"](false,"[history] "+message):undefined;return fn.apply(this,arguments)}}exports["default"]=deprecate;module.exports=exports["default"]},{warning:"/Users/paulfrazee/patchwork/node_modules/warning/browser.js"}],"/Users/paulfrazee/patchwork/node_modules/history/lib/enableBeforeUnload.js":[function(require,module,exports){"use strict";exports.__esModule=true;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _deprecate=require("./deprecate");var _deprecate2=_interopRequireDefault(_deprecate);var _useBeforeUnload=require("./useBeforeUnload");var _useBeforeUnload2=_interopRequireDefault(_useBeforeUnload);exports["default"]=_deprecate2["default"](_useBeforeUnload2["default"],"enableBeforeUnload is deprecated, use useBeforeUnload instead");module.exports=exports["default"]},{"./deprecate":"/Users/paulfrazee/patchwork/node_modules/history/lib/deprecate.js","./useBeforeUnload":"/Users/paulfrazee/patchwork/node_modules/history/lib/useBeforeUnload.js"}],"/Users/paulfrazee/patchwork/node_modules/history/lib/enableQueries.js":[function(require,module,exports){"use strict";exports.__esModule=true;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _deprecate=require("./deprecate");var _deprecate2=_interopRequireDefault(_deprecate);var _useQueries=require("./useQueries");var _useQueries2=_interopRequireDefault(_useQueries);exports["default"]=_deprecate2["default"](_useQueries2["default"],"enableQueries is deprecated, use useQueries instead");module.exports=exports["default"]},{"./deprecate":"/Users/paulfrazee/patchwork/node_modules/history/lib/deprecate.js","./useQueries":"/Users/paulfrazee/patchwork/node_modules/history/lib/useQueries.js"}],"/Users/paulfrazee/patchwork/node_modules/history/lib/extractPath.js":[function(require,module,exports){"use strict";exports.__esModule=true;function extractPath(string){var match=string.match(/^https?:\/\/[^\/]*/);if(match==null)return string;return string.substring(match[0].length)}exports["default"]=extractPath;module.exports=exports["default"]},{}],"/Users/paulfrazee/patchwork/node_modules/history/lib/index.js":[function(require,module,exports){"use strict";exports.__esModule=true;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _createBrowserHistory=require("./createBrowserHistory");var _createBrowserHistory2=_interopRequireDefault(_createBrowserHistory);exports.createHistory=_createBrowserHistory2["default"];var _createHashHistory2=require("./createHashHistory");var _createHashHistory3=_interopRequireDefault(_createHashHistory2);exports.createHashHistory=_createHashHistory3["default"];var _createMemoryHistory2=require("./createMemoryHistory");var _createMemoryHistory3=_interopRequireDefault(_createMemoryHistory2);exports.createMemoryHistory=_createMemoryHistory3["default"];var _createLocation2=require("./createLocation");var _createLocation3=_interopRequireDefault(_createLocation2);exports.createLocation=_createLocation3["default"];var _useBasename2=require("./useBasename");var _useBasename3=_interopRequireDefault(_useBasename2);exports.useBasename=_useBasename3["default"];var _useBeforeUnload2=require("./useBeforeUnload");var _useBeforeUnload3=_interopRequireDefault(_useBeforeUnload2);exports.useBeforeUnload=_useBeforeUnload3["default"];var _useQueries2=require("./useQueries");var _useQueries3=_interopRequireDefault(_useQueries2);exports.useQueries=_useQueries3["default"];var _Actions2=require("./Actions");var _Actions3=_interopRequireDefault(_Actions2);exports.Actions=_Actions3["default"];var _enableBeforeUnload2=require("./enableBeforeUnload");var _enableBeforeUnload3=_interopRequireDefault(_enableBeforeUnload2);exports.enableBeforeUnload=_enableBeforeUnload3["default"];var _enableQueries2=require("./enableQueries");var _enableQueries3=_interopRequireDefault(_enableQueries2);exports.enableQueries=_enableQueries3["default"]},{"./Actions":"/Users/paulfrazee/patchwork/node_modules/history/lib/Actions.js","./createBrowserHistory":"/Users/paulfrazee/patchwork/node_modules/history/lib/createBrowserHistory.js","./createHashHistory":"/Users/paulfrazee/patchwork/node_modules/history/lib/createHashHistory.js","./createLocation":"/Users/paulfrazee/patchwork/node_modules/history/lib/createLocation.js","./createMemoryHistory":"/Users/paulfrazee/patchwork/node_modules/history/lib/createMemoryHistory.js","./enableBeforeUnload":"/Users/paulfrazee/patchwork/node_modules/history/lib/enableBeforeUnload.js","./enableQueries":"/Users/paulfrazee/patchwork/node_modules/history/lib/enableQueries.js","./useBasename":"/Users/paulfrazee/patchwork/node_modules/history/lib/useBasename.js","./useBeforeUnload":"/Users/paulfrazee/patchwork/node_modules/history/lib/useBeforeUnload.js","./useQueries":"/Users/paulfrazee/patchwork/node_modules/history/lib/useQueries.js"}],"/Users/paulfrazee/patchwork/node_modules/history/lib/parsePath.js":[function(require,module,exports){"use strict";exports.__esModule=true;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _warning=require("warning");var _warning2=_interopRequireDefault(_warning);var _extractPath=require("./extractPath");var _extractPath2=_interopRequireDefault(_extractPath);function parsePath(path){var pathname=_extractPath2["default"](path);var search="";var hash="";"production"!=="production"?_warning2["default"](path===pathname,'A path must be pathname + search + hash only, not a fully qualified URL like "%s"',path):undefined;var hashIndex=pathname.indexOf("#");if(hashIndex!==-1){hash=pathname.substring(hashIndex);pathname=pathname.substring(0,hashIndex)}var searchIndex=pathname.indexOf("?");if(searchIndex!==-1){search=pathname.substring(searchIndex);pathname=pathname.substring(0,searchIndex)}if(pathname==="")pathname="/";return{pathname:pathname,search:search,hash:hash}}exports["default"]=parsePath;module.exports=exports["default"]},{"./extractPath":"/Users/paulfrazee/patchwork/node_modules/history/lib/extractPath.js",warning:"/Users/paulfrazee/patchwork/node_modules/warning/browser.js"}],"/Users/paulfrazee/patchwork/node_modules/history/lib/runTransitionHook.js":[function(require,module,exports){"use strict";exports.__esModule=true;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _warning=require("warning");var _warning2=_interopRequireDefault(_warning);function runTransitionHook(hook,location,callback){var result=hook(location,callback);if(hook.length<2){callback(result)}else{"production"!=="production"?_warning2["default"](result===undefined,'You should not "return" in a transition hook with a callback argument; call the callback instead'):undefined}}exports["default"]=runTransitionHook;module.exports=exports["default"]},{warning:"/Users/paulfrazee/patchwork/node_modules/warning/browser.js"}],"/Users/paulfrazee/patchwork/node_modules/history/lib/useBasename.js":[function(require,module,exports){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var _ExecutionEnvironment=require("./ExecutionEnvironment");var _runTransitionHook=require("./runTransitionHook");var _runTransitionHook2=_interopRequireDefault(_runTransitionHook);var _extractPath=require("./extractPath");var _extractPath2=_interopRequireDefault(_extractPath);var _parsePath=require("./parsePath");var _parsePath2=_interopRequireDefault(_parsePath);function useBasename(createHistory){return function(){var options=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var basename=options.basename;var historyOptions=_objectWithoutProperties(options,["basename"]);var history=createHistory(historyOptions);if(basename==null&&_ExecutionEnvironment.canUseDOM){var base=document.getElementsByTagName("base")[0];if(base)basename=_extractPath2["default"](base.href)}function addBasename(location){if(basename&&location.basename==null){if(location.pathname.indexOf(basename)===0){location.pathname=location.pathname.substring(basename.length);location.basename=basename;if(location.pathname==="")location.pathname="/"}else{location.basename=""}}return location}function prependBasename(path){if(!basename)return path;if(typeof path==="string")path=_parsePath2["default"](path);var pname=path.pathname;var normalizedBasename=basename.slice(-1)==="/"?basename:basename+"/";var normalizedPathname=pname.charAt(0)==="/"?pname.slice(1):pname;var pathname=normalizedBasename+normalizedPathname;return _extends({},path,{pathname:pathname})}function listenBefore(hook){return history.listenBefore(function(location,callback){_runTransitionHook2["default"](hook,addBasename(location),callback)})}function listen(listener){return history.listen(function(location){listener(addBasename(location))})}function pushState(state,path){history.pushState(state,prependBasename(path))}function push(path){pushState(null,path)}function replaceState(state,path){history.replaceState(state,prependBasename(path))}function replace(path){replaceState(null,path)}function createPath(path){return history.createPath(prependBasename(path))}function createHref(path){return history.createHref(prependBasename(path))}function createLocation(){return addBasename(history.createLocation.apply(history,arguments))}return _extends({},history,{listenBefore:listenBefore,listen:listen,pushState:pushState,push:push,replaceState:replaceState,replace:replace,createPath:createPath,createHref:createHref,createLocation:createLocation})}}exports["default"]=useBasename;module.exports=exports["default"]},{"./ExecutionEnvironment":"/Users/paulfrazee/patchwork/node_modules/history/lib/ExecutionEnvironment.js","./extractPath":"/Users/paulfrazee/patchwork/node_modules/history/lib/extractPath.js","./parsePath":"/Users/paulfrazee/patchwork/node_modules/history/lib/parsePath.js","./runTransitionHook":"/Users/paulfrazee/patchwork/node_modules/history/lib/runTransitionHook.js"}],"/Users/paulfrazee/patchwork/node_modules/history/lib/useBeforeUnload.js":[function(require,module,exports){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _warning=require("warning");var _warning2=_interopRequireDefault(_warning);var _ExecutionEnvironment=require("./ExecutionEnvironment");var _DOMUtils=require("./DOMUtils");var _deprecate=require("./deprecate");var _deprecate2=_interopRequireDefault(_deprecate);function startBeforeUnloadListener(getBeforeUnloadPromptMessage){function listener(event){var message=getBeforeUnloadPromptMessage();if(typeof message==="string"){(event||window.event).returnValue=message;return message}}_DOMUtils.addEventListener(window,"beforeunload",listener);return function(){_DOMUtils.removeEventListener(window,"beforeunload",listener)}}function useBeforeUnload(createHistory){return function(options){var history=createHistory(options);var stopBeforeUnloadListener=undefined;var beforeUnloadHooks=[];function getBeforeUnloadPromptMessage(){var message=undefined;for(var i=0,len=beforeUnloadHooks.length;message==null&&i<len;++i){message=beforeUnloadHooks[i].call()}return message}function listenBeforeUnload(hook){beforeUnloadHooks.push(hook);if(beforeUnloadHooks.length===1){if(_ExecutionEnvironment.canUseDOM){stopBeforeUnloadListener=startBeforeUnloadListener(getBeforeUnloadPromptMessage)}else{"production"!=="production"?_warning2["default"](false,"listenBeforeUnload only works in DOM environments"):undefined}}return function(){beforeUnloadHooks=beforeUnloadHooks.filter(function(item){return item!==hook});if(beforeUnloadHooks.length===0&&stopBeforeUnloadListener){stopBeforeUnloadListener();stopBeforeUnloadListener=null}}}function registerBeforeUnloadHook(hook){if(_ExecutionEnvironment.canUseDOM&&beforeUnloadHooks.indexOf(hook)===-1){beforeUnloadHooks.push(hook);if(beforeUnloadHooks.length===1)stopBeforeUnloadListener=startBeforeUnloadListener(getBeforeUnloadPromptMessage)}}function unregisterBeforeUnloadHook(hook){if(beforeUnloadHooks.length>0){beforeUnloadHooks=beforeUnloadHooks.filter(function(item){return item!==hook});if(beforeUnloadHooks.length===0)stopBeforeUnloadListener()}}return _extends({},history,{listenBeforeUnload:listenBeforeUnload,registerBeforeUnloadHook:_deprecate2["default"](registerBeforeUnloadHook,"registerBeforeUnloadHook is deprecated; use listenBeforeUnload instead"),unregisterBeforeUnloadHook:_deprecate2["default"](unregisterBeforeUnloadHook,"unregisterBeforeUnloadHook is deprecated; use the callback returned from listenBeforeUnload instead")})}}exports["default"]=useBeforeUnload;module.exports=exports["default"]},{"./DOMUtils":"/Users/paulfrazee/patchwork/node_modules/history/lib/DOMUtils.js","./ExecutionEnvironment":"/Users/paulfrazee/patchwork/node_modules/history/lib/ExecutionEnvironment.js","./deprecate":"/Users/paulfrazee/patchwork/node_modules/history/lib/deprecate.js",warning:"/Users/paulfrazee/patchwork/node_modules/warning/browser.js"}],"/Users/paulfrazee/patchwork/node_modules/history/lib/useQueries.js":[function(require,module,exports){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var _qs=require("qs");var _qs2=_interopRequireDefault(_qs);var _runTransitionHook=require("./runTransitionHook");var _runTransitionHook2=_interopRequireDefault(_runTransitionHook);var _parsePath=require("./parsePath");var _parsePath2=_interopRequireDefault(_parsePath);function defaultStringifyQuery(query){return _qs2["default"].stringify(query,{arrayFormat:"brackets"}).replace(/%20/g,"+")}function defaultParseQueryString(queryString){return _qs2["default"].parse(queryString.replace(/\+/g,"%20"))}function useQueries(createHistory){return function(){var options=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var stringifyQuery=options.stringifyQuery;var parseQueryString=options.parseQueryString;var historyOptions=_objectWithoutProperties(options,["stringifyQuery","parseQueryString"]);var history=createHistory(historyOptions);if(typeof stringifyQuery!=="function")stringifyQuery=defaultStringifyQuery;if(typeof parseQueryString!=="function")parseQueryString=defaultParseQueryString;function addQuery(location){if(location.query==null)location.query=parseQueryString(location.search.substring(1));return location}function appendQuery(path,query){var queryString=undefined;if(!query||(queryString=stringifyQuery(query))==="")return path;if(typeof path==="string")path=_parsePath2["default"](path);var search=path.search+(path.search?"&":"?")+queryString;return _extends({},path,{search:search})}function listenBefore(hook){return history.listenBefore(function(location,callback){_runTransitionHook2["default"](hook,addQuery(location),callback)})}function listen(listener){return history.listen(function(location){listener(addQuery(location))})}function pushState(state,path,query){return history.pushState(state,appendQuery(path,query))}function replaceState(state,path,query){return history.replaceState(state,appendQuery(path,query))}function createPath(path,query){return history.createPath(appendQuery(path,query))}function createHref(path,query){return history.createHref(appendQuery(path,query))}function createLocation(){return addQuery(history.createLocation.apply(history,arguments))}return _extends({},history,{listenBefore:listenBefore,listen:listen,pushState:pushState,replaceState:replaceState,createPath:createPath,createHref:createHref,createLocation:createLocation})}}exports["default"]=useQueries;module.exports=exports["default"]},{"./parsePath":"/Users/paulfrazee/patchwork/node_modules/history/lib/parsePath.js","./runTransitionHook":"/Users/paulfrazee/patchwork/node_modules/history/lib/runTransitionHook.js",qs:"/Users/paulfrazee/patchwork/node_modules/qs/lib/index.js"}],"/Users/paulfrazee/patchwork/node_modules/hyperscript/index.js":[function(require,module,exports){var split=require("browser-split");var ClassList=require("class-list");require("html-element");function context(){var cleanupFuncs=[];function h(){var args=[].slice.call(arguments),e=null;function item(l){var r;function parseClass(string){var m=split(string,/([\.#]?[^\s#.]+)/);if(/^\.|#/.test(m[1]))e=document.createElement("div");forEach(m,function(v){var s=v.substring(1,v.length);if(!v)return;if(!e)e=document.createElement(v);else if(v[0]===".")ClassList(e).add(s);else if(v[0]==="#")e.setAttribute("id",s)})}if(l==null);else if("string"===typeof l){if(!e)parseClass(l);else e.appendChild(r=document.createTextNode(l))}else if("number"===typeof l||"boolean"===typeof l||l instanceof Date||l instanceof RegExp){e.appendChild(r=document.createTextNode(l.toString()))}else if(isArray(l))forEach(l,item);else if(isNode(l))e.appendChild(r=l);else if(l instanceof Text)e.appendChild(r=l);else if("object"===typeof l){for(var k in l){if("function"===typeof l[k]){if(/^on\w+/.test(k)){(function(k,l){if(e.addEventListener){e.addEventListener(k.substring(2),l[k],false);cleanupFuncs.push(function(){e.removeEventListener(k.substring(2),l[k],false)})}else{e.attachEvent(k,l[k]);cleanupFuncs.push(function(){e.detachEvent(k,l[k])})}})(k,l)}else{e[k]=l[k]();cleanupFuncs.push(l[k](function(v){e[k]=v}))}}else if(k==="style"){if("string"===typeof l[k]){e.style.cssText=l[k]}else{for(var s in l[k])(function(s,v){if("function"===typeof v){e.style.setProperty(s,v());cleanupFuncs.push(v(function(val){e.style.setProperty(s,val)}))}else e.style.setProperty(s,l[k][s])})(s,l[k][s])}}else if(k.substr(0,5)==="data-"){e.setAttribute(k,l[k])}else{e[k]=l[k]}}}else if("function"===typeof l){var v=l();e.appendChild(r=isNode(v)?v:document.createTextNode(v));cleanupFuncs.push(l(function(v){if(isNode(v)&&r.parentElement)r.parentElement.replaceChild(v,r),r=v;else r.textContent=v}))}return r}while(args.length)item(args.shift());return e}h.cleanup=function(){for(var i=0;i<cleanupFuncs.length;i++){cleanupFuncs[i]()}cleanupFuncs.length=0};return h}var h=module.exports=context();h.context=context;function isNode(el){return el&&el.nodeName&&el.nodeType}function isText(el){return el&&el.nodeName==="#text"&&el.nodeType==3}function forEach(arr,fn){if(arr.forEach)return arr.forEach(fn);for(var i=0;i<arr.length;i++)fn(arr[i],i)}function isArray(arr){return Object.prototype.toString.call(arr)=="[object Array]"}},{"browser-split":"/Users/paulfrazee/patchwork/node_modules/browser-split/index.js","class-list":"/Users/paulfrazee/patchwork/node_modules/class-list/index.js","html-element":"/Users/paulfrazee/patchwork/node_modules/browser-resolve/empty.js"}],"/Users/paulfrazee/patchwork/node_modules/ieee754/index.js":[function(require,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var nBits=-7;var i=isLE?nBytes-1:0;var d=isLE?-1:1;var s=buffer[offset+i];i+=d;e=s&(1<<-nBits)-1;s>>=-nBits;nBits+=eLen;for(;nBits>0;e=e*256+buffer[offset+i],i+=d,nBits-=8){}m=e&(1<<-nBits)-1;e>>=-nBits;nBits+=mLen;for(;nBits>0;m=m*256+buffer[offset+i],i+=d,nBits-=8){}if(e===0){e=1-eBias}else if(e===eMax){return m?NaN:(s?-1:1)*Infinity}else{m=m+Math.pow(2,mLen);e=e-eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)};exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var rt=mLen===23?Math.pow(2,-24)-Math.pow(2,-77):0;var i=isLE?0:nBytes-1;var d=isLE?1:-1;var s=value<0||value===0&&1/value<0?1:0;value=Math.abs(value);if(isNaN(value)||value===Infinity){m=isNaN(value)?1:0;e=eMax}else{e=Math.floor(Math.log(value)/Math.LN2);if(value*(c=Math.pow(2,-e))<1){e--;c*=2}if(e+eBias>=1){value+=rt/c}else{value+=rt*Math.pow(2,1-eBias)}if(value*c>=2){e++;c/=2}if(e+eBias>=eMax){m=0;e=eMax}else if(e+eBias>=1){m=(value*c-1)*Math.pow(2,mLen);e=e+eBias}else{m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen);e=0}}for(;mLen>=8;buffer[offset+i]=m&255,i+=d,m/=256,mLen-=8){}e=e<<mLen|m;eLen+=mLen;for(;eLen>0;buffer[offset+i]=e&255,i+=d,e/=256,eLen-=8){}buffer[offset+i-d]|=s*128}},{}],"/Users/paulfrazee/patchwork/node_modules/image-loaded/index.js":[function(require,module,exports){var BLANK="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";function loaded(image,callback){var src,old,onload;if(!image.nodeName)return callback(new Error("First argument must be an image element"));if(image.nodeName.toLowerCase()!=="img")return callback(new Error("Element supplied is not an image"));if(image.src&&image.complete&&image.naturalWidth!==undefined)return callback(null,true);old=!image.addEventListener;function loaded(){if(old){image.detachEvent("onload",loaded)}else{image.removeEventListener("load",loaded,false)}callback(null,false)}if(old){image.attachEvent("onload",loaded)}else{image.addEventListener("load",loaded,false)}if(image.readyState||image.complete){src=image.src;image.src=BLANK;image.src=src}}module.exports=loaded},{}],"/Users/paulfrazee/patchwork/node_modules/indexof/index.js":[function(require,module,exports){var indexOf=[].indexOf;module.exports=function(arr,obj){if(indexOf)return arr.indexOf(obj);for(var i=0;i<arr.length;++i){if(arr[i]===obj)return i}return-1}},{}],"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js":[function(require,module,exports){if(typeof Object.create==="function"){module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}}else{module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}}},{}],"/Users/paulfrazee/patchwork/node_modules/invariant/browser.js":[function(require,module,exports){"use strict";var invariant=function(condition,format,a,b,c,d,e,f){if("production"!=="production"){if(format===undefined){throw new Error("invariant requires an error message argument")}}if(!condition){var error;if(format===undefined){error=new Error("Minified exception occurred; use the non-minified dev environment "+"for the full error message and additional helpful warnings.")}else{var args=[a,b,c,d,e,f];var argIndex=0;error=new Error(format.replace(/%s/g,function(){return args[argIndex++]}));error.name="Invariant Violation"}error.framesToPop=1;throw error}};module.exports=invariant},{}],"/Users/paulfrazee/patchwork/node_modules/ip-regex/index.js":[function(require,module,exports){"use strict";var v4="(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])(?:\\.(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])){3}";var v6="(?:(?:[0-9a-fA-F:]){1,4}(?:(?::(?:[0-9a-fA-F]){1,4}|:)){2,7})+";var ip=module.exports=function(opts){opts=opts||{};return opts.exact?new RegExp("(?:^"+v4+"$)|(?:^"+v6+"$)"):new RegExp("(?:"+v4+")|(?:"+v6+")","g")};ip.v4=function(opts){opts=opts||{};return opts.exact?new RegExp("^"+v4+"$"):new RegExp(v4,"g")};ip.v6=function(opts){opts=opts||{};return opts.exact?new RegExp("^"+v6+"$"):new RegExp(v6,"g")}},{}],"/Users/paulfrazee/patchwork/node_modules/ip/lib/ip.js":[function(require,module,exports){"use strict";var ip=exports;var Buffer=require("buffer").Buffer;var os=require("os");ip.toBuffer=function toBuffer(ip,buff,offset){offset=~~offset;var result;if(this.isV4Format(ip)){result=buff||new Buffer(offset+4);ip.split(/\./g).map(function(byte){result[offset++]=parseInt(byte,10)&255})}else if(this.isV6Format(ip)){var sections=ip.split(":",8);var i;for(i=0;i<sections.length;i++){var isv4=this.isV4Format(sections[i]);var v4Buffer;if(isv4){v4Buffer=this.toBuffer(sections[i]);sections[i]=v4Buffer.slice(0,2).toString("hex")}if(v4Buffer&&++i<8){sections.splice(i,0,v4Buffer.slice(2,4).toString("hex"))}}if(sections[0]===""){while(sections.length<8)sections.unshift("0")}else if(sections[sections.length-1]===""){while(sections.length<8)sections.push("0")}else if(sections.length<8){for(i=0;i<sections.length&&sections[i]!=="";i++);var argv=[i,1];for(i=9-sections.length;i>0;i--){argv.push("0")}sections.splice.apply(sections,argv)}result=buff||new Buffer(offset+16);for(i=0;i<sections.length;i++){var word=parseInt(sections[i],16);result[offset++]=word>>8&255;result[offset++]=word&255}}if(!result){throw Error("Invalid ip address: "+ip)}return result};ip.toString=function toString(buff,offset,length){offset=~~offset;length=length||buff.length-offset;var result=[];if(length===4){for(var i=0;i<length;i++){result.push(buff[offset+i])}result=result.join(".")}else if(length===16){for(var i=0;i<length;i+=2){result.push(buff.readUInt16BE(offset+i).toString(16))}result=result.join(":");result=result.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3");result=result.replace(/:{3,4}/,"::")}return result};var ipv4Regex=/^(\d{1,3}\.){3,3}\d{1,3}$/;var ipv6Regex=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i;ip.isV4Format=function isV4Format(ip){return ipv4Regex.test(ip)};ip.isV6Format=function isV6Format(ip){return ipv6Regex.test(ip)};function _normalizeFamily(family){return family?family.toLowerCase():"ipv4"}ip.fromPrefixLen=function fromPrefixLen(prefixlen,family){if(prefixlen>32){family="ipv6"}else{family=_normalizeFamily(family)}var len=4;if(family==="ipv6"){len=16}var buff=new Buffer(len);for(var i=0,n=buff.length;i<n;++i){var bits=8;if(prefixlen<8){bits=prefixlen}prefixlen-=bits;buff[i]=~(255>>bits)}return ip.toString(buff)};ip.mask=function mask(addr,mask){addr=ip.toBuffer(addr);mask=ip.toBuffer(mask);var result=new Buffer(Math.max(addr.length,mask.length));if(addr.length===mask.length){for(var i=0;i<addr.length;i++){result[i]=addr[i]&mask[i]}}else if(mask.length===4){for(var i=0;i<mask.length;i++){result[i]=addr[addr.length-4+i]&mask[i]}}else{for(var i=0;i<result.length-6;i++){result[i]=0}result[10]=255;result[11]=255;for(var i=0;i<addr.length;i++){result[i+12]=addr[i]&mask[i+12]}}return ip.toString(result)};ip.cidr=function cidr(cidrString){var cidrParts=cidrString.split("/");var addr=cidrParts[0];if(cidrParts.length!==2)throw new Error("invalid CIDR subnet: "+addr);var mask=ip.fromPrefixLen(parseInt(cidrParts[1],10));return ip.mask(addr,mask)};ip.subnet=function subnet(addr,mask){var networkAddress=ip.toLong(ip.mask(addr,mask));var maskBuffer=ip.toBuffer(mask);var maskLength=0;for(var i=0;i<maskBuffer.length;i++){if(maskBuffer[i]===255){maskLength+=8}else{var octet=maskBuffer[i]&255;while(octet){octet=octet<<1&255;maskLength++}}}var numberOfAddresses=Math.pow(2,32-maskLength);return{networkAddress:ip.fromLong(networkAddress),firstAddress:numberOfAddresses<=2?ip.fromLong(networkAddress):ip.fromLong(networkAddress+1),lastAddress:numberOfAddresses<=2?ip.fromLong(networkAddress+numberOfAddresses-1):ip.fromLong(networkAddress+numberOfAddresses-2),broadcastAddress:ip.fromLong(networkAddress+numberOfAddresses-1),subnetMask:mask,subnetMaskLength:maskLength,numHosts:numberOfAddresses<=2?numberOfAddresses:numberOfAddresses-2,length:numberOfAddresses,contains:function(other){return networkAddress===ip.toLong(ip.mask(other,mask))}}};ip.cidrSubnet=function cidrSubnet(cidrString){var cidrParts=cidrString.split("/");var addr=cidrParts[0];if(cidrParts.length!==2)throw new Error("invalid CIDR subnet: "+addr);var mask=ip.fromPrefixLen(parseInt(cidrParts[1],10));return ip.subnet(addr,mask)};ip.not=function not(addr){var buff=ip.toBuffer(addr);for(var i=0;i<buff.length;i++){buff[i]=255^buff[i]}return ip.toString(buff)};ip.or=function or(a,b){a=ip.toBuffer(a);b=ip.toBuffer(b);if(a.length===b.length){for(var i=0;i<a.length;++i){a[i]|=b[i]}return ip.toString(a)}else{var buff=a;var other=b;if(b.length>a.length){buff=b;other=a}var offset=buff.length-other.length;for(var i=offset;i<buff.length;++i){buff[i]|=other[i-offset]}return ip.toString(buff)}};ip.isEqual=function isEqual(a,b){a=ip.toBuffer(a);b=ip.toBuffer(b);if(a.length===b.length){for(var i=0;i<a.length;i++){if(a[i]!==b[i])return false}return true}if(b.length===4){var t=b;b=a;a=t}for(var i=0;i<10;i++){if(b[i]!==0)return false}var word=b.readUInt16BE(10);if(word!==0&&word!==65535)return false;for(var i=0;i<4;i++){if(a[i]!==b[i+12])return false}return true};ip.isPrivate=function isPrivate(addr){return/^(::f{4}:)?10\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/.test(addr)||/^(::f{4}:)?192\.168\.([0-9]{1,3})\.([0-9]{1,3})$/.test(addr)||/^(::f{4}:)?172\.(1[6-9]|2\d|30|31)\.([0-9]{1,3})\.([0-9]{1,3})$/.test(addr)||/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/.test(addr)||/^(::f{4}:)?169\.254\.([0-9]{1,3})\.([0-9]{1,3})$/.test(addr)||/^fc00:/i.test(addr)||/^fe80:/i.test(addr)||/^::1$/.test(addr)||/^::$/.test(addr);
};ip.isPublic=function isPublic(addr){return!ip.isPrivate(addr)};ip.isLoopback=function isLoopback(addr){return/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})/.test(addr)||/^fe80::1$/.test(addr)||/^::1$/.test(addr)||/^::$/.test(addr)};ip.loopback=function loopback(family){family=_normalizeFamily(family);if(family!=="ipv4"&&family!=="ipv6"){throw new Error("family must be ipv4 or ipv6")}return family==="ipv4"?"127.0.0.1":"fe80::1"};ip.address=function address(name,family){var interfaces=os.networkInterfaces();var all;family=_normalizeFamily(family);if(name&&name!=="private"&&name!=="public"){var res=interfaces[name].filter(function(details){var itemFamily=details.family.toLowerCase();return itemFamily===family});if(res.length===0)return undefined;return res[0].address}var all=Object.keys(interfaces).map(function(nic){var addresses=interfaces[nic].filter(function(details){details.family=details.family.toLowerCase();if(details.family!==family||ip.isLoopback(details.address)){return false}else if(!name){return true}return name==="public"?!ip.isPrivate(details.address):ip.isPrivate(details.address)});return addresses.length?addresses[0].address:undefined}).filter(Boolean);return!all.length?ip.loopback(family):all[0]};ip.toLong=function toInt(ip){var ipl=0;ip.split(".").forEach(function(octet){ipl<<=8;ipl+=parseInt(octet)});return ipl>>>0};ip.fromLong=function fromInt(ipl){return(ipl>>>24)+"."+(ipl>>16&255)+"."+(ipl>>8&255)+"."+(ipl&255)}},{buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js",os:"/Users/paulfrazee/patchwork/node_modules/os-browserify/browser.js"}],"/Users/paulfrazee/patchwork/node_modules/is-buffer/index.js":[function(require,module,exports){module.exports=function(obj){return!!(obj!=null&&(obj._isBuffer||obj.constructor&&typeof obj.constructor.isBuffer==="function"&&obj.constructor.isBuffer(obj)))}},{}],"/Users/paulfrazee/patchwork/node_modules/is-valid-domain/is-valid-domain.js":[function(require,module,exports){(function(root){function isValidDomain(v){if(!v)return false;var re=/^(?!:\/\/)([a-zA-Z0-9-]+\.){0,5}[a-zA-Z0-9-][a-zA-Z0-9-]+\.[a-zA-Z]{2,64}?$/gi;return re.test(v)}if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=isValidDomain}exports.isValidDomain=isValidDomain}else if(typeof define==="function"&&define.amd){define([],function(){return isValidDomain})}else{root.isValidDomain=isValidDomain}})(this)},{}],"/Users/paulfrazee/patchwork/node_modules/isarray/index.js":[function(require,module,exports){module.exports=Array.isArray||function(arr){return Object.prototype.toString.call(arr)=="[object Array]"}},{}],"/Users/paulfrazee/patchwork/node_modules/lodash._baseassign/index.js":[function(require,module,exports){var baseCopy=require("lodash._basecopy"),keys=require("lodash.keys");function baseAssign(object,source){return source==null?object:baseCopy(source,keys(source),object)}module.exports=baseAssign},{"lodash._basecopy":"/Users/paulfrazee/patchwork/node_modules/lodash._basecopy/index.js","lodash.keys":"/Users/paulfrazee/patchwork/node_modules/lodash.keys/index.js"}],"/Users/paulfrazee/patchwork/node_modules/lodash._basecopy/index.js":[function(require,module,exports){function baseCopy(source,props,object){object||(object={});var index=-1,length=props.length;while(++index<length){var key=props[index];object[key]=source[key]}return object}module.exports=baseCopy},{}],"/Users/paulfrazee/patchwork/node_modules/lodash._bindcallback/index.js":[function(require,module,exports){function bindCallback(func,thisArg,argCount){if(typeof func!="function"){return identity}if(thisArg===undefined){return func}switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)};case 5:return function(value,other,key,object,source){return func.call(thisArg,value,other,key,object,source)}}return function(){return func.apply(thisArg,arguments)}}function identity(value){return value}module.exports=bindCallback},{}],"/Users/paulfrazee/patchwork/node_modules/lodash._createassigner/index.js":[function(require,module,exports){var bindCallback=require("lodash._bindcallback"),isIterateeCall=require("lodash._isiterateecall"),restParam=require("lodash.restparam");function createAssigner(assigner){return restParam(function(object,sources){var index=-1,length=object==null?0:sources.length,customizer=length>2?sources[length-2]:undefined,guard=length>2?sources[2]:undefined,thisArg=length>1?sources[length-1]:undefined;if(typeof customizer=="function"){customizer=bindCallback(customizer,thisArg,5);length-=2}else{customizer=typeof thisArg=="function"?thisArg:undefined;length-=customizer?1:0}if(guard&&isIterateeCall(sources[0],sources[1],guard)){customizer=length<3?undefined:customizer;length=1}while(++index<length){var source=sources[index];if(source){assigner(object,source,customizer)}}return object})}module.exports=createAssigner},{"lodash._bindcallback":"/Users/paulfrazee/patchwork/node_modules/lodash._bindcallback/index.js","lodash._isiterateecall":"/Users/paulfrazee/patchwork/node_modules/lodash._isiterateecall/index.js","lodash.restparam":"/Users/paulfrazee/patchwork/node_modules/lodash.restparam/index.js"}],"/Users/paulfrazee/patchwork/node_modules/lodash._getnative/index.js":[function(require,module,exports){var funcTag="[object Function]";var reIsHostCtor=/^\[object .+?Constructor\]$/;function isObjectLike(value){return!!value&&typeof value=="object"}var objectProto=Object.prototype;var fnToString=Function.prototype.toString;var hasOwnProperty=objectProto.hasOwnProperty;var objToString=objectProto.toString;var reIsNative=RegExp("^"+fnToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function getNative(object,key){var value=object==null?undefined:object[key];return isNative(value)?value:undefined}function isFunction(value){return isObject(value)&&objToString.call(value)==funcTag}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function isNative(value){if(value==null){return false}if(isFunction(value)){return reIsNative.test(fnToString.call(value))}return isObjectLike(value)&&reIsHostCtor.test(value)}module.exports=getNative},{}],"/Users/paulfrazee/patchwork/node_modules/lodash._isiterateecall/index.js":[function(require,module,exports){var reIsUint=/^\d+$/;var MAX_SAFE_INTEGER=9007199254740991;function baseProperty(key){return function(object){return object==null?undefined:object[key]}}var getLength=baseProperty("length");function isArrayLike(value){return value!=null&&isLength(getLength(value))}function isIndex(value,length){value=typeof value=="number"||reIsUint.test(value)?+value:-1;length=length==null?MAX_SAFE_INTEGER:length;return value>-1&&value%1==0&&value<length}function isIterateeCall(value,index,object){if(!isObject(object)){return false}var type=typeof index;if(type=="number"?isArrayLike(object)&&isIndex(index,object.length):type=="string"&&index in object){var other=object[index];return value===value?value===other:other!==other}return false}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}module.exports=isIterateeCall},{}],"/Users/paulfrazee/patchwork/node_modules/lodash.assign/index.js":[function(require,module,exports){var baseAssign=require("lodash._baseassign"),createAssigner=require("lodash._createassigner"),keys=require("lodash.keys");function assignWith(object,source,customizer){var index=-1,props=keys(source),length=props.length;while(++index<length){var key=props[index],value=object[key],result=customizer(value,source[key],key,object,source);if((result===result?result!==value:value===value)||value===undefined&&!(key in object)){object[key]=result}}return object}var assign=createAssigner(function(object,source,customizer){return customizer?assignWith(object,source,customizer):baseAssign(object,source)});module.exports=assign},{"lodash._baseassign":"/Users/paulfrazee/patchwork/node_modules/lodash._baseassign/index.js","lodash._createassigner":"/Users/paulfrazee/patchwork/node_modules/lodash._createassigner/index.js","lodash.keys":"/Users/paulfrazee/patchwork/node_modules/lodash.keys/index.js"}],"/Users/paulfrazee/patchwork/node_modules/lodash.isarguments/index.js":[function(require,module,exports){(function(global){var MAX_SAFE_INTEGER=9007199254740991;var argsTag="[object Arguments]",funcTag="[object Function]",genTag="[object GeneratorFunction]";var objectProto=global.Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var objectToString=objectProto.toString;var propertyIsEnumerable=objectProto.propertyIsEnumerable;function baseProperty(key){return function(object){return object==null?undefined:object[key]}}var getLength=baseProperty("length");function isArguments(value){return isArrayLikeObject(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag)}function isArrayLike(value){return value!=null&&!(typeof value=="function"&&isFunction(value))&&isLength(getLength(value))}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function isObjectLike(value){return!!value&&typeof value=="object"}module.exports=isArguments}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],"/Users/paulfrazee/patchwork/node_modules/lodash.isarray/index.js":[function(require,module,exports){var arrayTag="[object Array]",funcTag="[object Function]";var reIsHostCtor=/^\[object .+?Constructor\]$/;function isObjectLike(value){return!!value&&typeof value=="object"}var objectProto=Object.prototype;var fnToString=Function.prototype.toString;var hasOwnProperty=objectProto.hasOwnProperty;var objToString=objectProto.toString;var reIsNative=RegExp("^"+fnToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var nativeIsArray=getNative(Array,"isArray");var MAX_SAFE_INTEGER=9007199254740991;function getNative(object,key){var value=object==null?undefined:object[key];return isNative(value)?value:undefined}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}var isArray=nativeIsArray||function(value){return isObjectLike(value)&&isLength(value.length)&&objToString.call(value)==arrayTag};function isFunction(value){return isObject(value)&&objToString.call(value)==funcTag}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function isNative(value){if(value==null){return false}if(isFunction(value)){return reIsNative.test(fnToString.call(value))}return isObjectLike(value)&&reIsHostCtor.test(value)}module.exports=isArray},{}],"/Users/paulfrazee/patchwork/node_modules/lodash.isfinite/index.js":[function(require,module,exports){(function(global){var nativeIsFinite=global.isFinite;function isFinite(value){return typeof value=="number"&&nativeIsFinite(value)}module.exports=isFinite}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],"/Users/paulfrazee/patchwork/node_modules/lodash.keys/index.js":[function(require,module,exports){var getNative=require("lodash._getnative"),isArguments=require("lodash.isarguments"),isArray=require("lodash.isarray");var reIsUint=/^\d+$/;var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var nativeKeys=getNative(Object,"keys");var MAX_SAFE_INTEGER=9007199254740991;function baseProperty(key){return function(object){return object==null?undefined:object[key]}}var getLength=baseProperty("length");function isArrayLike(value){return value!=null&&isLength(getLength(value))}function isIndex(value,length){value=typeof value=="number"||reIsUint.test(value)?+value:-1;length=length==null?MAX_SAFE_INTEGER:length;return value>-1&&value%1==0&&value<length}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function shimKeys(object){var props=keysIn(object),propsLength=props.length,length=propsLength&&object.length;var allowIndexes=!!length&&isLength(length)&&(isArray(object)||isArguments(object));var index=-1,result=[];while(++index<propsLength){var key=props[index];if(allowIndexes&&isIndex(key,length)||hasOwnProperty.call(object,key)){result.push(key)}}return result}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}var keys=!nativeKeys?shimKeys:function(object){var Ctor=object==null?undefined:object.constructor;if(typeof Ctor=="function"&&Ctor.prototype===object||typeof object!="function"&&isArrayLike(object)){return shimKeys(object)}return isObject(object)?nativeKeys(object):[]};function keysIn(object){if(object==null){return[]}if(!isObject(object)){object=Object(object)}var length=object.length;length=length&&isLength(length)&&(isArray(object)||isArguments(object))&&length||0;var Ctor=object.constructor,index=-1,isProto=typeof Ctor=="function"&&Ctor.prototype===object,result=Array(length),skipIndexes=length>0;while(++index<length){result[index]=index+""}for(var key in object){if(!(skipIndexes&&isIndex(key,length))&&!(key=="constructor"&&(isProto||!hasOwnProperty.call(object,key)))){result.push(key)}}return result}module.exports=keys},{"lodash._getnative":"/Users/paulfrazee/patchwork/node_modules/lodash._getnative/index.js","lodash.isarguments":"/Users/paulfrazee/patchwork/node_modules/lodash.isarguments/index.js","lodash.isarray":"/Users/paulfrazee/patchwork/node_modules/lodash.isarray/index.js"}],"/Users/paulfrazee/patchwork/node_modules/lodash.restparam/index.js":[function(require,module,exports){var FUNC_ERROR_TEXT="Expected a function";var nativeMax=Math.max;function restParam(func,start){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}start=nativeMax(start===undefined?func.length-1:+start||0,0);return function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),rest=Array(length);while(++index<length){rest[index]=args[start+index]}switch(start){case 0:return func.call(this,rest);case 1:return func.call(this,args[0],rest);case 2:return func.call(this,args[0],args[1],rest)}var otherArgs=Array(start+1);index=-1;while(++index<start){otherArgs[index]=args[index]}otherArgs[start]=rest;return func.apply(this,otherArgs)}}module.exports=restParam},{}],"/Users/paulfrazee/patchwork/node_modules/looper/index.js":[function(require,module,exports){var looper=module.exports=function(fun){(function next(){var loop=true,returned=false,sync=false;do{sync=true;loop=false;fun.call(this,function(){if(sync)loop=true;else next()});sync=false}while(loop)})()}},{}],"/Users/paulfrazee/patchwork/node_modules/miller-rabin/lib/mr.js":[function(require,module,exports){var bn=require("bn.js");var brorand=require("brorand");function MillerRabin(rand){this.rand=rand||new brorand.Rand}module.exports=MillerRabin;MillerRabin.create=function create(rand){return new MillerRabin(rand)};MillerRabin.prototype._rand=function _rand(n){var len=n.bitLength();var buf=this.rand.generate(Math.ceil(len/8));buf[0]|=3;var mask=len&7;if(mask!==0)buf[buf.length-1]>>=7-mask;return new bn(buf)};MillerRabin.prototype.test=function test(n,k,cb){var len=n.bitLength();var red=bn.mont(n);var rone=new bn(1).toRed(red);if(!k)k=Math.max(1,len/48|0);var n1=n.subn(1);var n2=n1.subn(1);for(var s=0;!n1.testn(s);s++){}var d=n.shrn(s);var rn1=n1.toRed(red);var prime=true;for(;k>0;k--){var a=this._rand(n2);if(cb)cb(a);var x=a.toRed(red).redPow(d);if(x.cmp(rone)===0||x.cmp(rn1)===0)continue;for(var i=1;i<s;i++){x=x.redSqr();if(x.cmp(rone)===0)return false;if(x.cmp(rn1)===0)break}if(i===s)return false}return prime};MillerRabin.prototype.getDivisor=function getDivisor(n,k){var len=n.bitLength();var red=bn.mont(n);var rone=new bn(1).toRed(red);if(!k)k=Math.max(1,len/48|0);var n1=n.subn(1);var n2=n1.subn(1);for(var s=0;!n1.testn(s);s++){}var d=n.shrn(s);var rn1=n1.toRed(red);for(;k>0;k--){var a=this._rand(n2);var g=n.gcd(a);if(g.cmpn(1)!==0)return g;var x=a.toRed(red).redPow(d);if(x.cmp(rone)===0||x.cmp(rn1)===0)continue;for(var i=1;i<s;i++){x=x.redSqr();if(x.cmp(rone)===0)return x.fromRed().subn(1).gcd(n);if(x.cmp(rn1)===0)break}if(i===s){x=x.redSqr();return x.fromRed().subn(1).gcd(n)}}return false}},{"bn.js":"/Users/paulfrazee/patchwork/node_modules/bn.js/lib/bn.js",brorand:"/Users/paulfrazee/patchwork/node_modules/brorand/index.js"}],"/Users/paulfrazee/patchwork/node_modules/mime-db/db.json":[function(require,module,exports){module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana"},"application/3gpp-ims+xml":{source:"iana"},"application/a2l":{source:"iana"},"application/activemessage":{source:"iana"},"application/alto-costmap+json":{source:"iana",compressible:true},"application/alto-costmapfilter+json":{source:"iana",compressible:true},"application/alto-directory+json":{source:"iana",compressible:true},"application/alto-endpointcost+json":{source:"iana",compressible:true},"application/alto-endpointcostparams+json":{source:"iana",compressible:true},"application/alto-endpointprop+json":{source:"iana",compressible:true},"application/alto-endpointpropparams+json":{source:"iana",compressible:true},"application/alto-error+json":{source:"iana",compressible:true},"application/alto-networkmap+json":{source:"iana",compressible:true},"application/alto-networkmapfilter+json":{source:"iana",compressible:true},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:true,extensions:["atom"]},"application/atomcat+xml":{source:"iana",extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana"},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",extensions:["atomsvc"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana"},"application/bacnet-xdd+zip":{source:"iana"},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:false,extensions:["bdoc"]},"application/beep+xml":{source:"iana"},"application/calendar+json":{source:"iana",compressible:true},"application/calendar+xml":{source:"iana"},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/cbor":{source:"iana"},"application/ccmp+xml":{source:"iana"},"application/ccxml+xml":{source:"iana",extensions:["ccxml"]},"application/cdfx+xml":{source:"iana"},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana"},"application/cellml+xml":{source:"iana"},"application/cfw":{source:"iana"},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana"},"application/coap-group+json":{source:"iana",compressible:true},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana"},"application/cpl+xml":{source:"iana"},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana"},"application/cstadata+xml":{source:"iana"},"application/csvm+json":{source:"iana",compressible:true},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cybercash":{source:"iana"},"application/dart":{compressible:true},"application/dash+xml":{source:"iana",extensions:["mdp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana"},"application/dicom":{source:"iana"},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/docbook+xml":{source:"apache",extensions:["dbk"]},"application/dskpp+xml":{source:"iana"},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:true,extensions:["ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:false},"application/edifact":{source:"iana",compressible:false},"application/emergencycalldata.comment+xml":{source:"iana"},"application/emergencycalldata.deviceinfo+xml":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana"},"application/emergencycalldata.serviceinfo+xml":{source:"iana"},"application/emergencycalldata.subscriberinfo+xml":{source:"iana"},"application/emma+xml":{source:"iana",extensions:["emma"]},"application/emotionml+xml":{source:"iana"},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana"},"application/epub+zip":{source:"iana",extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana"},"application/fits":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:false,extensions:["woff"]},"application/font-woff2":{compressible:false,extensions:["woff2"]},"application/framework-attributes+xml":{source:"iana"},"application/gml+xml":{source:"apache",extensions:["gml"]},"application/gpx+xml":{source:"apache",extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:false},"application/h224":{source:"iana"},"application/held+xml":{source:"iana"},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana"},"application/ibe-pkg-reply+xml":{source:"iana"},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana"},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana"},"application/java-archive":{source:"apache",compressible:false,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:false,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:false,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:true,extensions:["js"]},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:true},"application/jrd+json":{source:"iana",compressible:true},"application/json":{source:"iana",charset:"UTF-8",compressible:true,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:true},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:true,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:true},"application/jwk-set+json":{source:"iana",compressible:true},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana"},"application/kpml-response+xml":{source:"iana"},"application/ld+json":{source:"iana",compressible:true,extensions:["jsonld"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana"},"application/lost+xml":{source:"iana",extensions:["lostxml"]},"application/lostsync+xml":{source:"iana"},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",extensions:["mads"]},"application/manifest+json":{charset:"UTF-8",compressible:true,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",extensions:["mathml"]},"application/mathml-content+xml":{source:"iana"},"application/mathml-presentation+xml":{source:"iana"},"application/mbms-associated-procedure-description+xml":{source:"iana"},"application/mbms-deregister+xml":{source:"iana"},"application/mbms-envelope+xml":{source:"iana"},"application/mbms-msk+xml":{source:"iana"},"application/mbms-msk-response+xml":{source:"iana"},"application/mbms-protection-description+xml":{source:"iana"},"application/mbms-reception-report+xml":{source:"iana"},"application/mbms-register+xml":{source:"iana"},"application/mbms-register-response+xml":{source:"iana"},"application/mbms-schedule+xml":{source:"iana"},"application/mbms-user-service-description+xml":{source:"iana"},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana"},"application/media_control+xml":{source:"iana"},"application/mediaservercontrol+xml":{source:"iana",extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:true},"application/metalink+xml":{source:"apache",extensions:["metalink"]},"application/metalink4+xml":{source:"iana",extensions:["meta4"]},"application/mets+xml":{source:"iana",extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mods+xml":{source:"iana",extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana"},"application/mrb-publish+xml":{source:"iana"},"application/msc-ivr+xml":{source:"iana"},"application/msc-mixer+xml":{source:"iana"},"application/msword":{source:"iana",compressible:false,extensions:["doc","dot"]},"application/mxf":{source:"iana",extensions:["mxf"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana"},"application/news-groupinfo":{source:"iana"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana"},"application/nss":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:false,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",extensions:["opf"]},"application/ogg":{source:"iana",compressible:false,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p2p-overlay+xml":{source:"iana"},"application/parityfec":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",extensions:["xer"]},"application/pdf":{source:"iana",compressible:false,extensions:["pdf"]},"application/pdx":{source:"iana"
},"application/pgp-encrypted":{source:"iana",compressible:false,extensions:["pgp"]},"application/pgp-keys":{source:"iana"},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana"},"application/pidf-diff+xml":{source:"iana"},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",extensions:["pls"]},"application/poc-settings+xml":{source:"iana"},"application/postscript":{source:"iana",compressible:true,extensions:["ai","eps","ps"]},"application/provenance+xml":{source:"iana"},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.hpub+zip":{source:"iana"},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana"},"application/pskc+xml":{source:"iana",extensions:["pskcxml"]},"application/qsig":{source:"iana"},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:true},"application/rdf+xml":{source:"iana",compressible:true,extensions:["rdf"]},"application/reginfo+xml":{source:"iana",extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:true},"application/resource-lists+xml":{source:"iana",extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",extensions:["rld"]},"application/rfc+xml":{source:"iana"},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana"},"application/rls-services+xml":{source:"iana",extensions:["rs"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:true,extensions:["rss"]},"application/rtf":{source:"iana",compressible:true,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana"},"application/samlmetadata+xml":{source:"iana"},"application/sbml+xml":{source:"iana",extensions:["sbml"]},"application/scaip+xml":{source:"iana"},"application/scim+json":{source:"iana",compressible:true},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/sep+xml":{source:"iana"},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",extensions:["shf"]},"application/sieve":{source:"iana"},"application/simple-filter+xml":{source:"iana"},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:true},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",extensions:["srx"]},"application/spirits-event+xml":{source:"iana"},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",extensions:["grxml"]},"application/sru+xml":{source:"iana",extensions:["sru"]},"application/ssdl+xml":{source:"apache",extensions:["ssdl"]},"application/ssml+xml":{source:"iana",extensions:["ssml"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:true},"application/tei+xml":{source:"iana",extensions:["tei","teicorpus"]},"application/thraud+xml":{source:"iana",extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/ttml+xml":{source:"iana"},"application/tve-trigger":{source:"iana"},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana"},"application/urc-ressheet+xml":{source:"iana"},"application/urc-targetdesc+xml":{source:"iana"},"application/urc-uisocketdesc+xml":{source:"iana"},"application/vcard+json":{source:"iana",compressible:true},"application/vcard+xml":{source:"iana"},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.3gpp-prose+xml":{source:"iana"},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana"},"application/vnd.3gpp.bsf+xml":{source:"iana"},"application/vnd.3gpp.mid-call+xml":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana"},"application/vnd.3gpp.srvcc-info+xml":{source:"iana"},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana"},"application/vnd.3gpp.ussd+xml":{source:"iana"},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana"},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:false,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:true},"application/vnd.apple.installer+xml":{source:"iana",extensions:["mpkg"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.pkpass":{compressible:false,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avistar+xml":{source:"iana"},"application/vnd.balsamiq.bmml+xml":{source:"iana"},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:true},"application/vnd.biopax.rdf+xml":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",extensions:["cdxml"]},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana"},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:true},"application/vnd.collection.doc+json":{source:"iana",compressible:true},"application/vnd.collection.next+json":{source:"iana",compressible:true},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",extensions:["wbs"]},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana"},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana"},"application/vnd.cybank":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:true,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume-movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana"},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:true},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:true},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana"},"application/vnd.dvb.notif-container+xml":{source:"iana"},"application/vnd.dvb.notif-generic+xml":{source:"iana"},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana"},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana"},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana"},"application/vnd.dvb.notif-init+xml":{source:"iana"},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana"},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana"},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.eszigno3+xml":{source:"iana",extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana"},"application/vnd.etsi.asic-e+zip":{source:"iana"},"application/vnd.etsi.asic-s+zip":{source:"iana"},"application/vnd.etsi.cug+xml":{source:"iana"},"application/vnd.etsi.iptvcommand+xml":{source:"iana"},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana"},"application/vnd.etsi.iptvprofile+xml":{source:"iana"},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana"},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana"},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana"},"application/vnd.etsi.iptvservice+xml":{source:"iana"},"application/vnd.etsi.iptvsync+xml":{source:"iana"},"application/vnd.etsi.iptvueprofile+xml":{source:"iana"},"application/vnd.etsi.mcid+xml":{source:"iana"},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana"},"application/vnd.etsi.pstn+xml":{source:"iana"},"application/vnd.etsi.sci+xml":{source:"iana"},"application/vnd.etsi.simservs+xml":{source:"iana"},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana"},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eudora.data":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.geo+json":{source:"iana",compressible:true},"application/vnd.geocube+xml":{source:"iana"},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:false,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:false,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:false,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:true,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:false,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana"},"application/vnd.gov.sk.e-form+zip":{source:"iana"},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana"},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:true},"application/vnd.hal+xml":{source:"iana",extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:true},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyperdrive+json":{source:"iana",compressible:true},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:true},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:true},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:true},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:true},"application/vnd.informedcontrol.rms+xml":{source:"iana"},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana"},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana"},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana"},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana"},"application/vnd.iptc.g2.newsitem+xml":{source:"iana"},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana"},"application/vnd.iptc.g2.packageitem+xml":{source:"iana"},"application/vnd.iptc.g2.planningitem+xml":{source:"iana"},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las.las+xml":{source:"iana",extensions:["lasxml"]},"application/vnd.liberty-request+xml":{source:"iana"},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",extensions:["lbe"]},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana"},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana"},"application/vnd.marlin.drm.conftoken+xml":{source:"iana"},"application/vnd.marlin.drm.license+xml":{source:"iana"},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:true},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:true},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:true},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:true,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:false,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:true,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana"},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:true},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]
},"application/vnd.ms-playready.initiator+xml":{source:"iana"},"application/vnd.ms-powerpoint":{source:"iana",compressible:false,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana"},"application/vnd.ms-printing.printticket+xml":{source:"apache"},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:false,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana"},"application/vnd.nokia.iptv.config+xml":{source:"iana"},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana"},"application/vnd.nokia.landmarkcollection+xml":{source:"iana"},"application/vnd.nokia.n-gage.ac+xml":{source:"iana"},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana"},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:false,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:false,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:false,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:false,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.oftn.l10n+json":{source:"iana",compressible:true},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana"},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana"},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana"},"application/vnd.oipf.dae.xhtml+xml":{source:"iana"},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana"},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana"},"application/vnd.oipf.spdlist+xml":{source:"iana"},"application/vnd.oipf.ueprofile+xml":{source:"iana"},"application/vnd.oipf.userprofile+xml":{source:"iana"},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana"},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana"},"application/vnd.oma.bcast.imd+xml":{source:"iana"},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana"},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana"},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana"},"application/vnd.oma.bcast.sprov+xml":{source:"iana"},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana"},"application/vnd.oma.cab-feature-handler+xml":{source:"iana"},"application/vnd.oma.cab-pcc+xml":{source:"iana"},"application/vnd.oma.cab-subs-invite+xml":{source:"iana"},"application/vnd.oma.cab-user-prefs+xml":{source:"iana"},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana"},"application/vnd.oma.group-usage-list+xml":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana"},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana"},"application/vnd.oma.poc.final-report+xml":{source:"iana"},"application/vnd.oma.poc.groups+xml":{source:"iana"},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana"},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana"},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana"},"application/vnd.oma.xcap-directory+xml":{source:"iana"},"application/vnd.omads-email+xml":{source:"iana"},"application/vnd.omads-file+xml":{source:"iana"},"application/vnd.omads-folder+xml":{source:"iana"},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana"},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml-template":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:false,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"apache",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml-template":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:false,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"apache",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml-template":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:false,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"apache",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana"},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana"},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana"},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana"},"application/vnd.oracle.resource+json":{source:"iana",compressible:true},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana"},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:true},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos+xml":{source:"iana"},"application/vnd.paos.xml":{source:"apache"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana"},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana"},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana"},"application/vnd.radisys.msml+xml":{source:"iana"},"application/vnd.radisys.msml-audit+xml":{source:"iana"},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana"},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana"},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana"},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana"},"application/vnd.radisys.msml-conf+xml":{source:"iana"},"application/vnd.radisys.msml-dialog+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana"},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:true},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.software602.filler.form+xml":{source:"iana"},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana"},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana"},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana"},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.tmd.mediaflex.api+xml":{source:"iana"},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana"},"application/vnd.wv.ssp+xml":{source:"iana"},"application/vnd.xacml+json":{source:"iana",compressible:true},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana"},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",extensions:["zaz"]},"application/voicexml+xml":{source:"iana",extensions:["vxml"]},"application/vq-rtcpxr":{source:"iana"},"application/watcherinfo+xml":{source:"iana"},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:false,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:false,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:false,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:false,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:false},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",
extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",extensions:["res"]},"application/x-dvi":{source:"apache",compressible:false,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-otf":{source:"apache",compressible:true,extensions:["otf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-ttf":{source:"apache",compressible:true,extensions:["ttf","ttc"]},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:true,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:false,extensions:["jnlp"]},"application/x-javascript":{compressible:true},"application/x-latex":{source:"apache",compressible:false,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:false},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:true,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:false,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-rar-compressed":{source:"apache",compressible:false,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:true,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:false,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:false,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:true,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:true,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:true},"application/x-x509-ca-cert":{source:"apache",extensions:["der","crt","pem"]},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:false,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana"},"application/xaml+xml":{source:"apache",extensions:["xaml"]},"application/xcap-att+xml":{source:"iana"},"application/xcap-caps+xml":{source:"iana"},"application/xcap-diff+xml":{source:"iana",extensions:["xdf"]},"application/xcap-el+xml":{source:"iana"},"application/xcap-error+xml":{source:"iana"},"application/xcap-ns+xml":{source:"iana"},"application/xcon-conference-info+xml":{source:"iana"},"application/xcon-conference-info-diff+xml":{source:"iana"},"application/xenc+xml":{source:"iana",extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:true,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache"},"application/xml":{source:"iana",compressible:true,extensions:["xml","xsl","xsd"]},"application/xml-dtd":{source:"iana",compressible:true,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana"},"application/xmpp+xml":{source:"iana"},"application/xop+xml":{source:"iana",compressible:true,extensions:["xop"]},"application/xproc+xml":{source:"apache",extensions:["xpl"]},"application/xslt+xml":{source:"iana",extensions:["xslt"]},"application/xspf+xml":{source:"apache",extensions:["xspf"]},"application/xv+xml":{source:"iana",extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yin+xml":{source:"iana",extensions:["yin"]},"application/zip":{source:"iana",compressible:false,extensions:["zip"]},"application/zlib":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana"},"audio/3gpp2":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana"},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:false,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:false},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana"},"audio/mp4":{source:"iana",compressible:false,extensions:["mp4a","m4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:false,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:false,extensions:["oga","ogg","spx"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tone":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:false},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:false},"audio/vorbis":{source:"iana",compressible:false},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:false,extensions:["wav"]},"audio/wave":{compressible:false,extensions:["wav"]},"audio/webm":{source:"apache",compressible:false,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:false,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:false,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/opentype":{compressible:true,extensions:["otf"]},"image/bmp":{source:"apache",compressible:true,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/fits":{source:"iana"},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:false,extensions:["gif"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jp2":{source:"iana"},"image/jpeg":{source:"iana",compressible:false,extensions:["jpeg","jpg","jpe"]},"image/jpm":{source:"iana"},"image/jpx":{source:"iana"},"image/ktx":{source:"iana",extensions:["ktx"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:false},"image/png":{source:"iana",compressible:false,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana"},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:true,extensions:["svg","svgz"]},"image/t38":{source:"iana"},"image/tiff":{source:"iana",compressible:false,extensions:["tiff","tif"]},"image/tiff-fx":{source:"iana"},"image/vnd.adobe.photoshop":{source:"iana",compressible:true,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana"},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana"},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana"},"image/vnd.valve.source.texture":{source:"iana"},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana"},"image/webp":{source:"apache",extensions:["webp"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:true,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:true,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:false},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana"},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana"},"message/global-delivery-status":{source:"iana"},"message/global-disposition-notification":{source:"iana"},"message/global-headers":{source:"iana"},"message/http":{source:"iana",compressible:false},"message/imdn+xml":{source:"iana",compressible:true},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:false},"message/rfc822":{source:"iana",compressible:true,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana"},"model/iges":{source:"iana",compressible:false,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:false,extensions:["msh","mesh","silo"]},"model/vnd.collada+xml":{source:"iana",extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana"},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana"},"model/vnd.parasolid.transmit.binary":{source:"iana"},"model/vnd.parasolid.transmit.text":{source:"iana"},"model/vnd.valve.source.compiled-map":{source:"iana"},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:false,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:false,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana"},"model/x3d+vrml":{source:"apache",compressible:false,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:true,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana"},"multipart/alternative":{source:"iana",compressible:false},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:false},"multipart/form-data":{source:"iana",compressible:false},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana",compressible:false},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:false},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:false},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:true,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:true},"text/cmd":{compressible:true},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/css":{source:"iana",compressible:true,extensions:["css"]},"text/csv":{source:"iana",compressible:true,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fwdred":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/hjson":{extensions:["hjson"]},"text/html":{source:"iana",compressible:true,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:true},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:true,extensions:["jsx"]},"text/less":{extensions:["less"]},"text/markdown":{source:"iana"},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",compressible:true,extensions:["n3"]},"text/parameters":{source:"iana"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:true,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:true,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:true,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:true,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:true,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:true,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{charset:"UTF-8",compressible:true,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:true},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:true},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:true,extensions:["markdown","md","mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:true,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:true,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:true,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"apache"},"video/3gpp":{source:"apache",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"apache"},"video/3gpp2":{source:"apache",extensions:["3g2"]},"video/bmpeg":{source:"apache"},"video/bt656":{source:"apache"},"video/celb":{source:"apache"},"video/dv":{source:"apache"},"video/h261":{source:"apache",extensions:["h261"]},"video/h263":{source:"apache",extensions:["h263"]},"video/h263-1998":{source:"apache"},"video/h263-2000":{source:"apache"},"video/h264":{source:"apache",extensions:["h264"]},"video/h264-rcdo":{source:"apache"},"video/h264-svc":{source:"apache"},"video/jpeg":{source:"apache",extensions:["jpgv"]},"video/jpeg2000":{source:"apache"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/mj2":{source:"apache",extensions:["mj2","mjp2"]},"video/mp1s":{source:"apache"},"video/mp2p":{source:"apache"},"video/mp2t":{source:"apache",extensions:["ts"]},"video/mp4":{source:"apache",compressible:false,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"apache"},"video/mpeg":{source:"apache",compressible:false,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"apache"},"video/mpv":{source:"apache"},"video/nv":{source:"apache"},"video/ogg":{source:"apache",compressible:false,extensions:["ogv"]},"video/parityfec":{source:"apache"},"video/pointer":{source:"apache"},"video/quicktime":{source:"apache",compressible:false,extensions:["qt","mov"]},"video/raw":{source:"apache"},"video/rtp-enc-aescm128":{source:"apache"},"video/rtx":{source:"apache"},"video/smpte292m":{source:"apache"},"video/ulpfec":{source:"apache"},"video/vc1":{source:"apache"},"video/vnd.cctv":{source:"apache"},"video/vnd.dece.hd":{source:"apache",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"apache",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"apache"},"video/vnd.dece.pd":{source:"apache",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"apache",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"apache",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"apache"},"video/vnd.directv.mpeg-tts":{source:"apache"},"video/vnd.dlna.mpeg-tts":{source:"apache"},"video/vnd.dvb.file":{source:"apache",extensions:["dvb"]},"video/vnd.fvt":{source:"apache",extensions:["fvt"]},"video/vnd.hns.video":{source:"apache"},"video/vnd.iptvforum.1dparityfec-1010":{source:"apache"},"video/vnd.iptvforum.1dparityfec-2005":{source:"apache"},"video/vnd.iptvforum.2dparityfec-1010":{source:"apache"},"video/vnd.iptvforum.2dparityfec-2005":{source:"apache"},"video/vnd.iptvforum.ttsavc":{source:"apache"},"video/vnd.iptvforum.ttsmpeg2":{source:"apache"},"video/vnd.motorola.video":{source:"apache"},"video/vnd.motorola.videop":{source:"apache"},"video/vnd.mpegurl":{source:"apache",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"apache",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"apache"},"video/vnd.nokia.videovoip":{source:"apache"},"video/vnd.objectvideo":{source:"apache"},"video/vnd.sealed.mpeg1":{source:"apache"},"video/vnd.sealed.mpeg4":{source:"apache"},"video/vnd.sealed.swf":{source:"apache"},"video/vnd.sealedmedia.softseal.mov":{source:"apache"},"video/vnd.uvvu.mp4":{source:"apache",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"apache",extensions:["viv"]},"video/webm":{source:"apache",compressible:false,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:false,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:false,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:false,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:true},"x-shader/x-vertex":{compressible:true}}},{}],"/Users/paulfrazee/patchwork/node_modules/mime-db/index.js":[function(require,module,exports){module.exports=require("./db.json")},{"./db.json":"/Users/paulfrazee/patchwork/node_modules/mime-db/db.json"}],"/Users/paulfrazee/patchwork/node_modules/mime-types/index.js":[function(require,module,exports){"use strict";var db=require("mime-db");var extname=require("path").extname;var extractTypeRegExp=/^\s*([^;\s]*)(?:;|\s|$)/;var textTypeRegExp=/^text\//i;exports.charset=charset;exports.charsets={lookup:charset};exports.contentType=contentType;exports.extension=extension;exports.extensions=Object.create(null);exports.lookup=lookup;exports.types=Object.create(null);populateMaps(exports.extensions,exports.types);function charset(type){if(!type||typeof type!=="string"){return false}var match=extractTypeRegExp.exec(type);
var mime=match&&db[match[1].toLowerCase()];if(mime&&mime.charset){return mime.charset}if(match&&textTypeRegExp.test(match[1])){return"UTF-8"}return false}function contentType(str){if(!str||typeof str!=="string"){return false}var mime=str.indexOf("/")===-1?exports.lookup(str):str;if(!mime){return false}if(mime.indexOf("charset")===-1){var charset=exports.charset(mime);if(charset)mime+="; charset="+charset.toLowerCase()}return mime}function extension(type){if(!type||typeof type!=="string"){return false}var match=extractTypeRegExp.exec(type);var exts=match&&exports.extensions[match[1].toLowerCase()];if(!exts||!exts.length){return false}return exts[0]}function lookup(path){if(!path||typeof path!=="string"){return false}var extension=extname("x."+path).toLowerCase().substr(1);if(!extension){return false}return exports.types[extension]||false}function populateMaps(extensions,types){var preference=["nginx","apache",undefined,"iana"];Object.keys(db).forEach(function forEachMimeType(type){var mime=db[type];var exts=mime.extensions;if(!exts||!exts.length){return}extensions[type]=exts;for(var i=0;i<exts.length;i++){var extension=exts[i];if(types[extension]){var from=preference.indexOf(db[types[extension]].source);var to=preference.indexOf(mime.source);if(types[extension]!=="application/octet-stream"&&from>to||from===to&&types[extension].substr(0,12)==="application/"){continue}}types[extension]=type}})}},{"mime-db":"/Users/paulfrazee/patchwork/node_modules/mime-db/index.js",path:"/Users/paulfrazee/patchwork/node_modules/path-browserify/index.js"}],"/Users/paulfrazee/patchwork/node_modules/minimalistic-assert/index.js":[function(require,module,exports){module.exports=assert;function assert(val,msg){if(!val)throw new Error(msg||"Assertion failed")}assert.equal=function assertEqual(l,r,msg){if(l!=r)throw new Error(msg||"Assertion failed: "+l+" != "+r)}},{}],"/Users/paulfrazee/patchwork/node_modules/moment/moment.js":[function(require,module,exports){(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?module.exports=factory():typeof define==="function"&&define.amd?define(factory):global.moment=factory()})(this,function(){"use strict";var hookCallback;function utils_hooks__hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(callback){hookCallback=callback}function isArray(input){return Object.prototype.toString.call(input)==="[object Array]"}function isDate(input){return input instanceof Date||Object.prototype.toString.call(input)==="[object Date]"}function map(arr,fn){var res=[],i;for(i=0;i<arr.length;++i){res.push(fn(arr[i],i))}return res}function hasOwnProp(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function extend(a,b){for(var i in b){if(hasOwnProp(b,i)){a[i]=b[i]}}if(hasOwnProp(b,"toString")){a.toString=b.toString}if(hasOwnProp(b,"valueOf")){a.valueOf=b.valueOf}return a}function create_utc__createUTC(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,true).utc()}function defaultParsingFlags(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false}}function getParsingFlags(m){if(m._pf==null){m._pf=defaultParsingFlags()}return m._pf}function valid__isValid(m){if(m._isValid==null){var flags=getParsingFlags(m);m._isValid=!isNaN(m._d.getTime())&&flags.overflow<0&&!flags.empty&&!flags.invalidMonth&&!flags.invalidWeekday&&!flags.nullInput&&!flags.invalidFormat&&!flags.userInvalidated;if(m._strict){m._isValid=m._isValid&&flags.charsLeftOver===0&&flags.unusedTokens.length===0&&flags.bigHour===undefined}}return m._isValid}function valid__createInvalid(flags){var m=create_utc__createUTC(NaN);if(flags!=null){extend(getParsingFlags(m),flags)}else{getParsingFlags(m).userInvalidated=true}return m}function isUndefined(input){return input===void 0}var momentProperties=utils_hooks__hooks.momentProperties=[];function copyConfig(to,from){var i,prop,val;if(!isUndefined(from._isAMomentObject)){to._isAMomentObject=from._isAMomentObject}if(!isUndefined(from._i)){to._i=from._i}if(!isUndefined(from._f)){to._f=from._f}if(!isUndefined(from._l)){to._l=from._l}if(!isUndefined(from._strict)){to._strict=from._strict}if(!isUndefined(from._tzm)){to._tzm=from._tzm}if(!isUndefined(from._isUTC)){to._isUTC=from._isUTC}if(!isUndefined(from._offset)){to._offset=from._offset}if(!isUndefined(from._pf)){to._pf=getParsingFlags(from)}if(!isUndefined(from._locale)){to._locale=from._locale}if(momentProperties.length>0){for(i in momentProperties){prop=momentProperties[i];val=from[prop];if(!isUndefined(val)){to[prop]=val}}}return to}var updateInProgress=false;function Moment(config){copyConfig(this,config);this._d=new Date(config._d!=null?config._d.getTime():NaN);if(updateInProgress===false){updateInProgress=true;utils_hooks__hooks.updateOffset(this);updateInProgress=false}}function isMoment(obj){return obj instanceof Moment||obj!=null&&obj._isAMomentObject!=null}function absFloor(number){if(number<0){return Math.ceil(number)}else{return Math.floor(number)}}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;if(coercedNumber!==0&&isFinite(coercedNumber)){value=absFloor(coercedNumber)}return value}function compareArrays(array1,array2,dontConvert){var len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0,i;for(i=0;i<len;i++){if(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i])){diffs++}}return diffs+lengthDiff}function Locale(){}var locales={};var globalLocale;function normalizeLocale(key){return key?key.toLowerCase().replace("_","-"):key}function chooseLocale(names){var i=0,j,next,locale,split;while(i<names.length){split=normalizeLocale(names[i]).split("-");j=split.length;next=normalizeLocale(names[i+1]);next=next?next.split("-"):null;while(j>0){locale=loadLocale(split.slice(0,j).join("-"));if(locale){return locale}if(next&&next.length>=j&&compareArrays(split,next,true)>=j-1){break}j--}i++}return null}function loadLocale(name){var oldLocale=null;if(!locales[name]&&typeof module!=="undefined"&&module&&module.exports){try{oldLocale=globalLocale._abbr;require("./locale/"+name);locale_locales__getSetGlobalLocale(oldLocale)}catch(e){}}return locales[name]}function locale_locales__getSetGlobalLocale(key,values){var data;if(key){if(isUndefined(values)){data=locale_locales__getLocale(key)}else{data=defineLocale(key,values)}if(data){globalLocale=data}}return globalLocale._abbr}function defineLocale(name,values){if(values!==null){values.abbr=name;locales[name]=locales[name]||new Locale;locales[name].set(values);locale_locales__getSetGlobalLocale(name);return locales[name]}else{delete locales[name];return null}}function locale_locales__getLocale(key){var locale;if(key&&key._locale&&key._locale._abbr){key=key._locale._abbr}if(!key){return globalLocale}if(!isArray(key)){locale=loadLocale(key);if(locale){return locale}key=[key]}return chooseLocale(key)}var aliases={};function addUnitAlias(unit,shorthand){var lowerCase=unit.toLowerCase();aliases[lowerCase]=aliases[lowerCase+"s"]=aliases[shorthand]=unit}function normalizeUnits(units){return typeof units==="string"?aliases[units]||aliases[units.toLowerCase()]:undefined}function normalizeObjectUnits(inputObject){var normalizedInput={},normalizedProp,prop;for(prop in inputObject){if(hasOwnProp(inputObject,prop)){normalizedProp=normalizeUnits(prop);if(normalizedProp){normalizedInput[normalizedProp]=inputObject[prop]}}}return normalizedInput}function isFunction(input){return input instanceof Function||Object.prototype.toString.call(input)==="[object Function]"}function makeGetSet(unit,keepTime){return function(value){if(value!=null){get_set__set(this,unit,value);utils_hooks__hooks.updateOffset(this,keepTime);return this}else{return get_set__get(this,unit)}}}function get_set__get(mom,unit){return mom.isValid()?mom._d["get"+(mom._isUTC?"UTC":"")+unit]():NaN}function get_set__set(mom,unit,value){if(mom.isValid()){mom._d["set"+(mom._isUTC?"UTC":"")+unit](value)}}function getSet(units,value){var unit;if(typeof units==="object"){for(unit in units){this.set(unit,units[unit])}}else{units=normalizeUnits(units);if(isFunction(this[units])){return this[units](value)}}return this}function zeroFill(number,targetLength,forceSign){var absNumber=""+Math.abs(number),zerosToFill=targetLength-absNumber.length,sign=number>=0;return(sign?forceSign?"+":"":"-")+Math.pow(10,Math.max(0,zerosToFill)).toString().substr(1)+absNumber}var formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;var localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;var formatFunctions={};var formatTokenFunctions={};function addFormatToken(token,padded,ordinal,callback){var func=callback;if(typeof callback==="string"){func=function(){return this[callback]()}}if(token){formatTokenFunctions[token]=func}if(padded){formatTokenFunctions[padded[0]]=function(){return zeroFill(func.apply(this,arguments),padded[1],padded[2])}}if(ordinal){formatTokenFunctions[ordinal]=function(){return this.localeData().ordinal(func.apply(this,arguments),token)}}}function removeFormattingTokens(input){if(input.match(/\[[\s\S]/)){return input.replace(/^\[|\]$/g,"")}return input.replace(/\\/g,"")}function makeFormatFunction(format){var array=format.match(formattingTokens),i,length;for(i=0,length=array.length;i<length;i++){if(formatTokenFunctions[array[i]]){array[i]=formatTokenFunctions[array[i]]}else{array[i]=removeFormattingTokens(array[i])}}return function(mom){var output="";for(i=0;i<length;i++){output+=array[i]instanceof Function?array[i].call(mom,format):array[i]}return output}}function formatMoment(m,format){if(!m.isValid()){return m.localeData().invalidDate()}format=expandFormat(format,m.localeData());formatFunctions[format]=formatFunctions[format]||makeFormatFunction(format);return formatFunctions[format](m)}function expandFormat(format,locale){var i=5;function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}localFormattingTokens.lastIndex=0;while(i>=0&&localFormattingTokens.test(format)){format=format.replace(localFormattingTokens,replaceLongDateFormatTokens);localFormattingTokens.lastIndex=0;i-=1}return format}var match1=/\d/;var match2=/\d\d/;var match3=/\d{3}/;var match4=/\d{4}/;var match6=/[+-]?\d{6}/;var match1to2=/\d\d?/;var match3to4=/\d\d\d\d?/;var match5to6=/\d\d\d\d\d\d?/;var match1to3=/\d{1,3}/;var match1to4=/\d{1,4}/;var match1to6=/[+-]?\d{1,6}/;var matchUnsigned=/\d+/;var matchSigned=/[+-]?\d+/;var matchOffset=/Z|[+-]\d\d:?\d\d/gi;var matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi;var matchTimestamp=/[+-]?\d+(\.\d{1,3})?/;var matchWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i;var regexes={};function addRegexToken(token,regex,strictRegex){regexes[token]=isFunction(regex)?regex:function(isStrict,localeData){return isStrict&&strictRegex?strictRegex:regex}}function getParseRegexForToken(token,config){if(!hasOwnProp(regexes,token)){return new RegExp(unescapeFormat(token))}return regexes[token](config._strict,config._locale)}function unescapeFormat(s){return regexEscape(s.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4}))}function regexEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var tokens={};function addParseToken(token,callback){var i,func=callback;if(typeof token==="string"){token=[token]}if(typeof callback==="number"){func=function(input,array){array[callback]=toInt(input)}}for(i=0;i<token.length;i++){tokens[token[i]]=func}}function addWeekParseToken(token,callback){addParseToken(token,function(input,array,config,token){config._w=config._w||{};callback(input,config._w,config,token)})}function addTimeToArrayFromToken(token,input,config){if(input!=null&&hasOwnProp(tokens,token)){tokens[token](input,config._a,config,token)}}var YEAR=0;var MONTH=1;var DATE=2;var HOUR=3;var MINUTE=4;var SECOND=5;var MILLISECOND=6;var WEEK=7;var WEEKDAY=8;function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1});addFormatToken("MMM",0,0,function(format){return this.localeData().monthsShort(this,format)});addFormatToken("MMMM",0,0,function(format){return this.localeData().months(this,format)});addUnitAlias("month","M");addRegexToken("M",match1to2);addRegexToken("MM",match1to2,match2);addRegexToken("MMM",function(isStrict,locale){return locale.monthsShortRegex(isStrict)});addRegexToken("MMMM",function(isStrict,locale){return locale.monthsRegex(isStrict)});addParseToken(["M","MM"],function(input,array){array[MONTH]=toInt(input)-1});addParseToken(["MMM","MMMM"],function(input,array,config,token){var month=config._locale.monthsParse(input,token,config._strict);if(month!=null){array[MONTH]=month}else{getParsingFlags(config).invalidMonth=input}});var MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/;var defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function localeMonths(m,format){return isArray(this._months)?this._months[m.month()]:this._months[MONTHS_IN_FORMAT.test(format)?"format":"standalone"][m.month()]}var defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function localeMonthsShort(m,format){return isArray(this._monthsShort)?this._monthsShort[m.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(format)?"format":"standalone"][m.month()]}function localeMonthsParse(monthName,format,strict){var i,mom,regex;if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}for(i=0;i<12;i++){mom=create_utc__createUTC([2e3,i]);if(strict&&!this._longMonthsParse[i]){this._longMonthsParse[i]=new RegExp("^"+this.months(mom,"").replace(".","")+"$","i");this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(mom,"").replace(".","")+"$","i")}if(!strict&&!this._monthsParse[i]){regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,"");this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")}if(strict&&format==="MMMM"&&this._longMonthsParse[i].test(monthName)){return i}else if(strict&&format==="MMM"&&this._shortMonthsParse[i].test(monthName)){return i}else if(!strict&&this._monthsParse[i].test(monthName)){return i}}}function setMonth(mom,value){var dayOfMonth;if(!mom.isValid()){return mom}if(typeof value==="string"){value=mom.localeData().monthsParse(value);if(typeof value!=="number"){return mom}}dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value));mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth);return mom}function getSetMonth(value){if(value!=null){setMonth(this,value);utils_hooks__hooks.updateOffset(this,true);return this}else{return get_set__get(this,"Month")}}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}var defaultMonthsShortRegex=matchWord;function monthsShortRegex(isStrict){if(this._monthsParseExact){if(!hasOwnProp(this,"_monthsRegex")){computeMonthsParse.call(this)}if(isStrict){return this._monthsShortStrictRegex}else{return this._monthsShortRegex}}else{return this._monthsShortStrictRegex&&isStrict?this._monthsShortStrictRegex:this._monthsShortRegex}}var defaultMonthsRegex=matchWord;function monthsRegex(isStrict){if(this._monthsParseExact){if(!hasOwnProp(this,"_monthsRegex")){computeMonthsParse.call(this)}if(isStrict){return this._monthsStrictRegex}else{return this._monthsRegex}}else{return this._monthsStrictRegex&&isStrict?this._monthsStrictRegex:this._monthsRegex}}function computeMonthsParse(){function cmpLenRev(a,b){return b.length-a.length}var shortPieces=[],longPieces=[],mixedPieces=[],i,mom;for(i=0;i<12;i++){mom=create_utc__createUTC([2e3,i]);shortPieces.push(this.monthsShort(mom,""));longPieces.push(this.months(mom,""));mixedPieces.push(this.months(mom,""));mixedPieces.push(this.monthsShort(mom,""))}shortPieces.sort(cmpLenRev);longPieces.sort(cmpLenRev);mixedPieces.sort(cmpLenRev);for(i=0;i<12;i++){shortPieces[i]=regexEscape(shortPieces[i]);longPieces[i]=regexEscape(longPieces[i]);mixedPieces[i]=regexEscape(mixedPieces[i])}this._monthsRegex=new RegExp("^("+mixedPieces.join("|")+")","i");this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp("^("+longPieces.join("|")+")$","i");this._monthsShortStrictRegex=new RegExp("^("+shortPieces.join("|")+")$","i")}function checkOverflow(m){var overflow;var a=m._a;if(a&&getParsingFlags(m).overflow===-2){overflow=a[MONTH]<0||a[MONTH]>11?MONTH:a[DATE]<1||a[DATE]>daysInMonth(a[YEAR],a[MONTH])?DATE:a[HOUR]<0||a[HOUR]>24||a[HOUR]===24&&(a[MINUTE]!==0||a[SECOND]!==0||a[MILLISECOND]!==0)?HOUR:a[MINUTE]<0||a[MINUTE]>59?MINUTE:a[SECOND]<0||a[SECOND]>59?SECOND:a[MILLISECOND]<0||a[MILLISECOND]>999?MILLISECOND:-1;if(getParsingFlags(m)._overflowDayOfYear&&(overflow<YEAR||overflow>DATE)){overflow=DATE}if(getParsingFlags(m)._overflowWeeks&&overflow===-1){overflow=WEEK}if(getParsingFlags(m)._overflowWeekday&&overflow===-1){overflow=WEEKDAY}getParsingFlags(m).overflow=overflow}return m}function warn(msg){if(utils_hooks__hooks.suppressDeprecationWarnings===false&&typeof console!=="undefined"&&console.warn){console.warn("Deprecation warning: "+msg)}}function deprecate(msg,fn){var firstTime=true;return extend(function(){if(firstTime){warn(msg+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack);firstTime=false}return fn.apply(this,arguments)},fn)}var deprecations={};function deprecateSimple(name,msg){if(!deprecations[name]){warn(msg);deprecations[name]=true}}utils_hooks__hooks.suppressDeprecationWarnings=false;var extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/;var basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/;var tzRegex=/Z|[+-]\d\d(?::?\d\d)?/;var isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,false],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,false],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,false],["YYYYDDD",/\d{7}/]];var isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]];var aspNetJsonRegex=/^\/?Date\((\-?\d+)/i;function configFromISO(config){var i,l,string=config._i,match=extendedIsoRegex.exec(string)||basicIsoRegex.exec(string),allowTime,dateFormat,timeFormat,tzFormat;if(match){getParsingFlags(config).iso=true;for(i=0,l=isoDates.length;i<l;i++){if(isoDates[i][1].exec(match[1])){dateFormat=isoDates[i][0];allowTime=isoDates[i][2]!==false;break}}if(dateFormat==null){config._isValid=false;return}if(match[3]){for(i=0,l=isoTimes.length;i<l;i++){if(isoTimes[i][1].exec(match[3])){timeFormat=(match[2]||" ")+isoTimes[i][0];break}}if(timeFormat==null){config._isValid=false;return}}if(!allowTime&&timeFormat!=null){config._isValid=false;return}if(match[4]){if(tzRegex.exec(match[4])){tzFormat="Z"}else{config._isValid=false;return}}config._f=dateFormat+(timeFormat||"")+(tzFormat||"");configFromStringAndFormat(config)}else{config._isValid=false}}function configFromString(config){var matched=aspNetJsonRegex.exec(config._i);if(matched!==null){config._d=new Date(+matched[1]);return}configFromISO(config);if(config._isValid===false){delete config._isValid;utils_hooks__hooks.createFromInputFallback(config)}}utils_hooks__hooks.createFromInputFallback=deprecate("moment construction falls back to js Date. This is "+"discouraged and will be removed in upcoming major "+"release. Please refer to "+"https://github.com/moment/moment/issues/1407 for more info.",function(config){config._d=new Date(config._i+(config._useUTC?" UTC":""))});function createDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);if(y<100&&y>=0&&isFinite(date.getFullYear())){date.setFullYear(y)}return date}function createUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));if(y<100&&y>=0&&isFinite(date.getUTCFullYear())){date.setUTCFullYear(y)}return date}addFormatToken("Y",0,0,function(){var y=this.year();return y<=9999?""+y:"+"+y});addFormatToken(0,["YY",2],0,function(){return this.year()%100});addFormatToken(0,["YYYY",4],0,"year");addFormatToken(0,["YYYYY",5],0,"year");addFormatToken(0,["YYYYYY",6,true],0,"year");addUnitAlias("year","y");addRegexToken("Y",matchSigned);addRegexToken("YY",match1to2,match2);addRegexToken("YYYY",match1to4,match4);addRegexToken("YYYYY",match1to6,match6);addRegexToken("YYYYYY",match1to6,match6);addParseToken(["YYYYY","YYYYYY"],YEAR);addParseToken("YYYY",function(input,array){array[YEAR]=input.length===2?utils_hooks__hooks.parseTwoDigitYear(input):toInt(input)});addParseToken("YY",function(input,array){array[YEAR]=utils_hooks__hooks.parseTwoDigitYear(input)});addParseToken("Y",function(input,array){array[YEAR]=parseInt(input,10)});function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return year%4===0&&year%100!==0||year%400===0}utils_hooks__hooks.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",false);function getIsLeapYear(){return isLeapYear(this.year())}function firstWeekOffset(year,dow,doy){var fwd=7+dow-doy,fwdlw=(7+createUTCDate(year,0,fwd).getUTCDay()-dow)%7;return-fwdlw+fwd-1}function dayOfYearFromWeeks(year,week,weekday,dow,doy){var localWeekday=(7+weekday-dow)%7,weekOffset=firstWeekOffset(year,dow,doy),dayOfYear=1+7*(week-1)+localWeekday+weekOffset,resYear,resDayOfYear;if(dayOfYear<=0){resYear=year-1;resDayOfYear=daysInYear(resYear)+dayOfYear}else if(dayOfYear>daysInYear(year)){resYear=year+1;resDayOfYear=dayOfYear-daysInYear(year)}else{resYear=year;resDayOfYear=dayOfYear}return{year:resYear,dayOfYear:resDayOfYear}}function weekOfYear(mom,dow,doy){var weekOffset=firstWeekOffset(mom.year(),dow,doy),week=Math.floor((mom.dayOfYear()-weekOffset-1)/7)+1,resWeek,resYear;if(week<1){resYear=mom.year()-1;resWeek=week+weeksInYear(resYear,dow,doy)}else if(week>weeksInYear(mom.year(),dow,doy)){resWeek=week-weeksInYear(mom.year(),dow,doy);resYear=mom.year()+1}else{resYear=mom.year();resWeek=week}return{week:resWeek,year:resYear}}function weeksInYear(year,dow,doy){var weekOffset=firstWeekOffset(year,dow,doy),weekOffsetNext=firstWeekOffset(year+1,dow,doy);return(daysInYear(year)-weekOffset+weekOffsetNext)/7}function defaults(a,b,c){if(a!=null){return a}if(b!=null){return b}return c}function currentDateArray(config){var nowValue=new Date(utils_hooks__hooks.now());if(config._useUTC){return[nowValue.getUTCFullYear(),nowValue.getUTCMonth(),nowValue.getUTCDate()]}return[nowValue.getFullYear(),nowValue.getMonth(),nowValue.getDate()]}function configFromArray(config){var i,date,input=[],currentDate,yearToUse;if(config._d){return}currentDate=currentDateArray(config);if(config._w&&config._a[DATE]==null&&config._a[MONTH]==null){dayOfYearFromWeekInfo(config)}if(config._dayOfYear){yearToUse=defaults(config._a[YEAR],currentDate[YEAR]);if(config._dayOfYear>daysInYear(yearToUse)){getParsingFlags(config)._overflowDayOfYear=true}date=createUTCDate(yearToUse,0,config._dayOfYear);config._a[MONTH]=date.getUTCMonth();config._a[DATE]=date.getUTCDate()}for(i=0;i<3&&config._a[i]==null;++i){config._a[i]=input[i]=currentDate[i]}for(;i<7;i++){config._a[i]=input[i]=config._a[i]==null?i===2?1:0:config._a[i]}if(config._a[HOUR]===24&&config._a[MINUTE]===0&&config._a[SECOND]===0&&config._a[MILLISECOND]===0){config._nextDay=true;config._a[HOUR]=0}config._d=(config._useUTC?createUTCDate:createDate).apply(null,input);if(config._tzm!=null){config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm)}if(config._nextDay){config._a[HOUR]=24}}function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp,weekdayOverflow;w=config._w;if(w.GG!=null||w.W!=null||w.E!=null){dow=1;doy=4;weekYear=defaults(w.GG,config._a[YEAR],weekOfYear(local__createLocal(),1,4).year);week=defaults(w.W,1);weekday=defaults(w.E,1);if(weekday<1||weekday>7){weekdayOverflow=true}}else{dow=config._locale._week.dow;doy=config._locale._week.doy;weekYear=defaults(w.gg,config._a[YEAR],weekOfYear(local__createLocal(),dow,doy).year);week=defaults(w.w,1);if(w.d!=null){weekday=w.d;if(weekday<0||weekday>6){weekdayOverflow=true}}else if(w.e!=null){weekday=w.e+dow;if(w.e<0||w.e>6){weekdayOverflow=true}}else{weekday=dow}}if(week<1||week>weeksInYear(weekYear,dow,doy)){getParsingFlags(config)._overflowWeeks=true}else if(weekdayOverflow!=null){getParsingFlags(config)._overflowWeekday=true}else{temp=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy);config._a[YEAR]=temp.year;config._dayOfYear=temp.dayOfYear}}utils_hooks__hooks.ISO_8601=function(){};function configFromStringAndFormat(config){if(config._f===utils_hooks__hooks.ISO_8601){configFromISO(config);return}config._a=[];getParsingFlags(config).empty=true;var string=""+config._i,i,parsedInput,tokens,token,skipped,stringLength=string.length,totalParsedInputLength=0;tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[];for(i=0;i<tokens.length;i++){token=tokens[i];parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0];if(parsedInput){skipped=string.substr(0,string.indexOf(parsedInput));if(skipped.length>0){getParsingFlags(config).unusedInput.push(skipped)}string=string.slice(string.indexOf(parsedInput)+parsedInput.length);totalParsedInputLength+=parsedInput.length}if(formatTokenFunctions[token]){if(parsedInput){getParsingFlags(config).empty=false}else{getParsingFlags(config).unusedTokens.push(token)}addTimeToArrayFromToken(token,parsedInput,config)}else if(config._strict&&!parsedInput){getParsingFlags(config).unusedTokens.push(token)}}getParsingFlags(config).charsLeftOver=stringLength-totalParsedInputLength;if(string.length>0){getParsingFlags(config).unusedInput.push(string)}if(getParsingFlags(config).bigHour===true&&config._a[HOUR]<=12&&config._a[HOUR]>0){getParsingFlags(config).bigHour=undefined}config._a[HOUR]=meridiemFixWrap(config._locale,config._a[HOUR],config._meridiem);configFromArray(config);checkOverflow(config)}function meridiemFixWrap(locale,hour,meridiem){var isPm;if(meridiem==null){return hour}if(locale.meridiemHour!=null){return locale.meridiemHour(hour,meridiem)}else if(locale.isPM!=null){isPm=locale.isPM(meridiem);if(isPm&&hour<12){hour+=12}if(!isPm&&hour===12){hour=0}return hour}else{return hour}}function configFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(config._f.length===0){getParsingFlags(config).invalidFormat=true;config._d=new Date(NaN);return}for(i=0;i<config._f.length;i++){currentScore=0;tempConfig=copyConfig({},config);if(config._useUTC!=null){tempConfig._useUTC=config._useUTC}tempConfig._f=config._f[i];configFromStringAndFormat(tempConfig);if(!valid__isValid(tempConfig)){continue}currentScore+=getParsingFlags(tempConfig).charsLeftOver;currentScore+=getParsingFlags(tempConfig).unusedTokens.length*10;getParsingFlags(tempConfig).score=currentScore;if(scoreToBeat==null||currentScore<scoreToBeat){scoreToBeat=currentScore;bestMoment=tempConfig}}extend(config,bestMoment||tempConfig)}function configFromObject(config){if(config._d){return}var i=normalizeObjectUnits(config._i);config._a=map([i.year,i.month,i.day||i.date,i.hour,i.minute,i.second,i.millisecond],function(obj){return obj&&parseInt(obj,10)});configFromArray(config)}function createFromConfig(config){var res=new Moment(checkOverflow(prepareConfig(config)));if(res._nextDay){res.add(1,"d");res._nextDay=undefined}return res}function prepareConfig(config){var input=config._i,format=config._f;config._locale=config._locale||locale_locales__getLocale(config._l);if(input===null||format===undefined&&input===""){return valid__createInvalid({nullInput:true})}if(typeof input==="string"){config._i=input=config._locale.preparse(input)}if(isMoment(input)){return new Moment(checkOverflow(input))}else if(isArray(format)){configFromStringAndArray(config)}else if(format){configFromStringAndFormat(config)}else if(isDate(input)){config._d=input}else{configFromInput(config)}if(!valid__isValid(config)){config._d=null}return config}function configFromInput(config){var input=config._i;if(input===undefined){config._d=new Date(utils_hooks__hooks.now())}else if(isDate(input)){config._d=new Date(+input)}else if(typeof input==="string"){configFromString(config)}else if(isArray(input)){config._a=map(input.slice(0),function(obj){return parseInt(obj,10)});configFromArray(config)}else if(typeof input==="object"){configFromObject(config)}else if(typeof input==="number"){config._d=new Date(input)}else{utils_hooks__hooks.createFromInputFallback(config)}}function createLocalOrUTC(input,format,locale,strict,isUTC){var c={};if(typeof locale==="boolean"){strict=locale;locale=undefined}c._isAMomentObject=true;c._useUTC=c._isUTC=isUTC;c._l=locale;c._i=input;c._f=format;c._strict=strict;return createFromConfig(c)}function local__createLocal(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,false)}var prototypeMin=deprecate("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var other=local__createLocal.apply(null,arguments);if(this.isValid()&&other.isValid()){return other<this?this:other}else{return valid__createInvalid()}});var prototypeMax=deprecate("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var other=local__createLocal.apply(null,arguments);if(this.isValid()&&other.isValid()){return other>this?this:other}else{return valid__createInvalid()}});function pickBy(fn,moments){var res,i;if(moments.length===1&&isArray(moments[0])){moments=moments[0]}if(!moments.length){return local__createLocal()}res=moments[0];for(i=1;i<moments.length;++i){if(!moments[i].isValid()||moments[i][fn](res)){res=moments[i]}}return res}function min(){var args=[].slice.call(arguments,0);return pickBy("isBefore",args)}function max(){var args=[].slice.call(arguments,0);return pickBy("isAfter",args)}var now=function(){return Date.now?Date.now():+new Date};function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+seconds*1e3+minutes*6e4+hours*36e5;this._days=+days+weeks*7;this._months=+months+quarters*3+years*12;this._data={};this._locale=locale_locales__getLocale();this._bubble()}function isDuration(obj){return obj instanceof Duration}function offset(token,separator){addFormatToken(token,0,0,function(){var offset=this.utcOffset();var sign="+";if(offset<0){offset=-offset;sign="-"}return sign+zeroFill(~~(offset/60),2)+separator+zeroFill(~~offset%60,2)})}offset("Z",":");offset("ZZ","");addRegexToken("Z",matchShortOffset);addRegexToken("ZZ",matchShortOffset);addParseToken(["Z","ZZ"],function(input,array,config){config._useUTC=true;config._tzm=offsetFromString(matchShortOffset,input)});var chunkOffset=/([\+\-]|\d\d)/gi;function offsetFromString(matcher,string){var matches=(string||"").match(matcher)||[];var chunk=matches[matches.length-1]||[];var parts=(chunk+"").match(chunkOffset)||["-",0,0];var minutes=+(parts[1]*60)+toInt(parts[2]);return parts[0]==="+"?minutes:-minutes;
}function cloneWithOffset(input,model){var res,diff;if(model._isUTC){res=model.clone();diff=(isMoment(input)||isDate(input)?+input:+local__createLocal(input))-+res;res._d.setTime(+res._d+diff);utils_hooks__hooks.updateOffset(res,false);return res}else{return local__createLocal(input).local()}}function getDateOffset(m){return-Math.round(m._d.getTimezoneOffset()/15)*15}utils_hooks__hooks.updateOffset=function(){};function getSetOffset(input,keepLocalTime){var offset=this._offset||0,localAdjust;if(!this.isValid()){return input!=null?this:NaN}if(input!=null){if(typeof input==="string"){input=offsetFromString(matchShortOffset,input)}else if(Math.abs(input)<16){input=input*60}if(!this._isUTC&&keepLocalTime){localAdjust=getDateOffset(this)}this._offset=input;this._isUTC=true;if(localAdjust!=null){this.add(localAdjust,"m")}if(offset!==input){if(!keepLocalTime||this._changeInProgress){add_subtract__addSubtract(this,create__createDuration(input-offset,"m"),1,false)}else if(!this._changeInProgress){this._changeInProgress=true;utils_hooks__hooks.updateOffset(this,true);this._changeInProgress=null}}return this}else{return this._isUTC?offset:getDateOffset(this)}}function getSetZone(input,keepLocalTime){if(input!=null){if(typeof input!=="string"){input=-input}this.utcOffset(input,keepLocalTime);return this}else{return-this.utcOffset()}}function setOffsetToUTC(keepLocalTime){return this.utcOffset(0,keepLocalTime)}function setOffsetToLocal(keepLocalTime){if(this._isUTC){this.utcOffset(0,keepLocalTime);this._isUTC=false;if(keepLocalTime){this.subtract(getDateOffset(this),"m")}}return this}function setOffsetToParsedOffset(){if(this._tzm){this.utcOffset(this._tzm)}else if(typeof this._i==="string"){this.utcOffset(offsetFromString(matchOffset,this._i))}return this}function hasAlignedHourOffset(input){if(!this.isValid()){return false}input=input?local__createLocal(input).utcOffset():0;return(this.utcOffset()-input)%60===0}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted)){return this._isDSTShifted}var c={};copyConfig(c,this);c=prepareConfig(c);if(c._a){var other=c._isUTC?create_utc__createUTC(c._a):local__createLocal(c._a);this._isDSTShifted=this.isValid()&&compareArrays(c._a,other.toArray())>0}else{this._isDSTShifted=false}return this._isDSTShifted}function isLocal(){return this.isValid()?!this._isUTC:false}function isUtcOffset(){return this.isValid()?this._isUTC:false}function isUtc(){return this.isValid()?this._isUTC&&this._offset===0:false}var aspNetRegex=/(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/;var isoRegex=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;function create__createDuration(input,key){var duration=input,match=null,sign,ret,diffRes;if(isDuration(input)){duration={ms:input._milliseconds,d:input._days,M:input._months}}else if(typeof input==="number"){duration={};if(key){duration[key]=input}else{duration.milliseconds=input}}else if(!!(match=aspNetRegex.exec(input))){sign=match[1]==="-"?-1:1;duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign}}else if(!!(match=isoRegex.exec(input))){sign=match[1]==="-"?-1:1;duration={y:parseIso(match[2],sign),M:parseIso(match[3],sign),d:parseIso(match[4],sign),h:parseIso(match[5],sign),m:parseIso(match[6],sign),s:parseIso(match[7],sign),w:parseIso(match[8],sign)}}else if(duration==null){duration={}}else if(typeof duration==="object"&&("from"in duration||"to"in duration)){diffRes=momentsDifference(local__createLocal(duration.from),local__createLocal(duration.to));duration={};duration.ms=diffRes.milliseconds;duration.M=diffRes.months}ret=new Duration(duration);if(isDuration(input)&&hasOwnProp(input,"_locale")){ret._locale=input._locale}return ret}create__createDuration.fn=Duration.prototype;function parseIso(inp,sign){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign}function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};res.months=other.month()-base.month()+(other.year()-base.year())*12;if(base.clone().add(res.months,"M").isAfter(other)){--res.months}res.milliseconds=+other-+base.clone().add(res.months,"M");return res}function momentsDifference(base,other){var res;if(!(base.isValid()&&other.isValid())){return{milliseconds:0,months:0}}other=cloneWithOffset(other,base);if(base.isBefore(other)){res=positiveMomentsDifference(base,other)}else{res=positiveMomentsDifference(other,base);res.milliseconds=-res.milliseconds;res.months=-res.months}return res}function createAdder(direction,name){return function(val,period){var dur,tmp;if(period!==null&&!isNaN(+period)){deprecateSimple(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period).");tmp=val;val=period;period=tmp}val=typeof val==="string"?+val:val;dur=create__createDuration(val,period);add_subtract__addSubtract(this,dur,direction);return this}}function add_subtract__addSubtract(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=duration._days,months=duration._months;if(!mom.isValid()){return}updateOffset=updateOffset==null?true:updateOffset;if(milliseconds){mom._d.setTime(+mom._d+milliseconds*isAdding)}if(days){get_set__set(mom,"Date",get_set__get(mom,"Date")+days*isAdding)}if(months){setMonth(mom,get_set__get(mom,"Month")+months*isAdding)}if(updateOffset){utils_hooks__hooks.updateOffset(mom,days||months)}}var add_subtract__add=createAdder(1,"add");var add_subtract__subtract=createAdder(-1,"subtract");function moment_calendar__calendar(time,formats){var now=time||local__createLocal(),sod=cloneWithOffset(now,this).startOf("day"),diff=this.diff(sod,"days",true),format=diff<-6?"sameElse":diff<-1?"lastWeek":diff<0?"lastDay":diff<1?"sameDay":diff<2?"nextDay":diff<7?"nextWeek":"sameElse";var output=formats&&(isFunction(formats[format])?formats[format]():formats[format]);return this.format(output||this.localeData().calendar(format,this,local__createLocal(now)))}function clone(){return new Moment(this)}function isAfter(input,units){var localInput=isMoment(input)?input:local__createLocal(input);if(!(this.isValid()&&localInput.isValid())){return false}units=normalizeUnits(!isUndefined(units)?units:"millisecond");if(units==="millisecond"){return+this>+localInput}else{return+localInput<+this.clone().startOf(units)}}function isBefore(input,units){var localInput=isMoment(input)?input:local__createLocal(input);if(!(this.isValid()&&localInput.isValid())){return false}units=normalizeUnits(!isUndefined(units)?units:"millisecond");if(units==="millisecond"){return+this<+localInput}else{return+this.clone().endOf(units)<+localInput}}function isBetween(from,to,units){return this.isAfter(from,units)&&this.isBefore(to,units)}function isSame(input,units){var localInput=isMoment(input)?input:local__createLocal(input),inputMs;if(!(this.isValid()&&localInput.isValid())){return false}units=normalizeUnits(units||"millisecond");if(units==="millisecond"){return+this===+localInput}else{inputMs=+localInput;return+this.clone().startOf(units)<=inputMs&&inputMs<=+this.clone().endOf(units)}}function isSameOrAfter(input,units){return this.isSame(input,units)||this.isAfter(input,units)}function isSameOrBefore(input,units){return this.isSame(input,units)||this.isBefore(input,units)}function diff(input,units,asFloat){var that,zoneDelta,delta,output;if(!this.isValid()){return NaN}that=cloneWithOffset(input,this);if(!that.isValid()){return NaN}zoneDelta=(that.utcOffset()-this.utcOffset())*6e4;units=normalizeUnits(units);if(units==="year"||units==="month"||units==="quarter"){output=monthDiff(this,that);if(units==="quarter"){output=output/3}else if(units==="year"){output=output/12}}else{delta=this-that;output=units==="second"?delta/1e3:units==="minute"?delta/6e4:units==="hour"?delta/36e5:units==="day"?(delta-zoneDelta)/864e5:units==="week"?(delta-zoneDelta)/6048e5:delta}return asFloat?output:absFloor(output)}function monthDiff(a,b){var wholeMonthDiff=(b.year()-a.year())*12+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,"months"),anchor2,adjust;if(b-anchor<0){anchor2=a.clone().add(wholeMonthDiff-1,"months");adjust=(b-anchor)/(anchor-anchor2)}else{anchor2=a.clone().add(wholeMonthDiff+1,"months");adjust=(b-anchor)/(anchor2-anchor)}return-(wholeMonthDiff+adjust)}utils_hooks__hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";function toString(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function moment_format__toISOString(){var m=this.clone().utc();if(0<m.year()&&m.year()<=9999){if(isFunction(Date.prototype.toISOString)){return this.toDate().toISOString()}else{return formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}}else{return formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}}function format(inputString){var output=formatMoment(this,inputString||utils_hooks__hooks.defaultFormat);return this.localeData().postformat(output)}function from(time,withoutSuffix){if(this.isValid()&&(isMoment(time)&&time.isValid()||local__createLocal(time).isValid())){return create__createDuration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix)}else{return this.localeData().invalidDate()}}function fromNow(withoutSuffix){return this.from(local__createLocal(),withoutSuffix)}function to(time,withoutSuffix){if(this.isValid()&&(isMoment(time)&&time.isValid()||local__createLocal(time).isValid())){return create__createDuration({from:this,to:time}).locale(this.locale()).humanize(!withoutSuffix)}else{return this.localeData().invalidDate()}}function toNow(withoutSuffix){return this.to(local__createLocal(),withoutSuffix)}function locale(key){var newLocaleData;if(key===undefined){return this._locale._abbr}else{newLocaleData=locale_locales__getLocale(key);if(newLocaleData!=null){this._locale=newLocaleData}return this}}var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(key){if(key===undefined){return this.localeData()}else{return this.locale(key)}});function localeData(){return this._locale}function startOf(units){units=normalizeUnits(units);switch(units){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(units==="week"){this.weekday(0)}if(units==="isoWeek"){this.isoWeekday(1)}if(units==="quarter"){this.month(Math.floor(this.month()/3)*3)}return this}function endOf(units){units=normalizeUnits(units);if(units===undefined||units==="millisecond"){return this}return this.startOf(units).add(1,units==="isoWeek"?"week":units).subtract(1,"ms")}function to_type__valueOf(){return+this._d-(this._offset||0)*6e4}function unix(){return Math.floor(+this/1e3)}function toDate(){return this._offset?new Date(+this):this._d}function toArray(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()]}function toObject(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():"null"}function moment_valid__isValid(){return valid__isValid(this)}function parsingFlags(){return extend({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100});addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100});function addWeekYearFormatToken(token,getter){addFormatToken(0,[token,token.length],0,getter)}addWeekYearFormatToken("gggg","weekYear");addWeekYearFormatToken("ggggg","weekYear");addWeekYearFormatToken("GGGG","isoWeekYear");addWeekYearFormatToken("GGGGG","isoWeekYear");addUnitAlias("weekYear","gg");addUnitAlias("isoWeekYear","GG");addRegexToken("G",matchSigned);addRegexToken("g",matchSigned);addRegexToken("GG",match1to2,match2);addRegexToken("gg",match1to2,match2);addRegexToken("GGGG",match1to4,match4);addRegexToken("gggg",match1to4,match4);addRegexToken("GGGGG",match1to6,match6);addRegexToken("ggggg",match1to6,match6);addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(input,week,config,token){week[token.substr(0,2)]=toInt(input)});addWeekParseToken(["gg","GG"],function(input,week,config,token){week[token]=utils_hooks__hooks.parseTwoDigitYear(input)});function getSetWeekYear(input){return getSetWeekYearHelper.call(this,input,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(input){return getSetWeekYearHelper.call(this,input,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getWeeksInYear(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)}function getSetWeekYearHelper(input,week,weekday,dow,doy){var weeksTarget;if(input==null){return weekOfYear(this,dow,doy).year}else{weeksTarget=weeksInYear(input,dow,doy);if(week>weeksTarget){week=weeksTarget}return setWeekAll.call(this,input,week,weekday,dow,doy)}}function setWeekAll(weekYear,week,weekday,dow,doy){var dayOfYearData=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),date=createUTCDate(dayOfYearData.year,0,dayOfYearData.dayOfYear);this.year(date.getUTCFullYear());this.month(date.getUTCMonth());this.date(date.getUTCDate());return this}addFormatToken("Q",0,"Qo","quarter");addUnitAlias("quarter","Q");addRegexToken("Q",match1);addParseToken("Q",function(input,array){array[MONTH]=(toInt(input)-1)*3});function getSetQuarter(input){return input==null?Math.ceil((this.month()+1)/3):this.month((input-1)*3+this.month()%3)}addFormatToken("w",["ww",2],"wo","week");addFormatToken("W",["WW",2],"Wo","isoWeek");addUnitAlias("week","w");addUnitAlias("isoWeek","W");addRegexToken("w",match1to2);addRegexToken("ww",match1to2,match2);addRegexToken("W",match1to2);addRegexToken("WW",match1to2,match2);addWeekParseToken(["w","ww","W","WW"],function(input,week,config,token){week[token.substr(0,1)]=toInt(input)});function localeWeek(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week}var defaultLocaleWeek={dow:0,doy:6};function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(input){var week=this.localeData().week(this);return input==null?week:this.add((input-week)*7,"d")}function getSetISOWeek(input){var week=weekOfYear(this,1,4).week;return input==null?week:this.add((input-week)*7,"d")}addFormatToken("D",["DD",2],"Do","date");addUnitAlias("date","D");addRegexToken("D",match1to2);addRegexToken("DD",match1to2,match2);addRegexToken("Do",function(isStrict,locale){return isStrict?locale._ordinalParse:locale._ordinalParseLenient});addParseToken(["D","DD"],DATE);addParseToken("Do",function(input,array){array[DATE]=toInt(input.match(match1to2)[0],10)});var getSetDayOfMonth=makeGetSet("Date",true);addFormatToken("d",0,"do","day");addFormatToken("dd",0,0,function(format){return this.localeData().weekdaysMin(this,format)});addFormatToken("ddd",0,0,function(format){return this.localeData().weekdaysShort(this,format)});addFormatToken("dddd",0,0,function(format){return this.localeData().weekdays(this,format)});addFormatToken("e",0,0,"weekday");addFormatToken("E",0,0,"isoWeekday");addUnitAlias("day","d");addUnitAlias("weekday","e");addUnitAlias("isoWeekday","E");addRegexToken("d",match1to2);addRegexToken("e",match1to2);addRegexToken("E",match1to2);addRegexToken("dd",matchWord);addRegexToken("ddd",matchWord);addRegexToken("dddd",matchWord);addWeekParseToken(["dd","ddd","dddd"],function(input,week,config,token){var weekday=config._locale.weekdaysParse(input,token,config._strict);if(weekday!=null){week.d=weekday}else{getParsingFlags(config).invalidWeekday=input}});addWeekParseToken(["d","e","E"],function(input,week,config,token){week[token]=toInt(input)});function parseWeekday(input,locale){if(typeof input!=="string"){return input}if(!isNaN(input)){return parseInt(input,10)}input=locale.weekdaysParse(input);if(typeof input==="number"){return input}return null}var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function localeWeekdays(m,format){return isArray(this._weekdays)?this._weekdays[m.day()]:this._weekdays[this._weekdays.isFormat.test(format)?"format":"standalone"][m.day()]}var defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function localeWeekdaysShort(m){return this._weekdaysShort[m.day()]}var defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function localeWeekdaysMin(m){return this._weekdaysMin[m.day()]}function localeWeekdaysParse(weekdayName,format,strict){var i,mom,regex;if(!this._weekdaysParse){this._weekdaysParse=[];this._minWeekdaysParse=[];this._shortWeekdaysParse=[];this._fullWeekdaysParse=[]}for(i=0;i<7;i++){mom=local__createLocal([2e3,1]).day(i);if(strict&&!this._fullWeekdaysParse[i]){this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(mom,"").replace(".",".?")+"$","i");this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(mom,"").replace(".",".?")+"$","i");this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(mom,"").replace(".",".?")+"$","i")}if(!this._weekdaysParse[i]){regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,"");this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")}if(strict&&format==="dddd"&&this._fullWeekdaysParse[i].test(weekdayName)){return i}else if(strict&&format==="ddd"&&this._shortWeekdaysParse[i].test(weekdayName)){return i}else if(strict&&format==="dd"&&this._minWeekdaysParse[i].test(weekdayName)){return i}else if(!strict&&this._weekdaysParse[i].test(weekdayName)){return i}}}function getSetDayOfWeek(input){if(!this.isValid()){return input!=null?this:NaN}var day=this._isUTC?this._d.getUTCDay():this._d.getDay();if(input!=null){input=parseWeekday(input,this.localeData());return this.add(input-day,"d")}else{return day}}function getSetLocaleDayOfWeek(input){if(!this.isValid()){return input!=null?this:NaN}var weekday=(this.day()+7-this.localeData()._week.dow)%7;return input==null?weekday:this.add(input-weekday,"d")}function getSetISODayOfWeek(input){if(!this.isValid()){return input!=null?this:NaN}return input==null?this.day()||7:this.day(this.day()%7?input:input-7)}addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear");addUnitAlias("dayOfYear","DDD");addRegexToken("DDD",match1to3);addRegexToken("DDDD",match3);addParseToken(["DDD","DDDD"],function(input,array,config){config._dayOfYear=toInt(input)});function getSetDayOfYear(input){var dayOfYear=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return input==null?dayOfYear:this.add(input-dayOfYear,"d")}function hFormat(){return this.hours()%12||12}addFormatToken("H",["HH",2],0,"hour");addFormatToken("h",["hh",2],0,hFormat);addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)});addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)});addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});function meridiem(token,lowercase){addFormatToken(token,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),lowercase)})}meridiem("a",true);meridiem("A",false);addUnitAlias("hour","h");function matchMeridiem(isStrict,locale){return locale._meridiemParse}addRegexToken("a",matchMeridiem);addRegexToken("A",matchMeridiem);addRegexToken("H",match1to2);addRegexToken("h",match1to2);addRegexToken("HH",match1to2,match2);addRegexToken("hh",match1to2,match2);addRegexToken("hmm",match3to4);addRegexToken("hmmss",match5to6);addRegexToken("Hmm",match3to4);addRegexToken("Hmmss",match5to6);addParseToken(["H","HH"],HOUR);addParseToken(["a","A"],function(input,array,config){config._isPm=config._locale.isPM(input);config._meridiem=input});addParseToken(["h","hh"],function(input,array,config){array[HOUR]=toInt(input);getParsingFlags(config).bigHour=true});addParseToken("hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos));array[MINUTE]=toInt(input.substr(pos));getParsingFlags(config).bigHour=true});addParseToken("hmmss",function(input,array,config){var pos1=input.length-4;var pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1));array[MINUTE]=toInt(input.substr(pos1,2));array[SECOND]=toInt(input.substr(pos2));getParsingFlags(config).bigHour=true});addParseToken("Hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos));array[MINUTE]=toInt(input.substr(pos))});addParseToken("Hmmss",function(input,array,config){var pos1=input.length-4;var pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1));array[MINUTE]=toInt(input.substr(pos1,2));array[SECOND]=toInt(input.substr(pos2))});function localeIsPM(input){return(input+"").toLowerCase().charAt(0)==="p"}var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i;function localeMeridiem(hours,minutes,isLower){if(hours>11){return isLower?"pm":"PM"}else{return isLower?"am":"AM"}}var getSetHour=makeGetSet("Hours",true);addFormatToken("m",["mm",2],0,"minute");addUnitAlias("minute","m");addRegexToken("m",match1to2);addRegexToken("mm",match1to2,match2);addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",false);addFormatToken("s",["ss",2],0,"second");addUnitAlias("second","s");addRegexToken("s",match1to2);addRegexToken("ss",match1to2,match2);addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",false);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)});addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)});addFormatToken(0,["SSS",3],0,"millisecond");addFormatToken(0,["SSSS",4],0,function(){return this.millisecond()*10});addFormatToken(0,["SSSSS",5],0,function(){return this.millisecond()*100});addFormatToken(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});addFormatToken(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});addFormatToken(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});addFormatToken(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});addUnitAlias("millisecond","ms");addRegexToken("S",match1to3,match1);addRegexToken("SS",match1to3,match2);addRegexToken("SSS",match1to3,match3);var token;for(token="SSSS";token.length<=9;token+="S"){addRegexToken(token,matchUnsigned)}function parseMs(input,array){array[MILLISECOND]=toInt(("0."+input)*1e3)}for(token="S";token.length<=9;token+="S"){addParseToken(token,parseMs)}var getSetMillisecond=makeGetSet("Milliseconds",false);addFormatToken("z",0,0,"zoneAbbr");addFormatToken("zz",0,0,"zoneName");function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}var momentPrototype__proto=Moment.prototype;momentPrototype__proto.add=add_subtract__add;momentPrototype__proto.calendar=moment_calendar__calendar;momentPrototype__proto.clone=clone;momentPrototype__proto.diff=diff;momentPrototype__proto.endOf=endOf;momentPrototype__proto.format=format;momentPrototype__proto.from=from;momentPrototype__proto.fromNow=fromNow;momentPrototype__proto.to=to;momentPrototype__proto.toNow=toNow;momentPrototype__proto.get=getSet;momentPrototype__proto.invalidAt=invalidAt;momentPrototype__proto.isAfter=isAfter;momentPrototype__proto.isBefore=isBefore;momentPrototype__proto.isBetween=isBetween;momentPrototype__proto.isSame=isSame;momentPrototype__proto.isSameOrAfter=isSameOrAfter;momentPrototype__proto.isSameOrBefore=isSameOrBefore;momentPrototype__proto.isValid=moment_valid__isValid;momentPrototype__proto.lang=lang;momentPrototype__proto.locale=locale;momentPrototype__proto.localeData=localeData;momentPrototype__proto.max=prototypeMax;momentPrototype__proto.min=prototypeMin;momentPrototype__proto.parsingFlags=parsingFlags;momentPrototype__proto.set=getSet;momentPrototype__proto.startOf=startOf;momentPrototype__proto.subtract=add_subtract__subtract;momentPrototype__proto.toArray=toArray;momentPrototype__proto.toObject=toObject;momentPrototype__proto.toDate=toDate;momentPrototype__proto.toISOString=moment_format__toISOString;momentPrototype__proto.toJSON=toJSON;momentPrototype__proto.toString=toString;momentPrototype__proto.unix=unix;momentPrototype__proto.valueOf=to_type__valueOf;momentPrototype__proto.creationData=creationData;momentPrototype__proto.year=getSetYear;momentPrototype__proto.isLeapYear=getIsLeapYear;momentPrototype__proto.weekYear=getSetWeekYear;momentPrototype__proto.isoWeekYear=getSetISOWeekYear;momentPrototype__proto.quarter=momentPrototype__proto.quarters=getSetQuarter;momentPrototype__proto.month=getSetMonth;momentPrototype__proto.daysInMonth=getDaysInMonth;momentPrototype__proto.week=momentPrototype__proto.weeks=getSetWeek;momentPrototype__proto.isoWeek=momentPrototype__proto.isoWeeks=getSetISOWeek;momentPrototype__proto.weeksInYear=getWeeksInYear;momentPrototype__proto.isoWeeksInYear=getISOWeeksInYear;momentPrototype__proto.date=getSetDayOfMonth;momentPrototype__proto.day=momentPrototype__proto.days=getSetDayOfWeek;momentPrototype__proto.weekday=getSetLocaleDayOfWeek;momentPrototype__proto.isoWeekday=getSetISODayOfWeek;momentPrototype__proto.dayOfYear=getSetDayOfYear;momentPrototype__proto.hour=momentPrototype__proto.hours=getSetHour;momentPrototype__proto.minute=momentPrototype__proto.minutes=getSetMinute;momentPrototype__proto.second=momentPrototype__proto.seconds=getSetSecond;momentPrototype__proto.millisecond=momentPrototype__proto.milliseconds=getSetMillisecond;momentPrototype__proto.utcOffset=getSetOffset;momentPrototype__proto.utc=setOffsetToUTC;momentPrototype__proto.local=setOffsetToLocal;momentPrototype__proto.parseZone=setOffsetToParsedOffset;momentPrototype__proto.hasAlignedHourOffset=hasAlignedHourOffset;momentPrototype__proto.isDST=isDaylightSavingTime;momentPrototype__proto.isDSTShifted=isDaylightSavingTimeShifted;momentPrototype__proto.isLocal=isLocal;momentPrototype__proto.isUtcOffset=isUtcOffset;momentPrototype__proto.isUtc=isUtc;momentPrototype__proto.isUTC=isUtc;momentPrototype__proto.zoneAbbr=getZoneAbbr;momentPrototype__proto.zoneName=getZoneName;momentPrototype__proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth);momentPrototype__proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth);momentPrototype__proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear);momentPrototype__proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",getSetZone);var momentPrototype=momentPrototype__proto;function moment__createUnix(input){return local__createLocal(input*1e3)}function moment__createInZone(){return local__createLocal.apply(null,arguments).parseZone()}var defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function locale_calendar__calendar(key,mom,now){var output=this._calendar[key];return isFunction(output)?output.call(mom,now):output}var defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function longDateFormat(key){var format=this._longDateFormat[key],formatUpper=this._longDateFormat[key.toUpperCase()];if(format||!formatUpper){return format}this._longDateFormat[key]=formatUpper.replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)});return this._longDateFormat[key]}var defaultInvalidDate="Invalid date";function invalidDate(){return this._invalidDate}var defaultOrdinal="%d";var defaultOrdinalParse=/\d{1,2}/;function ordinal(number){return this._ordinal.replace("%d",number)}function preParsePostFormat(string){return string}var defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function relative__relativeTime(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return isFunction(output)?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)}function pastFuture(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return isFunction(format)?format(output):format.replace(/%s/i,output)}function locale_set__set(config){var prop,i;for(i in config){prop=config[i];if(isFunction(prop)){this[i]=prop}else{this["_"+i]=prop}}this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}var prototype__proto=Locale.prototype;prototype__proto._calendar=defaultCalendar;prototype__proto.calendar=locale_calendar__calendar;prototype__proto._longDateFormat=defaultLongDateFormat;prototype__proto.longDateFormat=longDateFormat;prototype__proto._invalidDate=defaultInvalidDate;prototype__proto.invalidDate=invalidDate;prototype__proto._ordinal=defaultOrdinal;prototype__proto.ordinal=ordinal;prototype__proto._ordinalParse=defaultOrdinalParse;prototype__proto.preparse=preParsePostFormat;prototype__proto.postformat=preParsePostFormat;prototype__proto._relativeTime=defaultRelativeTime;prototype__proto.relativeTime=relative__relativeTime;prototype__proto.pastFuture=pastFuture;prototype__proto.set=locale_set__set;prototype__proto.months=localeMonths;prototype__proto._months=defaultLocaleMonths;prototype__proto.monthsShort=localeMonthsShort;prototype__proto._monthsShort=defaultLocaleMonthsShort;prototype__proto.monthsParse=localeMonthsParse;prototype__proto._monthsRegex=defaultMonthsRegex;prototype__proto.monthsRegex=monthsRegex;prototype__proto._monthsShortRegex=defaultMonthsShortRegex;prototype__proto.monthsShortRegex=monthsShortRegex;prototype__proto.week=localeWeek;prototype__proto._week=defaultLocaleWeek;prototype__proto.firstDayOfYear=localeFirstDayOfYear;prototype__proto.firstDayOfWeek=localeFirstDayOfWeek;prototype__proto.weekdays=localeWeekdays;prototype__proto._weekdays=defaultLocaleWeekdays;prototype__proto.weekdaysMin=localeWeekdaysMin;prototype__proto._weekdaysMin=defaultLocaleWeekdaysMin;prototype__proto.weekdaysShort=localeWeekdaysShort;prototype__proto._weekdaysShort=defaultLocaleWeekdaysShort;prototype__proto.weekdaysParse=localeWeekdaysParse;prototype__proto.isPM=localeIsPM;prototype__proto._meridiemParse=defaultLocaleMeridiemParse;prototype__proto.meridiem=localeMeridiem;function lists__get(format,index,field,setter){var locale=locale_locales__getLocale();var utc=create_utc__createUTC().set(setter,index);return locale[field](utc,format)}function list(format,index,field,count,setter){if(typeof format==="number"){index=format;format=undefined}format=format||"";if(index!=null){return lists__get(format,index,field,setter)}var i;var out=[];for(i=0;i<count;i++){out[i]=lists__get(format,i,field,setter)}return out}function lists__listMonths(format,index){return list(format,index,"months",12,"month")}function lists__listMonthsShort(format,index){return list(format,index,"monthsShort",12,"month")}function lists__listWeekdays(format,index){return list(format,index,"weekdays",7,"day")}function lists__listWeekdaysShort(format,index){return list(format,index,"weekdaysShort",7,"day")}function lists__listWeekdaysMin(format,index){return list(format,index,"weekdaysMin",7,"day")}locale_locales__getSetGlobalLocale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){
var b=number%10,output=toInt(number%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th";return number+output}});utils_hooks__hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",locale_locales__getSetGlobalLocale);utils_hooks__hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",locale_locales__getLocale);var mathAbs=Math.abs;function duration_abs__abs(){var data=this._data;this._milliseconds=mathAbs(this._milliseconds);this._days=mathAbs(this._days);this._months=mathAbs(this._months);data.milliseconds=mathAbs(data.milliseconds);data.seconds=mathAbs(data.seconds);data.minutes=mathAbs(data.minutes);data.hours=mathAbs(data.hours);data.months=mathAbs(data.months);data.years=mathAbs(data.years);return this}function duration_add_subtract__addSubtract(duration,input,value,direction){var other=create__createDuration(input,value);duration._milliseconds+=direction*other._milliseconds;duration._days+=direction*other._days;duration._months+=direction*other._months;return duration._bubble()}function duration_add_subtract__add(input,value){return duration_add_subtract__addSubtract(this,input,value,1)}function duration_add_subtract__subtract(input,value){return duration_add_subtract__addSubtract(this,input,value,-1)}function absCeil(number){if(number<0){return Math.floor(number)}else{return Math.ceil(number)}}function bubble(){var milliseconds=this._milliseconds;var days=this._days;var months=this._months;var data=this._data;var seconds,minutes,hours,years,monthsFromDays;if(!(milliseconds>=0&&days>=0&&months>=0||milliseconds<=0&&days<=0&&months<=0)){milliseconds+=absCeil(monthsToDays(months)+days)*864e5;days=0;months=0}data.milliseconds=milliseconds%1e3;seconds=absFloor(milliseconds/1e3);data.seconds=seconds%60;minutes=absFloor(seconds/60);data.minutes=minutes%60;hours=absFloor(minutes/60);data.hours=hours%24;days+=absFloor(hours/24);monthsFromDays=absFloor(daysToMonths(days));months+=monthsFromDays;days-=absCeil(monthsToDays(monthsFromDays));years=absFloor(months/12);months%=12;data.days=days;data.months=months;data.years=years;return this}function daysToMonths(days){return days*4800/146097}function monthsToDays(months){return months*146097/4800}function as(units){var days;var months;var milliseconds=this._milliseconds;units=normalizeUnits(units);if(units==="month"||units==="year"){days=this._days+milliseconds/864e5;months=this._months+daysToMonths(days);return units==="month"?months:months/12}else{days=this._days+Math.round(monthsToDays(this._months));switch(units){case"week":return days/7+milliseconds/6048e5;case"day":return days+milliseconds/864e5;case"hour":return days*24+milliseconds/36e5;case"minute":return days*1440+milliseconds/6e4;case"second":return days*86400+milliseconds/1e3;case"millisecond":return Math.floor(days*864e5)+milliseconds;default:throw new Error("Unknown unit "+units)}}}function duration_as__valueOf(){return this._milliseconds+this._days*864e5+this._months%12*2592e6+toInt(this._months/12)*31536e6}function makeAs(alias){return function(){return this.as(alias)}}var asMilliseconds=makeAs("ms");var asSeconds=makeAs("s");var asMinutes=makeAs("m");var asHours=makeAs("h");var asDays=makeAs("d");var asWeeks=makeAs("w");var asMonths=makeAs("M");var asYears=makeAs("y");function duration_get__get(units){units=normalizeUnits(units);return this[units+"s"]()}function makeGetter(name){return function(){return this._data[name]}}var milliseconds=makeGetter("milliseconds");var seconds=makeGetter("seconds");var minutes=makeGetter("minutes");var hours=makeGetter("hours");var days=makeGetter("days");var months=makeGetter("months");var years=makeGetter("years");function weeks(){return absFloor(this.days()/7)}var round=Math.round;var thresholds={s:45,m:45,h:22,d:26,M:11};function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function duration_humanize__relativeTime(posNegDuration,withoutSuffix,locale){var duration=create__createDuration(posNegDuration).abs();var seconds=round(duration.as("s"));var minutes=round(duration.as("m"));var hours=round(duration.as("h"));var days=round(duration.as("d"));var months=round(duration.as("M"));var years=round(duration.as("y"));var a=seconds<thresholds.s&&["s",seconds]||minutes<=1&&["m"]||minutes<thresholds.m&&["mm",minutes]||hours<=1&&["h"]||hours<thresholds.h&&["hh",hours]||days<=1&&["d"]||days<thresholds.d&&["dd",days]||months<=1&&["M"]||months<thresholds.M&&["MM",months]||years<=1&&["y"]||["yy",years];a[2]=withoutSuffix;a[3]=+posNegDuration>0;a[4]=locale;return substituteTimeAgo.apply(null,a)}function duration_humanize__getSetRelativeTimeThreshold(threshold,limit){if(thresholds[threshold]===undefined){return false}if(limit===undefined){return thresholds[threshold]}thresholds[threshold]=limit;return true}function humanize(withSuffix){var locale=this.localeData();var output=duration_humanize__relativeTime(this,!withSuffix,locale);if(withSuffix){output=locale.pastFuture(+this,output)}return locale.postformat(output)}var iso_string__abs=Math.abs;function iso_string__toISOString(){var seconds=iso_string__abs(this._milliseconds)/1e3;var days=iso_string__abs(this._days);var months=iso_string__abs(this._months);var minutes,hours,years;minutes=absFloor(seconds/60);hours=absFloor(minutes/60);seconds%=60;minutes%=60;years=absFloor(months/12);months%=12;var Y=years;var M=months;var D=days;var h=hours;var m=minutes;var s=seconds;var total=this.asSeconds();if(!total){return"P0D"}return(total<0?"-":"")+"P"+(Y?Y+"Y":"")+(M?M+"M":"")+(D?D+"D":"")+(h||m||s?"T":"")+(h?h+"H":"")+(m?m+"M":"")+(s?s+"S":"")}var duration_prototype__proto=Duration.prototype;duration_prototype__proto.abs=duration_abs__abs;duration_prototype__proto.add=duration_add_subtract__add;duration_prototype__proto.subtract=duration_add_subtract__subtract;duration_prototype__proto.as=as;duration_prototype__proto.asMilliseconds=asMilliseconds;duration_prototype__proto.asSeconds=asSeconds;duration_prototype__proto.asMinutes=asMinutes;duration_prototype__proto.asHours=asHours;duration_prototype__proto.asDays=asDays;duration_prototype__proto.asWeeks=asWeeks;duration_prototype__proto.asMonths=asMonths;duration_prototype__proto.asYears=asYears;duration_prototype__proto.valueOf=duration_as__valueOf;duration_prototype__proto._bubble=bubble;duration_prototype__proto.get=duration_get__get;duration_prototype__proto.milliseconds=milliseconds;duration_prototype__proto.seconds=seconds;duration_prototype__proto.minutes=minutes;duration_prototype__proto.hours=hours;duration_prototype__proto.days=days;duration_prototype__proto.weeks=weeks;duration_prototype__proto.months=months;duration_prototype__proto.years=years;duration_prototype__proto.humanize=humanize;duration_prototype__proto.toISOString=iso_string__toISOString;duration_prototype__proto.toString=iso_string__toISOString;duration_prototype__proto.toJSON=iso_string__toISOString;duration_prototype__proto.locale=locale;duration_prototype__proto.localeData=localeData;duration_prototype__proto.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",iso_string__toISOString);duration_prototype__proto.lang=lang;addFormatToken("X",0,0,"unix");addFormatToken("x",0,0,"valueOf");addRegexToken("x",matchSigned);addRegexToken("X",matchTimestamp);addParseToken("X",function(input,array,config){config._d=new Date(parseFloat(input,10)*1e3)});addParseToken("x",function(input,array,config){config._d=new Date(toInt(input))});utils_hooks__hooks.version="2.11.1";setHookCallback(local__createLocal);utils_hooks__hooks.fn=momentPrototype;utils_hooks__hooks.min=min;utils_hooks__hooks.max=max;utils_hooks__hooks.now=now;utils_hooks__hooks.utc=create_utc__createUTC;utils_hooks__hooks.unix=moment__createUnix;utils_hooks__hooks.months=lists__listMonths;utils_hooks__hooks.isDate=isDate;utils_hooks__hooks.locale=locale_locales__getSetGlobalLocale;utils_hooks__hooks.invalid=valid__createInvalid;utils_hooks__hooks.duration=create__createDuration;utils_hooks__hooks.isMoment=isMoment;utils_hooks__hooks.weekdays=lists__listWeekdays;utils_hooks__hooks.parseZone=moment__createInZone;utils_hooks__hooks.localeData=locale_locales__getLocale;utils_hooks__hooks.isDuration=isDuration;utils_hooks__hooks.monthsShort=lists__listMonthsShort;utils_hooks__hooks.weekdaysMin=lists__listWeekdaysMin;utils_hooks__hooks.defineLocale=defineLocale;utils_hooks__hooks.weekdaysShort=lists__listWeekdaysShort;utils_hooks__hooks.normalizeUnits=normalizeUnits;utils_hooks__hooks.relativeTimeThreshold=duration_humanize__getSetRelativeTimeThreshold;utils_hooks__hooks.prototype=momentPrototype;var _moment=utils_hooks__hooks;return _moment})},{}],"/Users/paulfrazee/patchwork/node_modules/multiblob/node_modules/pull-stream/index.js":[function(require,module,exports){var sources=require("./sources");var sinks=require("./sinks");var throughs=require("./throughs");exports=module.exports=require("./pull");for(var k in sources)exports[k]=sources[k];for(var k in throughs)exports[k]=throughs[k];for(var k in sinks)exports[k]=sinks[k]},{"./pull":"/Users/paulfrazee/patchwork/node_modules/multiblob/node_modules/pull-stream/pull.js","./sinks":"/Users/paulfrazee/patchwork/node_modules/multiblob/node_modules/pull-stream/sinks.js","./sources":"/Users/paulfrazee/patchwork/node_modules/multiblob/node_modules/pull-stream/sources.js","./throughs":"/Users/paulfrazee/patchwork/node_modules/multiblob/node_modules/pull-stream/throughs.js"}],"/Users/paulfrazee/patchwork/node_modules/multiblob/node_modules/pull-stream/pull.js":[function(require,module,exports){function isFunction(fun){return"function"===typeof fun}function isReader(fun){return isFunction(fun)&&fun.length===1}module.exports=function pull(){var args=[].slice.call(arguments);if(isReader(args[0]))return function(read){args.unshift(read);return pull.apply(null,args)};var read=args.shift();if(read&&isFunction(read.source))read=read.source;function next(){var s=args.shift();if(null==s)return next();if(isFunction(s))return s;return function(read){s.sink(read);return s.source}}while(args.length)read=next()(read);return read}},{}],"/Users/paulfrazee/patchwork/node_modules/multiblob/node_modules/pull-stream/sinks.js":[function(require,module,exports){"use strict";function id(item){return item}function prop(key){return"string"==typeof key?function(data){return data[key]}:key&&"object"===typeof key&&"function"===typeof key.exec?function(data){var v=map.exec(data);return v&&v[0]}:key||id}var drain=exports.drain=function(op,done){var read,abort;function sink(_read){read=_read;if(abort)return sink.abort();(function next(){var loop=true,cbed=false;while(loop){cbed=false;read(null,function(end,data){cbed=true;if(end=end||abort){loop=false;if(done)done(end===true?null:end);else if(end&&end!==true)throw end}else if(op&&false===op(data)||abort){loop=false;read(abort||true,done||function(){})}else if(!loop){next()}});if(!cbed){loop=false;return}}})()}sink.abort=function(err){abort=err||true;if(read)return read(abort,function(){})};return sink};var onEnd=exports.onEnd=function(done){return drain(null,done)};var log=exports.log=function(done){return drain(function(data){console.log(data)},done)};var find=exports.find=function(test,cb){var ended=false;if(!cb)cb=test,test=id;else test=prop(test)||id;return drain(function(data){if(test(data)){ended=true;cb(null,data);return false}},function(err){if(ended)return;cb(err===true?null:err,null)})};var reduce=exports.reduce=function(reduce,acc,cb){return drain(function(data){acc=reduce(acc,data)},function(err){cb(err,acc)})};var collect=exports.collect=function(cb){return reduce(function(arr,item){arr.push(item);return arr},[],cb)};var concat=exports.concat=function(cb){return reduce(function(a,b){return a+b},"",cb)}},{}],"/Users/paulfrazee/patchwork/node_modules/multiblob/node_modules/pull-stream/sources.js":[function(require,module,exports){var keys=exports.keys=function(object){return values(Object.keys(object))};function abortCb(cb,abort,onAbort){cb(abort);onAbort&&onAbort(abort===true?null:abort);return}var once=exports.once=function(value,onAbort){return function(abort,cb){if(abort)return abortCb(cb,abort,onAbort);if(value!=null){var _value=value;value=null;cb(null,_value)}else cb(true)}};var values=exports.values=exports.readArray=function(array,onAbort){if(!array)return function(abort,cb){if(abort)return abortCb(cb,abort,onAbort);return cb(true)};if(!Array.isArray(array))array=Object.keys(array).map(function(k){return array[k]});var i=0;return function(abort,cb){if(abort)return abortCb(cb,abort,onAbort);cb(i>=array.length||null,array[i++])}};var count=exports.count=function(max){var i=0;max=max||Infinity;return function(end,cb){if(end)return cb&&cb(end);if(i>max)return cb(true);cb(null,i++)}};var infinite=exports.infinite=function(generate){generate=generate||Math.random;return function(end,cb){if(end)return cb&&cb(end);return cb(null,generate())}};var empty=exports.empty=function(){return function(abort,cb){cb(true)}};var error=exports.error=function(err){return function(abort,cb){cb(err)}}},{}],"/Users/paulfrazee/patchwork/node_modules/multiblob/node_modules/pull-stream/throughs.js":[function(require,module,exports){"use strict";function id(item){return item}function prop(key){return"string"==typeof key?function(data){return data[key]}:"object"===typeof key&&"function"===typeof key.exec?function(data){var v=map.exec(data);return v&&v[0]}:key}function tester(test){return"object"===typeof test&&"function"===typeof test.test?function(data){return test.test(data)}:prop(test)||id}var sources=require("./sources");var sinks=require("./sinks");var map=exports.map=function(map){if(!map)return id;map=prop(map);return function(read){return function(abort,cb){read(abort,function(end,data){try{data=!end?map(data):null}catch(err){return read(err,function(){return cb(err)})}cb(end,data)})}}};var asyncMap=exports.asyncMap=function(map){if(!map)return id;return function(read){return function(end,cb){if(end)return read(end,cb);read(null,function(end,data){if(end)return cb(end,data);map(data,cb)})}}};var filter=exports.filter=function(test){test=tester(test);return function(read){return function next(end,cb){var sync,loop=true;while(loop){loop=false;sync=true;read(end,function(end,data){if(!end&&!test(data))return sync?loop=true:next(end,cb);cb(end,data)});sync=false}}}};var filterNot=exports.filterNot=function(test){test=tester(test);return filter(function(data){return!test(data)})};var through=exports.through=function(op,onEnd){var a=false;function once(abort){if(a||!onEnd)return;a=true;onEnd(abort===true?null:abort)}return function(read){return function(end,cb){if(end)once(end);return read(end,function(end,data){if(!end)op&&op(data);else once(end);cb(end,data)})}}};var take=exports.take=function(test,opts){opts=opts||{};var last=opts.last||false;var ended=false;if("number"===typeof test){last=true;var n=test;test=function(){return--n}}return function(read){function terminate(cb){read(true,function(err){last=false;cb(err||true)})}return function(end,cb){if(ended)last?terminate(cb):cb(ended);else if(ended=end)read(ended,cb);else read(null,function(end,data){if(ended=ended||end){cb(ended)}else if(!test(data)){ended=true;last?cb(null,data):terminate(cb)}else cb(null,data)})}}};var unique=exports.unique=function(field,invert){field=prop(field)||id;var seen={};return filter(function(data){var key=field(data);if(seen[key])return!!invert;else seen[key]=true;return!invert})};var nonUnique=exports.nonUnique=function(field){return unique(field,true)};var flatten=exports.flatten=function(){return function(read){var _read;return function(abort,cb){if(abort){_read?_read(abort,function(err){read(err||abort,cb)}):read(abort,cb)}else if(_read)nextChunk();else nextStream();function nextChunk(){_read(null,function(err,data){if(err===true)nextStream();else if(err){read(true,function(abortErr){cb(err)})}else cb(null,data)})}function nextStream(){_read=null;read(null,function(end,stream){if(end)return cb(end);if(Array.isArray(stream)||stream&&"object"===typeof stream)stream=sources.values(stream);else if("function"!=typeof stream)throw new Error("expected stream of streams");_read=stream;nextChunk()})}}}}},{"./sinks":"/Users/paulfrazee/patchwork/node_modules/multiblob/node_modules/pull-stream/sinks.js","./sources":"/Users/paulfrazee/patchwork/node_modules/multiblob/node_modules/pull-stream/sources.js"}],"/Users/paulfrazee/patchwork/node_modules/multiblob/util.js":[function(require,module,exports){(function(Buffer){var Blake2s=require("blake2s");var createHash=require("crypto").createHash;var hash=require("crypto");var path=require("path");var pull=require("pull-stream");var isBuffer=Buffer.isBuffer;exports.toPath=function(dir,hash){var i=hash.indexOf(".");var alg=hash.substring(i+1);var h=new Buffer(hash.substring(0,i),"base64").toString("hex");return path.join(dir,alg,h.substring(0,2),h.substring(2))};var algs={blake2s:function(){return new Blake2s},sha256:function(){return createHash("sha256")}};exports.createHash=function(alg){alg=alg||"blake2s";var hash=algs[alg]();var hasher=pull.through(function(data){data=isBuffer(data)?data:new Buffer(data);hasher.size+=data.length;hash.update(data)},function(){var digest=hash.digest("base64")+"."+alg;hasher.digest=digest});hasher.size=0;return hasher};function isString(s){return"string"===typeof s}exports.isHash=function(data){return isString(data)&&/^[A-Za-z0-9\/+]{43}=\.(?:blake2s|sha256)$/.test(data)}}).call(this,require("buffer").Buffer)},{blake2s:"/Users/paulfrazee/patchwork/node_modules/blake2s/index.js",buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js",crypto:"/Users/paulfrazee/patchwork/node_modules/crypto-browserify/index.js",path:"/Users/paulfrazee/patchwork/node_modules/path-browserify/index.js","pull-stream":"/Users/paulfrazee/patchwork/node_modules/multiblob/node_modules/pull-stream/index.js"}],"/Users/paulfrazee/patchwork/node_modules/multicb/index.js":[function(require,module,exports){module.exports=function(allopts){var n=0,m=0,_cb,results=[],_err;function o(k,d){return allopts&&allopts[k]!==void 0?allopts[k]:d}return function(cb){if(cb){results.length=m;if(_err){var err=_err;_err=null;return cb(err)}if(n==m){if(o("spread"))return cb.apply(null,[null].concat(results));else return cb(null,results)}_cb=cb;return}var i=m++;return function(err){if(err){if(_err)return;_err=err;n=-1;if(_cb)_cb(err)}else{n++;if(o("pluck"))results[i]=arguments[o("pluck")];else results[i]=Array.prototype.slice.call(arguments);if(n===m&&_cb){if(o("spread"))_cb.apply(null,[null].concat(results));else _cb(null,results)}}}}}},{}],"/Users/paulfrazee/patchwork/node_modules/muxrpc/api.js":[function(require,module,exports){"use strict";var EventEmitter=require("events").EventEmitter;var u=require("./util");function isFunction(f){return"function"===typeof f}function isObject(o){return o&&"object"===typeof o}function noop(err){if(err)throw err}module.exports=function(path,remoteApi,_remoteCall){var emitter=new EventEmitter;function remoteCall(type,name,args){var cb=isFunction(args[args.length-1])?args.pop():noop;var value;try{value=_remoteCall(type,name,args,cb)}catch(err){return u.errorAsStreamOrCb(type,err,cb)}return value}(function recurse(obj,api,path){for(var name in api)(function(name,type){var _path=path?path.concat(name):[name];obj[name]=isObject(type)?recurse({},type,_path):function(){return remoteCall(type,_path,[].slice.call(arguments))}})(name,api[name]);return obj})(emitter,remoteApi,path);emitter._emit=emitter.emit;return emitter}},{"./util":"/Users/paulfrazee/patchwork/node_modules/muxrpc/util.js",events:"/Users/paulfrazee/patchwork/node_modules/events/events.js"}],"/Users/paulfrazee/patchwork/node_modules/muxrpc/index.js":[function(require,module,exports){"use strict";var PSC=require("packet-stream-codec");var u=require("./util");var initStream=require("./stream");var createApi=require("./api");var createLocalCall=require("./local-api");function createMuxrpc(remoteApi,localApi,local,id,perms,codec,legacy){localApi=localApi||{};remoteApi=remoteApi||{};var emitter;if(!codec)codec=PSC;var _cb,ws;var context={_emit:function(event,value){emitter&&emitter._emit(event,value);return context},id:id};var ws=initStream(createLocalCall(local,localApi,perms).bind(context),codec,function(err){if(emitter.closed)return;emitter.closed=true;emitter.emit("closed");if(_cb){var cb=_cb;_cb=null;cb(err)}});emitter=createApi([],remoteApi,function(type,name,args,cb){if(ws.closed)throw new Error("stream is closed");return ws.remoteCall(type,name,args,cb)});if(legacy){Object.__defineGetter__.call(emitter,"id",function(){return context.id});Object.__defineSetter__.call(emitter,"id",function(value){context.id=value});var first=true;emitter.createStream=function(cb){_cb=cb;if(first){first=false;return ws}else throw new Error("one stream per rpc")}}else emitter.stream=ws;emitter.closed=false;emitter.close=function(err,cb){ws.close(err,cb);return this};return emitter}module.exports=function(remoteApi,localApi,codec){if(arguments.length>3)return createMuxrpc.apply(this,arguments);return function(local,perms,id){return createMuxrpc(remoteApi,localApi,local,id,perms,codec,true)}}},{"./api":"/Users/paulfrazee/patchwork/node_modules/muxrpc/api.js","./local-api":"/Users/paulfrazee/patchwork/node_modules/muxrpc/local-api.js","./stream":"/Users/paulfrazee/patchwork/node_modules/muxrpc/stream.js","./util":"/Users/paulfrazee/patchwork/node_modules/muxrpc/util.js","packet-stream-codec":"/Users/paulfrazee/patchwork/node_modules/packet-stream-codec/index.js"}],"/Users/paulfrazee/patchwork/node_modules/muxrpc/local-api.js":[function(require,module,exports){var Permissions=require("./permissions");var u=require("./util");module.exports=function createLocalCall(local,localApi,perms){perms=Permissions(perms);function has(type,name){return type===u.get(localApi,name)}function localCall(type,name,args){if(name==="emit")throw new Error("emit has been removed");if(type==="async")if(has("sync",name)){var cb=args.pop(),value;try{value=u.get(local,name).apply(this,args)}catch(err){return cb(err)}return cb(null,value)}if(!has(type,name))throw new Error("no "+type+":"+name);return u.get(local,name).apply(this,args)}return function(type,name,args){var err=perms.pre(name);if(err)throw err;return localCall.call(this,type,name,args)}}},{"./permissions":"/Users/paulfrazee/patchwork/node_modules/muxrpc/permissions.js","./util":"/Users/paulfrazee/patchwork/node_modules/muxrpc/util.js"}],"/Users/paulfrazee/patchwork/node_modules/muxrpc/node_modules/pull-core/index.js":[function(require,module,exports){exports.id=function(item){return item};exports.prop=function(map){if("string"==typeof map){var key=map;return function(data){return data[key]}}return map};exports.tester=function(test){if(!test)return exports.id;if("object"===typeof test&&"function"===typeof test.test)return test.test.bind(test);return exports.prop(test)||exports.id};exports.addPipe=addPipe;function addPipe(read){if("function"!==typeof read)return read;read.pipe=read.pipe||function(reader){if("function"!=typeof reader&&"function"!=typeof reader.sink)throw new Error("must pipe to reader");var pipe=addPipe(reader.sink?reader.sink(read):reader(read));return reader.source||pipe};read.type="Source";return read}var Source=exports.Source=function Source(createRead){function s(){var args=[].slice.call(arguments);return addPipe(createRead.apply(null,args))}s.type="Source";return s};var Through=exports.Through=function(createRead){return function(){var args=[].slice.call(arguments);var piped=[];function reader(read){args.unshift(read);read=createRead.apply(null,args);while(piped.length)read=piped.shift()(read);return read}reader.pipe=function(read){piped.push(read);if(read.type==="Source")throw new Error("cannot pipe "+reader.type+" to Source");reader.type=read.type==="Sink"?"Sink":"Through";return reader};reader.type="Through";return reader}};var Sink=exports.Sink=function Sink(createReader){return function(){var args=[].slice.call(arguments);if(!createReader)throw new Error("must be createReader function");function s(read){args.unshift(read);return createReader.apply(null,args)}s.type="Sink";return s}};exports.maybeSink=exports.maybeDrain=function(createSink,cb){if(!cb)return Through(function(read){var ended;return function(close,cb){if(close)return read(close,cb);if(ended)return cb(ended);createSink(function(err,data){ended=err||true;if(!err)cb(null,data);else cb(ended)})(read)}})();return Sink(function(read){return createSink(cb)(read)})()}},{}],"/Users/paulfrazee/patchwork/node_modules/muxrpc/node_modules/pull-stream/index.js":[function(require,module,exports){var sources=require("./sources");var sinks=require("./sinks");var throughs=require("./throughs");var u=require("pull-core");function isFunction(fun){return"function"===typeof fun}function isReader(fun){return fun&&(fun.type==="Through"||fun.length===1)}var exports=module.exports=function pull(){var args=[].slice.call(arguments);if(isReader(args[0]))return function(read){args.unshift(read);return pull.apply(null,args)};var read=args.shift();if(isFunction(read.source))read=read.source;function next(){var s=args.shift();if(null==s)return next();if(isFunction(s))return s;return function(read){s.sink(read);return s.source}}while(args.length)read=next()(read);return read};for(var k in sources)exports[k]=u.Source(sources[k]);for(var k in throughs)exports[k]=u.Through(throughs[k]);for(var k in sinks)exports[k]=u.Sink(sinks[k]);var maybe=require("./maybe")(exports);for(var k in maybe)exports[k]=maybe[k];exports.Duplex=exports.Through=exports.pipeable=u.Through;exports.Source=exports.pipeableSource=u.Source;exports.Sink=exports.pipeableSink=u.Sink},{"./maybe":"/Users/paulfrazee/patchwork/node_modules/muxrpc/node_modules/pull-stream/maybe.js","./sinks":"/Users/paulfrazee/patchwork/node_modules/muxrpc/node_modules/pull-stream/sinks.js","./sources":"/Users/paulfrazee/patchwork/node_modules/muxrpc/node_modules/pull-stream/sources.js","./throughs":"/Users/paulfrazee/patchwork/node_modules/muxrpc/node_modules/pull-stream/throughs.js","pull-core":"/Users/paulfrazee/patchwork/node_modules/muxrpc/node_modules/pull-core/index.js"}],"/Users/paulfrazee/patchwork/node_modules/muxrpc/node_modules/pull-stream/maybe.js":[function(require,module,exports){var u=require("pull-core");var prop=u.prop;var id=u.id;var maybeSink=u.maybeSink;module.exports=function(pull){var exports={};var drain=pull.drain;var find=exports.find=function(test,cb){return maybeSink(function(cb){var ended=false;if(!cb)cb=test,test=id;else test=prop(test)||id;return drain(function(data){if(test(data)){ended=true;cb(null,data);return false}},function(err){if(ended)return;cb(err===true?null:err,null)})},cb)};var reduce=exports.reduce=function(reduce,acc,cb){return maybeSink(function(cb){return drain(function(data){acc=reduce(acc,data)},function(err){cb(err,acc)})},cb)};var collect=exports.collect=exports.writeArray=function(cb){return reduce(function(arr,item){arr.push(item);return arr},[],cb)};var concat=exports.concat=function(cb){return reduce(function(a,b){return a+b},"",cb)};return exports}},{"pull-core":"/Users/paulfrazee/patchwork/node_modules/muxrpc/node_modules/pull-core/index.js"}],"/Users/paulfrazee/patchwork/node_modules/muxrpc/node_modules/pull-stream/sinks.js":[function(require,module,exports){var drain=exports.drain=function(read,op,done){(function next(){var loop=true,cbed=false;while(loop){cbed=false;read(null,function(end,data){cbed=true;if(end){loop=false;if(done)done(end===true?null:end);else if(end&&end!==true)throw end}else if(op&&false===op(data)){loop=false;read(true,done||function(){})}else if(!loop){next()}});if(!cbed){loop=false;return}}})()};var onEnd=exports.onEnd=function(read,done){return drain(read,null,done)};var log=exports.log=function(read,done){return drain(read,function(data){console.log(data)},done)}},{}],"/Users/paulfrazee/patchwork/node_modules/muxrpc/node_modules/pull-stream/sources.js":[function(require,module,exports){var keys=exports.keys=function(object){return values(Object.keys(object))};function abortCb(cb,abort,onAbort){cb(abort);onAbort&&onAbort(abort===true?null:abort);return}var once=exports.once=function(value,onAbort){return function(abort,cb){if(abort)return abortCb(cb,abort,onAbort);if(value!=null){var _value=value;value=null;cb(null,_value)}else cb(true)}};var values=exports.values=exports.readArray=function(array,onAbort){if(!array)return function(abort,cb){if(abort)return abortCb(cb,abort,onAbort);return cb(true)};if(!Array.isArray(array))array=Object.keys(array).map(function(k){return array[k]});var i=0;return function(abort,cb){if(abort)return abortCb(cb,abort,onAbort);cb(i>=array.length||null,array[i++])}};var count=exports.count=function(max){var i=0;max=max||Infinity;return function(end,cb){if(end)return cb&&cb(end);if(i>max)return cb(true);cb(null,i++)}};var infinite=exports.infinite=function(generate){generate=generate||Math.random;return function(end,cb){if(end)return cb&&cb(end);return cb(null,generate())}};var defer=exports.defer=function(){var _read,cbs=[],_end;var read=function(end,cb){if(!_read){_end=end;cbs.push(cb)}else _read(end,cb)};read.resolve=function(read){if(_read)throw new Error("already resolved");_read=read;if(!_read)throw new Error("no read cannot resolve!"+_read);while(cbs.length)_read(_end,cbs.shift())};read.abort=function(err){read.resolve(function(_,cb){cb(err||true)})};return read};var empty=exports.empty=function(){return function(abort,cb){cb(true)}};var error=exports.error=function(err){return function(abort,cb){cb(err)}};var depthFirst=exports.depthFirst=function(start,createStream){var reads=[];reads.unshift(once(start));return function next(end,cb){if(!reads.length)return cb(true);reads[0](end,function(end,data){if(end){reads.shift();return next(null,cb)}reads.unshift(createStream(data));cb(end,data)})}};var widthFirst=exports.widthFirst=function(start,createStream){var reads=[];reads.push(once(start));return function next(end,cb){if(!reads.length)return cb(true);reads[0](end,function(end,data){if(end){reads.shift();return next(null,cb)}reads.push(createStream(data));cb(end,data)})}};var leafFirst=exports.leafFirst=function(start,createStream){var reads=[];var output=[];reads.push(once(start));return function next(end,cb){reads[0](end,function(end,data){if(end){reads.shift();if(!output.length)return cb(true);return cb(null,output.shift())}reads.unshift(createStream(data));output.unshift(data);next(null,cb)})}}},{}],"/Users/paulfrazee/patchwork/node_modules/muxrpc/node_modules/pull-stream/throughs.js":[function(require,module,exports){(function(process){var u=require("pull-core");var sources=require("./sources");var sinks=require("./sinks");var prop=u.prop;var id=u.id;var tester=u.tester;var map=exports.map=function(read,map){map=prop(map)||id;return function(abort,cb){read(abort,function(end,data){try{data=!end?map(data):null}catch(err){return read(err,function(){return cb(err)})}cb(end,data)})}};var asyncMap=exports.asyncMap=function(read,map){if(!map)return read;return function(end,cb){if(end)return read(end,cb);read(null,function(end,data){if(end)return cb(end,data);map(data,cb)})}};var paraMap=exports.paraMap=function(read,map,width){if(!map)return read;var ended=false,queue=[],_cb;function drain(){if(!_cb)return;var cb=_cb;_cb=null;if(queue.length)return cb(null,queue.shift());else if(ended&&!n)return cb(ended);_cb=cb}function pull(){read(null,function(end,data){if(end){ended=end;return drain()}n++;map(data,function(err,data){n--;queue.push(data);drain()});if(n<width&&!ended)pull()})}var n=0;return function(end,cb){if(end)return read(end,cb);_cb=cb;if(queue.length||ended)pull(),drain();else pull()};return highWaterMark(asyncMap(read,map),width)};var filter=exports.filter=function(read,test){test=tester(test);return function next(end,cb){var sync,loop=true;while(loop){
loop=false;sync=true;read(end,function(end,data){if(!end&&!test(data))return sync?loop=true:next(end,cb);cb(end,data)});sync=false}}};var filterNot=exports.filterNot=function(read,test){test=tester(test);return filter(read,function(e){return!test(e)})};var through=exports.through=function(read,op,onEnd){var a=false;function once(abort){if(a||!onEnd)return;a=true;onEnd(abort===true?null:abort)}return function(end,cb){if(end)once(end);return read(end,function(end,data){if(!end)op&&op(data);else once(end);cb(end,data)})}};var take=exports.take=function(read,test){var ended=false;if("number"===typeof test){var n=test;test=function(){return n--}}return function(end,cb){if(ended)return cb(ended);if(ended=end)return read(ended,cb);read(null,function(end,data){if(ended=ended||end)return cb(ended);if(!test(data)){ended=true;read(true,function(end,data){cb(ended,data)})}else cb(null,data)})}};var unique=exports.unique=function(read,field,invert){field=prop(field)||id;var seen={};return filter(read,function(data){var key=field(data);if(seen[key])return!!invert;else seen[key]=true;return!invert})};var nonUnique=exports.nonUnique=function(read,field){return unique(read,field,true)};var group=exports.group=function(read,size){var ended;size=size||5;var queue=[];return function(end,cb){if(end)return read(ended=end,cb);if(ended)return cb(ended);read(null,function next(end,data){if(ended=ended||end){if(!queue.length)return cb(ended);var _queue=queue;queue=[];return cb(null,_queue)}queue.push(data);if(queue.length<size)return read(null,next);var _queue=queue;queue=[];cb(null,_queue)})}};var flatten=exports.flatten=function(read){var _read;return function(abort,cb){if(_read)nextChunk();else nextStream();function nextChunk(){_read(null,function(end,data){if(end)nextStream();else cb(null,data)})}function nextStream(){read(null,function(end,stream){if(end)return cb(end);if(Array.isArray(stream)||stream&&"object"===typeof stream)stream=sources.values(stream);else if("function"!=typeof stream)throw new Error("expected stream of streams");_read=stream;nextChunk()})}}};var prepend=exports.prepend=function(read,head){return function(abort,cb){if(head!==null){if(abort)return read(abort,cb);var _head=head;head=null;cb(null,_head)}else{read(abort,cb)}}};var _reduce=exports._reduce=function(read,reduce,initial){return function(close,cb){if(close)return read(close,cb);if(ended)return cb(ended);sinks.drain(function(item){initial=reduce(initial,item)},function(err,data){ended=err||true;if(!err)cb(null,initial);else cb(ended)})(read)}};var nextTick=process.nextTick;var highWaterMark=exports.highWaterMark=function(read,highWaterMark){var buffer=[],waiting=[],ended,ending,reading=false;highWaterMark=highWaterMark||10;function readAhead(){while(waiting.length&&(buffer.length||ended))waiting.shift()(ended,ended?null:buffer.shift());if(!buffer.length&&ending)ended=ending}function next(){if(ended||ending||reading||buffer.length>=highWaterMark)return;reading=true;return read(ended||ending,function(end,data){reading=false;ending=ending||end;if(data!=null)buffer.push(data);next();readAhead()})}process.nextTick(next);return function(end,cb){ended=ended||end;waiting.push(cb);next();readAhead()}};var flatMap=exports.flatMap=function(read,mapper){mapper=mapper||id;var queue=[],ended;return function(abort,cb){if(queue.length)return cb(null,queue.shift());else if(ended)return cb(ended);read(abort,function next(end,data){if(end)ended=end;else{var add=mapper(data);while(add&&add.length)queue.push(add.shift())}if(queue.length)cb(null,queue.shift());else if(ended)cb(ended);else read(null,next)})}}}).call(this,require("_process"))},{"./sinks":"/Users/paulfrazee/patchwork/node_modules/muxrpc/node_modules/pull-stream/sinks.js","./sources":"/Users/paulfrazee/patchwork/node_modules/muxrpc/node_modules/pull-stream/sources.js",_process:"/Users/paulfrazee/patchwork/node_modules/process/browser.js","pull-core":"/Users/paulfrazee/patchwork/node_modules/muxrpc/node_modules/pull-core/index.js"}],"/Users/paulfrazee/patchwork/node_modules/muxrpc/permissions.js":[function(require,module,exports){"use strict";var u=require("./util");var isArray=Array.isArray;function isFunction(f){return"function"===typeof f}function join(str){return Array.isArray(str)?str.join("."):str}function toArray(str){return isArray(str)?str:str.split(".")}function isPerms(p){return p&&isFunction(p.pre)&&isFunction(p.test)&&isFunction(p.post)}module.exports=function(opts){if(isPerms(opts))return opts;var allow=null;var deny={};function perms(opts){if(opts.allow){allow={};opts.allow.forEach(function(path){u.set(allow,toArray(path),true)})}else allow=null;if(opts.deny)opts.deny.forEach(function(path){u.set(deny,toArray(path),true)});else deny={};return this}if(opts)perms(opts);perms.pre=function(name,args){name=isArray(name)?name:[name];if(allow&&!u.prefix(allow,name))return new Error("method:"+name+" is not on whitelist");if(deny&&u.prefix(deny,name))return new Error("method:"+name+" is on blacklist")};perms.post=function(err,value){};perms.test=function(name,args){return perms.pre(name,args)};perms.get=function(){return{allow:allow,deny:deny}};return perms}},{"./util":"/Users/paulfrazee/patchwork/node_modules/muxrpc/util.js"}],"/Users/paulfrazee/patchwork/node_modules/muxrpc/pull-weird.js":[function(require,module,exports){"use strict";var pull=require("pull-stream");function once(fn){var done=false;return function(err,val){if(done)return;done=true;fn(err,val)}}module.exports=function(weird,_done){var buffer=[],ended=false,waiting,abort;var done=once(function(err,v){_done&&_done(err,v);weird=null;_done=null;waiting=null;if(abort)abort(err||true,function(){})});weird.read=function(data,end){ended=ended||end;if(waiting){var cb=waiting;waiting=null;cb(ended,data)}else if(!ended)buffer.push(data);if(ended)done(ended!==true?ended:null)};return{source:function(abort,cb){if(abort){weird&&weird.write(null,abort);cb(abort);done(abort!==true?abort:null)}else if(buffer.length)cb(null,buffer.shift());else if(ended)cb(ended);else waiting=cb},sink:function(read){if(ended)return read(ended,function(){}),abort=null;abort=read;pull.drain(function(data){if(ended)return false;weird.write(data)},function(err){if(weird&&!weird.writeEnd)weird.write(null,err||true);done&&done(err)})(read)}}};function uniplex(s,done){return module.exports(s,function(err){if(!s.writeEnd)s.write(null,err||true);if(done)done(err)})}module.exports.source=function(s){return uniplex(s).source};module.exports.sink=function(s,done){return uniplex(s,done).sink};module.exports.duplex=module.exports},{"pull-stream":"/Users/paulfrazee/patchwork/node_modules/muxrpc/node_modules/pull-stream/index.js"}],"/Users/paulfrazee/patchwork/node_modules/muxrpc/stream.js":[function(require,module,exports){"use strict";var PacketStream=require("packet-stream");var pull=require("pull-stream");var pullWeird=require("./pull-weird");var goodbye=require("pull-goodbye");var u=require("./util");function isFunction(f){return"function"===typeof f}function isString(s){return"string"===typeof s}function isObject(o){return o&&"object"===typeof o}function isSource(t){return"source"===t}function isSink(t){return"sink"===t}function isDuplex(t){return"duplex"===t}function isSync(t){return"sync"===t}function isAsync(t){return"async"===t}function isRequest(t){return isSync(t)||isAsync(t)}function isStream(t){return isSource(t)||isSink(t)||isDuplex(t)}module.exports=function initStream(localCall,codec,onClose){var ps=PacketStream({message:function(msg){if(isString(msg))return;if(msg.length>0&&isString(msg[0]))localCall("msg","emit",msg)},request:function(opts,cb){var name=opts.name,args=opts.args;var inCB=false,called=false,async=false,value;args.push(function(err,value){called=true;inCB=true;cb(err,value)});try{value=localCall("async",name,args)}catch(err){if(inCB||called)throw err;return cb(err)}},stream:function(stream){stream.read=function(data,end){var name=data.name;var type=data.type;var err,value;stream.read=null;if(!isStream(type))return stream.write(null,new Error("unsupported stream type:"+type));if(end)return stream.write(null,end);try{value=localCall(type,name,data.args)}catch(_err){err=_err}var _stream=pullWeird[{source:"sink",sink:"source"}[type]||"duplex"](stream);return u.pipeToStream(type,_stream,err?u.errorAsStream(type,err):value);if(isSource(type))_stream(err?pull.error(err):value);else if(isSink(type))(err?abortSink(err):value)(_stream);else if(isDuplex(type))pull(_stream,err?abortDuplex(err):value,_stream)}},close:function(err){ps=null;ws.ended=true;if(ws.closed)return;ws.closed=true;if(onClose){var close=onClose;onClose=null;close(err)}}});var ws=goodbye(pullWeird(ps,function(_){}));ws=codec?codec(ws):ws;ws.remoteCall=function(type,name,args,cb){if(name==="emit")return ps.message(args);if(!(isRequest(type)||isStream(type)))throw new Error("unsupported type:"+JSON.stringify(type));if(isRequest(type))return ps.request({name:name,args:args},cb);var ws=ps.stream(),s=pullWeird[type](ws,cb);ws.write({name:name,args:args,type:type});return s};ws.isOpen=function(){return!ps.ended};ws.close=function(err,cb){if(isFunction(err))cb=err,err=false;if(!ps)return cb&&cb();if(err)return ps.destroy(err),cb&&cb();ps.close(function(err){if(cb)cb(err);else if(err)throw err});return this};ws.closed=false;return ws}},{"./pull-weird":"/Users/paulfrazee/patchwork/node_modules/muxrpc/pull-weird.js","./util":"/Users/paulfrazee/patchwork/node_modules/muxrpc/util.js","packet-stream":"/Users/paulfrazee/patchwork/node_modules/packet-stream/index.js","pull-goodbye":"/Users/paulfrazee/patchwork/node_modules/pull-goodbye/index.js","pull-stream":"/Users/paulfrazee/patchwork/node_modules/muxrpc/node_modules/pull-stream/index.js"}],"/Users/paulfrazee/patchwork/node_modules/muxrpc/util.js":[function(require,module,exports){"use strict";var pull=require("pull-stream");function isString(s){return"string"===typeof s}var isArray=Array.isArray;function isObject(o){return o&&"object"===typeof o&&!isArray(o)}function isEmpty(obj){for(var k in obj)return false;return true}exports.set=function(obj,path,value){var _obj,_k;for(var i=0;i<path.length;i++){var k=path[i];obj[k]=obj[k]||{};_obj=obj;_k=k;obj=obj[k]}_obj[_k]=value};exports.get=function(obj,path){if(isString(path))return obj[path];var value;for(var i=0;i<path.length;i++){var k=path[i];value=obj=obj[k];if(null==obj)return obj}return value};exports.prefix=function(obj,path){var value,parent=obj;for(var i=0;i<path.length;i++){var k=path[i];value=obj=obj[k];if("object"!==typeof obj){return obj}parent=obj}return"object"!==typeof value?!!value:false};function mkPath(obj,path){for(var i in path){var key=path[i];if(!obj[key])obj[key]={};obj=obj[key]}return obj}function rmPath(obj,path){(function r(obj,i){var key=path[i];if(!obj)return;else if(path.length-1===i)delete obj[key];else if(i<path.length)r(obj[key],i+1);if(isEmpty(obj[key]))delete obj[key]})(obj,0)}function merge(obj,_obj){for(var k in _obj)obj[k]=_obj[k];return obj}var mount=exports.mount=function(obj,path,_obj){if(!Array.isArray(path))throw new Error("path must be array of strings");return merge(mkPath(obj,path),_obj)};var unmount=exports.unmount=function(obj,path){return rmPath(obj,path)};function isSource(t){return"source"===t}function isSink(t){return"sink"===t}function isDuplex(t){return"duplex"===t}function isSync(t){return"sync"===t}function isAsync(t){return"async"===t}function isRequest(t){return isSync(t)||isAsync(t)}function isStream(t){return isSource(t)||isSink(t)||isDuplex(t)}function abortSink(err){return function(read){read(err||true,function(){})}}function abortDuplex(err){return{source:pull.error(err),sink:abortSink(err)}}exports.errorAsStream=function(type,err){return isSource(type)?pull.error(err):isSink(type)?abortSink(err):abortDuplex(err)};exports.errorAsStreamOrCb=function(type,err,cb){console.log("EaS",type,err,err.stack);return isRequest(type)?cb(err):isSource(type)?pull.error(err):isSink(type)?abortSink(err):cb(err),abortDuplex(err)};exports.pipeToStream=function(type,_stream,stream){if(isSource(type))_stream(stream);else if(isSink(type))stream(_stream);else if(isDuplex(type))pull(_stream,stream,_stream)}},{"pull-stream":"/Users/paulfrazee/patchwork/node_modules/muxrpc/node_modules/pull-stream/index.js"}],"/Users/paulfrazee/patchwork/node_modules/ngraph.events/index.js":[function(require,module,exports){module.exports=function(subject){validateSubject(subject);var eventsStorage=createEventsStorage(subject);subject.on=eventsStorage.on;subject.off=eventsStorage.off;subject.fire=eventsStorage.fire;return subject};function createEventsStorage(subject){var registeredEvents=Object.create(null);return{on:function(eventName,callback,ctx){if(typeof callback!=="function"){throw new Error("callback is expected to be a function")}var handlers=registeredEvents[eventName];if(!handlers){handlers=registeredEvents[eventName]=[]}handlers.push({callback:callback,ctx:ctx});return subject},off:function(eventName,callback){var wantToRemoveAll=typeof eventName==="undefined";if(wantToRemoveAll){registeredEvents=Object.create(null);return subject}if(registeredEvents[eventName]){var deleteAllCallbacksForEvent=typeof callback!=="function";if(deleteAllCallbacksForEvent){delete registeredEvents[eventName]}else{var callbacks=registeredEvents[eventName];for(var i=0;i<callbacks.length;++i){if(callbacks[i].callback===callback){callbacks.splice(i,1)}}}}return subject},fire:function(eventName){var callbacks=registeredEvents[eventName];if(!callbacks){return subject}var fireArguments;if(arguments.length>1){fireArguments=Array.prototype.splice.call(arguments,1)}for(var i=0;i<callbacks.length;++i){var callbackInfo=callbacks[i];callbackInfo.callback.apply(callbackInfo.ctx,fireArguments)}return subject}}}function validateSubject(subject){if(!subject){throw new Error("Eventify cannot use falsy object as events subject")}var reservedWords=["on","fire","off"];for(var i=0;i<reservedWords.length;++i){if(subject.hasOwnProperty(reservedWords[i])){throw new Error("Subject cannot be eventified, since it already has property '"+reservedWords[i]+"'")}}}},{}],"/Users/paulfrazee/patchwork/node_modules/ngraph.expose/index.js":[function(require,module,exports){module.exports=exposeProperties;function exposeProperties(settings,target,filter){var needsFilter=Object.prototype.toString.call(filter)==="[object Array]";if(needsFilter){for(var i=0;i<filter.length;++i){augment(settings,target,filter[i])}}else{for(var key in settings){augment(settings,target,key)}}}function augment(source,target,key){if(source.hasOwnProperty(key)){if(typeof target[key]==="function"){return}target[key]=function(value){if(value!==undefined){source[key]=value;return target}return source[key]}}}},{}],"/Users/paulfrazee/patchwork/node_modules/ngraph.forcelayout/index.js":[function(require,module,exports){module.exports=createLayout;module.exports.simulator=require("ngraph.physics.simulator");var eventify=require("ngraph.events");function createLayout(graph,physicsSettings){if(!graph){throw new Error("Graph structure cannot be undefined")}var createSimulator=require("ngraph.physics.simulator");var physicsSimulator=createSimulator(physicsSettings);var nodeBodies=typeof Object.create==="function"?Object.create(null):{};var springs={};var springTransform=physicsSimulator.settings.springTransform||noop;initPhysics();listenToEvents();var api={step:function(){return physicsSimulator.step()},getNodePosition:function(nodeId){return getInitializedBody(nodeId).pos},setNodePosition:function(nodeId){var body=getInitializedBody(nodeId);body.setPosition.apply(body,Array.prototype.slice.call(arguments,1))},getLinkPosition:function(linkId){var spring=springs[linkId];if(spring){return{from:spring.from.pos,to:spring.to.pos}}},getGraphRect:function(){return physicsSimulator.getBBox()},pinNode:function(node,isPinned){var body=getInitializedBody(node.id);body.isPinned=!!isPinned},isNodePinned:function(node){return getInitializedBody(node.id).isPinned},dispose:function(){graph.off("changed",onGraphChanged);physicsSimulator.off("stable",onStableChanged)},getBody:getBody,getSpring:getSpring,simulator:physicsSimulator};eventify(api);return api;function getSpring(fromId,toId){var linkId;if(toId===undefined){if(typeof fromId!=="object"){linkId=fromId}else{linkId=fromId.id}}else{var link=graph.hasLink(fromId,toId);if(!link)return;linkId=link.id}return springs[linkId]}function getBody(nodeId){return nodeBodies[nodeId]}function listenToEvents(){graph.on("changed",onGraphChanged);physicsSimulator.on("stable",onStableChanged)}function onStableChanged(isStable){api.fire("stable",isStable)}function onGraphChanged(changes){for(var i=0;i<changes.length;++i){var change=changes[i];if(change.changeType==="add"){if(change.node){initBody(change.node.id)}if(change.link){initLink(change.link)}}else if(change.changeType==="remove"){if(change.node){releaseNode(change.node)}if(change.link){releaseLink(change.link)}}}}function initPhysics(){graph.forEachNode(function(node){initBody(node.id)});graph.forEachLink(initLink)}function initBody(nodeId){var body=nodeBodies[nodeId];if(!body){var node=graph.getNode(nodeId);if(!node){throw new Error("initBody() was called with unknown node id")}var pos=node.position;if(!pos){var neighbors=getNeighborBodies(node);pos=physicsSimulator.getBestNewBodyPosition(neighbors)}body=physicsSimulator.addBodyAt(pos);nodeBodies[nodeId]=body;updateBodyMass(nodeId);if(isNodeOriginallyPinned(node)){body.isPinned=true}}}function releaseNode(node){var nodeId=node.id;var body=nodeBodies[nodeId];if(body){nodeBodies[nodeId]=null;delete nodeBodies[nodeId];physicsSimulator.removeBody(body)}}function initLink(link){updateBodyMass(link.fromId);updateBodyMass(link.toId);var fromBody=nodeBodies[link.fromId],toBody=nodeBodies[link.toId],spring=physicsSimulator.addSpring(fromBody,toBody,link.length);springTransform(link,spring);springs[link.id]=spring}function releaseLink(link){var spring=springs[link.id];if(spring){var from=graph.getNode(link.fromId),to=graph.getNode(link.toId);if(from)updateBodyMass(from.id);if(to)updateBodyMass(to.id);delete springs[link.id];physicsSimulator.removeSpring(spring)}}function getNeighborBodies(node){var neighbors=[];if(!node.links){return neighbors}var maxNeighbors=Math.min(node.links.length,2);for(var i=0;i<maxNeighbors;++i){var link=node.links[i];var otherBody=link.fromId!==node.id?nodeBodies[link.fromId]:nodeBodies[link.toId];if(otherBody&&otherBody.pos){neighbors.push(otherBody)}}return neighbors}function updateBodyMass(nodeId){var body=nodeBodies[nodeId];body.mass=nodeMass(nodeId)}function isNodeOriginallyPinned(node){return node&&(node.isPinned||node.data&&node.data.isPinned)}function getInitializedBody(nodeId){var body=nodeBodies[nodeId];if(!body){initBody(nodeId);body=nodeBodies[nodeId]}return body}function nodeMass(nodeId){var links=graph.getLinks(nodeId);if(!links)return 1;return 1+links.length/3}}function noop(){}},{"ngraph.events":"/Users/paulfrazee/patchwork/node_modules/ngraph.events/index.js","ngraph.physics.simulator":"/Users/paulfrazee/patchwork/node_modules/ngraph.physics.simulator/index.js"}],"/Users/paulfrazee/patchwork/node_modules/ngraph.graph/index.js":[function(require,module,exports){module.exports=createGraph;var eventify=require("ngraph.events");function createGraph(options){options=options||{};if(options.uniqueLinkId===undefined){options.uniqueLinkId=true}var nodes=typeof Object.create==="function"?Object.create(null):{},links=[],multiEdges={},nodesCount=0,suspendEvents=0,forEachNode=createNodeIterator(),createLink=options.uniqueLinkId?createUniqueLink:createSingleLink,changes=[],recordLinkChange=noop,recordNodeChange=noop,enterModification=noop,exitModification=noop;var graphPart={addNode:addNode,addLink:addLink,removeLink:removeLink,removeNode:removeNode,getNode:getNode,getNodesCount:function(){return nodesCount},getLinksCount:function(){return links.length},getLinks:getLinks,forEachNode:forEachNode,forEachLinkedNode:forEachLinkedNode,forEachLink:forEachLink,beginUpdate:enterModification,endUpdate:exitModification,clear:clear,hasLink:getLink,getLink:getLink};eventify(graphPart);monitorSubscribers();return graphPart;function monitorSubscribers(){var realOn=graphPart.on;graphPart.on=on;function on(){graphPart.beginUpdate=enterModification=enterModificationReal;graphPart.endUpdate=exitModification=exitModificationReal;recordLinkChange=recordLinkChangeReal;recordNodeChange=recordNodeChangeReal;graphPart.on=realOn;return realOn.apply(graphPart,arguments)}}function recordLinkChangeReal(link,changeType){changes.push({link:link,changeType:changeType})}function recordNodeChangeReal(node,changeType){changes.push({node:node,changeType:changeType})}function addNode(nodeId,data){if(nodeId===undefined){throw new Error("Invalid node identifier")}enterModification();var node=getNode(nodeId);if(!node){node=new Node(nodeId);nodesCount++;recordNodeChange(node,"add")}else{recordNodeChange(node,"update")}node.data=data;nodes[nodeId]=node;exitModification();return node}function getNode(nodeId){return nodes[nodeId]}function removeNode(nodeId){var node=getNode(nodeId);if(!node){return false}enterModification();if(node.links){while(node.links.length){var link=node.links[0];removeLink(link)}}delete nodes[nodeId];nodesCount--;recordNodeChange(node,"remove");exitModification();return true}function addLink(fromId,toId,data){enterModification();var fromNode=getNode(fromId)||addNode(fromId);var toNode=getNode(toId)||addNode(toId);var link=createLink(fromId,toId,data);links.push(link);addLinkToNode(fromNode,link);if(fromId!==toId){addLinkToNode(toNode,link)}recordLinkChange(link,"add");exitModification();return link}function createSingleLink(fromId,toId,data){var linkId=makeLinkId(fromId,toId);return new Link(fromId,toId,data,linkId)}function createUniqueLink(fromId,toId,data){var linkId=makeLinkId(fromId,toId);var isMultiEdge=multiEdges.hasOwnProperty(linkId);if(isMultiEdge||getLink(fromId,toId)){if(!isMultiEdge){multiEdges[linkId]=0}var suffix="@"+ ++multiEdges[linkId];linkId=makeLinkId(fromId+suffix,toId+suffix)}return new Link(fromId,toId,data,linkId)}function getLinks(nodeId){var node=getNode(nodeId);return node?node.links:null}function removeLink(link){if(!link){return false}var idx=indexOfElementInArray(link,links);if(idx<0){return false}enterModification();links.splice(idx,1);var fromNode=getNode(link.fromId);var toNode=getNode(link.toId);if(fromNode){idx=indexOfElementInArray(link,fromNode.links);if(idx>=0){fromNode.links.splice(idx,1)}}if(toNode){idx=indexOfElementInArray(link,toNode.links);if(idx>=0){toNode.links.splice(idx,1)}}recordLinkChange(link,"remove");exitModification();return true}function getLink(fromNodeId,toNodeId){var node=getNode(fromNodeId),i;if(!node||!node.links){return null}for(i=0;i<node.links.length;++i){var link=node.links[i];if(link.fromId===fromNodeId&&link.toId===toNodeId){return link}}return null}function clear(){enterModification();forEachNode(function(node){removeNode(node.id)});exitModification()}function forEachLink(callback){var i,length;if(typeof callback==="function"){for(i=0,length=links.length;i<length;++i){callback(links[i])}}}function forEachLinkedNode(nodeId,callback,oriented){var node=getNode(nodeId);if(node&&node.links&&typeof callback==="function"){if(oriented){return forEachOrientedLink(node.links,nodeId,callback)}else{return forEachNonOrientedLink(node.links,nodeId,callback)}}}function forEachNonOrientedLink(links,nodeId,callback){var quitFast;for(var i=0;i<links.length;++i){var link=links[i];var linkedNodeId=link.fromId===nodeId?link.toId:link.fromId;quitFast=callback(nodes[linkedNodeId],link);if(quitFast){return true}}}function forEachOrientedLink(links,nodeId,callback){var quitFast;for(var i=0;i<links.length;++i){var link=links[i];if(link.fromId===nodeId){quitFast=callback(nodes[link.toId],link);if(quitFast){return true}}}}function noop(){}function enterModificationReal(){suspendEvents+=1}function exitModificationReal(){suspendEvents-=1;if(suspendEvents===0&&changes.length>0){graphPart.fire("changed",changes);changes.length=0}}function createNodeIterator(){return Object.keys?objectKeysIterator:forInIterator}function objectKeysIterator(callback){if(typeof callback!=="function"){return}var keys=Object.keys(nodes);for(var i=0;i<keys.length;++i){if(callback(nodes[keys[i]])){return true}}}function forInIterator(callback){if(typeof callback!=="function"){return}var node;for(node in nodes){if(callback(nodes[node])){return true}}}}function indexOfElementInArray(element,array){if(!array)return-1;if(array.indexOf){return array.indexOf(element)}var len=array.length,i;for(i=0;i<len;i+=1){if(array[i]===element){return i}}return-1}function Node(id){this.id=id;this.links=null;this.data=null}function addLinkToNode(node,link){if(node.links){node.links.push(link)}else{node.links=[link]}}function Link(fromId,toId,data,id){this.fromId=fromId;this.toId=toId;this.data=data;this.id=id}function hashCode(str){var hash=0,i,chr,len;if(str.length==0)return hash;for(i=0,len=str.length;i<len;i++){chr=str.charCodeAt(i);hash=(hash<<5)-hash+chr;hash|=0}return hash}function makeLinkId(fromId,toId){return hashCode(fromId.toString()+" "+toId.toString())}},{"ngraph.events":"/Users/paulfrazee/patchwork/node_modules/ngraph.events/index.js"}],"/Users/paulfrazee/patchwork/node_modules/ngraph.merge/index.js":[function(require,module,exports){module.exports=merge;function merge(target,options){var key;if(!target){target={}}if(options){for(key in options){if(options.hasOwnProperty(key)){var targetHasIt=target.hasOwnProperty(key),optionsValueType=typeof options[key],shouldReplace=!targetHasIt||typeof target[key]!==optionsValueType;if(shouldReplace){target[key]=options[key]}else if(optionsValueType==="object"){target[key]=merge(target[key],options[key])}}}}return target}},{}],"/Users/paulfrazee/patchwork/node_modules/ngraph.physics.primitives/index.js":[function(require,module,exports){module.exports={Body:Body,Vector2d:Vector2d,Body3d:Body3d,Vector3d:Vector3d};function Body(x,y){this.pos=new Vector2d(x,y);this.prevPos=new Vector2d(x,y);this.force=new Vector2d;this.velocity=new Vector2d;this.mass=1}Body.prototype.setPosition=function(x,y){this.prevPos.x=this.pos.x=x;this.prevPos.y=this.pos.y=y};function Vector2d(x,y){if(x&&typeof x!=="number"){this.x=typeof x.x==="number"?x.x:0;this.y=typeof x.y==="number"?x.y:0}else{this.x=typeof x==="number"?x:0;this.y=typeof y==="number"?y:0}}Vector2d.prototype.reset=function(){this.x=this.y=0};function Body3d(x,y,z){this.pos=new Vector3d(x,y,z);this.prevPos=new Vector3d(x,y,z);this.force=new Vector3d;this.velocity=new Vector3d;this.mass=1}Body3d.prototype.setPosition=function(x,y,z){this.prevPos.x=this.pos.x=x;this.prevPos.y=this.pos.y=y;this.prevPos.z=this.pos.z=z};function Vector3d(x,y,z){if(x&&typeof x!=="number"){this.x=typeof x.x==="number"?x.x:0;this.y=typeof x.y==="number"?x.y:0;this.z=typeof x.z==="number"?x.z:0}else{this.x=typeof x==="number"?x:0;this.y=typeof y==="number"?y:0;this.z=typeof z==="number"?z:0}}Vector3d.prototype.reset=function(){this.x=this.y=this.z=0}},{}],"/Users/paulfrazee/patchwork/node_modules/ngraph.physics.simulator/index.js":[function(require,module,exports){module.exports=physicsSimulator;function physicsSimulator(settings){var Spring=require("./lib/spring");var expose=require("ngraph.expose");var merge=require("ngraph.merge");var eventify=require("ngraph.events");settings=merge(settings,{springLength:30,springCoeff:8e-4,gravity:-1.2,theta:.8,dragCoeff:.02,timeStep:20,stableThreshold:.009});var createQuadTree=settings.createQuadTree||require("ngraph.quadtreebh");var createBounds=settings.createBounds||require("./lib/bounds");var createDragForce=settings.createDragForce||require("./lib/dragForce");var createSpringForce=settings.createSpringForce||require("./lib/springForce");var integrate=settings.integrator||require("./lib/eulerIntegrator");var createBody=settings.createBody||require("./lib/createBody");var bodies=[],springs=[],quadTree=createQuadTree(settings),bounds=createBounds(bodies,settings),springForce=createSpringForce(settings),dragForce=createDragForce(settings);var totalMovement=0;var lastStable=false;var publicApi={bodies:bodies,springs:springs,settings:settings,step:function(){accumulateForces();totalMovement=integrate(bodies,settings.timeStep);bounds.update();var stableNow=totalMovement<settings.stableThreshold;if(lastStable!==stableNow){publicApi.fire("stable",stableNow)}lastStable=stableNow;return stableNow},addBody:function(body){if(!body){throw new Error("Body is required")}bodies.push(body);return body},addBodyAt:function(pos){if(!pos){throw new Error("Body position is required")}var body=createBody(pos);bodies.push(body);return body},removeBody:function(body){if(!body){return}var idx=bodies.indexOf(body);if(idx<0){return}bodies.splice(idx,1);if(bodies.length===0){bounds.reset()}return true},addSpring:function(body1,body2,springLength,springWeight,springCoefficient){if(!body1||!body2){throw new Error("Cannot add null spring to force simulator")}if(typeof springLength!=="number"){springLength=-1}var spring=new Spring(body1,body2,springLength,springCoefficient>=0?springCoefficient:-1,springWeight);springs.push(spring);return spring},getTotalMovement:function(){return totalMovement},removeSpring:function(spring){if(!spring){return}var idx=springs.indexOf(spring);if(idx>-1){springs.splice(idx,1);return true}},getBestNewBodyPosition:function(neighbors){return bounds.getBestNewPosition(neighbors)},getBBox:function(){return bounds.box},gravity:function(value){if(value!==undefined){settings.gravity=value;quadTree.options({gravity:value});return this}else{return settings.gravity}},theta:function(value){if(value!==undefined){settings.theta=value;quadTree.options({theta:value});return this}else{return settings.theta}}};expose(settings,publicApi);eventify(publicApi);return publicApi;function accumulateForces(){var body,i=bodies.length;if(i){quadTree.insertBodies(bodies);while(i--){body=bodies[i];if(!body.isPinned){body.force.reset();quadTree.updateBodyForce(body);dragForce.update(body)}}}i=springs.length;while(i--){springForce.update(springs[i])}}}},{"./lib/bounds":"/Users/paulfrazee/patchwork/node_modules/ngraph.physics.simulator/lib/bounds.js","./lib/createBody":"/Users/paulfrazee/patchwork/node_modules/ngraph.physics.simulator/lib/createBody.js","./lib/dragForce":"/Users/paulfrazee/patchwork/node_modules/ngraph.physics.simulator/lib/dragForce.js","./lib/eulerIntegrator":"/Users/paulfrazee/patchwork/node_modules/ngraph.physics.simulator/lib/eulerIntegrator.js","./lib/spring":"/Users/paulfrazee/patchwork/node_modules/ngraph.physics.simulator/lib/spring.js","./lib/springForce":"/Users/paulfrazee/patchwork/node_modules/ngraph.physics.simulator/lib/springForce.js","ngraph.events":"/Users/paulfrazee/patchwork/node_modules/ngraph.events/index.js","ngraph.expose":"/Users/paulfrazee/patchwork/node_modules/ngraph.expose/index.js","ngraph.merge":"/Users/paulfrazee/patchwork/node_modules/ngraph.merge/index.js","ngraph.quadtreebh":"/Users/paulfrazee/patchwork/node_modules/ngraph.quadtreebh/index.js"}],"/Users/paulfrazee/patchwork/node_modules/ngraph.physics.simulator/lib/bounds.js":[function(require,module,exports){module.exports=function(bodies,settings){var random=require("ngraph.random").random(42);var boundingBox={x1:0,y1:0,x2:0,y2:0};return{box:boundingBox,update:updateBoundingBox,reset:function(){boundingBox.x1=boundingBox.y1=0;boundingBox.x2=boundingBox.y2=0},getBestNewPosition:function(neighbors){var graphRect=boundingBox;var baseX=0,baseY=0;if(neighbors.length){for(var i=0;i<neighbors.length;++i){baseX+=neighbors[i].pos.x;baseY+=neighbors[i].pos.y}baseX/=neighbors.length;baseY/=neighbors.length}else{baseX=(graphRect.x1+graphRect.x2)/2;baseY=(graphRect.y1+graphRect.y2)/2}var springLength=settings.springLength;return{x:baseX+random.next(springLength)-springLength/2,y:baseY+random.next(springLength)-springLength/2}}};function updateBoundingBox(){var i=bodies.length;
if(i===0){return}var x1=Number.MAX_VALUE,y1=Number.MAX_VALUE,x2=Number.MIN_VALUE,y2=Number.MIN_VALUE;while(i--){var body=bodies[i];if(body.isPinned){body.pos.x=body.prevPos.x;body.pos.y=body.prevPos.y}else{body.prevPos.x=body.pos.x;body.prevPos.y=body.pos.y}if(body.pos.x<x1){x1=body.pos.x}if(body.pos.x>x2){x2=body.pos.x}if(body.pos.y<y1){y1=body.pos.y}if(body.pos.y>y2){y2=body.pos.y}}boundingBox.x1=x1;boundingBox.x2=x2;boundingBox.y1=y1;boundingBox.y2=y2}}},{"ngraph.random":"/Users/paulfrazee/patchwork/node_modules/ngraph.random/index.js"}],"/Users/paulfrazee/patchwork/node_modules/ngraph.physics.simulator/lib/createBody.js":[function(require,module,exports){var physics=require("ngraph.physics.primitives");module.exports=function(pos){return new physics.Body(pos)}},{"ngraph.physics.primitives":"/Users/paulfrazee/patchwork/node_modules/ngraph.physics.primitives/index.js"}],"/Users/paulfrazee/patchwork/node_modules/ngraph.physics.simulator/lib/dragForce.js":[function(require,module,exports){module.exports=function(options){var merge=require("ngraph.merge"),expose=require("ngraph.expose");options=merge(options,{dragCoeff:.02});var api={update:function(body){body.force.x-=options.dragCoeff*body.velocity.x;body.force.y-=options.dragCoeff*body.velocity.y}};expose(options,api,["dragCoeff"]);return api}},{"ngraph.expose":"/Users/paulfrazee/patchwork/node_modules/ngraph.expose/index.js","ngraph.merge":"/Users/paulfrazee/patchwork/node_modules/ngraph.merge/index.js"}],"/Users/paulfrazee/patchwork/node_modules/ngraph.physics.simulator/lib/eulerIntegrator.js":[function(require,module,exports){module.exports=integrate;function integrate(bodies,timeStep){var dx=0,tx=0,dy=0,ty=0,i,max=bodies.length;if(max===0){return 0}for(i=0;i<max;++i){var body=bodies[i],coeff=timeStep/body.mass;body.velocity.x+=coeff*body.force.x;body.velocity.y+=coeff*body.force.y;var vx=body.velocity.x,vy=body.velocity.y,v=Math.sqrt(vx*vx+vy*vy);if(v>1){body.velocity.x=vx/v;body.velocity.y=vy/v}dx=timeStep*body.velocity.x;dy=timeStep*body.velocity.y;body.pos.x+=dx;body.pos.y+=dy;tx+=Math.abs(dx);ty+=Math.abs(dy)}return(tx*tx+ty*ty)/max}},{}],"/Users/paulfrazee/patchwork/node_modules/ngraph.physics.simulator/lib/spring.js":[function(require,module,exports){module.exports=Spring;function Spring(fromBody,toBody,length,coeff,weight){this.from=fromBody;this.to=toBody;this.length=length;this.coeff=coeff;this.weight=typeof weight==="number"?weight:1}},{}],"/Users/paulfrazee/patchwork/node_modules/ngraph.physics.simulator/lib/springForce.js":[function(require,module,exports){module.exports=function(options){var merge=require("ngraph.merge");var random=require("ngraph.random").random(42);var expose=require("ngraph.expose");options=merge(options,{springCoeff:2e-4,springLength:80});var api={update:function(spring){var body1=spring.from,body2=spring.to,length=spring.length<0?options.springLength:spring.length,dx=body2.pos.x-body1.pos.x,dy=body2.pos.y-body1.pos.y,r=Math.sqrt(dx*dx+dy*dy);if(r===0){dx=(random.nextDouble()-.5)/50;dy=(random.nextDouble()-.5)/50;r=Math.sqrt(dx*dx+dy*dy)}var d=r-length;var coeff=(!spring.coeff||spring.coeff<0?options.springCoeff:spring.coeff)*d/r*spring.weight;body1.force.x+=coeff*dx;body1.force.y+=coeff*dy;body2.force.x-=coeff*dx;body2.force.y-=coeff*dy}};expose(options,api,["springCoeff","springLength"]);return api}},{"ngraph.expose":"/Users/paulfrazee/patchwork/node_modules/ngraph.expose/index.js","ngraph.merge":"/Users/paulfrazee/patchwork/node_modules/ngraph.merge/index.js","ngraph.random":"/Users/paulfrazee/patchwork/node_modules/ngraph.random/index.js"}],"/Users/paulfrazee/patchwork/node_modules/ngraph.quadtreebh/index.js":[function(require,module,exports){module.exports=function(options){options=options||{};options.gravity=typeof options.gravity==="number"?options.gravity:-1;options.theta=typeof options.theta==="number"?options.theta:.8;var random=require("ngraph.random").random(1984),Node=require("./node"),InsertStack=require("./insertStack"),isSamePosition=require("./isSamePosition");var gravity=options.gravity,updateQueue=[],insertStack=new InsertStack,theta=options.theta,nodesCache=[],currentInCache=0,newNode=function(){var node=nodesCache[currentInCache];if(node){node.quad0=null;node.quad1=null;node.quad2=null;node.quad3=null;node.body=null;node.mass=node.massX=node.massY=0;node.left=node.right=node.top=node.bottom=0}else{node=new Node;nodesCache[currentInCache]=node}++currentInCache;return node},root=newNode(),insert=function(newBody){insertStack.reset();insertStack.push(root,newBody);while(!insertStack.isEmpty()){var stackItem=insertStack.pop(),node=stackItem.node,body=stackItem.body;if(!node.body){var x=body.pos.x;var y=body.pos.y;node.mass=node.mass+body.mass;node.massX=node.massX+body.mass*x;node.massY=node.massY+body.mass*y;var quadIdx=0,left=node.left,right=(node.right+left)/2,top=node.top,bottom=(node.bottom+top)/2;if(x>right){quadIdx=quadIdx+1;var oldLeft=left;left=right;right=right+(right-oldLeft)}if(y>bottom){quadIdx=quadIdx+2;var oldTop=top;top=bottom;bottom=bottom+(bottom-oldTop)}var child=getChild(node,quadIdx);if(!child){child=newNode();child.left=left;child.top=top;child.right=right;child.bottom=bottom;child.body=body;setChild(node,quadIdx,child)}else{insertStack.push(child,body)}}else{var oldBody=node.body;node.body=null;if(isSamePosition(oldBody.pos,body.pos)){var retriesCount=3;do{var offset=random.nextDouble();var dx=(node.right-node.left)*offset;var dy=(node.bottom-node.top)*offset;oldBody.pos.x=node.left+dx;oldBody.pos.y=node.top+dy;retriesCount-=1}while(retriesCount>0&&isSamePosition(oldBody.pos,body.pos));if(retriesCount===0&&isSamePosition(oldBody.pos,body.pos)){return}}insertStack.push(node,oldBody);insertStack.push(node,body)}}},update=function(sourceBody){var queue=updateQueue,v,dx,dy,r,fx=0,fy=0,queueLength=1,shiftIdx=0,pushIdx=1;queue[0]=root;while(queueLength){var node=queue[shiftIdx],body=node.body;queueLength-=1;shiftIdx+=1;var differentBody=body!==sourceBody;if(body&&differentBody){dx=body.pos.x-sourceBody.pos.x;dy=body.pos.y-sourceBody.pos.y;r=Math.sqrt(dx*dx+dy*dy);if(r===0){dx=(random.nextDouble()-.5)/50;dy=(random.nextDouble()-.5)/50;r=Math.sqrt(dx*dx+dy*dy)}v=gravity*body.mass*sourceBody.mass/(r*r*r);fx+=v*dx;fy+=v*dy}else if(differentBody){dx=node.massX/node.mass-sourceBody.pos.x;dy=node.massY/node.mass-sourceBody.pos.y;r=Math.sqrt(dx*dx+dy*dy);if(r===0){dx=(random.nextDouble()-.5)/50;dy=(random.nextDouble()-.5)/50;r=Math.sqrt(dx*dx+dy*dy)}if((node.right-node.left)/r<theta){v=gravity*node.mass*sourceBody.mass/(r*r*r);fx+=v*dx;fy+=v*dy}else{if(node.quad0){queue[pushIdx]=node.quad0;queueLength+=1;pushIdx+=1}if(node.quad1){queue[pushIdx]=node.quad1;queueLength+=1;pushIdx+=1}if(node.quad2){queue[pushIdx]=node.quad2;queueLength+=1;pushIdx+=1}if(node.quad3){queue[pushIdx]=node.quad3;queueLength+=1;pushIdx+=1}}}}sourceBody.force.x+=fx;sourceBody.force.y+=fy},insertBodies=function(bodies){var x1=Number.MAX_VALUE,y1=Number.MAX_VALUE,x2=Number.MIN_VALUE,y2=Number.MIN_VALUE,i,max=bodies.length;i=max;while(i--){var x=bodies[i].pos.x;var y=bodies[i].pos.y;if(x<x1){x1=x}if(x>x2){x2=x}if(y<y1){y1=y}if(y>y2){y2=y}}var dx=x2-x1,dy=y2-y1;if(dx>dy){y2=y1+dx}else{x2=x1+dy}currentInCache=0;root=newNode();root.left=x1;root.right=x2;root.top=y1;root.bottom=y2;i=max-1;if(i>0){root.body=bodies[i]}while(i--){insert(bodies[i],root)}};return{insertBodies:insertBodies,updateBodyForce:update,options:function(newOptions){if(newOptions){if(typeof newOptions.gravity==="number"){gravity=newOptions.gravity}if(typeof newOptions.theta==="number"){theta=newOptions.theta}return this}return{gravity:gravity,theta:theta}}}};function getChild(node,idx){if(idx===0)return node.quad0;if(idx===1)return node.quad1;if(idx===2)return node.quad2;if(idx===3)return node.quad3;return null}function setChild(node,idx,child){if(idx===0)node.quad0=child;else if(idx===1)node.quad1=child;else if(idx===2)node.quad2=child;else if(idx===3)node.quad3=child}},{"./insertStack":"/Users/paulfrazee/patchwork/node_modules/ngraph.quadtreebh/insertStack.js","./isSamePosition":"/Users/paulfrazee/patchwork/node_modules/ngraph.quadtreebh/isSamePosition.js","./node":"/Users/paulfrazee/patchwork/node_modules/ngraph.quadtreebh/node.js","ngraph.random":"/Users/paulfrazee/patchwork/node_modules/ngraph.random/index.js"}],"/Users/paulfrazee/patchwork/node_modules/ngraph.quadtreebh/insertStack.js":[function(require,module,exports){module.exports=InsertStack;function InsertStack(){this.stack=[];this.popIdx=0}InsertStack.prototype={isEmpty:function(){return this.popIdx===0},push:function(node,body){var item=this.stack[this.popIdx];if(!item){this.stack[this.popIdx]=new InsertStackElement(node,body)}else{item.node=node;item.body=body}++this.popIdx},pop:function(){if(this.popIdx>0){return this.stack[--this.popIdx]}},reset:function(){this.popIdx=0}};function InsertStackElement(node,body){this.node=node;this.body=body}},{}],"/Users/paulfrazee/patchwork/node_modules/ngraph.quadtreebh/isSamePosition.js":[function(require,module,exports){module.exports=function isSamePosition(point1,point2){var dx=Math.abs(point1.x-point2.x);var dy=Math.abs(point1.y-point2.y);return dx<1e-8&&dy<1e-8}},{}],"/Users/paulfrazee/patchwork/node_modules/ngraph.quadtreebh/node.js":[function(require,module,exports){module.exports=function Node(){this.body=null;this.quad0=null;this.quad1=null;this.quad2=null;this.quad3=null;this.mass=0;this.massX=0;this.massY=0;this.left=0;this.top=0;this.bottom=0;this.right=0}},{}],"/Users/paulfrazee/patchwork/node_modules/ngraph.random/index.js":[function(require,module,exports){module.exports={random:random,randomIterator:randomIterator};function random(inputSeed){var seed=typeof inputSeed==="number"?inputSeed:+new Date;var randomFunc=function(){seed=seed+2127912214+(seed<<12)&4294967295;seed=(seed^3345072700^seed>>>19)&4294967295;seed=seed+374761393+(seed<<5)&4294967295;seed=(seed+3550635116^seed<<9)&4294967295;seed=seed+4251993797+(seed<<3)&4294967295;seed=(seed^3042594569^seed>>>16)&4294967295;return(seed&268435455)/268435456};return{next:function(maxValue){return Math.floor(randomFunc()*maxValue)},nextDouble:function(){return randomFunc()}}}function randomIterator(array,customRandom){var localRandom=customRandom||random();if(typeof localRandom.next!=="function"){throw new Error("customRandom does not match expected API: next() function is missing")}return{forEach:function(callback){var i,j,t;for(i=array.length-1;i>0;--i){j=localRandom.next(i+1);t=array[j];array[j]=array[i];array[i]=t;callback(t)}if(array.length){callback(array[0])}},shuffle:function(){var i,j,t;for(i=array.length-1;i>0;--i){j=localRandom.next(i+1);t=array[j];array[j]=array[i];array[i]=t}return array}}}},{}],"/Users/paulfrazee/patchwork/node_modules/ngraph.svg/index.js":[function(require,module,exports){var svg=require("simplesvg");var hammer=require("hammerjs");var MOVE_EVENTS="panstart panmove panend";module.exports=ngraphSvg;ngraphSvg.svg=svg;function ngraphSvg(graph,settings){settings=settings||{};var layout=require("./lib/defaultLayout.js")(graph,settings);var scrollSpeed=typeof settings.scrollSpeed==="number"?settings.scrollSpeed:.1;var container=settings.container||document.body;var isStable=false;var disposed=false;var sceneInitialized=false;var svgRoot=createSvgRoot(container);var sceneRoot=createSceneRoot(svgRoot);var sceneTransform=createSceneTransform(sceneRoot);var panSession={};var panNode=0;var linkLayer=addLayer("links",sceneRoot);var nodeLayer=addLayer("nodes",sceneRoot);var nodes=Object.create(null);var links=Object.create(null);var fromX=0,fromY=0;var screenPinchX,screenPinchY,lastScale;var cachedPos={x:0,y:0},cachedFromPos={x:0,y:0},cachedToPos={x:0,y:0};var defaultUI=require("./lib/defaultUI.js");var nodeBuilder=defaultUI.nodeBuilder,nodePositionCallback=defaultUI.nodePositionCallback,linkBuilder=defaultUI.linkBuilder,linkPositionCallback=defaultUI.linkPositionCallback;var currentTransform={tx:0,ty:0,scale:1};var api={run:animationLoop,renderOneFrame:renderOneFrame,layout:layout,dispose:dispose,node:setNodeBuilder,link:setLinkBuilder,placeNode:placeNode,placeLink:placeLink,svgRoot:svgRoot,resetStable:resetStable};require("ngraph.events")(api);return api;function dispose(){layout.dispose();api.off();disposed=true;listenToGraphEvents(false);releaseDOMEvents()}function placeLink(newPlaceLinkCallback){linkPositionCallback=newPlaceLinkCallback;return api}function placeNode(newPlaceCallback){nodePositionCallback=newPlaceCallback;return api}function animationLoop(){if(disposed)return;requestAnimationFrame(animationLoop);if(!isStable){isStable=layout.step();renderOneFrame()}}function renderOneFrame(){if(disposed)return;if(!sceneInitialized)initializeScene();for(var nodeId in nodes){var nodeInfo=nodes[nodeId];cachedPos.x=nodeInfo.pos.x;cachedPos.y=nodeInfo.pos.y;nodePositionCallback(nodeInfo.ui,cachedPos,nodeInfo.model)}for(var linkId in links){var linkInfo=links[linkId];cachedFromPos.x=linkInfo.pos.from.x;cachedFromPos.y=linkInfo.pos.from.y;cachedToPos.x=linkInfo.pos.to.x;cachedToPos.y=linkInfo.pos.to.y;linkPositionCallback(linkInfo.ui,cachedFromPos,cachedToPos,linkInfo.model)}}function initializeScene(){graph.forEachNode(addNode);graph.forEachLink(addLink);moveTo(container.clientWidth/2,container.clientHeight/2);listenToGraphEvents(true);sceneInitialized=true}function addLink(link){var linkUI=linkBuilder(link);if(!linkUI)throw new Error("Link builder is supposed to return SVG object");links[link.id]={pos:layout.getLinkPosition(link.id),model:link,ui:linkUI};linkLayer.append(linkUI)}function addNode(node){var ui=nodeBuilder(node);if(!ui)throw new Error("Node builder is supposed to return SVG object");nodeLayer.append(ui);var pos=layout.getNodePosition(node.id);var nodeDescriptor={pos:pos,model:node,ui:ui};var recognizers={recognizers:[[hammer.Pan,{threshold:1}]]};nodeDescriptor.events=hammer(ui,recognizers).on(MOVE_EVENTS,onNodePan(pos,node));nodes[node.id]=nodeDescriptor}function setLinkBuilder(builderCallback){if(typeof builderCallback!=="function")throw new Error("link builder callback is supposed to be a function");linkBuilder=builderCallback;return api}function setNodeBuilder(builderCallback){if(typeof builderCallback!=="function")throw new Error("node builder callback is supposed to be a function");nodeBuilder=builderCallback;return api}function listenToGraphEvents(isOn){graph[isOn?"on":"off"]("changed",onGraphChanged)}function onGraphChanged(changes){resetStable();for(var i=0;i<changes.length;++i){var change=changes[i];if(change.changeType==="add"){if(change.node){addNode(change.node)}if(change.link){addLink(change.link)}}else if(change.changeType==="remove"){if(change.node){removeNode(change.node)}if(change.link){removeLink(change.link)}}}}function resetStable(){isStable=false}function createSvgRoot(element){if(element instanceof SVGSVGElement)return element;var svgRoot=svg("svg");element.appendChild(svgRoot);return svgRoot}function createSceneRoot(svgRoot){var scene=svg("g").attr("buffered-rendering","dynamic");svgRoot.append(scene);var sceneMoveRecognizer={recognizers:[[hammer.Pan,{threshold:1}],[hammer.Pinch,{enable:true}]]};hammer(container,sceneMoveRecognizer).on(MOVE_EVENTS,onScenePan).on("pinchstart pinchin pinchout",onScreenPinch);var addWheelListener=require("wheel");addWheelListener(svgRoot,onWheel);return scene}function onScenePan(e){if(e.target!==svgRoot||panNode>0)return;if(e.type==="panmove"){currentTransform.tx=fromX+e.deltaX;currentTransform.ty=fromY+e.deltaY;updateTransformMatrix()}else if(e.type==="panstart"){fromX=currentTransform.tx;fromY=currentTransform.ty}}function onWheel(e){var isZoomIn=e.deltaY<0;var direction=isZoomIn?1:-1;var factor=1+direction*scrollSpeed;var x=e.offsetX===undefined?e.layerX:e.offsetX;var y=e.offsetY===undefined?e.layerY:e.offsetY;zoomTo(x,y,factor);e.preventDefault()}function zoomTo(x,y,factor){currentTransform.tx=x-factor*(x-currentTransform.tx);currentTransform.ty=y-factor*(y-currentTransform.ty);currentTransform.scale*=factor;updateTransformMatrix()}function addLayer(name,parent){var layer=svg("g").attr("id",name);parent.append(layer);return layer}function getModelPosition(pos){return{x:(pos.x-currentTransform.tx)/currentTransform.scale,y:(pos.y-currentTransform.ty)/currentTransform.scale}}function createSceneTransform(scene){var transform=svgRoot.createSVGTransform();scene.transform.baseVal.appendItem(transform);return transform}function moveTo(x,y){currentTransform.tx=x;currentTransform.ty=y;updateTransformMatrix()}function updateTransformMatrix(){sceneTransform.matrix.e=currentTransform.tx;sceneTransform.matrix.f=currentTransform.ty;sceneTransform.matrix.a=sceneTransform.matrix.d=currentTransform.scale}function onNodePan(pos,model){return function onNodePan(e){var clickPosition=getModelPosition(e.center);var status;resetStable();if(e.type==="panmove"){status=panSession[model.id];layout.setNodePosition(model.id,clickPosition.x-status.dx,clickPosition.y-status.dy)}else if(e.type==="panstart"){panSession[model.id]={isPinned:layout.isNodePinned(model),dx:clickPosition.x-pos.x,dy:clickPosition.y-pos.y};layout.pinNode(model,true);panNode+=1}else if(e.type==="panend"){status=panSession[model.id];if(status)layout.pinNode(model,status.isPinned);panNode-=1;if(panNode<0)panNode=0}}}function releaseDOMEvents(){for(var key in nodes){var descriptor=nodes[key];if(descriptor.events)descriptor.events.destroy()}}function removeNode(node){var descriptor=nodes[node.id];if(!descriptor)return;descriptor.events.destroy();var parent=descriptor.ui.parentNode;if(parent)parent.removeChild(descriptor.ui);delete nodes[node.id]}function removeLink(link){var descriptor=links[link.id];if(!descriptor)return;var parent=descriptor.ui.parentNode;if(parent)parent.removeChild(descriptor.ui);delete links[link.id]}function onScreenPinch(e){if(e.target!==svgRoot)return;if(e.type==="pinchstart"){screenPinchX=e.center.x;screenPinchY=e.center.y;lastScale=e.scale}else{var direction=lastScale>e.scale?-1:1;lastScale=e.scale;var factor=1+direction*.04;zoomTo(screenPinchX,screenPinchY,factor)}}}},{"./lib/defaultLayout.js":"/Users/paulfrazee/patchwork/node_modules/ngraph.svg/lib/defaultLayout.js","./lib/defaultUI.js":"/Users/paulfrazee/patchwork/node_modules/ngraph.svg/lib/defaultUI.js",hammerjs:"/Users/paulfrazee/patchwork/node_modules/hammerjs/hammer.js","ngraph.events":"/Users/paulfrazee/patchwork/node_modules/ngraph.events/index.js",simplesvg:"/Users/paulfrazee/patchwork/node_modules/simplesvg/index.js",wheel:"/Users/paulfrazee/patchwork/node_modules/wheel/index.js"}],"/Users/paulfrazee/patchwork/node_modules/ngraph.svg/lib/defaultLayout.js":[function(require,module,exports){var merge=require("ngraph.merge");module.exports=getDefaultLayout;function getDefaultLayout(graph,settings){if(settings.layout)return settings.layout;settings=merge(settings,{physics:{springLength:30,springCoeff:8e-4,dragCoeff:.01,gravity:-1.2,theta:1}});var layout=require("ngraph.forcelayout");return layout(graph,settings.physics)}},{"ngraph.forcelayout":"/Users/paulfrazee/patchwork/node_modules/ngraph.forcelayout/index.js","ngraph.merge":"/Users/paulfrazee/patchwork/node_modules/ngraph.merge/index.js"}],"/Users/paulfrazee/patchwork/node_modules/ngraph.svg/lib/defaultUI.js":[function(require,module,exports){var svg=require("simplesvg");exports.nodeBuilder=nodeBuilder;exports.nodePositionCallback=nodePositionCallback;exports.linkBuilder=linkBuilder;exports.linkPositionCallback=linkPositionCallback;function nodeBuilder(node){return svg("rect",{width:10,height:10,fill:"#00a2e8"})}function nodePositionCallback(nodeUI,pos){nodeUI.attr("x",pos.x-5).attr("y",pos.y-5)}function linkBuilder(linkUI,pos){return svg("line",{stroke:"#999"})}function linkPositionCallback(linkUI,fromPos,toPos){linkUI.attr("x1",fromPos.x).attr("y1",fromPos.y).attr("x2",toPos.x).attr("y2",toPos.y)}},{simplesvg:"/Users/paulfrazee/patchwork/node_modules/simplesvg/index.js"}],"/Users/paulfrazee/patchwork/node_modules/object-assign/index.js":[function(require,module,exports){"use strict";var hasOwnProperty=Object.prototype.hasOwnProperty;var propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(val===null||val===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(val)}module.exports=Object.assign||function(target,source){var from;var to=toObject(target);var symbols;for(var s=1;s<arguments.length;s++){from=Object(arguments[s]);for(var key in from){if(hasOwnProperty.call(from,key)){to[key]=from[key]}}if(Object.getOwnPropertySymbols){symbols=Object.getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++){if(propIsEnumerable.call(from,symbols[i])){to[symbols[i]]=from[symbols[i]]}}}}return to}},{}],"/Users/paulfrazee/patchwork/node_modules/os-browserify/browser.js":[function(require,module,exports){exports.endianness=function(){return"LE"};exports.hostname=function(){if(typeof location!=="undefined"){return location.hostname}else return""};exports.loadavg=function(){return[]};exports.uptime=function(){return 0};exports.freemem=function(){return Number.MAX_VALUE};exports.totalmem=function(){return Number.MAX_VALUE};exports.cpus=function(){return[]};exports.type=function(){return"Browser"};exports.release=function(){if(typeof navigator!=="undefined"){return navigator.appVersion}return""};exports.networkInterfaces=exports.getNetworkInterfaces=function(){return{}};exports.arch=function(){return"javascript"};exports.platform=function(){return"browser"};exports.tmpdir=exports.tmpDir=function(){return"/tmp"};exports.EOL="\n"},{}],"/Users/paulfrazee/patchwork/node_modules/packet-stream-codec/index.js":[function(require,module,exports){(function(Buffer){var Through=require("pull-through");var Reader=require("pull-reader");var BUFFER=0,STRING=1,OBJECT=2;var GOODBYE="GOODBYE";var isBuffer=Buffer.isBuffer;function isString(s){return"string"===typeof s}function encodePair(msg){var head=new Buffer(9);var flags=0;var value=msg.value!==undefined?msg.value:msg.end;if(isString(msg)&&msg===GOODBYE){head.fill(0);return[head,null]}if(isString(value)){flags=STRING;value=new Buffer(value)}else if(isBuffer(value)){flags=BUFFER}else{flags=OBJECT;value=new Buffer(JSON.stringify(value))}flags=msg.stream<<3|msg.end<<2|flags;head[0]=flags;head.writeUInt32BE(value.length,1);head.writeInt32BE(msg.req||0,5);return[head,value]}function decodeHead(bytes){if(bytes.length!=9)throw new Error("expected header to be 9 bytes long");var flags=bytes[0];var length=bytes.readUInt32BE(1);var req=bytes.readInt32BE(5);return{req:req,stream:!!(flags&8),end:!!(flags&4),value:null,length:length,type:flags&3}}function decodeBody(bytes,msg){if(bytes.length!==msg.length)throw new Error("incorrect length, expected:"+msg.length+" found:"+bytes.length);if(BUFFER===msg.type)msg.value=bytes;else if(STRING===msg.type)msg.value=bytes.toString();else if(OBJECT===msg.type)msg.value=JSON.parse(bytes.toString());else throw new Error("unknown message type");return msg}function encode(){return Through(function(d){var c=encodePair(d);this.queue(c[0]);if(c[1]!==null)this.queue(c[1])})}function decode(){var reader=Reader(),ended=false;return function(read){reader(read);return function(abort,cb){if(ended)return cb(true);if(abort)return reader.abort(abort,cb);reader.read(9,function(err,head){if(err)return cb(err);var msg=decodeHead(head);if(msg.length===0){ended=true;return cb(null,GOODBYE)}reader.read(msg.length,function(err,body){if(err)return cb(err);decodeBody(body,msg);cb(null,msg)})})}}}exports=module.exports=function(stream){return{source:encode()(stream.source),sink:function(read){return stream.sink(decode()(read))}}};exports.encodePair=encodePair;exports.decodeHead=decodeHead;exports.decodeBody=decodeBody;exports.encode=encode;exports.decode=decode}).call(this,require("buffer").Buffer)},{buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js","pull-reader":"/Users/paulfrazee/patchwork/node_modules/pull-reader/index.js","pull-through":"/Users/paulfrazee/patchwork/node_modules/pull-through/index.js"}],"/Users/paulfrazee/patchwork/node_modules/packet-stream/index.js":[function(require,module,exports){function flat(err){if(!err)return err;if(err===true)return true;return{message:err.message,name:err.name,stack:err.stack}}module.exports=function(opts){return new PacketStream(opts)};function PacketStream(opts){this.ended=false;this.opts=opts;this._req_counter=1;this._requests={};this._instreams={};this._outstreams={};this._closecbs=[];this._closing=false;this._closed=false;if(opts.close)this._closecbs.push(opts.close)}PacketStream.prototype.message=function(obj){this.read({req:0,stream:false,end:false,value:obj})};PacketStream.prototype.request=function(obj,cb){var rid=this._req_counter++;var self=this;this._requests[rid]=function(err,value){delete self._requests[rid];cb(err,value);self._maybedone()};this.read({req:rid,stream:false,end:false,value:obj})};PacketStream.prototype.stream=function(){var rid=this._req_counter++;var self=this;this._outstreams[rid]=new PacketStreamSubstream(rid,this,function(){delete self._outstreams[rid]});return this._outstreams[rid]};PacketStream.prototype.close=function(cb){if(!cb)throw new Error("packet-stream.close *must* have callback");if(this._closed)return cb();this._closecbs.push(cb);this._closing=true;this._maybedone()};PacketStream.prototype.destroy=function(end){end=end||flat(end);this.ended=end;var err=end===true?new Error("unexpected end of parent stream"):end;var numended=0;for(var k in this._requests){numended++;this._requests[k](err)}for(var k in this._instreams){numended++;this._instreams[k].destroy(err)}for(var k in this._outstreams){numended++;this._outstreams[k].destroy(err)}if(numended===0&&end===true)err=null;this._closing=true;this._maybedone(err)};PacketStream.prototype._maybedone=function(err){if(this._closed||!this._closing)return;if(Object.keys(this._requests).length!==0||Object.keys(this._instreams).length!==0||Object.keys(this._outstreams).length!==0)return;this._closed=true;this._closecbs.forEach(function(cb){cb(err)});this.read(null,err||true);this.opts=null;this._closecbs.length=0;this.read=closedread};function closedread(msg){console.error("packet-stream asked to read after closed",msg)}PacketStream.prototype.read=function(msg){console.error("please overwrite read method to do IO",msg)};PacketStream.prototype.write=function(msg,end){if(this.ended)return;if(end)this.destroy(end);else if(msg.req&&!msg.stream)this._onrequest(msg);else if(msg.req&&msg.stream)this._onstream(msg);else this._onmessage(msg)};PacketStream.prototype._onmessage=function(msg){if(this.opts&&"function"===typeof this.opts.message)this.opts.message(msg.value)};PacketStream.prototype._onrequest=function(msg){var rid=msg.req*-1;if(msg.req<0){if(typeof this._requests[rid]=="function")this._requests[rid](msg.end?msg.value:null,msg.end?null:msg.value)}else{if(this.opts&&typeof this.opts.request=="function"){var once=false;var self=this;this.opts.request(msg.value,function(err,value){if(once)throw new Error("cb called twice from local api");once=true;if(err)self.read({value:flat(err),end:true,req:rid});else self.read({value:value,end:false,req:rid});self._maybedone()})}else{if(this.ended){var err=this.ended===true?new Error("unexpected end of parent stream"):this.ended;this.read({value:flat(err),end:true,stream:false,req:rid})}else this.read({value:{message:"Unable to handle requests",name:"NO_REQUEST_HANDLER",stack:null},end:true,stream:false,req:rid});this._maybedone()}}};PacketStream.prototype._onstream=function(msg){if(msg.req<0){var rid=msg.req*-1;var outs=this._outstreams[rid];if(!outs)return console.error("no stream for incoming msg",msg);if(msg.end){if(outs.writeEnd)delete this._outstreams[rid];outs.readEnd=true;outs.read(null,msg.value);this._maybedone()}else outs.read(msg.value)}else{var rid=msg.req;var ins=this._instreams[rid];if(!ins){var self=this;ins=this._instreams[rid]=new PacketStreamSubstream(rid*-1,this,function(){delete self._instreams[rid]});if(this.opts&&typeof this.opts.stream=="function")this.opts.stream(ins)}if(!ins.read)return console.error("no .read for stream:",ins.id,"dropped:",msg);if(msg.end){if(ins.writeEnd)delete this._instreams[rid];ins.readEnd=true;ins.read(null,msg.value);this._maybedone()}else ins.read(msg.value)}};function PacketStreamSubstream(id,ps,remove){this.id=id;this.read=null;this.writeEnd=null;this.readEnd=null;this._ps=ps;this._remove=remove;this._seq_counter=1}PacketStreamSubstream.prototype.write=function(data,err){if(err){this.writeEnd=err;var ps=this._ps;if(ps){ps.read({req:this.id,stream:true,end:true,value:flat(err)});if(this.readEnd)this.destroy();ps._maybedone()}}else{if(this._ps)this._ps.read({req:this.id,stream:true,end:false,value:data})}};PacketStreamSubstream.prototype.end=function(err){this.write(null,flat(err||true))};PacketStreamSubstream.prototype.destroy=function(err){if(!this.writeEnd){this.writeEnd=true;if(!this.readEnd){this.readEnd=true;try{this.read(null,err)}catch(e){console.error("Exception thrown by PacketStream substream end handler",e);console.error(e.stack)}}this.write(null,err)}else if(!this.readEnd){this.readEnd=true;try{this.read(null,err)}catch(e){console.error("Exception thrown by PacketStream substream end handler",e);console.error(e.stack)}}if(this._ps){this._remove();this._remove=null;this.read=closedread;this._ps=null}}},{}],"/Users/paulfrazee/patchwork/node_modules/parse-asn1/aesid.json":[function(require,module,exports){module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports=module.exports={
"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],"/Users/paulfrazee/patchwork/node_modules/parse-asn1/asn1.js":[function(require,module,exports){var asn1=require("asn1.js");var RSAPrivateKey=asn1.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});exports.RSAPrivateKey=RSAPrivateKey;var RSAPublicKey=asn1.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});exports.RSAPublicKey=RSAPublicKey;var PublicKey=asn1.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPublicKey").bitstr())});exports.PublicKey=PublicKey;var AlgorithmIdentifier=asn1.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())});var PrivateKeyInfo=asn1.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPrivateKey").octstr())});exports.PrivateKey=PrivateKeyInfo;var EncryptedPrivateKeyInfo=asn1.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});exports.EncryptedPrivateKey=EncryptedPrivateKeyInfo;var DSAPrivateKey=asn1.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});exports.DSAPrivateKey=DSAPrivateKey;exports.DSAparam=asn1.define("DSAparam",function(){this.int()});var ECPrivateKey=asn1.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(ECParameters),this.key("publicKey").optional().explicit(1).bitstr())});exports.ECPrivateKey=ECPrivateKey;var ECParameters=asn1.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});exports.signature=asn1.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"asn1.js":"/Users/paulfrazee/patchwork/node_modules/asn1.js/lib/asn1.js"}],"/Users/paulfrazee/patchwork/node_modules/parse-asn1/fixProc.js":[function(require,module,exports){(function(Buffer){var findProc=/Proc-Type: 4,ENCRYPTED\r?\nDEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)\r?\n\r?\n([0-9A-z\n\r\+\/\=]+)\r?\n/m;var startRegex=/^-----BEGIN (.*) KEY-----\r?\n/m;var fullRegex=/^-----BEGIN (.*) KEY-----\r?\n([0-9A-z\n\r\+\/\=]+)\r?\n-----END \1 KEY-----$/m;var evp=require("evp_bytestokey");var ciphers=require("browserify-aes");module.exports=function(okey,password){var key=okey.toString();var match=key.match(findProc);var decrypted;if(!match){var match2=key.match(fullRegex);decrypted=new Buffer(match2[2].replace(/\r?\n/g,""),"base64")}else{var suite="aes"+match[1];var iv=new Buffer(match[2],"hex");var cipherText=new Buffer(match[3].replace(/\r?\n/g,""),"base64");var cipherKey=evp(password,iv.slice(0,8),parseInt(match[1],10)).key;var out=[];var cipher=ciphers.createDecipheriv(suite,cipherKey,iv);out.push(cipher.update(cipherText));out.push(cipher.final());decrypted=Buffer.concat(out)}var tag=key.match(startRegex)[1]+" KEY";return{tag:tag,data:decrypted}}}).call(this,require("buffer").Buffer)},{"browserify-aes":"/Users/paulfrazee/patchwork/node_modules/browserify-aes/browser.js",buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js",evp_bytestokey:"/Users/paulfrazee/patchwork/node_modules/evp_bytestokey/index.js"}],"/Users/paulfrazee/patchwork/node_modules/parse-asn1/index.js":[function(require,module,exports){(function(Buffer){var asn1=require("./asn1");var aesid=require("./aesid.json");var fixProc=require("./fixProc");var ciphers=require("browserify-aes");var compat=require("pbkdf2");module.exports=parseKeys;function parseKeys(buffer){var password;if(typeof buffer==="object"&&!Buffer.isBuffer(buffer)){password=buffer.passphrase;buffer=buffer.key}if(typeof buffer==="string"){buffer=new Buffer(buffer)}var stripped=fixProc(buffer,password);var type=stripped.tag;var data=stripped.data;var subtype,ndata;switch(type){case"PUBLIC KEY":ndata=asn1.PublicKey.decode(data,"der");subtype=ndata.algorithm.algorithm.join(".");switch(subtype){case"1.2.840.113549.1.1.1":return asn1.RSAPublicKey.decode(ndata.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":ndata.subjectPrivateKey=ndata.subjectPublicKey;return{type:"ec",data:ndata};case"1.2.840.10040.4.1":ndata.algorithm.params.pub_key=asn1.DSAparam.decode(ndata.subjectPublicKey.data,"der");return{type:"dsa",data:ndata.algorithm.params};default:throw new Error("unknown key id "+subtype)}throw new Error("unknown key type "+type);case"ENCRYPTED PRIVATE KEY":data=asn1.EncryptedPrivateKey.decode(data,"der");data=decrypt(data,password);case"PRIVATE KEY":ndata=asn1.PrivateKey.decode(data,"der");subtype=ndata.algorithm.algorithm.join(".");switch(subtype){case"1.2.840.113549.1.1.1":return asn1.RSAPrivateKey.decode(ndata.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:ndata.algorithm.curve,privateKey:asn1.ECPrivateKey.decode(ndata.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":ndata.algorithm.params.priv_key=asn1.DSAparam.decode(ndata.subjectPrivateKey,"der");return{type:"dsa",params:ndata.algorithm.params};default:throw new Error("unknown key id "+subtype)}throw new Error("unknown key type "+type);case"RSA PUBLIC KEY":return asn1.RSAPublicKey.decode(data,"der");case"RSA PRIVATE KEY":return asn1.RSAPrivateKey.decode(data,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:asn1.DSAPrivateKey.decode(data,"der")};case"EC PRIVATE KEY":data=asn1.ECPrivateKey.decode(data,"der");return{curve:data.parameters.value,privateKey:data.privateKey};default:throw new Error("unknown key type "+type)}}parseKeys.signature=asn1.signature;function decrypt(data,password){var salt=data.algorithm.decrypt.kde.kdeparams.salt;var iters=parseInt(data.algorithm.decrypt.kde.kdeparams.iters.toString(),10);var algo=aesid[data.algorithm.decrypt.cipher.algo.join(".")];var iv=data.algorithm.decrypt.cipher.iv;var cipherText=data.subjectPrivateKey;var keylen=parseInt(algo.split("-")[1],10)/8;var key=compat.pbkdf2Sync(password,salt,iters,keylen);var cipher=ciphers.createDecipheriv(algo,key,iv);var out=[];out.push(cipher.update(cipherText));out.push(cipher.final());return Buffer.concat(out)}}).call(this,require("buffer").Buffer)},{"./aesid.json":"/Users/paulfrazee/patchwork/node_modules/parse-asn1/aesid.json","./asn1":"/Users/paulfrazee/patchwork/node_modules/parse-asn1/asn1.js","./fixProc":"/Users/paulfrazee/patchwork/node_modules/parse-asn1/fixProc.js","browserify-aes":"/Users/paulfrazee/patchwork/node_modules/browserify-aes/browser.js",buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js",pbkdf2:"/Users/paulfrazee/patchwork/node_modules/pbkdf2/browser.js"}],"/Users/paulfrazee/patchwork/node_modules/patchwork-threads/index.js":[function(require,module,exports){var mlib=require("ssb-msgs");var pull=require("pull-stream");var multicb=require("multicb");exports.fetchThreadRootID=function(ssb,mid,cb){mid=mid&&typeof mid=="object"?mid.key:mid;up();function up(){ssb.get(mid,function(err,msg){if(err)return cb(err);if(!msg)return finish();msg.plaintext=typeof msg.content!="string";if(msg.plaintext)return next();var decrypted=ssb.private.unbox(msg.content,next);if(decrypted)next(null,decrypted);function next(err,decrypted){if(decrypted)msg.content=decrypted;if(mlib.link(msg.content.root,"msg")){mid=mlib.link(msg.content.root).link;return finish()}if(mlib.link(msg.content.branch,"msg")){mid=mlib.link(msg.content.branch).link;return up()}finish()}})}function finish(){cb(null,mid)}};exports.getPostThread=function(ssb,mid,opts,cb){if(typeof opts=="function"){cb=opts;opts=null}ssb.relatedMessages({id:mid,count:true},function(err,thread){if(err)return cb(err);exports.fetchThreadData(ssb,thread,opts,cb)})};exports.flattenThread=function(thread){var related=thread.related||[];var availableIds=new Set([thread.key].concat(related.map(function(m){return m.key})));var addedIds=new Set([thread.key]);var msgs=[thread];related.forEach(flattenAndReorderReplies);var msgsDup=msgs.slice();msgsDup.forEach(weaveMentions);msgsDup.forEach(weaveMissingParents);return msgs;function insertReply(msg){if(addedIds.has(msg.key))return;var branch=mlib.link(msg.value.content.branch)||mlib.link(msg.value.content.root);var branchIsRoot=thread.key===branch.link;if(!(branchIsRoot||addedIds.has(branch.link))&&availableIds.has(branch.link))return;var hasFoundBranch=branchIsRoot;for(var i=1;i<msgs.length;i++){if(!hasFoundBranch){if(msgs[i].key===branch.link)hasFoundBranch=true;continue}if(msgs[i].value.timestamp>msg.value.timestamp){msgs.splice(i,0,msg);addedIds.add(msg.key);return}}msgs.push(msg);addedIds.add(msg.key)}function flattenAndReorderReplies(msg){if(msg.value.content.type=="post"&&isaReplyTo(msg,thread)){insertReply(msg);(msg.related||[]).forEach(flattenAndReorderReplies)}}function insertMention(msg,parentKey){for(var i=0;i<msgs.length;i++){if(msgs[i].key===parentKey){msgs.splice(i+1,0,{key:msg.key,isMention:true,value:msg.value});addedIds.add(msg.key);return}}}function weaveMentions(parent){(parent.related||[]).forEach(function(msg){if(addedIds.has(msg.key))return;if(msg.value.content.type=="post"&&isaMentionTo(msg,parent))insertMention(msg,parent.key)})}function insertMissingParent(parentKey,childKey){for(var i=0;i<msgs.length;i++){if(msgs[i].key===childKey){msgs.splice(i,0,{key:parentKey,isNotFound:true});addedIds.add(parentKey);return}}}function weaveMissingParents(msg,i){if(msg.isMention)return;var branch=mlib.link(msg.value.content.branch,"msg");if(branch&&!addedIds.has(branch.link)){if(i===0){msgs.unshift({key:branch.link,isLink:true})}else{insertMissingParent(branch.link,msg.key)}}}};exports.getParentPostThread=function(ssb,mid,opts,cb){exports.fetchThreadRootID(ssb,mid,function(err,mid){if(err)return cb(err);exports.getPostThread(ssb,mid,opts,cb)})};exports.getPostSummary=function(ssb,mid,opts,cb){if(typeof opts=="function"){cb=opts;opts=null}var done=multicb({pluck:1,spread:true});var msgCb=done();ssb.get(mid,function(err,msg){msgCb(null,msg)});pull(ssb.links({dest:mid,keys:true,values:true}),pull.collect(done()));done(function(err,value,related){if(err)return cb(err);var thread={key:mid,value:value,related:related};exports.fetchThreadData(ssb,thread,opts,cb)})};exports.getParentPostSummary=function(ssb,mid,opts,cb){exports.fetchThreadRootID(ssb,mid,function(err,mid){if(err)return cb(err);exports.getPostSummary(ssb,mid,opts,cb)})};exports.fetchThreadData=function(ssb,thread,opts,cb){exports.decryptThread(ssb,thread,function(err){if(err)return cb(err);var done=multicb();if(!opts||opts.isRead)exports.attachThreadIsread(ssb,thread,1,done());if(!opts||opts.isBookmarked)exports.attachThreadIsbookmarked(ssb,thread,1,done());if(!opts||opts.mentions){thread.mentionsUser=false;exports.iterateThreadAsync(thread,1,function(msg,cb2){var c=msg.value.content;if(c.type!=="post"||!c.mentions)return cb2();mlib.links(c.mentions,"feed").forEach(function(l){if(false)thread.mentionsUser=true});cb2()},done())}if(!opts||opts.votes)exports.compileThreadVotes(thread);done(function(err){if(err)return cb(err);cb(null,thread)})})};exports.iterateThread=function(thread,maxDepth,fn){thread.value&&fn(thread);if(thread.related)iterate(thread.related,1);function iterate(msgs,n){if(!isNaN(maxDepth)&&n>maxDepth)return;msgs.forEach(function(msg){msg.value&&fn(msg);if(msg.related)iterate(msg.related,n+1)})}};exports.iterateThreadAsync=function(thread,maxDepth,fn,cb){var done=multicb();thread.value&&fn(thread,done());if(thread.related)iterate(thread.related,1);done(function(err){cb(err,thread)});function iterate(msgs,n){if(!isNaN(maxDepth)&&n>maxDepth)return;msgs.forEach(function(msg){msg.value&&fn(msg,done());if(msg.related)iterate(msg.related,n+1)})}};exports.attachThreadIsread=function(ssb,thread,maxdepth,cb){thread.hasUnread=false;exports.iterateThreadAsync(thread,maxdepth,function(msg,cb2){if("isRead"in msg)return cb2();if(msg.value.content.type!="post")return cb2();if(msg!==thread&&!isaReplyTo(msg,thread))return cb2();msg.isRead=false;ssb.patchwork.isRead(msg.key,function(err,isRead){msg.isRead=isRead;thread.hasUnread=thread.hasUnread||!isRead;cb2()})},cb)};exports.attachThreadIsbookmarked=function(ssb,thread,maxdepth,cb){exports.iterateThreadAsync(thread,maxdepth,function(msg,cb2){if("isBookmarked"in msg)return cb2();if(msg.value.content.type!="post")return cb2();if(msg!==thread&&!isaReplyTo(msg,thread))return cb2();msg.isBookmarked=false;ssb.patchwork.isBookmarked(msg.key,function(err,isBookmarked){msg.isBookmarked=isBookmarked;cb2()})},cb)};exports.compileThreadVotes=function(thread){compileMsgVotes(thread);function compileMsgVotes(msg){msg.votes={};if(!msg.related||!msg.related.length)return;msg.related.forEach(function(r){var c=r.value.content;if(c.type==="vote"&&c.vote&&"value"in c.vote)msg.votes[r.value.author]=c.vote.value;if(c.type==="post"&&isaReplyTo(r,msg))compileMsgVotes(r)})}};exports.markThreadRead=function(ssb,thread,cb){if(!thread.hasUnread)return cb();exports.iterateThreadAsync(thread,1,function(msg,cb2){if(msg==thread){}else{if(msg.isRead)return cb2();if(msg.value.content.type!="post")return cb2();if(!isaReplyTo(msg,thread))return cb2()}ssb.patchwork.markRead(msg.key,function(err,isRead){msg.isRead=true;cb2()})},function(){thread.hasUnread=false;cb()})};exports.decryptThread=function(ssb,thread,cb){exports.iterateThreadAsync(thread,undefined,function(msg,cb2){if("plaintext"in msg)return cb2();msg.plaintext=typeof msg.value.content!="string";if(msg.plaintext)return cb2();var decrypted=ssb.private.unbox(msg.value.content,next);if(decrypted)next(null,decrypted);function next(err,decrypted){if(decrypted)msg.value.content=decrypted;cb2()}},cb)};exports.getLastThreadPost=function(thread){var msg=thread;if(!thread.related)return msg;thread.related.forEach(function(r){var c=r.value.content;var root=mlib.link(c.root);if(c.type==="post"&&root&&root.link==thread.key&&r.value.timestamp>msg.value.timestamp)msg=r});return msg};function isaReplyTo(a,b){var rels=mlib.relationsTo(a,b);return rels.indexOf("root")>=0||rels.indexOf("branch")>=0}function isaMentionTo(a,b){return mlib.relationsTo(a,b).indexOf("mentions")>=0}},{multicb:"/Users/paulfrazee/patchwork/node_modules/multicb/index.js","pull-stream":"/Users/paulfrazee/patchwork/node_modules/pull-stream/index.js","ssb-msgs":"/Users/paulfrazee/patchwork/node_modules/ssb-msgs/index.js"}],"/Users/paulfrazee/patchwork/node_modules/path-browserify/index.js":[function(require,module,exports){(function(process){function normalizeArray(parts,allowAboveRoot){var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last==="."){parts.splice(i,1)}else if(last===".."){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up--;up){parts.unshift("..")}}return parts}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;var splitPath=function(filename){return splitPathRe.exec(filename).slice(1)};exports.resolve=function(){var resolvedPath="",resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();if(typeof path!=="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!path){continue}resolvedPath=path+"/"+resolvedPath;resolvedAbsolute=path.charAt(0)==="/"}resolvedPath=normalizeArray(filter(resolvedPath.split("/"),function(p){return!!p}),!resolvedAbsolute).join("/");return(resolvedAbsolute?"/":"")+resolvedPath||"."};exports.normalize=function(path){var isAbsolute=exports.isAbsolute(path),trailingSlash=substr(path,-1)==="/";path=normalizeArray(filter(path.split("/"),function(p){return!!p}),!isAbsolute).join("/");if(!path&&!isAbsolute){path="."}if(path&&trailingSlash){path+="/"}return(isAbsolute?"/":"")+path};exports.isAbsolute=function(path){return path.charAt(0)==="/"};exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,function(p,index){if(typeof p!=="string"){throw new TypeError("Arguments to path.join must be strings")}return p}).join("/"))};exports.relative=function(from,to){from=exports.resolve(from).substr(1);to=exports.resolve(to).substr(1);function trim(arr){var start=0;for(;start<arr.length;start++){if(arr[start]!=="")break}var end=arr.length-1;for(;end>=0;end--){if(arr[end]!=="")break}if(start>end)return[];return arr.slice(start,end-start+1)}var fromParts=trim(from.split("/"));var toParts=trim(to.split("/"));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break}}var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push("..")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join("/")};exports.sep="/";exports.delimiter=":";exports.dirname=function(path){var result=splitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return"."}if(dir){dir=dir.substr(0,dir.length-1)}return root+dir};exports.basename=function(path,ext){var f=splitPath(path)[2];if(ext&&f.substr(-1*ext.length)===ext){f=f.substr(0,f.length-ext.length)}return f};exports.extname=function(path){return splitPath(path)[3]};function filter(xs,f){if(xs.filter)return xs.filter(f);var res=[];for(var i=0;i<xs.length;i++){if(f(xs[i],i,xs))res.push(xs[i])}return res}var substr="ab".substr(-1)==="b"?function(str,start,len){return str.substr(start,len)}:function(str,start,len){if(start<0)start=str.length+start;return str.substr(start,len)}}).call(this,require("_process"))},{_process:"/Users/paulfrazee/patchwork/node_modules/process/browser.js"}],"/Users/paulfrazee/patchwork/node_modules/pbkdf2/browser.js":[function(require,module,exports){(function(Buffer){var createHmac=require("create-hmac");var MAX_ALLOC=Math.pow(2,30)-1;exports.pbkdf2=pbkdf2;function pbkdf2(password,salt,iterations,keylen,digest,callback){if(typeof digest==="function"){callback=digest;digest=undefined}if(typeof callback!=="function"){throw new Error("No callback provided to pbkdf2")}var result=pbkdf2Sync(password,salt,iterations,keylen,digest);setTimeout(function(){callback(undefined,result)})}exports.pbkdf2Sync=pbkdf2Sync;function pbkdf2Sync(password,salt,iterations,keylen,digest){if(typeof iterations!=="number"){throw new TypeError("Iterations not a number")}if(iterations<0){throw new TypeError("Bad iterations")}if(typeof keylen!=="number"){throw new TypeError("Key length not a number")}if(keylen<0||keylen>MAX_ALLOC){throw new TypeError("Bad key length")}digest=digest||"sha1";if(!Buffer.isBuffer(password))password=new Buffer(password,"binary");if(!Buffer.isBuffer(salt))salt=new Buffer(salt,"binary");var hLen;var l=1;var DK=new Buffer(keylen);var block1=new Buffer(salt.length+4);salt.copy(block1,0,0,salt.length);var r;var T;for(var i=1;i<=l;i++){block1.writeUInt32BE(i,salt.length);var U=createHmac(digest,password).update(block1).digest();if(!hLen){hLen=U.length;T=new Buffer(hLen);l=Math.ceil(keylen/hLen);r=keylen-(l-1)*hLen}U.copy(T,0,0,hLen);for(var j=1;j<iterations;j++){U=createHmac(digest,password).update(U).digest();for(var k=0;k<hLen;k++){T[k]^=U[k]}}var destPos=(i-1)*hLen;var len=i===l?r:hLen;T.copy(DK,destPos,0,len)}return DK}}).call(this,require("buffer").Buffer)},{buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js","create-hmac":"/Users/paulfrazee/patchwork/node_modules/create-hmac/browser.js"}],"/Users/paulfrazee/patchwork/node_modules/process-nextick-args/index.js":[function(require,module,exports){(function(process){"use strict";if(!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0){module.exports=nextTick}else{module.exports=process.nextTick}function nextTick(fn){var args=new Array(arguments.length-1);var i=0;while(i<args.length){args[i++]=arguments[i]}process.nextTick(function afterTick(){fn.apply(null,args)})}}).call(this,require("_process"))},{_process:"/Users/paulfrazee/patchwork/node_modules/process/browser.js"}],"/Users/paulfrazee/patchwork/node_modules/process/browser.js":[function(require,module,exports){var process=module.exports={};var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=setTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;clearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){setTimeout(drainQueue,0)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},{}],"/Users/paulfrazee/patchwork/node_modules/public-encrypt/browser.js":[function(require,module,exports){exports.publicEncrypt=require("./publicEncrypt");exports.privateDecrypt=require("./privateDecrypt");exports.privateEncrypt=function privateEncrypt(key,buf){return exports.publicEncrypt(key,buf,true)};exports.publicDecrypt=function publicDecrypt(key,buf){return exports.privateDecrypt(key,buf,true)}},{"./privateDecrypt":"/Users/paulfrazee/patchwork/node_modules/public-encrypt/privateDecrypt.js","./publicEncrypt":"/Users/paulfrazee/patchwork/node_modules/public-encrypt/publicEncrypt.js"}],"/Users/paulfrazee/patchwork/node_modules/public-encrypt/mgf.js":[function(require,module,exports){(function(Buffer){var createHash=require("create-hash");module.exports=function(seed,len){var t=new Buffer("");var i=0,c;while(t.length<len){c=i2ops(i++);t=Buffer.concat([t,createHash("sha1").update(seed).update(c).digest()])}return t.slice(0,len)};function i2ops(c){var out=new Buffer(4);out.writeUInt32BE(c,0);return out}}).call(this,require("buffer").Buffer)},{buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js","create-hash":"/Users/paulfrazee/patchwork/node_modules/create-hash/browser.js"}],"/Users/paulfrazee/patchwork/node_modules/public-encrypt/privateDecrypt.js":[function(require,module,exports){(function(Buffer){var parseKeys=require("parse-asn1");var mgf=require("./mgf");var xor=require("./xor");var bn=require("bn.js");var crt=require("browserify-rsa");var createHash=require("create-hash");var withPublic=require("./withPublic");module.exports=function privateDecrypt(private_key,enc,reverse){var padding;if(private_key.padding){padding=private_key.padding}else if(reverse){padding=1}else{padding=4}var key=parseKeys(private_key);var k=key.modulus.byteLength();if(enc.length>k||new bn(enc).cmp(key.modulus)>=0){throw new Error("decryption error")}var msg;if(reverse){msg=withPublic(new bn(enc),key)}else{msg=crt(enc,key)}var zBuffer=new Buffer(k-msg.length);zBuffer.fill(0);msg=Buffer.concat([zBuffer,msg],k);if(padding===4){return oaep(key,msg)}else if(padding===1){return pkcs1(key,msg,reverse)}else if(padding===3){return msg}else{throw new Error("unknown padding")}};function oaep(key,msg){var n=key.modulus;var k=key.modulus.byteLength();var mLen=msg.length;var iHash=createHash("sha1").update(new Buffer("")).digest();var hLen=iHash.length;var hLen2=2*hLen;if(msg[0]!==0){throw new Error("decryption error")}var maskedSeed=msg.slice(1,hLen+1);var maskedDb=msg.slice(hLen+1);var seed=xor(maskedSeed,mgf(maskedDb,hLen));var db=xor(maskedDb,mgf(seed,k-hLen-1));if(compare(iHash,db.slice(0,hLen))){throw new Error("decryption error")}var i=hLen;while(db[i]===0){i++}if(db[i++]!==1){throw new Error("decryption error")}return db.slice(i)}function pkcs1(key,msg,reverse){var p1=msg.slice(0,2);var i=2;var status=0;while(msg[i++]!==0){if(i>=msg.length){status++;break}}var ps=msg.slice(2,i-1);var p2=msg.slice(i-1,i);if(p1.toString("hex")!=="0002"&&!reverse||p1.toString("hex")!=="0001"&&reverse){status++}if(ps.length<8){status++}if(status){throw new Error("decryption error")}return msg.slice(i)}function compare(a,b){a=new Buffer(a);b=new Buffer(b);var dif=0;var len=a.length;if(a.length!==b.length){dif++;len=Math.min(a.length,b.length)}var i=-1;while(++i<len){dif+=a[i]^b[i]}return dif}}).call(this,require("buffer").Buffer)},{"./mgf":"/Users/paulfrazee/patchwork/node_modules/public-encrypt/mgf.js","./withPublic":"/Users/paulfrazee/patchwork/node_modules/public-encrypt/withPublic.js","./xor":"/Users/paulfrazee/patchwork/node_modules/public-encrypt/xor.js","bn.js":"/Users/paulfrazee/patchwork/node_modules/bn.js/lib/bn.js","browserify-rsa":"/Users/paulfrazee/patchwork/node_modules/browserify-rsa/index.js",buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js","create-hash":"/Users/paulfrazee/patchwork/node_modules/create-hash/browser.js","parse-asn1":"/Users/paulfrazee/patchwork/node_modules/parse-asn1/index.js"}],"/Users/paulfrazee/patchwork/node_modules/public-encrypt/publicEncrypt.js":[function(require,module,exports){(function(Buffer){var parseKeys=require("parse-asn1");var randomBytes=require("randombytes");var createHash=require("create-hash");var mgf=require("./mgf");var xor=require("./xor");var bn=require("bn.js");var withPublic=require("./withPublic");var crt=require("browserify-rsa");var constants={RSA_PKCS1_OAEP_PADDING:4,RSA_PKCS1_PADDIN:1,RSA_NO_PADDING:3};module.exports=function publicEncrypt(public_key,msg,reverse){var padding;if(public_key.padding){padding=public_key.padding}else if(reverse){padding=1}else{padding=4}var key=parseKeys(public_key);var paddedMsg;if(padding===4){paddedMsg=oaep(key,msg)}else if(padding===1){paddedMsg=pkcs1(key,msg,reverse)}else if(padding===3){paddedMsg=new bn(msg);if(paddedMsg.cmp(key.modulus)>=0){throw new Error("data too long for modulus")}}else{throw new Error("unknown padding")}if(reverse){return crt(paddedMsg,key)}else{return withPublic(paddedMsg,key)}};function oaep(key,msg){var k=key.modulus.byteLength();var mLen=msg.length;var iHash=createHash("sha1").update(new Buffer("")).digest();var hLen=iHash.length;var hLen2=2*hLen;if(mLen>k-hLen2-2){throw new Error("message too long")}var ps=new Buffer(k-mLen-hLen2-2);ps.fill(0);var dblen=k-hLen-1;var seed=randomBytes(hLen);var maskedDb=xor(Buffer.concat([iHash,ps,new Buffer([1]),msg],dblen),mgf(seed,dblen));var maskedSeed=xor(seed,mgf(maskedDb,hLen));return new bn(Buffer.concat([new Buffer([0]),maskedSeed,maskedDb],k))}function pkcs1(key,msg,reverse){var mLen=msg.length;var k=key.modulus.byteLength();if(mLen>k-11){throw new Error("message too long")}var ps;if(reverse){ps=new Buffer(k-mLen-3);ps.fill(255)}else{ps=nonZero(k-mLen-3)}return new bn(Buffer.concat([new Buffer([0,reverse?1:2]),ps,new Buffer([0]),msg],k))}function nonZero(len,crypto){var out=new Buffer(len);var i=0;var cache=randomBytes(len*2);var cur=0;var num;while(i<len){if(cur===cache.length){cache=randomBytes(len*2);cur=0}num=cache[cur++];if(num){out[i++]=num}}return out}}).call(this,require("buffer").Buffer)},{"./mgf":"/Users/paulfrazee/patchwork/node_modules/public-encrypt/mgf.js","./withPublic":"/Users/paulfrazee/patchwork/node_modules/public-encrypt/withPublic.js","./xor":"/Users/paulfrazee/patchwork/node_modules/public-encrypt/xor.js","bn.js":"/Users/paulfrazee/patchwork/node_modules/bn.js/lib/bn.js","browserify-rsa":"/Users/paulfrazee/patchwork/node_modules/browserify-rsa/index.js",buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js","create-hash":"/Users/paulfrazee/patchwork/node_modules/create-hash/browser.js","parse-asn1":"/Users/paulfrazee/patchwork/node_modules/parse-asn1/index.js",randombytes:"/Users/paulfrazee/patchwork/node_modules/randombytes/browser.js"}],"/Users/paulfrazee/patchwork/node_modules/public-encrypt/withPublic.js":[function(require,module,exports){(function(Buffer){var bn=require("bn.js");function withPublic(paddedMsg,key){return new Buffer(paddedMsg.toRed(bn.mont(key.modulus)).redPow(new bn(key.publicExponent)).fromRed().toArray())}module.exports=withPublic}).call(this,require("buffer").Buffer)},{"bn.js":"/Users/paulfrazee/patchwork/node_modules/bn.js/lib/bn.js",buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js"}],"/Users/paulfrazee/patchwork/node_modules/public-encrypt/xor.js":[function(require,module,exports){module.exports=function xor(a,b){var len=a.length;var i=-1;while(++i<len){a[i]^=b[i]}return a}},{}],"/Users/paulfrazee/patchwork/node_modules/pull-core/index.js":[function(require,module,exports){exports.id=function(item){return item};exports.prop=function(map){if("string"==typeof map){var key=map;return function(data){return data[key]}}return map};exports.tester=function(test){if(!test)return exports.id;if("object"===typeof test&&"function"===typeof test.test)return test.test.bind(test);return exports.prop(test)||exports.id};exports.addPipe=addPipe;function addPipe(read){if("function"!==typeof read)return read;read.pipe=read.pipe||function(reader){if("function"!=typeof reader)throw new Error("must pipe to reader");return addPipe(reader(read))};read.type="Source";return read}var Source=exports.Source=function Source(createRead){function s(){var args=[].slice.call(arguments);return addPipe(createRead.apply(null,args))}s.type="Source";return s};var Through=exports.Through=function(createRead){return function(){var args=[].slice.call(arguments);var piped=[];function reader(read){args.unshift(read);read=createRead.apply(null,args);while(piped.length)read=piped.shift()(read);return read}reader.pipe=function(read){piped.push(read);if(read.type==="Source")throw new Error("cannot pipe "+reader.type+" to Source");reader.type=read.type==="Sink"?"Sink":"Through";return reader};reader.type="Through";return reader}};var Sink=exports.Sink=function Sink(createReader){return function(){var args=[].slice.call(arguments);if(!createReader)throw new Error("must be createReader function");function s(read){args.unshift(read);return createReader.apply(null,args)}s.type="Sink";return s}};exports.maybeSink=exports.maybeDrain=function(createSink,cb){if(!cb)return Through(function(read){var ended;return function(close,cb){if(close)return read(close,cb);if(ended)return cb(ended);
createSink(function(err,data){ended=err||true;if(!err)cb(null,data);else cb(ended)})(read)}})();return Sink(function(read){return createSink(cb)(read)})()}},{}],"/Users/paulfrazee/patchwork/node_modules/pull-goodbye/endable.js":[function(require,module,exports){module.exports=function endable(goodbye){var ended,waiting,sentEnd;function h(read){return function(abort,cb){read(abort,function(end,data){if(end&&!sentEnd){sentEnd=true;return cb(null,goodbye)}if(end&&ended)cb(end);else if(end)waiting=cb;else cb(null,data)})}}h.end=function(){ended=true;if(waiting)waiting(ended);return h};return h}},{}],"/Users/paulfrazee/patchwork/node_modules/pull-goodbye/index.js":[function(require,module,exports){var endable=require("./endable");var pull=require("pull-stream");module.exports=function(stream,goodbye){goodbye=goodbye||"GOODBYE";var e=endable(goodbye);return{source:pull(stream.source,e),sink:pull(pull.filter(function(data){if(data!==goodbye)return true;e.end()}),stream.sink)}}},{"./endable":"/Users/paulfrazee/patchwork/node_modules/pull-goodbye/endable.js","pull-stream":"/Users/paulfrazee/patchwork/node_modules/pull-stream/index.js"}],"/Users/paulfrazee/patchwork/node_modules/pull-reader/index.js":[function(require,module,exports){var State=require("./state");function isInteger(i){return Number.isFinite(i)}function isFunction(f){return"function"===typeof f}module.exports=function(){var queue=[],read,reading=false;var state=State(),ended,streaming,abort;function drain(){while(queue.length){if(null==queue[0].length&&state.has(1)){queue.shift().cb(null,state.get())}else if(state.has(queue[0].length)){var next=queue.shift();next.cb(null,state.get(next.length))}else if(ended)queue.shift().cb(ended);else return!!queue.length}return queue.length||!state.has(1)||abort}function more(){var d=drain();if(d&&!reading)if(read&&!reading&&!streaming){reading=true;read(null,function(err,data){reading=false;if(err){ended=err;return drain()}state.add(data);more()})}}function reader(_read){if(abort){while(queue.length)queue.shift().cb(abort);return cb&&cb(abort)}read=_read;more()}reader.abort=function(err,cb){abort=err||true;if(read){reading=true;read(abort,function(){while(queue.length)queue.shift().cb(abort);cb&&cb(abort)})}else cb()};reader.read=function(len,cb){if(isFunction(cb)){queue.push({length:isInteger(len)?len:null,cb:cb});more()}else{streaming=true;return function(abort,cb){if(reading||state.has(1)){if(abort)return read.abort(abort,cb);queue.push({length:null,cb:cb});more()}else read(abort,function(err,data){cb(err,data)})}}};return reader}},{"./state":"/Users/paulfrazee/patchwork/node_modules/pull-reader/state.js"}],"/Users/paulfrazee/patchwork/node_modules/pull-reader/state.js":[function(require,module,exports){(function(Buffer){module.exports=function(){var buffers=[],length=0;function calcLength(){return buffers.reduce(function(a,b){return a+b.length},0)}return{length:length,data:this,add:function(data){if(!Buffer.isBuffer(data))throw new Error("data must be a buffer, was: "+JSON.stringify(data));this.length=length=length+data.length;buffers.push(data);return this},has:function(n){if(null==n)return length>0;return length>=n},get:function(n){if(n==null||n===length){length=0;var _buffers=buffers;buffers=[];return Buffer.concat(_buffers)}else if(n<length){var out=[],len=0;while(len+buffers[0].length<n){var b=buffers.shift();len+=b.length;out.push(b)}if(len<n){out.push(buffers[0].slice(0,n-len));buffers[0]=buffers[0].slice(n-len,buffers[0].length);this.length=length=length-n}return Buffer.concat(out)}else throw new Error("could not get "+n+" bytes")}}}}).call(this,require("buffer").Buffer)},{buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js"}],"/Users/paulfrazee/patchwork/node_modules/pull-serializer/index.js":[function(require,module,exports){var pull=require("pull-stream");var splitter=require("pull-split");module.exports=function(ps,_JSON,opts){_JSON=_JSON||JSON;opts=opts||{};var separator=opts.separator||"\n";return{sink:pull(splitter(separator),pull.map(function(data){if(data==="")return data;try{return _JSON.parse(data)}catch(e){if(!opts.ignoreErrors)throw e}}),pull.filter(),ps.sink),source:pull(ps.source,pull.map(function(data){if(data!==void 0)return _JSON.stringify(data)+separator}))}}},{"pull-split":"/Users/paulfrazee/patchwork/node_modules/pull-split/index.js","pull-stream":"/Users/paulfrazee/patchwork/node_modules/pull-serializer/node_modules/pull-stream/index.js"}],"/Users/paulfrazee/patchwork/node_modules/pull-serializer/node_modules/pull-core/index.js":[function(require,module,exports){arguments[4]["/Users/paulfrazee/patchwork/node_modules/muxrpc/node_modules/pull-core/index.js"][0].apply(exports,arguments)},{}],"/Users/paulfrazee/patchwork/node_modules/pull-serializer/node_modules/pull-stream/index.js":[function(require,module,exports){arguments[4]["/Users/paulfrazee/patchwork/node_modules/muxrpc/node_modules/pull-stream/index.js"][0].apply(exports,arguments)},{"./maybe":"/Users/paulfrazee/patchwork/node_modules/pull-serializer/node_modules/pull-stream/maybe.js","./sinks":"/Users/paulfrazee/patchwork/node_modules/pull-serializer/node_modules/pull-stream/sinks.js","./sources":"/Users/paulfrazee/patchwork/node_modules/pull-serializer/node_modules/pull-stream/sources.js","./throughs":"/Users/paulfrazee/patchwork/node_modules/pull-serializer/node_modules/pull-stream/throughs.js","pull-core":"/Users/paulfrazee/patchwork/node_modules/pull-serializer/node_modules/pull-core/index.js"}],"/Users/paulfrazee/patchwork/node_modules/pull-serializer/node_modules/pull-stream/maybe.js":[function(require,module,exports){arguments[4]["/Users/paulfrazee/patchwork/node_modules/muxrpc/node_modules/pull-stream/maybe.js"][0].apply(exports,arguments)},{"pull-core":"/Users/paulfrazee/patchwork/node_modules/pull-serializer/node_modules/pull-core/index.js"}],"/Users/paulfrazee/patchwork/node_modules/pull-serializer/node_modules/pull-stream/sinks.js":[function(require,module,exports){arguments[4]["/Users/paulfrazee/patchwork/node_modules/muxrpc/node_modules/pull-stream/sinks.js"][0].apply(exports,arguments)},{}],"/Users/paulfrazee/patchwork/node_modules/pull-serializer/node_modules/pull-stream/sources.js":[function(require,module,exports){var keys=exports.keys=function(object){return values(Object.keys(object))};var once=exports.once=function(value){return function(abort,cb){if(abort)return cb(abort);if(value!=null){var _value=value;value=null;cb(null,_value)}else cb(true)}};var values=exports.values=exports.readArray=function(array){if(!array)return function(abort,cb){return cb(abort||true)};if(!Array.isArray(array))array=Object.keys(array).map(function(k){return array[k]});var i=0;return function(end,cb){if(end)return cb&&cb(end);cb(i>=array.length||null,array[i++])}};var count=exports.count=function(max){var i=0;max=max||Infinity;return function(end,cb){if(end)return cb&&cb(end);if(i>max)return cb(true);cb(null,i++)}};var infinite=exports.infinite=function(generate){generate=generate||Math.random;return function(end,cb){if(end)return cb&&cb(end);return cb(null,generate())}};var defer=exports.defer=function(){var _read,cbs=[],_end;var read=function(end,cb){if(!_read){_end=end;cbs.push(cb)}else _read(end,cb)};read.resolve=function(read){if(_read)throw new Error("already resolved");_read=read;if(!_read)throw new Error("no read cannot resolve!"+_read);while(cbs.length)_read(_end,cbs.shift())};read.abort=function(err){read.resolve(function(_,cb){cb(err||true)})};return read};var empty=exports.empty=function(){return function(abort,cb){cb(true)}};var error=exports.error=function(err){return function(abort,cb){cb(err)}};var depthFirst=exports.depthFirst=function(start,createStream){var reads=[];reads.unshift(once(start));return function next(end,cb){if(!reads.length)return cb(true);reads[0](end,function(end,data){if(end){reads.shift();return next(null,cb)}reads.unshift(createStream(data));cb(end,data)})}};var widthFirst=exports.widthFirst=function(start,createStream){var reads=[];reads.push(once(start));return function next(end,cb){if(!reads.length)return cb(true);reads[0](end,function(end,data){if(end){reads.shift();return next(null,cb)}reads.push(createStream(data));cb(end,data)})}};var leafFirst=exports.leafFirst=function(start,createStream){var reads=[];var output=[];reads.push(once(start));return function next(end,cb){reads[0](end,function(end,data){if(end){reads.shift();if(!output.length)return cb(true);return cb(null,output.shift())}reads.unshift(createStream(data));output.unshift(data);next(null,cb)})}}},{}],"/Users/paulfrazee/patchwork/node_modules/pull-serializer/node_modules/pull-stream/throughs.js":[function(require,module,exports){arguments[4]["/Users/paulfrazee/patchwork/node_modules/muxrpc/node_modules/pull-stream/throughs.js"][0].apply(exports,arguments)},{"./sinks":"/Users/paulfrazee/patchwork/node_modules/pull-serializer/node_modules/pull-stream/sinks.js","./sources":"/Users/paulfrazee/patchwork/node_modules/pull-serializer/node_modules/pull-stream/sources.js",_process:"/Users/paulfrazee/patchwork/node_modules/process/browser.js","pull-core":"/Users/paulfrazee/patchwork/node_modules/pull-serializer/node_modules/pull-core/index.js"}],"/Users/paulfrazee/patchwork/node_modules/pull-split/index.js":[function(require,module,exports){var through=require("pull-through");module.exports=function split(matcher,mapper,reverse){var soFar="";if("function"===typeof matcher)mapper=matcher,matcher=null;if(!matcher)matcher="\n";return through(function(buffer){var stream=this,pieces=(reverse?buffer+soFar:soFar+buffer).split(matcher);soFar=reverse?pieces.shift():pieces.pop();var l=pieces.length;for(var i=0;i<l;i++){var piece=pieces[reverse?l-1-i:i];if(mapper){piece=mapper(piece);if("undefined"!==typeof piece)stream.queue(piece)}else stream.queue(piece)}},function(){if(soFar!=null)this.queue(soFar);this.queue(null)})}},{"pull-through":"/Users/paulfrazee/patchwork/node_modules/pull-through/index.js"}],"/Users/paulfrazee/patchwork/node_modules/pull-stream/index.js":[function(require,module,exports){arguments[4]["/Users/paulfrazee/patchwork/node_modules/pull-serializer/node_modules/pull-stream/index.js"][0].apply(exports,arguments)},{"./maybe":"/Users/paulfrazee/patchwork/node_modules/pull-stream/maybe.js","./sinks":"/Users/paulfrazee/patchwork/node_modules/pull-stream/sinks.js","./sources":"/Users/paulfrazee/patchwork/node_modules/pull-stream/sources.js","./throughs":"/Users/paulfrazee/patchwork/node_modules/pull-stream/throughs.js","pull-core":"/Users/paulfrazee/patchwork/node_modules/pull-stream/node_modules/pull-core/index.js"}],"/Users/paulfrazee/patchwork/node_modules/pull-stream/maybe.js":[function(require,module,exports){arguments[4]["/Users/paulfrazee/patchwork/node_modules/pull-serializer/node_modules/pull-stream/maybe.js"][0].apply(exports,arguments)},{"pull-core":"/Users/paulfrazee/patchwork/node_modules/pull-stream/node_modules/pull-core/index.js"}],"/Users/paulfrazee/patchwork/node_modules/pull-stream/node_modules/pull-core/index.js":[function(require,module,exports){arguments[4]["/Users/paulfrazee/patchwork/node_modules/pull-serializer/node_modules/pull-core/index.js"][0].apply(exports,arguments)},{}],"/Users/paulfrazee/patchwork/node_modules/pull-stream/sinks.js":[function(require,module,exports){arguments[4]["/Users/paulfrazee/patchwork/node_modules/pull-serializer/node_modules/pull-stream/sinks.js"][0].apply(exports,arguments)},{}],"/Users/paulfrazee/patchwork/node_modules/pull-stream/sources.js":[function(require,module,exports){arguments[4]["/Users/paulfrazee/patchwork/node_modules/muxrpc/node_modules/pull-stream/sources.js"][0].apply(exports,arguments)},{}],"/Users/paulfrazee/patchwork/node_modules/pull-stream/throughs.js":[function(require,module,exports){(function(process){var u=require("pull-core");var sources=require("./sources");var sinks=require("./sinks");var prop=u.prop;var id=u.id;var tester=u.tester;var map=exports.map=function(read,map){map=prop(map)||id;return function(abort,cb){read(abort,function(end,data){try{data=!end?map(data):null}catch(err){return read(err,function(){return cb(err)})}cb(end,data)})}};var asyncMap=exports.asyncMap=function(read,map){if(!map)return read;return function(end,cb){if(end)return read(end,cb);read(null,function(end,data){if(end)return cb(end,data);map(data,cb)})}};var paraMap=exports.paraMap=function(read,map,width){if(!map)return read;var ended=false,queue=[],_cb;function drain(){if(!_cb)return;var cb=_cb;_cb=null;if(queue.length)return cb(null,queue.shift());else if(ended&&!n)return cb(ended);_cb=cb}function pull(){read(null,function(end,data){if(end){ended=end;return drain()}n++;map(data,function(err,data){n--;queue.push(data);drain()});if(n<width&&!ended)pull()})}var n=0;return function(end,cb){if(end)return read(end,cb);_cb=cb;if(queue.length||ended)pull(),drain();else pull()};return highWaterMark(asyncMap(read,map),width)};var filter=exports.filter=function(read,test){test=tester(test);return function next(end,cb){var sync,loop=true;while(loop){loop=false;sync=true;read(end,function(end,data){if(!end&&!test(data))return sync?loop=true:next(end,cb);cb(end,data)});sync=false}}};var filterNot=exports.filterNot=function(read,test){test=tester(test);return filter(read,function(e){return!test(e)})};var through=exports.through=function(read,op,onEnd){var a=false;function once(abort){if(a||!onEnd)return;a=true;onEnd(abort===true?null:abort)}return function(end,cb){if(end)once(end);return read(end,function(end,data){if(!end)op&&op(data);else once(end);cb(end,data)})}};var take=exports.take=function(read,test,opts){opts=opts||{};var last=opts.last||false;var ended=false;if("number"===typeof test){last=true;var n=test;test=function(){return--n}}function terminate(cb){read(true,function(err){last=false;cb(err||true)})}return function(end,cb){if(ended)last?terminate(cb):cb(ended);else if(ended=end)read(ended,cb);else read(null,function(end,data){if(ended=ended||end){cb(ended)}else if(!test(data)){ended=true;last?cb(null,data):terminate(cb)}else cb(null,data)})}};var unique=exports.unique=function(read,field,invert){field=prop(field)||id;var seen={};return filter(read,function(data){var key=field(data);if(seen[key])return!!invert;else seen[key]=true;return!invert})};var nonUnique=exports.nonUnique=function(read,field){return unique(read,field,true)};var group=exports.group=function(read,size){var ended;size=size||5;var queue=[];return function(end,cb){if(end)return read(ended=end,cb);if(ended)return cb(ended);read(null,function next(end,data){if(ended=ended||end){if(!queue.length)return cb(ended);var _queue=queue;queue=[];return cb(null,_queue)}queue.push(data);if(queue.length<size)return read(null,next);var _queue=queue;queue=[];cb(null,_queue)})}};var flatten=exports.flatten=function(read){var _read;return function(abort,cb){if(abort){_read?_read(abort,function(err){read(err||abort,cb)}):read(abort,cb)}else if(_read)nextChunk();else nextStream();function nextChunk(){_read(null,function(err,data){if(err===true)nextStream();else if(err){read(true,function(abortErr){cb(err)})}else cb(null,data)})}function nextStream(){read(null,function(end,stream){if(end)return cb(end);if(Array.isArray(stream)||stream&&"object"===typeof stream)stream=sources.values(stream);else if("function"!=typeof stream)throw new Error("expected stream of streams");_read=stream;nextChunk()})}}};var prepend=exports.prepend=function(read,head){return function(abort,cb){if(head!==null){if(abort)return read(abort,cb);var _head=head;head=null;cb(null,_head)}else{read(abort,cb)}}};var _reduce=exports._reduce=function(read,reduce,initial){return function(close,cb){if(close)return read(close,cb);if(ended)return cb(ended);sinks.drain(function(item){initial=reduce(initial,item)},function(err,data){ended=err||true;if(!err)cb(null,initial);else cb(ended)})(read)}};var nextTick=process.nextTick;var highWaterMark=exports.highWaterMark=function(read,highWaterMark){var buffer=[],waiting=[],ended,ending,reading=false;highWaterMark=highWaterMark||10;function readAhead(){while(waiting.length&&(buffer.length||ended))waiting.shift()(ended,ended?null:buffer.shift());if(!buffer.length&&ending)ended=ending}function next(){if(ended||ending||reading||buffer.length>=highWaterMark)return;reading=true;return read(ended||ending,function(end,data){reading=false;ending=ending||end;if(data!=null)buffer.push(data);next();readAhead()})}process.nextTick(next);return function(end,cb){ended=ended||end;waiting.push(cb);next();readAhead()}};var flatMap=exports.flatMap=function(read,mapper){mapper=mapper||id;var queue=[],ended;return function(abort,cb){if(queue.length)return cb(null,queue.shift());else if(ended)return cb(ended);read(abort,function next(end,data){if(end)ended=end;else{var add=mapper(data);while(add&&add.length)queue.push(add.shift())}if(queue.length)cb(null,queue.shift());else if(ended)cb(ended);else read(null,next)})}}}).call(this,require("_process"))},{"./sinks":"/Users/paulfrazee/patchwork/node_modules/pull-stream/sinks.js","./sources":"/Users/paulfrazee/patchwork/node_modules/pull-stream/sources.js",_process:"/Users/paulfrazee/patchwork/node_modules/process/browser.js","pull-core":"/Users/paulfrazee/patchwork/node_modules/pull-stream/node_modules/pull-core/index.js"}],"/Users/paulfrazee/patchwork/node_modules/pull-through/index.js":[function(require,module,exports){var pull=require("pull-stream");var looper=require("looper");module.exports=pull.pipeable(function(read,writer,ender){var queue=[],ended,error;function enqueue(data){queue.push(data)}writer=writer||function(data){this.queue(data)};ender=ender||function(){this.queue(null)};var emitter={emit:function(event,data){if(event=="data")enqueue(data);if(event=="end")ended=true,enqueue(null);if(event=="error")error=data},queue:enqueue};var _cb;return function(end,cb){ended=ended||end;if(end)return read(end,function(){if(_cb){var t=_cb;_cb=null;t(end)}cb(end)});_cb=cb;looper(function pull(next){if(!_cb)return;cb=_cb;if(error)_cb=null,cb(error);else if(queue.length){var data=queue.shift();_cb=null,cb(data===null,data)}else{read(ended,function(end,data){if(end&&end!==true){error=end;return next()}if(ended=ended||end)ender.call(emitter);else if(data!==null){writer.call(emitter,data);if(error||ended)return read(error||ended,function(){_cb=null;cb(error||ended)})}next(pull)})}})}})},{looper:"/Users/paulfrazee/patchwork/node_modules/looper/index.js","pull-stream":"/Users/paulfrazee/patchwork/node_modules/pull-through/node_modules/pull-stream/index.js"}],"/Users/paulfrazee/patchwork/node_modules/pull-through/node_modules/pull-core/index.js":[function(require,module,exports){arguments[4]["/Users/paulfrazee/patchwork/node_modules/pull-stream/node_modules/pull-core/index.js"][0].apply(exports,arguments)},{}],"/Users/paulfrazee/patchwork/node_modules/pull-through/node_modules/pull-stream/index.js":[function(require,module,exports){arguments[4]["/Users/paulfrazee/patchwork/node_modules/pull-stream/index.js"][0].apply(exports,arguments)},{"./maybe":"/Users/paulfrazee/patchwork/node_modules/pull-through/node_modules/pull-stream/maybe.js","./sinks":"/Users/paulfrazee/patchwork/node_modules/pull-through/node_modules/pull-stream/sinks.js","./sources":"/Users/paulfrazee/patchwork/node_modules/pull-through/node_modules/pull-stream/sources.js","./throughs":"/Users/paulfrazee/patchwork/node_modules/pull-through/node_modules/pull-stream/throughs.js","pull-core":"/Users/paulfrazee/patchwork/node_modules/pull-through/node_modules/pull-core/index.js"}],"/Users/paulfrazee/patchwork/node_modules/pull-through/node_modules/pull-stream/maybe.js":[function(require,module,exports){arguments[4]["/Users/paulfrazee/patchwork/node_modules/pull-stream/maybe.js"][0].apply(exports,arguments)},{"pull-core":"/Users/paulfrazee/patchwork/node_modules/pull-through/node_modules/pull-core/index.js"}],"/Users/paulfrazee/patchwork/node_modules/pull-through/node_modules/pull-stream/sinks.js":[function(require,module,exports){arguments[4]["/Users/paulfrazee/patchwork/node_modules/pull-stream/sinks.js"][0].apply(exports,arguments)},{}],"/Users/paulfrazee/patchwork/node_modules/pull-through/node_modules/pull-stream/sources.js":[function(require,module,exports){arguments[4]["/Users/paulfrazee/patchwork/node_modules/pull-stream/sources.js"][0].apply(exports,arguments)},{}],"/Users/paulfrazee/patchwork/node_modules/pull-through/node_modules/pull-stream/throughs.js":[function(require,module,exports){arguments[4]["/Users/paulfrazee/patchwork/node_modules/pull-serializer/node_modules/pull-stream/throughs.js"][0].apply(exports,arguments)},{"./sinks":"/Users/paulfrazee/patchwork/node_modules/pull-through/node_modules/pull-stream/sinks.js","./sources":"/Users/paulfrazee/patchwork/node_modules/pull-through/node_modules/pull-stream/sources.js",_process:"/Users/paulfrazee/patchwork/node_modules/process/browser.js","pull-core":"/Users/paulfrazee/patchwork/node_modules/pull-through/node_modules/pull-core/index.js"}],"/Users/paulfrazee/patchwork/node_modules/pull-ws-server/client.js":[function(require,module,exports){"use strict";var ws=require("pull-ws");var WebSocket=require("ws");var url=require("url");function isFunction(f){return"function"===typeof f}exports.connect=function(addr,opts){if(isFunction(opts)){var cb=opts;var called=false;opts={onOpen:function(){if(called)return;called=true;cb()},onClose:function(err){if(called)return;called=true;cb(err)}}}var u="string"===typeof addr?addr:url.format({protocol:"ws",slashes:true,hostname:addr.host||addr.hostname,port:addr.port,pathname:addr.pathname});var socket=new WebSocket(u);var stream=ws(socket);stream.remoteAddress=u;if(opts&&typeof opts.onOpen=="function"){socket.addEventListener("open",opts.onOpen)}if(opts&&typeof opts.onClose=="function"){socket.addEventListener("close",opts.onClose)}stream.close=function(cb){if(cb&&typeof cb=="function")socket.addEventListener("close",cb);socket.close()};return stream}},{"pull-ws":"/Users/paulfrazee/patchwork/node_modules/pull-ws/index.js",url:"/Users/paulfrazee/patchwork/node_modules/url/url.js",ws:"/Users/paulfrazee/patchwork/node_modules/ws/lib/browser.js"}],"/Users/paulfrazee/patchwork/node_modules/pull-ws/index.js":[function(require,module,exports){exports=module.exports=duplex;exports.source=require("./source");exports.sink=require("./sink");function duplex(ws,opts){return{source:exports.source(ws),sink:exports.sink(ws,opts)}}},{"./sink":"/Users/paulfrazee/patchwork/node_modules/pull-ws/sink.js","./source":"/Users/paulfrazee/patchwork/node_modules/pull-ws/source.js"}],"/Users/paulfrazee/patchwork/node_modules/pull-ws/ready.js":[function(require,module,exports){module.exports=function(socket,callback){var remove=socket&&(socket.removeEventListener||socket.removeListener);function cleanup(){if(typeof remove=="function"){remove.call(socket,"open",handleOpen);remove.call(socket,"error",handleErr)}}function handleOpen(evt){cleanup();callback()}function handleErr(evt){cleanup();callback(evt)}if(socket.readyState>=2){return callback(true)}if(socket.readyState===1){return callback()}socket.addEventListener("open",handleOpen);socket.addEventListener("error",handleErr)}},{}],"/Users/paulfrazee/patchwork/node_modules/pull-ws/sink.js":[function(require,module,exports){(function(process){var pull=require("pull-core");var ready=require("./ready");module.exports=pull.Sink(function(read,socket,opts){opts=opts||{};var closeOnEnd=opts.closeOnEnd!==false;var onClose="function"===typeof opts?opts:opts.onClose;function next(end,data){if(end){if(closeOnEnd&&socket.readyState<=1){if(onClose)socket.addEventListener("close",function(ev){if(ev.wasClean)onClose();else{var err=new Error("ws error");err.event=ev;onClose(err)}});socket.close()}return}ready(socket,function(end){if(end){return read(end,function(){})}socket.send(data);process.nextTick(function(){read(null,next)})})}read(null,next)})}).call(this,require("_process"))},{"./ready":"/Users/paulfrazee/patchwork/node_modules/pull-ws/ready.js",_process:"/Users/paulfrazee/patchwork/node_modules/process/browser.js","pull-core":"/Users/paulfrazee/patchwork/node_modules/pull-core/index.js"}],"/Users/paulfrazee/patchwork/node_modules/pull-ws/source.js":[function(require,module,exports){var pull=require("pull-core");var ready=require("./ready");module.exports=pull.Source(function(socket){var buffer=[];var receiver;var ended;socket.addEventListener("message",function(evt){if(receiver){return receiver(null,evt.data)}buffer.push(evt.data)});socket.addEventListener("close",function(evt){if(ended)return;if(receiver){return receiver(ended=true)}});socket.addEventListener("error",function(evt){if(ended)return;ended=evt;if(receiver){receiver(ended)}});function read(abort,cb){receiver=null;if(ended)return cb(ended);if(abort){receiver=cb;return socket.close()}ready(socket,function(end){if(end){return cb(ended=end)}if(ended&&ended!==true){return cb(ended)}else if(buffer.length>0){return cb(null,buffer.shift())}else if(ended){return cb(true)}receiver=cb})}return read})},{"./ready":"/Users/paulfrazee/patchwork/node_modules/pull-ws/ready.js","pull-core":"/Users/paulfrazee/patchwork/node_modules/pull-core/index.js"}],"/Users/paulfrazee/patchwork/node_modules/punycode/punycode.js":[function(require,module,exports){(function(global){(function(root){var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var freeModule=typeof module=="object"&&module&&!module.nodeType&&module;var freeGlobal=typeof global=="object"&&global;if(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal||freeGlobal.self===freeGlobal){root=freeGlobal}var punycode,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode,key;function error(type){throw new RangeError(errors[type])}function map(array,fn){var length=array.length;var result=[];while(length--){result[length]=fn(array[length])}return result}function mapDomain(string,fn){var parts=string.split("@");var result="";if(parts.length>1){result=parts[0]+"@";string=parts[1]}string=string.replace(regexSeparators,".");var labels=string.split(".");var encoded=map(labels,fn).join(".");return result+encoded}function ucs2decode(string){var output=[],counter=0,length=string.length,value,extra;while(counter<length){value=string.charCodeAt(counter++);if(value>=55296&&value<=56319&&counter<length){extra=string.charCodeAt(counter++);if((extra&64512)==56320){output.push(((value&1023)<<10)+(extra&1023)+65536)}else{output.push(value);counter--}}else{output.push(value)}}return output}function ucs2encode(array){return map(array,function(value){var output="";if(value>65535){value-=65536;output+=stringFromCharCode(value>>>10&1023|55296);value=56320|value&1023}output+=stringFromCharCode(value);return output}).join("")}function basicToDigit(codePoint){if(codePoint-48<10){return codePoint-22}if(codePoint-65<26){return codePoint-65}if(codePoint-97<26){return codePoint-97}return base}function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((flag!=0)<<5)}function adapt(delta,numPoints,firstTime){var k=0;delta=firstTime?floor(delta/damp):delta>>1;delta+=floor(delta/numPoints);for(;delta>baseMinusTMin*tMax>>1;k+=base){delta=floor(delta/baseMinusTMin)}return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}function decode(input){var output=[],inputLength=input.length,out,i=0,n=initialN,bias=initialBias,basic,j,index,oldi,w,k,digit,t,baseMinusT;basic=input.lastIndexOf(delimiter);if(basic<0){basic=0}for(j=0;j<basic;++j){if(input.charCodeAt(j)>=128){error("not-basic")}output.push(input.charCodeAt(j))}for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;;k+=base){if(index>=inputLength){error("invalid-input")}digit=basicToDigit(input.charCodeAt(index++));if(digit>=base||digit>floor((maxInt-i)/w)){error("overflow")}i+=digit*w;t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(digit<t){break}baseMinusT=base-t;if(w>floor(maxInt/baseMinusT)){error("overflow")}w*=baseMinusT}out=output.length+1;bias=adapt(i-oldi,out,oldi==0);if(floor(i/out)>maxInt-n){error("overflow")}n+=floor(i/out);i%=out;output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,output=[],inputLength,handledCPCountPlusOne,baseMinusT,qMinusT;input=ucs2decode(input);inputLength=input.length;n=initialN;delta=0;bias=initialBias;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<128){output.push(stringFromCharCode(currentValue))}}handledCPCount=basicLength=output.length;if(basicLength){output.push(delimiter)}while(handledCPCount<inputLength){for(m=maxInt,j=0;j<inputLength;++j){currentValue=input[j];if(currentValue>=n&&currentValue<m){m=currentValue}}handledCPCountPlusOne=handledCPCount+1;if(m-n>floor((maxInt-delta)/handledCPCountPlusOne)){error("overflow")}delta+=(m-n)*handledCPCountPlusOne;n=m;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<n&&++delta>maxInt){error("overflow")}if(currentValue==n){for(q=delta,k=base;;k+=base){t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(q<t){break}qMinusT=q-t;baseMinusT=base-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0)));q=floor(qMinusT/baseMinusT)}output.push(stringFromCharCode(digitToBasic(q,0)));bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength);delta=0;++handledCPCount}}++delta;++n}return output.join("")}function toUnicode(input){return mapDomain(input,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string})}function toASCII(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string})}punycode={version:"1.3.2",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:toASCII,toUnicode:toUnicode};if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){define("punycode",function(){return punycode})}else if(freeExports&&freeModule){if(module.exports==freeExports){freeModule.exports=punycode}else{for(key in punycode){punycode.hasOwnProperty(key)&&(freeExports[key]=punycode[key])}}}else{root.punycode=punycode}})(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],"/Users/paulfrazee/patchwork/node_modules/qs/lib/index.js":[function(require,module,exports){var Stringify=require("./stringify");var Parse=require("./parse");var internals={};module.exports={stringify:Stringify,parse:Parse}},{"./parse":"/Users/paulfrazee/patchwork/node_modules/qs/lib/parse.js","./stringify":"/Users/paulfrazee/patchwork/node_modules/qs/lib/stringify.js"}],"/Users/paulfrazee/patchwork/node_modules/qs/lib/parse.js":[function(require,module,exports){var Utils=require("./utils");var internals={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3,strictNullHandling:false,plainObjects:false,allowPrototypes:false};internals.parseValues=function(str,options){var obj={};var parts=str.split(options.delimiter,options.parameterLimit===Infinity?undefined:options.parameterLimit);for(var i=0,il=parts.length;i<il;++i){var part=parts[i];var pos=part.indexOf("]=")===-1?part.indexOf("="):part.indexOf("]=")+1;if(pos===-1){obj[Utils.decode(part)]="";if(options.strictNullHandling){obj[Utils.decode(part)]=null}}else{var key=Utils.decode(part.slice(0,pos));var val=Utils.decode(part.slice(pos+1));if(!Object.prototype.hasOwnProperty.call(obj,key)){obj[key]=val}else{obj[key]=[].concat(obj[key]).concat(val)}}}return obj};internals.parseObject=function(chain,val,options){if(!chain.length){return val}var root=chain.shift();var obj;if(root==="[]"){obj=[];obj=obj.concat(internals.parseObject(chain,val,options))}else{
obj=options.plainObjects?Object.create(null):{};var cleanRoot=root[0]==="["&&root[root.length-1]==="]"?root.slice(1,root.length-1):root;var index=parseInt(cleanRoot,10);var indexString=""+index;if(!isNaN(index)&&root!==cleanRoot&&indexString===cleanRoot&&index>=0&&(options.parseArrays&&index<=options.arrayLimit)){obj=[];obj[index]=internals.parseObject(chain,val,options)}else{obj[cleanRoot]=internals.parseObject(chain,val,options)}}return obj};internals.parseKeys=function(key,val,options){if(!key){return}if(options.allowDots){key=key.replace(/\.([^\.\[]+)/g,"[$1]")}var parent=/^([^\[\]]*)/;var child=/(\[[^\[\]]*\])/g;var segment=parent.exec(key);var keys=[];if(segment[1]){if(!options.plainObjects&&Object.prototype.hasOwnProperty(segment[1])){if(!options.allowPrototypes){return}}keys.push(segment[1])}var i=0;while((segment=child.exec(key))!==null&&i<options.depth){++i;if(!options.plainObjects&&Object.prototype.hasOwnProperty(segment[1].replace(/\[|\]/g,""))){if(!options.allowPrototypes){continue}}keys.push(segment[1])}if(segment){keys.push("["+key.slice(segment.index)+"]")}return internals.parseObject(keys,val,options)};module.exports=function(str,options){options=options||{};options.delimiter=typeof options.delimiter==="string"||Utils.isRegExp(options.delimiter)?options.delimiter:internals.delimiter;options.depth=typeof options.depth==="number"?options.depth:internals.depth;options.arrayLimit=typeof options.arrayLimit==="number"?options.arrayLimit:internals.arrayLimit;options.parseArrays=options.parseArrays!==false;options.allowDots=options.allowDots!==false;options.plainObjects=typeof options.plainObjects==="boolean"?options.plainObjects:internals.plainObjects;options.allowPrototypes=typeof options.allowPrototypes==="boolean"?options.allowPrototypes:internals.allowPrototypes;options.parameterLimit=typeof options.parameterLimit==="number"?options.parameterLimit:internals.parameterLimit;options.strictNullHandling=typeof options.strictNullHandling==="boolean"?options.strictNullHandling:internals.strictNullHandling;if(str===""||str===null||typeof str==="undefined"){return options.plainObjects?Object.create(null):{}}var tempObj=typeof str==="string"?internals.parseValues(str,options):str;var obj=options.plainObjects?Object.create(null):{};var keys=Object.keys(tempObj);for(var i=0,il=keys.length;i<il;++i){var key=keys[i];var newObj=internals.parseKeys(key,tempObj[key],options);obj=Utils.merge(obj,newObj,options)}return Utils.compact(obj)}},{"./utils":"/Users/paulfrazee/patchwork/node_modules/qs/lib/utils.js"}],"/Users/paulfrazee/patchwork/node_modules/qs/lib/stringify.js":[function(require,module,exports){var Utils=require("./utils");var internals={delimiter:"&",arrayPrefixGenerators:{brackets:function(prefix,key){return prefix+"[]"},indices:function(prefix,key){return prefix+"["+key+"]"},repeat:function(prefix,key){return prefix}},strictNullHandling:false};internals.stringify=function(obj,prefix,generateArrayPrefix,strictNullHandling,filter){if(typeof filter==="function"){obj=filter(prefix,obj)}else if(Utils.isBuffer(obj)){obj=obj.toString()}else if(obj instanceof Date){obj=obj.toISOString()}else if(obj===null){if(strictNullHandling){return Utils.encode(prefix)}obj=""}if(typeof obj==="string"||typeof obj==="number"||typeof obj==="boolean"){return[Utils.encode(prefix)+"="+Utils.encode(obj)]}var values=[];if(typeof obj==="undefined"){return values}var objKeys=Array.isArray(filter)?filter:Object.keys(obj);for(var i=0,il=objKeys.length;i<il;++i){var key=objKeys[i];if(Array.isArray(obj)){values=values.concat(internals.stringify(obj[key],generateArrayPrefix(prefix,key),generateArrayPrefix,strictNullHandling,filter))}else{values=values.concat(internals.stringify(obj[key],prefix+"["+key+"]",generateArrayPrefix,strictNullHandling,filter))}}return values};module.exports=function(obj,options){options=options||{};var delimiter=typeof options.delimiter==="undefined"?internals.delimiter:options.delimiter;var strictNullHandling=typeof options.strictNullHandling==="boolean"?options.strictNullHandling:internals.strictNullHandling;var objKeys;var filter;if(typeof options.filter==="function"){filter=options.filter;obj=filter("",obj)}else if(Array.isArray(options.filter)){objKeys=filter=options.filter}var keys=[];if(typeof obj!=="object"||obj===null){return""}var arrayFormat;if(options.arrayFormat in internals.arrayPrefixGenerators){arrayFormat=options.arrayFormat}else if("indices"in options){arrayFormat=options.indices?"indices":"repeat"}else{arrayFormat="indices"}var generateArrayPrefix=internals.arrayPrefixGenerators[arrayFormat];if(!objKeys){objKeys=Object.keys(obj)}for(var i=0,il=objKeys.length;i<il;++i){var key=objKeys[i];keys=keys.concat(internals.stringify(obj[key],key,generateArrayPrefix,strictNullHandling,filter))}return keys.join(delimiter)}},{"./utils":"/Users/paulfrazee/patchwork/node_modules/qs/lib/utils.js"}],"/Users/paulfrazee/patchwork/node_modules/qs/lib/utils.js":[function(require,module,exports){var internals={};internals.hexTable=new Array(256);for(var h=0;h<256;++h){internals.hexTable[h]="%"+((h<16?"0":"")+h.toString(16)).toUpperCase()}exports.arrayToObject=function(source,options){var obj=options.plainObjects?Object.create(null):{};for(var i=0,il=source.length;i<il;++i){if(typeof source[i]!=="undefined"){obj[i]=source[i]}}return obj};exports.merge=function(target,source,options){if(!source){return target}if(typeof source!=="object"){if(Array.isArray(target)){target.push(source)}else if(typeof target==="object"){target[source]=true}else{target=[target,source]}return target}if(typeof target!=="object"){target=[target].concat(source);return target}if(Array.isArray(target)&&!Array.isArray(source)){target=exports.arrayToObject(target,options)}var keys=Object.keys(source);for(var k=0,kl=keys.length;k<kl;++k){var key=keys[k];var value=source[key];if(!Object.prototype.hasOwnProperty.call(target,key)){target[key]=value}else{target[key]=exports.merge(target[key],value,options)}}return target};exports.decode=function(str){try{return decodeURIComponent(str.replace(/\+/g," "))}catch(e){return str}};exports.encode=function(str){if(str.length===0){return str}if(typeof str!=="string"){str=""+str}var out="";for(var i=0,il=str.length;i<il;++i){var c=str.charCodeAt(i);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122){out+=str[i];continue}if(c<128){out+=internals.hexTable[c];continue}if(c<2048){out+=internals.hexTable[192|c>>6]+internals.hexTable[128|c&63];continue}if(c<55296||c>=57344){out+=internals.hexTable[224|c>>12]+internals.hexTable[128|c>>6&63]+internals.hexTable[128|c&63];continue}++i;c=65536+((c&1023)<<10|str.charCodeAt(i)&1023);out+=internals.hexTable[240|c>>18]+internals.hexTable[128|c>>12&63]+internals.hexTable[128|c>>6&63]+internals.hexTable[128|c&63]}return out};exports.compact=function(obj,refs){if(typeof obj!=="object"||obj===null){return obj}refs=refs||[];var lookup=refs.indexOf(obj);if(lookup!==-1){return refs[lookup]}refs.push(obj);if(Array.isArray(obj)){var compacted=[];for(var i=0,il=obj.length;i<il;++i){if(typeof obj[i]!=="undefined"){compacted.push(obj[i])}}return compacted}var keys=Object.keys(obj);for(i=0,il=keys.length;i<il;++i){var key=keys[i];obj[key]=exports.compact(obj[key],refs)}return obj};exports.isRegExp=function(obj){return Object.prototype.toString.call(obj)==="[object RegExp]"};exports.isBuffer=function(obj){if(obj===null||typeof obj==="undefined"){return false}return!!(obj.constructor&&obj.constructor.isBuffer&&obj.constructor.isBuffer(obj))}},{}],"/Users/paulfrazee/patchwork/node_modules/querystring-es3/decode.js":[function(require,module,exports){"use strict";function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=function(qs,sep,eq,options){sep=sep||"&";eq=eq||"=";var obj={};if(typeof qs!=="string"||qs.length===0){return obj}var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1e3;if(options&&typeof options.maxKeys==="number"){maxKeys=options.maxKeys}var len=qs.length;if(maxKeys>0&&len>maxKeys){len=maxKeys}for(var i=0;i<len;++i){var x=qs[i].replace(regexp,"%20"),idx=x.indexOf(eq),kstr,vstr,k,v;if(idx>=0){kstr=x.substr(0,idx);vstr=x.substr(idx+1)}else{kstr=x;vstr=""}k=decodeURIComponent(kstr);v=decodeURIComponent(vstr);if(!hasOwnProperty(obj,k)){obj[k]=v}else if(isArray(obj[k])){obj[k].push(v)}else{obj[k]=[obj[k],v]}}return obj};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==="[object Array]"}},{}],"/Users/paulfrazee/patchwork/node_modules/querystring-es3/encode.js":[function(require,module,exports){"use strict";var stringifyPrimitive=function(v){switch(typeof v){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return""}};module.exports=function(obj,sep,eq,name){sep=sep||"&";eq=eq||"=";if(obj===null){obj=undefined}if(typeof obj==="object"){return map(objectKeys(obj),function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;if(isArray(obj[k])){return map(obj[k],function(v){return ks+encodeURIComponent(stringifyPrimitive(v))}).join(sep)}else{return ks+encodeURIComponent(stringifyPrimitive(obj[k]))}}).join(sep)}if(!name)return"";return encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj))};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==="[object Array]"};function map(xs,f){if(xs.map)return xs.map(f);var res=[];for(var i=0;i<xs.length;i++){res.push(f(xs[i],i))}return res}var objectKeys=Object.keys||function(obj){var res=[];for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))res.push(key)}return res}},{}],"/Users/paulfrazee/patchwork/node_modules/querystring-es3/index.js":[function(require,module,exports){"use strict";exports.decode=exports.parse=require("./decode");exports.encode=exports.stringify=require("./encode")},{"./decode":"/Users/paulfrazee/patchwork/node_modules/querystring-es3/decode.js","./encode":"/Users/paulfrazee/patchwork/node_modules/querystring-es3/encode.js"}],"/Users/paulfrazee/patchwork/node_modules/randombytes/browser.js":[function(require,module,exports){(function(process,global,Buffer){"use strict";function oldBrowser(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var crypto=global.crypto||global.msCrypto;if(crypto&&crypto.getRandomValues){module.exports=randomBytes}else{module.exports=oldBrowser}function randomBytes(size,cb){if(size>65536)throw new Error("requested too many random bytes");var rawBytes=new global.Uint8Array(size);crypto.getRandomValues(rawBytes);var bytes=new Buffer(rawBytes.buffer);if(typeof cb==="function"){return process.nextTick(function(){cb(null,bytes)})}return bytes}}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{},require("buffer").Buffer)},{_process:"/Users/paulfrazee/patchwork/node_modules/process/browser.js",buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js"}],"/Users/paulfrazee/patchwork/node_modules/react-addons-css-transition-group/index.js":[function(require,module,exports){module.exports=require("react/lib/ReactCSSTransitionGroup")},{"react/lib/ReactCSSTransitionGroup":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactCSSTransitionGroup.js"}],"/Users/paulfrazee/patchwork/node_modules/react-dom/index.js":[function(require,module,exports){"use strict";module.exports=require("react/lib/ReactDOM")},{"react/lib/ReactDOM":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDOM.js"}],"/Users/paulfrazee/patchwork/node_modules/react-infinite/build/computers/arrayInfiniteComputer.js":[function(require,module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(_x,_x2,_x3){var _again=true;_function:while(_again){var object=_x,property=_x2,receiver=_x3;_again=false;if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{_x=parent;_x2=property;_x3=receiver;_again=true;desc=parent=undefined;continue _function}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var InfiniteComputer=require("./infiniteComputer.js"),bs=require("../utils/binaryIndexSearch.js");var ArrayInfiniteComputer=function(_InfiniteComputer){_inherits(ArrayInfiniteComputer,_InfiniteComputer);function ArrayInfiniteComputer(heightData,numberOfChildren){_classCallCheck(this,ArrayInfiniteComputer);_get(Object.getPrototypeOf(ArrayInfiniteComputer.prototype),"constructor",this).call(this,heightData,numberOfChildren);this.prefixHeightData=this.heightData.reduce(function(acc,next){if(acc.length===0){return[next]}else{acc.push(acc[acc.length-1]+next);return acc}},[])}_createClass(ArrayInfiniteComputer,[{key:"maybeIndexToIndex",value:function maybeIndexToIndex(index){if(typeof index==="undefined"||index===null){return this.prefixHeightData.length-1}else{return index}}},{key:"getTotalScrollableHeight",value:function getTotalScrollableHeight(){var length=this.prefixHeightData.length;return length===0?0:this.prefixHeightData[length-1]}},{key:"getDisplayIndexStart",value:function getDisplayIndexStart(windowTop){var foundIndex=bs.binaryIndexSearch(this.prefixHeightData,windowTop,bs.opts.CLOSEST_HIGHER);return this.maybeIndexToIndex(foundIndex)}},{key:"getDisplayIndexEnd",value:function getDisplayIndexEnd(windowBottom){var foundIndex=bs.binaryIndexSearch(this.prefixHeightData,windowBottom,bs.opts.CLOSEST_HIGHER);return this.maybeIndexToIndex(foundIndex)}},{key:"getTopSpacerHeight",value:function getTopSpacerHeight(displayIndexStart){var previous=displayIndexStart-1;return previous<0?0:this.prefixHeightData[previous]}},{key:"getBottomSpacerHeight",value:function getBottomSpacerHeight(displayIndexEnd){if(displayIndexEnd===-1){return 0}return this.getTotalScrollableHeight()-this.prefixHeightData[displayIndexEnd]}}]);return ArrayInfiniteComputer}(InfiniteComputer);module.exports=ArrayInfiniteComputer},{"../utils/binaryIndexSearch.js":"/Users/paulfrazee/patchwork/node_modules/react-infinite/build/utils/binaryIndexSearch.js","./infiniteComputer.js":"/Users/paulfrazee/patchwork/node_modules/react-infinite/build/computers/infiniteComputer.js"}],"/Users/paulfrazee/patchwork/node_modules/react-infinite/build/computers/constantInfiniteComputer.js":[function(require,module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(_x,_x2,_x3){var _again=true;_function:while(_again){var object=_x,property=_x2,receiver=_x3;_again=false;if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{_x=parent;_x2=property;_x3=receiver;_again=true;desc=parent=undefined;continue _function}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var InfiniteComputer=require("./infiniteComputer.js");var ConstantInfiniteComputer=function(_InfiniteComputer){_inherits(ConstantInfiniteComputer,_InfiniteComputer);function ConstantInfiniteComputer(){_classCallCheck(this,ConstantInfiniteComputer);_get(Object.getPrototypeOf(ConstantInfiniteComputer.prototype),"constructor",this).apply(this,arguments)}_createClass(ConstantInfiniteComputer,[{key:"getTotalScrollableHeight",value:function getTotalScrollableHeight(){return this.heightData*this.numberOfChildren}},{key:"getDisplayIndexStart",value:function getDisplayIndexStart(windowTop){return Math.floor(windowTop/this.heightData)}},{key:"getDisplayIndexEnd",value:function getDisplayIndexEnd(windowBottom){var nonZeroIndex=Math.ceil(windowBottom/this.heightData);if(nonZeroIndex>0){return nonZeroIndex-1}return nonZeroIndex}},{key:"getTopSpacerHeight",value:function getTopSpacerHeight(displayIndexStart){return displayIndexStart*this.heightData}},{key:"getBottomSpacerHeight",value:function getBottomSpacerHeight(displayIndexEnd){var nonZeroIndex=displayIndexEnd+1;return Math.max(0,(this.numberOfChildren-nonZeroIndex)*this.heightData)}}]);return ConstantInfiniteComputer}(InfiniteComputer);module.exports=ConstantInfiniteComputer},{"./infiniteComputer.js":"/Users/paulfrazee/patchwork/node_modules/react-infinite/build/computers/infiniteComputer.js"}],"/Users/paulfrazee/patchwork/node_modules/react-infinite/build/computers/infiniteComputer.js":[function(require,module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var InfiniteComputer=function(){function InfiniteComputer(heightData,numberOfChildren){_classCallCheck(this,InfiniteComputer);this.heightData=heightData;this.numberOfChildren=numberOfChildren}_createClass(InfiniteComputer,[{key:"getTotalScrollableHeight",value:function getTotalScrollableHeight(){throw new Error("getTotalScrollableHeight not implemented.")}},{key:"getDisplayIndexStart",value:function getDisplayIndexStart(windowTop){throw new Error("getDisplayIndexStart not implemented.")}},{key:"getDisplayIndexEnd",value:function getDisplayIndexEnd(windowBottom){throw new Error("getDisplayIndexEnd not implemented.")}},{key:"getTopSpacerHeight",value:function getTopSpacerHeight(displayIndexStart){throw new Error("getTopSpacerHeight not implemented.")}},{key:"getBottomSpacerHeight",value:function getBottomSpacerHeight(displayIndexEnd){throw new Error("getBottomSpacerHeight not implemented.")}}]);return InfiniteComputer}();module.exports=InfiniteComputer},{}],"/Users/paulfrazee/patchwork/node_modules/react-infinite/build/react-infinite.js":[function(require,module,exports){(function(global){"use strict";function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var React=global.React||require("react");require("./utils/establish-polyfills");var checkProps=require("./utils/checkProps");var preloadType=require("./utils/types").preloadType;var scaleEnum=require("./utils/scaleEnum");var infiniteHelpers=require("./utils/infiniteHelpers");var _isFinite=require("lodash.isfinite");var Infinite=React.createClass({displayName:"Infinite",propTypes:{children:React.PropTypes.any,handleScroll:React.PropTypes.func,preloadBatchSize:preloadType,preloadAdditionalHeight:preloadType,elementHeight:React.PropTypes.oneOfType([React.PropTypes.number,React.PropTypes.arrayOf(React.PropTypes.number)]).isRequired,containerHeight:React.PropTypes.number.isRequired,useWindowAsScrollContainer:React.PropTypes.bool,infiniteLoadBeginBottomOffset:React.PropTypes.number,onInfiniteLoad:React.PropTypes.func,loadingSpinnerDelegate:React.PropTypes.node,isInfiniteLoading:React.PropTypes.bool,timeScrollStateLastsForAfterUserScrolls:React.PropTypes.number,className:React.PropTypes.string},statics:{containerHeightScaleFactor:function containerHeightScaleFactor(factor){if(!_isFinite(factor)){throw new Error("The scale factor must be a number.")}return{type:scaleEnum.CONTAINER_HEIGHT_SCALE_FACTOR,amount:factor}}},computedProps:{},utils:{},getDefaultProps:function getDefaultProps(){return{handleScroll:function handleScroll(){},useWindowAsScrollContainer:false,onInfiniteLoad:function onInfiniteLoad(){},loadingSpinnerDelegate:React.createElement("div",null),isInfiniteLoading:false,timeScrollStateLastsForAfterUserScrolls:150,className:""}},getInitialState:function getInitialState(){var nextInternalState=this.recomputeInternalStateFromProps(this.props);this.computedProps=nextInternalState.computedProps;this.utils=nextInternalState.utils;var state=nextInternalState.newState;state.scrollTimeout=undefined;state.isScrolling=false;return state},generateComputedProps:function generateComputedProps(props){var containerHeight=props.containerHeight;var preloadBatchSize=props.preloadBatchSize;var preloadAdditionalHeight=props.preloadAdditionalHeight;var untouchedProps=_objectWithoutProperties(props,["containerHeight","preloadBatchSize","preloadAdditionalHeight"]);var newProps={};newProps.containerHeight=props.useWindowAsScrollContainer?window.innerHeight:containerHeight;var defaultPreloadBatchSizeScaling={type:scaleEnum.CONTAINER_HEIGHT_SCALE_FACTOR,amount:.5};var batchSize=preloadBatchSize&&preloadBatchSize.type?preloadBatchSize:defaultPreloadBatchSizeScaling;if(typeof preloadBatchSize==="number"){newProps.preloadBatchSize=preloadBatchSize}else if(batchSize.type===scaleEnum.CONTAINER_HEIGHT_SCALE_FACTOR){newProps.preloadBatchSize=newProps.containerHeight*batchSize.amount}else{newProps.preloadBatchSize=0}var defaultPreloadAdditionalHeightScaling={type:scaleEnum.CONTAINER_HEIGHT_SCALE_FACTOR,amount:1};var additionalHeight=preloadAdditionalHeight&&preloadAdditionalHeight.type?preloadAdditionalHeight:defaultPreloadAdditionalHeightScaling;if(typeof preloadAdditionalHeight==="number"){newProps.preloadAdditionalHeight=preloadAdditionalHeight}else if(additionalHeight.type===scaleEnum.CONTAINER_HEIGHT_SCALE_FACTOR){newProps.preloadAdditionalHeight=newProps.containerHeight*additionalHeight.amount}else{newProps.preloadAdditionalHeight=0}return Object.assign(untouchedProps,newProps)},generateComputedUtilityFunctions:function generateComputedUtilityFunctions(props){var _this=this;var utilities={};if(props.useWindowAsScrollContainer){utilities.subscribeToScrollListener=function(){window.addEventListener("scroll",_this.infiniteHandleScroll)};utilities.unsubscribeFromScrollListener=function(){window.removeEventListener("scroll",_this.infiniteHandleScroll)};utilities.nodeScrollListener=function(){};utilities.getScrollTop=function(){return window.scrollY};utilities.scrollShouldBeIgnored=function(){return false};utilities.buildScrollableStyle=function(){return{}}}else{utilities.subscribeToScrollListener=function(){};utilities.unsubscribeFromScrollListener=function(){};utilities.nodeScrollListener=this.infiniteHandleScroll;utilities.getScrollTop=function(){var scrollable;if(_this.refs&&_this.refs.scrollable){scrollable=React.findDOMNode(_this.refs.scrollable)}return scrollable?scrollable.scrollTop:0};utilities.scrollShouldBeIgnored=function(event){return event.target!==React.findDOMNode(_this.refs.scrollable)};utilities.buildScrollableStyle=function(){return{height:_this.computedProps.containerHeight,overflowX:"hidden",overflowY:"scroll",WebkitOverflowScrolling:"touch"}}}return utilities},recomputeInternalStateFromProps:function recomputeInternalStateFromProps(props){checkProps(props);var computedProps=this.generateComputedProps(props);var utils=this.generateComputedUtilityFunctions(props);var newState={};newState.numberOfChildren=React.Children.count(computedProps.children);newState.infiniteComputer=infiniteHelpers.createInfiniteComputer(computedProps.elementHeight,computedProps.children);if(computedProps.isInfiniteLoading!==undefined){newState.isInfiniteLoading=computedProps.isInfiniteLoading}newState.preloadBatchSize=computedProps.preloadBatchSize;newState.preloadAdditionalHeight=computedProps.preloadAdditionalHeight;newState=Object.assign(newState,infiniteHelpers.recomputeApertureStateFromOptionsAndScrollTop(newState,utils.getScrollTop()));return{computedProps:computedProps,utils:utils,newState:newState}},componentWillReceiveProps:function componentWillReceiveProps(nextProps){var nextInternalState=this.recomputeInternalStateFromProps(nextProps);this.computedProps=nextInternalState.computedProps;this.utils=nextInternalState.utils;this.setState(nextInternalState.newState)},componentDidUpdate:function componentDidUpdate(prevProps){if(React.Children.count(this.props.children)!==React.Children.count(prevProps.children)){var newApertureState=infiniteHelpers.recomputeApertureStateFromOptionsAndScrollTop(this.state,this.utils.getScrollTop());this.setState(newApertureState)}},componentDidMount:function componentDidMount(){this.utils.subscribeToScrollListener();if(_isFinite(this.computedProps.infiniteLoadBeginBottomOffset)&&this.state.infiniteComputer.getTotalScrollableHeight()<this.computedProps.containerHeight){this.setState({isInfiniteLoading:true});this.computedProps.onInfiniteLoad()}},componentWillUnmount:function componentWillUnmount(){this.utils.unsubscribeFromScrollListener()},infiniteHandleScroll:function infiniteHandleScroll(e){if(this.utils.scrollShouldBeIgnored(e)){return}this.computedProps.handleScroll(React.findDOMNode(this.refs.scrollable));this.handleScroll(this.utils.getScrollTop())},manageScrollTimeouts:function manageScrollTimeouts(){if(this.state.scrollTimeout){clearTimeout(this.state.scrollTimeout)}var that=this,scrollTimeout=setTimeout(function(){that.setState({isScrolling:false,scrollTimeout:undefined})},this.computedProps.timeScrollStateLastsForAfterUserScrolls);this.setState({isScrolling:true,scrollTimeout:scrollTimeout})},handleScroll:function handleScroll(scrollTop){this.manageScrollTimeouts();var newApertureState=infiniteHelpers.recomputeApertureStateFromOptionsAndScrollTop(this.state,scrollTop);var infiniteScrollBottomLimit=scrollTop>this.state.infiniteComputer.getTotalScrollableHeight()-this.computedProps.containerHeight-this.computedProps.infiniteLoadBeginBottomOffset;if(infiniteScrollBottomLimit&&!this.state.isInfiniteLoading){this.setState(Object.assign({},newApertureState,{isInfiniteLoading:true}));this.computedProps.onInfiniteLoad()}else{this.setState(newApertureState)}},buildHeightStyle:function buildHeightStyle(height){return{width:"100%",height:Math.ceil(height)}},render:function render(){var displayables;if(React.Children.count(this.computedProps.children)>1){displayables=this.computedProps.children.slice(this.state.displayIndexStart,this.state.displayIndexEnd+1)}else{displayables=this.computedProps.children}var infiniteScrollStyles={};if(this.state.isScrolling){infiniteScrollStyles.pointerEvents="none"}var topSpacerHeight=this.state.infiniteComputer.getTopSpacerHeight(this.state.displayIndexStart),bottomSpacerHeight=this.state.infiniteComputer.getBottomSpacerHeight(this.state.displayIndexEnd);return React.createElement("div",{className:this.computedProps.className,ref:"scrollable",style:this.utils.buildScrollableStyle(),onScroll:this.utils.nodeScrollListener},React.createElement("div",{ref:"smoothScrollingWrapper",style:infiniteScrollStyles},React.createElement("div",{ref:"topSpacer",style:this.buildHeightStyle(topSpacerHeight)}),displayables,React.createElement("div",{ref:"bottomSpacer",style:this.buildHeightStyle(bottomSpacerHeight)}),React.createElement("div",{ref:"loadingSpinner"},this.state.isInfiniteLoading?this.computedProps.loadingSpinnerDelegate:null)))}});module.exports=Infinite;global.Infinite=Infinite}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./utils/checkProps":"/Users/paulfrazee/patchwork/node_modules/react-infinite/build/utils/checkProps.js","./utils/establish-polyfills":"/Users/paulfrazee/patchwork/node_modules/react-infinite/build/utils/establish-polyfills.js","./utils/infiniteHelpers":"/Users/paulfrazee/patchwork/node_modules/react-infinite/build/utils/infiniteHelpers.js","./utils/scaleEnum":"/Users/paulfrazee/patchwork/node_modules/react-infinite/build/utils/scaleEnum.js","./utils/types":"/Users/paulfrazee/patchwork/node_modules/react-infinite/build/utils/types.js","lodash.isfinite":"/Users/paulfrazee/patchwork/node_modules/lodash.isfinite/index.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/node_modules/react-infinite/build/utils/binaryIndexSearch.js":[function(require,module,exports){"use strict";var opts={CLOSEST_LOWER:1,CLOSEST_HIGHER:2};var binaryIndexSearch=function binaryIndexSearch(array,item,opt){var index;var high=array.length-1,low=0,middle,middleItem;while(low<=high){middle=low+Math.floor((high-low)/2);middleItem=array[middle];if(middleItem===item){return middle}else if(middleItem<item){low=middle+1}else if(middleItem>item){high=middle-1}}if(opt===opts.CLOSEST_LOWER&&low>0){index=low-1}else if(opt===opts.CLOSEST_HIGHER&&high<array.length-1){index=high+1}return index};module.exports={binaryIndexSearch:binaryIndexSearch,opts:opts}},{}],"/Users/paulfrazee/patchwork/node_modules/react-infinite/build/utils/checkProps.js":[function(require,module,exports){(function(global){"use strict";var React=global.React||require("react");var _isFinite=require("lodash.isfinite");module.exports=function(props){var rie="Invariant Violation: ";if(!(props.containerHeight||props.useWindowAsScrollContainer)){throw new Error(rie+"Either containerHeight or useWindowAsScrollContainer must be provided.")}if(!(_isFinite(props.elementHeight)||Array.isArray(props.elementHeight))){throw new Error(rie+"You must provide either a number or an array of numbers as the elementHeight.")}if(Array.isArray(props.elementHeight)){if(React.Children.count(props.children)!==props.elementHeight.length){throw new Error(rie+"There must be as many values provided in the elementHeight prop as there are children.")}}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});
},{"lodash.isfinite":"/Users/paulfrazee/patchwork/node_modules/lodash.isfinite/index.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/node_modules/react-infinite/build/utils/establish-polyfills.js":[function(require,module,exports){"use strict";if(!Object.assign){Object.assign=require("object-assign")}if(!Array.isArray){Array.isArray=require("lodash.isarray")}},{"lodash.isarray":"/Users/paulfrazee/patchwork/node_modules/lodash.isarray/index.js","object-assign":"/Users/paulfrazee/patchwork/node_modules/object-assign/index.js"}],"/Users/paulfrazee/patchwork/node_modules/react-infinite/build/utils/infiniteHelpers.js":[function(require,module,exports){(function(global){"use strict";var ConstantInfiniteComputer=require("../computers/constantInfiniteComputer.js");var ArrayInfiniteComputer=require("../computers/arrayInfiniteComputer.js");var React=global.React||require("react");function createInfiniteComputer(data,children){var computer;var numberOfChildren=React.Children.count(children);if(Array.isArray(data)){computer=new ArrayInfiniteComputer(data,numberOfChildren)}else{computer=new ConstantInfiniteComputer(data,numberOfChildren)}return computer}function recomputeApertureStateFromOptionsAndScrollTop(_ref,scrollTop){var preloadBatchSize=_ref.preloadBatchSize;var preloadAdditionalHeight=_ref.preloadAdditionalHeight;var infiniteComputer=_ref.infiniteComputer;return function(){var blockNumber=preloadBatchSize===0?0:Math.floor(scrollTop/preloadBatchSize),blockStart=preloadBatchSize*blockNumber,blockEnd=blockStart+preloadBatchSize,apertureTop=Math.max(0,blockStart-preloadAdditionalHeight),apertureBottom=Math.min(infiniteComputer.getTotalScrollableHeight(),blockEnd+preloadAdditionalHeight);return{displayIndexStart:infiniteComputer.getDisplayIndexStart(apertureTop),displayIndexEnd:infiniteComputer.getDisplayIndexEnd(apertureBottom)}}()}module.exports={createInfiniteComputer:createInfiniteComputer,recomputeApertureStateFromOptionsAndScrollTop:recomputeApertureStateFromOptionsAndScrollTop}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../computers/arrayInfiniteComputer.js":"/Users/paulfrazee/patchwork/node_modules/react-infinite/build/computers/arrayInfiniteComputer.js","../computers/constantInfiniteComputer.js":"/Users/paulfrazee/patchwork/node_modules/react-infinite/build/computers/constantInfiniteComputer.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/node_modules/react-infinite/build/utils/scaleEnum.js":[function(require,module,exports){"use strict";module.exports={CONTAINER_HEIGHT_SCALE_FACTOR:"containerHeightScaleFactor"}},{}],"/Users/paulfrazee/patchwork/node_modules/react-infinite/build/utils/types.js":[function(require,module,exports){(function(global){"use strict";var React=global.React||require("react");module.exports={preloadType:React.PropTypes.oneOfType([React.PropTypes.number,React.PropTypes.shape({type:React.PropTypes.oneOf(["containerHeightScaleFactor"]).isRequired,amount:React.PropTypes.number.isRequired})])}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/node_modules/react-modal/lib/components/Modal.js":[function(require,module,exports){var React=require("react");var ReactDOM=require("react-dom");var ExecutionEnvironment=require("exenv");var ModalPortal=React.createFactory(require("./ModalPortal"));var ariaAppHider=require("../helpers/ariaAppHider");var elementClass=require("element-class");var renderSubtreeIntoContainer=require("react-dom").unstable_renderSubtreeIntoContainer;var SafeHTMLElement=ExecutionEnvironment.canUseDOM?window.HTMLElement:{};var Modal=module.exports=React.createClass({displayName:"Modal",statics:{setAppElement:ariaAppHider.setElement,injectCSS:function(){"production"!=="production"&&console.warn("React-Modal: injectCSS has been deprecated "+"and no longer has any effect. It will be removed in a later version")}},propTypes:{isOpen:React.PropTypes.bool.isRequired,style:React.PropTypes.shape({content:React.PropTypes.object,overlay:React.PropTypes.object}),appElement:React.PropTypes.instanceOf(SafeHTMLElement),onRequestClose:React.PropTypes.func,closeTimeoutMS:React.PropTypes.number,ariaHideApp:React.PropTypes.bool},getDefaultProps:function(){return{isOpen:false,ariaHideApp:true,closeTimeoutMS:0}},componentDidMount:function(){this.node=document.createElement("div");this.node.className="ReactModalPortal";document.body.appendChild(this.node);this.renderPortal(this.props)},componentWillReceiveProps:function(newProps){this.renderPortal(newProps)},componentWillUnmount:function(){ReactDOM.unmountComponentAtNode(this.node);document.body.removeChild(this.node)},renderPortal:function(props){if(props.isOpen){elementClass(document.body).add("ReactModal__Body--open")}else{elementClass(document.body).remove("ReactModal__Body--open")}if(props.ariaHideApp){ariaAppHider.toggle(props.isOpen,props.appElement)}sanitizeProps(props);this.portal=renderSubtreeIntoContainer(this,ModalPortal(props),this.node)},render:function(){return React.DOM.noscript()}});function sanitizeProps(props){delete props.ref}},{"../helpers/ariaAppHider":"/Users/paulfrazee/patchwork/node_modules/react-modal/lib/helpers/ariaAppHider.js","./ModalPortal":"/Users/paulfrazee/patchwork/node_modules/react-modal/lib/components/ModalPortal.js","element-class":"/Users/paulfrazee/patchwork/node_modules/element-class/index.js",exenv:"/Users/paulfrazee/patchwork/node_modules/exenv/index.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","react-dom":"/Users/paulfrazee/patchwork/node_modules/react-dom/index.js"}],"/Users/paulfrazee/patchwork/node_modules/react-modal/lib/components/ModalPortal.js":[function(require,module,exports){var React=require("react");var div=React.DOM.div;var focusManager=require("../helpers/focusManager");var scopeTab=require("../helpers/scopeTab");var Assign=require("lodash.assign");var CLASS_NAMES={overlay:{base:"ReactModal__Overlay",afterOpen:"ReactModal__Overlay--after-open",beforeClose:"ReactModal__Overlay--before-close"},content:{base:"ReactModal__Content",afterOpen:"ReactModal__Content--after-open",beforeClose:"ReactModal__Content--before-close"}};var defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};function stopPropagation(event){event.stopPropagation()}var ModalPortal=module.exports=React.createClass({displayName:"ModalPortal",getDefaultProps:function(){return{style:{overlay:{},content:{}}}},getInitialState:function(){return{afterOpen:false,beforeClose:false}},componentDidMount:function(){if(this.props.isOpen){this.setFocusAfterRender(true);this.open()}},componentWillUnmount:function(){clearTimeout(this.closeTimer)},componentWillReceiveProps:function(newProps){if(!this.props.isOpen&&newProps.isOpen){this.setFocusAfterRender(true);this.open()}else if(this.props.isOpen&&!newProps.isOpen){this.close()}},componentDidUpdate:function(){if(this.focusAfterRender){this.focusContent();this.setFocusAfterRender(false)}},setFocusAfterRender:function(focus){this.focusAfterRender=focus},open:function(){focusManager.setupScopedFocus(this.node);focusManager.markForFocusLater();this.setState({isOpen:true},function(){this.setState({afterOpen:true})}.bind(this))},close:function(){if(!this.ownerHandlesClose())return;if(this.props.closeTimeoutMS>0)this.closeWithTimeout();else this.closeWithoutTimeout()},focusContent:function(){this.refs.content.focus()},closeWithTimeout:function(){this.setState({beforeClose:true},function(){this.closeTimer=setTimeout(this.closeWithoutTimeout,this.props.closeTimeoutMS)}.bind(this))},closeWithoutTimeout:function(){this.setState({afterOpen:false,beforeClose:false},this.afterClose)},afterClose:function(){focusManager.returnFocus();focusManager.teardownScopedFocus()},handleKeyDown:function(event){if(event.keyCode==9)scopeTab(this.refs.content,event);if(event.keyCode==27)this.requestClose()},handleOverlayClick:function(){if(this.ownerHandlesClose())this.requestClose();else this.focusContent()},requestClose:function(){if(this.ownerHandlesClose())this.props.onRequestClose()},ownerHandlesClose:function(){return this.props.onRequestClose},shouldBeClosed:function(){return!this.props.isOpen&&!this.state.beforeClose},buildClassName:function(which,additional){var className=CLASS_NAMES[which].base;if(this.state.afterOpen)className+=" "+CLASS_NAMES[which].afterOpen;if(this.state.beforeClose)className+=" "+CLASS_NAMES[which].beforeClose;return additional?className+" "+additional:className},render:function(){return this.shouldBeClosed()?div():div({ref:"overlay",className:this.buildClassName("overlay",this.props.overlayClassName),style:Assign({},defaultStyles.overlay,this.props.style.overlay||{}),onClick:this.handleOverlayClick},div({ref:"content",style:Assign({},defaultStyles.content,this.props.style.content||{}),className:this.buildClassName("content",this.props.className),tabIndex:"-1",onClick:stopPropagation,onKeyDown:this.handleKeyDown},this.props.children))}})},{"../helpers/focusManager":"/Users/paulfrazee/patchwork/node_modules/react-modal/lib/helpers/focusManager.js","../helpers/scopeTab":"/Users/paulfrazee/patchwork/node_modules/react-modal/lib/helpers/scopeTab.js","lodash.assign":"/Users/paulfrazee/patchwork/node_modules/lodash.assign/index.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/node_modules/react-modal/lib/helpers/ariaAppHider.js":[function(require,module,exports){var _element=typeof document!=="undefined"?document.body:null;function setElement(element){if(typeof element==="string"){var el=document.querySelectorAll(element);element="length"in el?el[0]:el}_element=element||_element}function hide(appElement){validateElement(appElement);(appElement||_element).setAttribute("aria-hidden","true")}function show(appElement){validateElement(appElement);(appElement||_element).removeAttribute("aria-hidden")}function toggle(shouldHide,appElement){if(shouldHide)hide(appElement);else show(appElement)}function validateElement(appElement){if(!appElement&&!_element)throw new Error("react-modal: You must set an element with `Modal.setAppElement(el)` to make this accessible")}function resetForTesting(){_element=document.body}exports.toggle=toggle;exports.setElement=setElement;exports.show=show;exports.hide=hide;exports.resetForTesting=resetForTesting},{}],"/Users/paulfrazee/patchwork/node_modules/react-modal/lib/helpers/focusManager.js":[function(require,module,exports){var findTabbable=require("../helpers/tabbable");var modalElement=null;var focusLaterElement=null;var needToFocus=false;function handleBlur(event){needToFocus=true}function handleFocus(event){if(needToFocus){needToFocus=false;if(!modalElement){return}setTimeout(function(){if(modalElement.contains(document.activeElement))return;var el=findTabbable(modalElement)[0]||modalElement;el.focus()},0)}}exports.markForFocusLater=function(){focusLaterElement=document.activeElement};exports.returnFocus=function(){try{focusLaterElement.focus()}catch(e){console.warn("You tried to return focus to "+focusLaterElement+" but it is not in the DOM anymore")}focusLaterElement=null};exports.setupScopedFocus=function(element){modalElement=element;if(window.addEventListener){window.addEventListener("blur",handleBlur,false);document.addEventListener("focus",handleFocus,true)}else{window.attachEvent("onBlur",handleBlur);document.attachEvent("onFocus",handleFocus)}};exports.teardownScopedFocus=function(){modalElement=null;if(window.addEventListener){window.removeEventListener("blur",handleBlur);document.removeEventListener("focus",handleFocus)}else{window.detachEvent("onBlur",handleBlur);document.detachEvent("onFocus",handleFocus)}}},{"../helpers/tabbable":"/Users/paulfrazee/patchwork/node_modules/react-modal/lib/helpers/tabbable.js"}],"/Users/paulfrazee/patchwork/node_modules/react-modal/lib/helpers/scopeTab.js":[function(require,module,exports){var findTabbable=require("../helpers/tabbable");module.exports=function(node,event){var tabbable=findTabbable(node);var finalTabbable=tabbable[event.shiftKey?0:tabbable.length-1];var leavingFinalTabbable=finalTabbable===document.activeElement||node===document.activeElement;if(!leavingFinalTabbable)return;event.preventDefault();var target=tabbable[event.shiftKey?tabbable.length-1:0];target.focus()}},{"../helpers/tabbable":"/Users/paulfrazee/patchwork/node_modules/react-modal/lib/helpers/tabbable.js"}],"/Users/paulfrazee/patchwork/node_modules/react-modal/lib/helpers/tabbable.js":[function(require,module,exports){function focusable(element,isTabIndexNotNaN){var nodeName=element.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&visible(element)}function hidden(el){return el.offsetWidth<=0&&el.offsetHeight<=0||el.style.display==="none"}function visible(element){while(element){if(element===document.body)break;if(hidden(element))return false;element=element.parentNode}return true}function tabbable(element){var tabIndex=element.getAttribute("tabindex");if(tabIndex===null)tabIndex=undefined;var isTabIndexNaN=isNaN(tabIndex);return(isTabIndexNaN||tabIndex>=0)&&focusable(element,!isTabIndexNaN)}function findTabbableDescendants(element){return[].slice.call(element.querySelectorAll("*"),0).filter(function(el){return tabbable(el)})}module.exports=findTabbableDescendants},{}],"/Users/paulfrazee/patchwork/node_modules/react-modal/lib/index.js":[function(require,module,exports){module.exports=require("./components/Modal")},{"./components/Modal":"/Users/paulfrazee/patchwork/node_modules/react-modal/lib/components/Modal.js"}],"/Users/paulfrazee/patchwork/node_modules/react-router/lib/AsyncUtils.js":[function(require,module,exports){"use strict";exports.__esModule=true;exports.loopAsync=loopAsync;exports.mapAsync=mapAsync;function loopAsync(turns,work,callback){var currentTurn=0,isDone=false;function done(){isDone=true;callback.apply(this,arguments)}function next(){if(isDone)return;if(currentTurn<turns){work.call(this,currentTurn++,next,done)}else{done.apply(this,arguments)}}next()}function mapAsync(array,work,callback){var length=array.length;var values=[];if(length===0)return callback(null,values);var isDone=false,doneCount=0;function done(index,error,value){if(isDone)return;if(error){isDone=true;callback(error)}else{values[index]=value;isDone=++doneCount===length;if(isDone)callback(null,values)}}array.forEach(function(item,index){work(item,index,function(error,value){done(index,error,value)})})}},{}],"/Users/paulfrazee/patchwork/node_modules/react-router/lib/History.js":[function(require,module,exports){"use strict";exports.__esModule=true;var _PropTypes=require("./PropTypes");var History={contextTypes:{history:_PropTypes.history},componentWillMount:function componentWillMount(){this.history=this.context.history}};exports["default"]=History;module.exports=exports["default"]},{"./PropTypes":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/PropTypes.js"}],"/Users/paulfrazee/patchwork/node_modules/react-router/lib/IndexLink.js":[function(require,module,exports){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var _react=require("react");var _react2=_interopRequireDefault(_react);var _Link=require("./Link");var _Link2=_interopRequireDefault(_Link);var IndexLink=function(_Component){_inherits(IndexLink,_Component);function IndexLink(){_classCallCheck(this,IndexLink);_Component.apply(this,arguments)}IndexLink.prototype.render=function render(){return _react2["default"].createElement(_Link2["default"],_extends({},this.props,{onlyActiveOnIndex:true}))};return IndexLink}(_react.Component);exports["default"]=IndexLink;module.exports=exports["default"]},{"./Link":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/Link.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/node_modules/react-router/lib/IndexRedirect.js":[function(require,module,exports){"use strict";exports.__esModule=true;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var _warning=require("warning");var _warning2=_interopRequireDefault(_warning);var _invariant=require("invariant");var _invariant2=_interopRequireDefault(_invariant);var _react=require("react");var _react2=_interopRequireDefault(_react);var _Redirect=require("./Redirect");var _Redirect2=_interopRequireDefault(_Redirect);var _PropTypes=require("./PropTypes");var _React$PropTypes=_react2["default"].PropTypes;var string=_React$PropTypes.string;var object=_React$PropTypes.object;var IndexRedirect=function(_Component){_inherits(IndexRedirect,_Component);function IndexRedirect(){_classCallCheck(this,IndexRedirect);_Component.apply(this,arguments)}IndexRedirect.prototype.render=function render(){!false?"production"!=="production"?_invariant2["default"](false,"<IndexRedirect> elements are for router configuration only and should not be rendered"):_invariant2["default"](false):undefined};return IndexRedirect}(_react.Component);IndexRedirect.propTypes={to:string.isRequired,query:object,state:object,onEnter:_PropTypes.falsy,children:_PropTypes.falsy};IndexRedirect.createRouteFromReactElement=function(element,parentRoute){if(parentRoute){parentRoute.indexRoute=_Redirect2["default"].createRouteFromReactElement(element)}else{"production"!=="production"?_warning2["default"](false,"An <IndexRedirect> does not make sense at the root of your route config"):undefined}};exports["default"]=IndexRedirect;module.exports=exports["default"]},{"./PropTypes":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/PropTypes.js","./Redirect":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/Redirect.js",invariant:"/Users/paulfrazee/patchwork/node_modules/invariant/browser.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js",warning:"/Users/paulfrazee/patchwork/node_modules/warning/browser.js"}],"/Users/paulfrazee/patchwork/node_modules/react-router/lib/IndexRoute.js":[function(require,module,exports){"use strict";exports.__esModule=true;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var _warning=require("warning");var _warning2=_interopRequireDefault(_warning);var _invariant=require("invariant");var _invariant2=_interopRequireDefault(_invariant);var _react=require("react");var _react2=_interopRequireDefault(_react);var _RouteUtils=require("./RouteUtils");var _PropTypes=require("./PropTypes");var func=_react2["default"].PropTypes.func;var IndexRoute=function(_Component){_inherits(IndexRoute,_Component);function IndexRoute(){_classCallCheck(this,IndexRoute);_Component.apply(this,arguments)}IndexRoute.prototype.render=function render(){!false?"production"!=="production"?_invariant2["default"](false,"<IndexRoute> elements are for router configuration only and should not be rendered"):_invariant2["default"](false):undefined};return IndexRoute}(_react.Component);IndexRoute.propTypes={path:_PropTypes.falsy,component:_PropTypes.component,components:_PropTypes.components,getComponent:func,getComponents:func};IndexRoute.createRouteFromReactElement=function(element,parentRoute){if(parentRoute){parentRoute.indexRoute=_RouteUtils.createRouteFromReactElement(element)}else{"production"!=="production"?_warning2["default"](false,"An <IndexRoute> does not make sense at the root of your route config"):undefined}};exports["default"]=IndexRoute;module.exports=exports["default"]},{"./PropTypes":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/PropTypes.js","./RouteUtils":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/RouteUtils.js",invariant:"/Users/paulfrazee/patchwork/node_modules/invariant/browser.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js",warning:"/Users/paulfrazee/patchwork/node_modules/warning/browser.js"}],"/Users/paulfrazee/patchwork/node_modules/react-router/lib/Lifecycle.js":[function(require,module,exports){"use strict";exports.__esModule=true;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _react=require("react");var _react2=_interopRequireDefault(_react);var _invariant=require("invariant");var _invariant2=_interopRequireDefault(_invariant);var object=_react2["default"].PropTypes.object;var Lifecycle={contextTypes:{history:object.isRequired,route:object},propTypes:{route:object},componentDidMount:function componentDidMount(){!this.routerWillLeave?"production"!=="production"?_invariant2["default"](false,"The Lifecycle mixin requires you to define a routerWillLeave method"):_invariant2["default"](false):undefined;var route=this.props.route||this.context.route;!route?"production"!=="production"?_invariant2["default"](false,"The Lifecycle mixin must be used on either a) a <Route component> or "+"b) a descendant of a <Route component> that uses the RouteContext mixin"):_invariant2["default"](false):undefined;this._unlistenBeforeLeavingRoute=this.context.history.listenBeforeLeavingRoute(route,this.routerWillLeave)},componentWillUnmount:function componentWillUnmount(){if(this._unlistenBeforeLeavingRoute)this._unlistenBeforeLeavingRoute()}};exports["default"]=Lifecycle;module.exports=exports["default"]},{invariant:"/Users/paulfrazee/patchwork/node_modules/invariant/browser.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/node_modules/react-router/lib/Link.js":[function(require,module,exports){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var _react=require("react");var _react2=_interopRequireDefault(_react);var _React$PropTypes=_react2["default"].PropTypes;var bool=_React$PropTypes.bool;var object=_React$PropTypes.object;var string=_React$PropTypes.string;var func=_React$PropTypes.func;function isLeftClickEvent(event){return event.button===0}function isModifiedEvent(event){return!!(event.metaKey||event.altKey||event.ctrlKey||event.shiftKey)}function isEmptyObject(object){for(var p in object){if(object.hasOwnProperty(p))return false}return true}var Link=function(_Component){_inherits(Link,_Component);function Link(){_classCallCheck(this,Link);_Component.apply(this,arguments)}Link.prototype.handleClick=function handleClick(event){var allowTransition=true;if(this.props.onClick)this.props.onClick(event);if(isModifiedEvent(event)||!isLeftClickEvent(event))return;if(event.defaultPrevented===true)allowTransition=false;if(this.props.target){if(!allowTransition)event.preventDefault();return}event.preventDefault();if(allowTransition){var _props=this.props;var state=_props.state;var to=_props.to;var query=_props.query;var hash=_props.hash;if(hash)to+=hash;this.context.history.pushState(state,to,query)}};Link.prototype.render=function render(){var _this=this;var _props2=this.props;var to=_props2.to;var query=_props2.query;var hash=_props2.hash;var state=_props2.state;var activeClassName=_props2.activeClassName;var activeStyle=_props2.activeStyle;var onlyActiveOnIndex=_props2.onlyActiveOnIndex;var props=_objectWithoutProperties(_props2,["to","query","hash","state","activeClassName","activeStyle","onlyActiveOnIndex"]);props.onClick=function(e){return _this.handleClick(e)};var history=this.context.history;if(history){props.href=history.createHref(to,query);if(hash)props.href+=hash;if(activeClassName||activeStyle!=null&&!isEmptyObject(activeStyle)){if(history.isActive(to,query,onlyActiveOnIndex)){if(activeClassName)props.className+=props.className===""?activeClassName:" "+activeClassName;if(activeStyle)props.style=_extends({},props.style,activeStyle)}}}return _react2["default"].createElement("a",props)};return Link}(_react.Component);Link.contextTypes={history:object};Link.propTypes={to:string.isRequired,query:object,hash:string,state:object,activeStyle:object,activeClassName:string,onlyActiveOnIndex:bool.isRequired,onClick:func};Link.defaultProps={onlyActiveOnIndex:false,className:"",style:{}};exports["default"]=Link;module.exports=exports["default"]},{react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/node_modules/react-router/lib/PatternUtils.js":[function(require,module,exports){"use strict";exports.__esModule=true;exports.compilePattern=compilePattern;exports.matchPattern=matchPattern;exports.getParamNames=getParamNames;exports.getParams=getParams;exports.formatPattern=formatPattern;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _invariant=require("invariant");var _invariant2=_interopRequireDefault(_invariant);function escapeRegExp(string){return string.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function escapeSource(string){return escapeRegExp(string).replace(/\/+/g,"/+")}function _compilePattern(pattern){var regexpSource="";var paramNames=[];var tokens=[];var match=undefined,lastIndex=0,matcher=/:([a-zA-Z_$][a-zA-Z0-9_$]*)|\*\*|\*|\(|\)/g;while(match=matcher.exec(pattern)){if(match.index!==lastIndex){tokens.push(pattern.slice(lastIndex,match.index));regexpSource+=escapeSource(pattern.slice(lastIndex,match.index))}if(match[1]){regexpSource+="([^/?#]+)";paramNames.push(match[1])}else if(match[0]==="**"){regexpSource+="([\\s\\S]*)";paramNames.push("splat")}else if(match[0]==="*"){regexpSource+="([\\s\\S]*?)";paramNames.push("splat")}else if(match[0]==="("){regexpSource+="(?:"}else if(match[0]===")"){regexpSource+=")?"}tokens.push(match[0]);lastIndex=matcher.lastIndex}if(lastIndex!==pattern.length){tokens.push(pattern.slice(lastIndex,pattern.length));regexpSource+=escapeSource(pattern.slice(lastIndex,pattern.length))}return{pattern:pattern,regexpSource:regexpSource,paramNames:paramNames,tokens:tokens}}var CompiledPatternsCache={};function compilePattern(pattern){if(!(pattern in CompiledPatternsCache))CompiledPatternsCache[pattern]=_compilePattern(pattern);return CompiledPatternsCache[pattern]}function matchPattern(pattern,pathname){if(pattern.charAt(0)!=="/"){pattern="/"+pattern}if(pathname.charAt(0)!=="/"){pathname="/"+pathname}var _compilePattern2=compilePattern(pattern);var regexpSource=_compilePattern2.regexpSource;var paramNames=_compilePattern2.paramNames;var tokens=_compilePattern2.tokens;regexpSource+="/*";var captureRemaining=tokens[tokens.length-1]!=="*";if(captureRemaining){regexpSource+="([\\s\\S]*?)"}var match=pathname.match(new RegExp("^"+regexpSource+"$","i"));var remainingPathname=undefined,paramValues=undefined;if(match!=null){if(captureRemaining){remainingPathname=match.pop();var matchedPath=match[0].substr(0,match[0].length-remainingPathname.length);if(remainingPathname&&matchedPath.charAt(matchedPath.length-1)!=="/"){return{remainingPathname:null,paramNames:paramNames,paramValues:null}}}else{remainingPathname=""}paramValues=match.slice(1).map(function(v){return v!=null?decodeURIComponent(v):v})}else{remainingPathname=paramValues=null}return{remainingPathname:remainingPathname,paramNames:paramNames,paramValues:paramValues}}function getParamNames(pattern){return compilePattern(pattern).paramNames}function getParams(pattern,pathname){var _matchPattern=matchPattern(pattern,pathname);var paramNames=_matchPattern.paramNames;var paramValues=_matchPattern.paramValues;if(paramValues!=null){return paramNames.reduce(function(memo,paramName,index){memo[paramName]=paramValues[index];return memo},{})}return null}function formatPattern(pattern,params){params=params||{};var _compilePattern3=compilePattern(pattern);var tokens=_compilePattern3.tokens;var parenCount=0,pathname="",splatIndex=0;var token=undefined,paramName=undefined,paramValue=undefined;for(var i=0,len=tokens.length;i<len;++i){token=tokens[i];if(token==="*"||token==="**"){paramValue=Array.isArray(params.splat)?params.splat[splatIndex++]:params.splat;!(paramValue!=null||parenCount>0)?"production"!=="production"?_invariant2["default"](false,'Missing splat #%s for path "%s"',splatIndex,pattern):_invariant2["default"](false):undefined;if(paramValue!=null)pathname+=encodeURI(paramValue)}else if(token==="("){parenCount+=1}else if(token===")"){parenCount-=1}else if(token.charAt(0)===":"){paramName=token.substring(1);paramValue=params[paramName];!(paramValue!=null||parenCount>0)?"production"!=="production"?_invariant2["default"](false,'Missing "%s" parameter for path "%s"',paramName,pattern):_invariant2["default"](false):undefined;if(paramValue!=null)pathname+=encodeURIComponent(paramValue)}else{pathname+=token}}return pathname.replace(/\/+/g,"/");
}},{invariant:"/Users/paulfrazee/patchwork/node_modules/invariant/browser.js"}],"/Users/paulfrazee/patchwork/node_modules/react-router/lib/PropTypes.js":[function(require,module,exports){"use strict";exports.__esModule=true;exports.falsy=falsy;var _react=require("react");var func=_react.PropTypes.func;var object=_react.PropTypes.object;var arrayOf=_react.PropTypes.arrayOf;var oneOfType=_react.PropTypes.oneOfType;var element=_react.PropTypes.element;var shape=_react.PropTypes.shape;var string=_react.PropTypes.string;function falsy(props,propName,componentName){if(props[propName])return new Error("<"+componentName+'> should not have a "'+propName+'" prop')}var history=shape({listen:func.isRequired,pushState:func.isRequired,replaceState:func.isRequired,go:func.isRequired});exports.history=history;var location=shape({pathname:string.isRequired,search:string.isRequired,state:object,action:string.isRequired,key:string});exports.location=location;var component=oneOfType([func,string]);exports.component=component;var components=oneOfType([component,object]);exports.components=components;var route=oneOfType([object,element]);exports.route=route;var routes=oneOfType([route,arrayOf(route)]);exports.routes=routes;exports["default"]={falsy:falsy,history:history,location:location,component:component,components:components,route:route}},{react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/node_modules/react-router/lib/Redirect.js":[function(require,module,exports){"use strict";exports.__esModule=true;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var _invariant=require("invariant");var _invariant2=_interopRequireDefault(_invariant);var _react=require("react");var _react2=_interopRequireDefault(_react);var _RouteUtils=require("./RouteUtils");var _PatternUtils=require("./PatternUtils");var _PropTypes=require("./PropTypes");var _React$PropTypes=_react2["default"].PropTypes;var string=_React$PropTypes.string;var object=_React$PropTypes.object;var Redirect=function(_Component){_inherits(Redirect,_Component);function Redirect(){_classCallCheck(this,Redirect);_Component.apply(this,arguments)}Redirect.prototype.render=function render(){!false?"production"!=="production"?_invariant2["default"](false,"<Redirect> elements are for router configuration only and should not be rendered"):_invariant2["default"](false):undefined};return Redirect}(_react.Component);Redirect.createRouteFromReactElement=function(element){var route=_RouteUtils.createRouteFromReactElement(element);if(route.from)route.path=route.from;route.onEnter=function(nextState,replaceState){var location=nextState.location;var params=nextState.params;var pathname=undefined;if(route.to.charAt(0)==="/"){pathname=_PatternUtils.formatPattern(route.to,params)}else if(!route.to){pathname=location.pathname}else{var routeIndex=nextState.routes.indexOf(route);var parentPattern=Redirect.getRoutePattern(nextState.routes,routeIndex-1);var pattern=parentPattern.replace(/\/*$/,"/")+route.to;pathname=_PatternUtils.formatPattern(pattern,params)}replaceState(route.state||location.state,pathname,route.query||location.query)};return route};Redirect.getRoutePattern=function(routes,routeIndex){var parentPattern="";for(var i=routeIndex;i>=0;i--){var route=routes[i];var pattern=route.path||"";parentPattern=pattern.replace(/\/*$/,"/")+parentPattern;if(pattern.indexOf("/")===0)break}return"/"+parentPattern};Redirect.propTypes={path:string,from:string,to:string.isRequired,query:object,state:object,onEnter:_PropTypes.falsy,children:_PropTypes.falsy};exports["default"]=Redirect;module.exports=exports["default"]},{"./PatternUtils":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/PatternUtils.js","./PropTypes":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/PropTypes.js","./RouteUtils":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/RouteUtils.js",invariant:"/Users/paulfrazee/patchwork/node_modules/invariant/browser.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/node_modules/react-router/lib/Route.js":[function(require,module,exports){"use strict";exports.__esModule=true;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var _invariant=require("invariant");var _invariant2=_interopRequireDefault(_invariant);var _react=require("react");var _react2=_interopRequireDefault(_react);var _RouteUtils=require("./RouteUtils");var _PropTypes=require("./PropTypes");var _React$PropTypes=_react2["default"].PropTypes;var string=_React$PropTypes.string;var func=_React$PropTypes.func;var Route=function(_Component){_inherits(Route,_Component);function Route(){_classCallCheck(this,Route);_Component.apply(this,arguments)}Route.prototype.render=function render(){!false?"production"!=="production"?_invariant2["default"](false,"<Route> elements are for router configuration only and should not be rendered"):_invariant2["default"](false):undefined};return Route}(_react.Component);Route.createRouteFromReactElement=_RouteUtils.createRouteFromReactElement;Route.propTypes={path:string,component:_PropTypes.component,components:_PropTypes.components,getComponent:func,getComponents:func};exports["default"]=Route;module.exports=exports["default"]},{"./PropTypes":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/PropTypes.js","./RouteUtils":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/RouteUtils.js",invariant:"/Users/paulfrazee/patchwork/node_modules/invariant/browser.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/node_modules/react-router/lib/RouteContext.js":[function(require,module,exports){"use strict";exports.__esModule=true;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _react=require("react");var _react2=_interopRequireDefault(_react);var object=_react2["default"].PropTypes.object;var RouteContext={propTypes:{route:object.isRequired},childContextTypes:{route:object.isRequired},getChildContext:function getChildContext(){return{route:this.props.route}}};exports["default"]=RouteContext;module.exports=exports["default"]},{react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/node_modules/react-router/lib/RouteUtils.js":[function(require,module,exports){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.isReactChildren=isReactChildren;exports.createRouteFromReactElement=createRouteFromReactElement;exports.createRoutesFromReactChildren=createRoutesFromReactChildren;exports.createRoutes=createRoutes;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _react=require("react");var _react2=_interopRequireDefault(_react);var _warning=require("warning");var _warning2=_interopRequireDefault(_warning);function isValidChild(object){return object==null||_react2["default"].isValidElement(object)}function isReactChildren(object){return isValidChild(object)||Array.isArray(object)&&object.every(isValidChild)}function checkPropTypes(componentName,propTypes,props){componentName=componentName||"UnknownComponent";for(var propName in propTypes){if(propTypes.hasOwnProperty(propName)){var error=propTypes[propName](props,propName,componentName);if(error instanceof Error)"production"!=="production"?_warning2["default"](false,error.message):undefined}}}function createRoute(defaultProps,props){return _extends({},defaultProps,props)}function createRouteFromReactElement(element){var type=element.type;var route=createRoute(type.defaultProps,element.props);if(type.propTypes)checkPropTypes(type.displayName||type.name,type.propTypes,route);if(route.children){var childRoutes=createRoutesFromReactChildren(route.children,route);if(childRoutes.length)route.childRoutes=childRoutes;delete route.children}return route}function createRoutesFromReactChildren(children,parentRoute){var routes=[];_react2["default"].Children.forEach(children,function(element){if(_react2["default"].isValidElement(element)){if(element.type.createRouteFromReactElement){var route=element.type.createRouteFromReactElement(element,parentRoute);if(route)routes.push(route)}else{routes.push(createRouteFromReactElement(element))}}});return routes}function createRoutes(routes){if(isReactChildren(routes)){routes=createRoutesFromReactChildren(routes)}else if(routes&&!Array.isArray(routes)){routes=[routes]}return routes}},{react:"/Users/paulfrazee/patchwork/node_modules/react/react.js",warning:"/Users/paulfrazee/patchwork/node_modules/warning/browser.js"}],"/Users/paulfrazee/patchwork/node_modules/react-router/lib/Router.js":[function(require,module,exports){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var _warning=require("warning");var _warning2=_interopRequireDefault(_warning);var _react=require("react");var _react2=_interopRequireDefault(_react);var _historyLibCreateHashHistory=require("history/lib/createHashHistory");var _historyLibCreateHashHistory2=_interopRequireDefault(_historyLibCreateHashHistory);var _RouteUtils=require("./RouteUtils");var _RoutingContext=require("./RoutingContext");var _RoutingContext2=_interopRequireDefault(_RoutingContext);var _useRoutes=require("./useRoutes");var _useRoutes2=_interopRequireDefault(_useRoutes);var _PropTypes=require("./PropTypes");var _React$PropTypes=_react2["default"].PropTypes;var func=_React$PropTypes.func;var object=_React$PropTypes.object;var Router=function(_Component){_inherits(Router,_Component);function Router(props,context){_classCallCheck(this,Router);_Component.call(this,props,context);this.state={location:null,routes:null,params:null,components:null}}Router.prototype.handleError=function handleError(error){if(this.props.onError){this.props.onError.call(this,error)}else{throw error}};Router.prototype.componentWillMount=function componentWillMount(){var _this=this;var _props=this.props;var history=_props.history;var children=_props.children;var routes=_props.routes;var parseQueryString=_props.parseQueryString;var stringifyQuery=_props.stringifyQuery;var createHistory=history?function(){return history}:_historyLibCreateHashHistory2["default"];this.history=_useRoutes2["default"](createHistory)({routes:_RouteUtils.createRoutes(routes||children),parseQueryString:parseQueryString,stringifyQuery:stringifyQuery});this._unlisten=this.history.listen(function(error,state){if(error){_this.handleError(error)}else{_this.setState(state,_this.props.onUpdate)}})};Router.prototype.componentWillReceiveProps=function componentWillReceiveProps(nextProps){"production"!=="production"?_warning2["default"](nextProps.history===this.props.history,"You cannot change <Router history>; it will be ignored"):undefined;"production"!=="production"?_warning2["default"]((nextProps.routes||nextProps.children)===(this.props.routes||this.props.children),"You cannot change <Router routes>; it will be ignored"):undefined};Router.prototype.componentWillUnmount=function componentWillUnmount(){if(this._unlisten)this._unlisten()};Router.prototype.render=function render(){var _state=this.state;var location=_state.location;var routes=_state.routes;var params=_state.params;var components=_state.components;var _props2=this.props;var RoutingContext=_props2.RoutingContext;var createElement=_props2.createElement;var props=_objectWithoutProperties(_props2,["RoutingContext","createElement"]);if(location==null)return null;Object.keys(Router.propTypes).forEach(function(propType){return delete props[propType]});return _react2["default"].createElement(RoutingContext,_extends({},props,{history:this.history,createElement:createElement,location:location,routes:routes,params:params,components:components}))};return Router}(_react.Component);Router.propTypes={history:object,children:_PropTypes.routes,routes:_PropTypes.routes,RoutingContext:func.isRequired,createElement:func,onError:func,onUpdate:func,parseQueryString:func,stringifyQuery:func};Router.defaultProps={RoutingContext:_RoutingContext2["default"]};exports["default"]=Router;module.exports=exports["default"]},{"./PropTypes":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/PropTypes.js","./RouteUtils":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/RouteUtils.js","./RoutingContext":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/RoutingContext.js","./useRoutes":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/useRoutes.js","history/lib/createHashHistory":"/Users/paulfrazee/patchwork/node_modules/history/lib/createHashHistory.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js",warning:"/Users/paulfrazee/patchwork/node_modules/warning/browser.js"}],"/Users/paulfrazee/patchwork/node_modules/react-router/lib/RoutingContext.js":[function(require,module,exports){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var _invariant=require("invariant");var _invariant2=_interopRequireDefault(_invariant);var _react=require("react");var _react2=_interopRequireDefault(_react);var _RouteUtils=require("./RouteUtils");var _getRouteParams=require("./getRouteParams");var _getRouteParams2=_interopRequireDefault(_getRouteParams);var _React$PropTypes=_react2["default"].PropTypes;var array=_React$PropTypes.array;var func=_React$PropTypes.func;var object=_React$PropTypes.object;var RoutingContext=function(_Component){_inherits(RoutingContext,_Component);function RoutingContext(){_classCallCheck(this,RoutingContext);_Component.apply(this,arguments)}RoutingContext.prototype.getChildContext=function getChildContext(){var _props=this.props;var history=_props.history;var location=_props.location;return{history:history,location:location}};RoutingContext.prototype.createElement=function createElement(component,props){return component==null?null:this.props.createElement(component,props)};RoutingContext.prototype.render=function render(){var _this=this;var _props2=this.props;var history=_props2.history;var location=_props2.location;var routes=_props2.routes;var params=_props2.params;var components=_props2.components;var element=null;if(components){element=components.reduceRight(function(element,components,index){if(components==null)return element;var route=routes[index];var routeParams=_getRouteParams2["default"](route,params);var props={history:history,location:location,params:params,route:route,routeParams:routeParams,routes:routes};if(_RouteUtils.isReactChildren(element)){props.children=element}else if(element){for(var prop in element){if(element.hasOwnProperty(prop))props[prop]=element[prop]}}if(typeof components==="object"){var elements={};for(var key in components){if(components.hasOwnProperty(key)){elements[key]=_this.createElement(components[key],_extends({key:key},props))}}return elements}return _this.createElement(components,props)},element)}!(element===null||element===false||_react2["default"].isValidElement(element))?"production"!=="production"?_invariant2["default"](false,"The root route must render a single element"):_invariant2["default"](false):undefined;return element};return RoutingContext}(_react.Component);RoutingContext.propTypes={history:object.isRequired,createElement:func.isRequired,location:object.isRequired,routes:array.isRequired,params:object.isRequired,components:array.isRequired};RoutingContext.defaultProps={createElement:_react2["default"].createElement};RoutingContext.childContextTypes={history:object.isRequired,location:object.isRequired};exports["default"]=RoutingContext;module.exports=exports["default"]},{"./RouteUtils":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/RouteUtils.js","./getRouteParams":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/getRouteParams.js",invariant:"/Users/paulfrazee/patchwork/node_modules/invariant/browser.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/node_modules/react-router/lib/TransitionUtils.js":[function(require,module,exports){"use strict";exports.__esModule=true;exports.runEnterHooks=runEnterHooks;exports.runLeaveHooks=runLeaveHooks;var _AsyncUtils=require("./AsyncUtils");function createEnterHook(hook,route){return function(a,b,callback){hook.apply(route,arguments);if(hook.length<3){callback()}}}function getEnterHooks(routes){return routes.reduce(function(hooks,route){if(route.onEnter)hooks.push(createEnterHook(route.onEnter,route));return hooks},[])}function runEnterHooks(routes,nextState,callback){var hooks=getEnterHooks(routes);if(!hooks.length){callback();return}var redirectInfo=undefined;function replaceState(state,pathname,query){redirectInfo={pathname:pathname,query:query,state:state}}_AsyncUtils.loopAsync(hooks.length,function(index,next,done){hooks[index](nextState,replaceState,function(error){if(error||redirectInfo){done(error,redirectInfo)}else{next()}})},callback)}function runLeaveHooks(routes){for(var i=0,len=routes.length;i<len;++i){if(routes[i].onLeave)routes[i].onLeave.call(routes[i])}}},{"./AsyncUtils":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/AsyncUtils.js"}],"/Users/paulfrazee/patchwork/node_modules/react-router/lib/computeChangedRoutes.js":[function(require,module,exports){"use strict";exports.__esModule=true;var _PatternUtils=require("./PatternUtils");function routeParamsChanged(route,prevState,nextState){if(!route.path)return false;var paramNames=_PatternUtils.getParamNames(route.path);return paramNames.some(function(paramName){return prevState.params[paramName]!==nextState.params[paramName]})}function computeChangedRoutes(prevState,nextState){var prevRoutes=prevState&&prevState.routes;var nextRoutes=nextState.routes;var leaveRoutes=undefined,enterRoutes=undefined;if(prevRoutes){leaveRoutes=prevRoutes.filter(function(route){return nextRoutes.indexOf(route)===-1||routeParamsChanged(route,prevState,nextState)});leaveRoutes.reverse();enterRoutes=nextRoutes.filter(function(route){return prevRoutes.indexOf(route)===-1||leaveRoutes.indexOf(route)!==-1})}else{leaveRoutes=[];enterRoutes=nextRoutes}return{leaveRoutes:leaveRoutes,enterRoutes:enterRoutes}}exports["default"]=computeChangedRoutes;module.exports=exports["default"]},{"./PatternUtils":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/PatternUtils.js"}],"/Users/paulfrazee/patchwork/node_modules/react-router/lib/getComponents.js":[function(require,module,exports){"use strict";exports.__esModule=true;var _AsyncUtils=require("./AsyncUtils");function getComponentsForRoute(location,route,callback){if(route.component||route.components){callback(null,route.component||route.components)}else if(route.getComponent){route.getComponent(location,callback)}else if(route.getComponents){route.getComponents(location,callback)}else{callback()}}function getComponents(nextState,callback){_AsyncUtils.mapAsync(nextState.routes,function(route,index,callback){getComponentsForRoute(nextState.location,route,callback)},callback)}exports["default"]=getComponents;module.exports=exports["default"]},{"./AsyncUtils":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/AsyncUtils.js"}],"/Users/paulfrazee/patchwork/node_modules/react-router/lib/getRouteParams.js":[function(require,module,exports){"use strict";exports.__esModule=true;var _PatternUtils=require("./PatternUtils");function getRouteParams(route,params){var routeParams={};if(!route.path)return routeParams;var paramNames=_PatternUtils.getParamNames(route.path);for(var p in params){if(params.hasOwnProperty(p)&&paramNames.indexOf(p)!==-1)routeParams[p]=params[p]}return routeParams}exports["default"]=getRouteParams;module.exports=exports["default"]},{"./PatternUtils":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/PatternUtils.js"}],"/Users/paulfrazee/patchwork/node_modules/react-router/lib/index.js":[function(require,module,exports){"use strict";exports.__esModule=true;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _Router2=require("./Router");var _Router3=_interopRequireDefault(_Router2);exports.Router=_Router3["default"];var _Link2=require("./Link");var _Link3=_interopRequireDefault(_Link2);exports.Link=_Link3["default"];var _IndexLink2=require("./IndexLink");var _IndexLink3=_interopRequireDefault(_IndexLink2);exports.IndexLink=_IndexLink3["default"];var _IndexRedirect2=require("./IndexRedirect");var _IndexRedirect3=_interopRequireDefault(_IndexRedirect2);exports.IndexRedirect=_IndexRedirect3["default"];var _IndexRoute2=require("./IndexRoute");var _IndexRoute3=_interopRequireDefault(_IndexRoute2);exports.IndexRoute=_IndexRoute3["default"];var _Redirect2=require("./Redirect");var _Redirect3=_interopRequireDefault(_Redirect2);exports.Redirect=_Redirect3["default"];var _Route2=require("./Route");var _Route3=_interopRequireDefault(_Route2);exports.Route=_Route3["default"];var _History2=require("./History");var _History3=_interopRequireDefault(_History2);exports.History=_History3["default"];var _Lifecycle2=require("./Lifecycle");var _Lifecycle3=_interopRequireDefault(_Lifecycle2);exports.Lifecycle=_Lifecycle3["default"];var _RouteContext2=require("./RouteContext");var _RouteContext3=_interopRequireDefault(_RouteContext2);exports.RouteContext=_RouteContext3["default"];var _useRoutes2=require("./useRoutes");var _useRoutes3=_interopRequireDefault(_useRoutes2);exports.useRoutes=_useRoutes3["default"];var _RouteUtils=require("./RouteUtils");exports.createRoutes=_RouteUtils.createRoutes;var _RoutingContext2=require("./RoutingContext");var _RoutingContext3=_interopRequireDefault(_RoutingContext2);exports.RoutingContext=_RoutingContext3["default"];var _PropTypes2=require("./PropTypes");var _PropTypes3=_interopRequireDefault(_PropTypes2);exports.PropTypes=_PropTypes3["default"];var _match2=require("./match");var _match3=_interopRequireDefault(_match2);exports.match=_match3["default"];var _Router4=_interopRequireDefault(_Router2);exports["default"]=_Router4["default"]},{"./History":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/History.js","./IndexLink":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/IndexLink.js","./IndexRedirect":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/IndexRedirect.js","./IndexRoute":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/IndexRoute.js","./Lifecycle":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/Lifecycle.js","./Link":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/Link.js","./PropTypes":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/PropTypes.js","./Redirect":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/Redirect.js","./Route":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/Route.js","./RouteContext":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/RouteContext.js","./RouteUtils":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/RouteUtils.js","./Router":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/Router.js","./RoutingContext":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/RoutingContext.js","./match":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/match.js","./useRoutes":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/useRoutes.js"}],"/Users/paulfrazee/patchwork/node_modules/react-router/lib/isActive.js":[function(require,module,exports){"use strict";exports.__esModule=true;var _PatternUtils=require("./PatternUtils");function deepEqual(a,b){if(a==b)return true;if(a==null||b==null)return false;if(Array.isArray(a)){return Array.isArray(b)&&a.length===b.length&&a.every(function(item,index){return deepEqual(item,b[index])})}if(typeof a==="object"){for(var p in a){if(!a.hasOwnProperty(p)){continue}if(a[p]===undefined){if(b[p]!==undefined){return false}}else if(!b.hasOwnProperty(p)){return false}else if(!deepEqual(a[p],b[p])){return false}}return true}return String(a)===String(b)}function paramsAreActive(paramNames,paramValues,activeParams){return paramNames.every(function(paramName,index){return String(paramValues[index])===String(activeParams[paramName])})}function getMatchingRouteIndex(pathname,activeRoutes,activeParams){var remainingPathname=pathname,paramNames=[],paramValues=[];for(var i=0,len=activeRoutes.length;i<len;++i){var route=activeRoutes[i];var pattern=route.path||"";if(pattern.charAt(0)==="/"){remainingPathname=pathname;paramNames=[];paramValues=[]}if(remainingPathname!==null){var matched=_PatternUtils.matchPattern(pattern,remainingPathname);remainingPathname=matched.remainingPathname;paramNames=[].concat(paramNames,matched.paramNames);paramValues=[].concat(paramValues,matched.paramValues)}if(remainingPathname===""&&route.path&&paramsAreActive(paramNames,paramValues,activeParams))return i}return null}function routeIsActive(pathname,routes,params,indexOnly){var i=getMatchingRouteIndex(pathname,routes,params);if(i===null){return false}else if(!indexOnly){return true}return routes.slice(i+1).every(function(route){return!route.path})}function queryIsActive(query,activeQuery){if(activeQuery==null)return query==null;if(query==null)return true;return deepEqual(query,activeQuery)}function isActive(pathname,query,indexOnly,location,routes,params){if(location==null)return false;if(!routeIsActive(pathname,routes,params,indexOnly))return false;return queryIsActive(query,location.query)}exports["default"]=isActive;module.exports=exports["default"]},{"./PatternUtils":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/PatternUtils.js"}],"/Users/paulfrazee/patchwork/node_modules/react-router/lib/match.js":[function(require,module,exports){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _invariant=require("invariant");var _invariant2=_interopRequireDefault(_invariant);var _historyLibCreateMemoryHistory=require("history/lib/createMemoryHistory");var _historyLibCreateMemoryHistory2=_interopRequireDefault(_historyLibCreateMemoryHistory);var _historyLibUseBasename=require("history/lib/useBasename");var _historyLibUseBasename2=_interopRequireDefault(_historyLibUseBasename);var _RouteUtils=require("./RouteUtils");var _useRoutes=require("./useRoutes");var _useRoutes2=_interopRequireDefault(_useRoutes);var createHistory=_useRoutes2["default"](_historyLibUseBasename2["default"](_historyLibCreateMemoryHistory2["default"]));function match(_ref,callback){var routes=_ref.routes;var location=_ref.location;var parseQueryString=_ref.parseQueryString;var stringifyQuery=_ref.stringifyQuery;var basename=_ref.basename;!location?"production"!=="production"?_invariant2["default"](false,"match needs a location"):_invariant2["default"](false):undefined;var history=createHistory({routes:_RouteUtils.createRoutes(routes),parseQueryString:parseQueryString,stringifyQuery:stringifyQuery,basename:basename});if(typeof location==="string")location=history.createLocation(location);history.match(location,function(error,redirectLocation,nextState){callback(error,redirectLocation,nextState&&_extends({},nextState,{history:history}))})}exports["default"]=match;module.exports=exports["default"]},{"./RouteUtils":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/RouteUtils.js","./useRoutes":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/useRoutes.js","history/lib/createMemoryHistory":"/Users/paulfrazee/patchwork/node_modules/history/lib/createMemoryHistory.js","history/lib/useBasename":"/Users/paulfrazee/patchwork/node_modules/history/lib/useBasename.js",invariant:"/Users/paulfrazee/patchwork/node_modules/invariant/browser.js"}],"/Users/paulfrazee/patchwork/node_modules/react-router/lib/matchRoutes.js":[function(require,module,exports){"use strict";exports.__esModule=true;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _warning=require("warning");var _warning2=_interopRequireDefault(_warning);var _AsyncUtils=require("./AsyncUtils");var _PatternUtils=require("./PatternUtils");var _RouteUtils=require("./RouteUtils");function getChildRoutes(route,location,callback){if(route.childRoutes){callback(null,route.childRoutes)}else if(route.getChildRoutes){route.getChildRoutes(location,function(error,childRoutes){callback(error,!error&&_RouteUtils.createRoutes(childRoutes))})}else{callback()}}function getIndexRoute(route,location,callback){if(route.indexRoute){callback(null,route.indexRoute)}else if(route.getIndexRoute){route.getIndexRoute(location,function(error,indexRoute){callback(error,!error&&_RouteUtils.createRoutes(indexRoute)[0]);
})}else if(route.childRoutes){(function(){var pathless=route.childRoutes.filter(function(obj){return!obj.hasOwnProperty("path")});_AsyncUtils.loopAsync(pathless.length,function(index,next,done){getIndexRoute(pathless[index],location,function(error,indexRoute){if(error||indexRoute){var routes=[pathless[index]].concat(Array.isArray(indexRoute)?indexRoute:[indexRoute]);done(error,routes)}else{next()}})},function(err,routes){callback(null,routes)})})()}else{callback()}}function assignParams(params,paramNames,paramValues){return paramNames.reduce(function(params,paramName,index){var paramValue=paramValues&&paramValues[index];if(Array.isArray(params[paramName])){params[paramName].push(paramValue)}else if(paramName in params){params[paramName]=[params[paramName],paramValue]}else{params[paramName]=paramValue}return params},params)}function createParams(paramNames,paramValues){return assignParams({},paramNames,paramValues)}function matchRouteDeep(route,location,remainingPathname,paramNames,paramValues,callback){var pattern=route.path||"";if(pattern.charAt(0)==="/"){remainingPathname=location.pathname;paramNames=[];paramValues=[]}if(remainingPathname!==null){var matched=_PatternUtils.matchPattern(pattern,remainingPathname);remainingPathname=matched.remainingPathname;paramNames=[].concat(paramNames,matched.paramNames);paramValues=[].concat(paramValues,matched.paramValues);if(remainingPathname===""&&route.path){var _ret2=function(){var match={routes:[route],params:createParams(paramNames,paramValues)};getIndexRoute(route,location,function(error,indexRoute){if(error){callback(error)}else{if(Array.isArray(indexRoute)){var _match$routes;"production"!=="production"?_warning2["default"](indexRoute.every(function(route){return!route.path}),"Index routes should not have paths"):undefined;(_match$routes=match.routes).push.apply(_match$routes,indexRoute)}else if(indexRoute){"production"!=="production"?_warning2["default"](!indexRoute.path,"Index routes should not have paths"):undefined;match.routes.push(indexRoute)}callback(null,match)}});return{v:undefined}}();if(typeof _ret2==="object")return _ret2.v}}if(remainingPathname!=null||route.childRoutes){getChildRoutes(route,location,function(error,childRoutes){if(error){callback(error)}else if(childRoutes){matchRoutes(childRoutes,location,function(error,match){if(error){callback(error)}else if(match){match.routes.unshift(route);callback(null,match)}else{callback()}},remainingPathname,paramNames,paramValues)}else{callback()}})}else{callback()}}function matchRoutes(routes,location,callback){var remainingPathname=arguments.length<=3||arguments[3]===undefined?location.pathname:arguments[3];var paramNames=arguments.length<=4||arguments[4]===undefined?[]:arguments[4];var paramValues=arguments.length<=5||arguments[5]===undefined?[]:arguments[5];return function(){_AsyncUtils.loopAsync(routes.length,function(index,next,done){matchRouteDeep(routes[index],location,remainingPathname,paramNames,paramValues,function(error,match){if(error||match){done(error,match)}else{next()}})},callback)}()}exports["default"]=matchRoutes;module.exports=exports["default"]},{"./AsyncUtils":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/AsyncUtils.js","./PatternUtils":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/PatternUtils.js","./RouteUtils":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/RouteUtils.js",warning:"/Users/paulfrazee/patchwork/node_modules/warning/browser.js"}],"/Users/paulfrazee/patchwork/node_modules/react-router/lib/useRoutes.js":[function(require,module,exports){"use strict";exports.__esModule=true;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var _warning=require("warning");var _warning2=_interopRequireDefault(_warning);var _historyLibActions=require("history/lib/Actions");var _historyLibUseQueries=require("history/lib/useQueries");var _historyLibUseQueries2=_interopRequireDefault(_historyLibUseQueries);var _computeChangedRoutes2=require("./computeChangedRoutes");var _computeChangedRoutes3=_interopRequireDefault(_computeChangedRoutes2);var _TransitionUtils=require("./TransitionUtils");var _isActive2=require("./isActive");var _isActive3=_interopRequireDefault(_isActive2);var _getComponents=require("./getComponents");var _getComponents2=_interopRequireDefault(_getComponents);var _matchRoutes=require("./matchRoutes");var _matchRoutes2=_interopRequireDefault(_matchRoutes);function hasAnyProperties(object){for(var p in object){if(object.hasOwnProperty(p))return true}return false}function useRoutes(createHistory){return function(){var options=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var routes=options.routes;var historyOptions=_objectWithoutProperties(options,["routes"]);var history=_historyLibUseQueries2["default"](createHistory)(historyOptions);var state={};function isActive(pathname,query){var indexOnly=arguments.length<=2||arguments[2]===undefined?false:arguments[2];return _isActive3["default"](pathname,query,indexOnly,state.location,state.routes,state.params)}function createLocationFromRedirectInfo(_ref){var pathname=_ref.pathname;var query=_ref.query;var state=_ref.state;return history.createLocation(history.createPath(pathname,query),state,_historyLibActions.REPLACE)}var partialNextState=undefined;function match(location,callback){if(partialNextState&&partialNextState.location===location){finishMatch(partialNextState,callback)}else{_matchRoutes2["default"](routes,location,function(error,nextState){if(error){callback(error)}else if(nextState){finishMatch(_extends({},nextState,{location:location}),callback)}else{callback()}})}}function finishMatch(nextState,callback){var _computeChangedRoutes=_computeChangedRoutes3["default"](state,nextState);var leaveRoutes=_computeChangedRoutes.leaveRoutes;var enterRoutes=_computeChangedRoutes.enterRoutes;_TransitionUtils.runLeaveHooks(leaveRoutes);_TransitionUtils.runEnterHooks(enterRoutes,nextState,function(error,redirectInfo){if(error){callback(error)}else if(redirectInfo){callback(null,createLocationFromRedirectInfo(redirectInfo))}else{_getComponents2["default"](nextState,function(error,components){if(error){callback(error)}else{callback(null,null,state=_extends({},nextState,{components:components}))}})}})}var RouteGuid=1;function getRouteID(route){return route.__id__||(route.__id__=RouteGuid++)}var RouteHooks={};function getRouteHooksForRoutes(routes){return routes.reduce(function(hooks,route){hooks.push.apply(hooks,RouteHooks[getRouteID(route)]);return hooks},[])}function transitionHook(location,callback){_matchRoutes2["default"](routes,location,function(error,nextState){if(nextState==null){callback();return}partialNextState=_extends({},nextState,{location:location});var hooks=getRouteHooksForRoutes(_computeChangedRoutes3["default"](state,partialNextState).leaveRoutes);var result=undefined;for(var i=0,len=hooks.length;result==null&&i<len;++i){result=hooks[i](location)}callback(result)})}function beforeUnloadHook(){if(state.routes){var hooks=getRouteHooksForRoutes(state.routes);var message=undefined;for(var i=0,len=hooks.length;typeof message!=="string"&&i<len;++i){message=hooks[i]()}return message}}var unlistenBefore=undefined,unlistenBeforeUnload=undefined;function listenBeforeLeavingRoute(route,hook){var routeID=getRouteID(route);var hooks=RouteHooks[routeID];if(hooks==null){var thereWereNoRouteHooks=!hasAnyProperties(RouteHooks);hooks=RouteHooks[routeID]=[hook];if(thereWereNoRouteHooks){unlistenBefore=history.listenBefore(transitionHook);if(history.listenBeforeUnload)unlistenBeforeUnload=history.listenBeforeUnload(beforeUnloadHook)}}else if(hooks.indexOf(hook)===-1){hooks.push(hook)}return function(){var hooks=RouteHooks[routeID];if(hooks!=null){var newHooks=hooks.filter(function(item){return item!==hook});if(newHooks.length===0){delete RouteHooks[routeID];if(!hasAnyProperties(RouteHooks)){if(unlistenBefore){unlistenBefore();unlistenBefore=null}if(unlistenBeforeUnload){unlistenBeforeUnload();unlistenBeforeUnload=null}}}else{RouteHooks[routeID]=newHooks}}}}function listen(listener){return history.listen(function(location){if(state.location===location){listener(null,state)}else{match(location,function(error,redirectLocation,nextState){if(error){listener(error)}else if(redirectLocation){history.transitionTo(redirectLocation)}else if(nextState){listener(null,nextState)}else{"production"!=="production"?_warning2["default"](false,'Location "%s" did not match any routes',location.pathname+location.search+location.hash):undefined}})}})}return _extends({},history,{isActive:isActive,match:match,listenBeforeLeavingRoute:listenBeforeLeavingRoute,listen:listen})}}exports["default"]=useRoutes;module.exports=exports["default"]},{"./TransitionUtils":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/TransitionUtils.js","./computeChangedRoutes":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/computeChangedRoutes.js","./getComponents":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/getComponents.js","./isActive":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/isActive.js","./matchRoutes":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/matchRoutes.js","history/lib/Actions":"/Users/paulfrazee/patchwork/node_modules/history/lib/Actions.js","history/lib/useQueries":"/Users/paulfrazee/patchwork/node_modules/history/lib/useQueries.js",warning:"/Users/paulfrazee/patchwork/node_modules/warning/browser.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/AutoFocusUtils.js":[function(require,module,exports){"use strict";var ReactMount=require("./ReactMount");var findDOMNode=require("./findDOMNode");var focusNode=require("fbjs/lib/focusNode");var Mixin={componentDidMount:function(){if(this.props.autoFocus){focusNode(findDOMNode(this))}}};var AutoFocusUtils={Mixin:Mixin,focusDOMComponent:function(){focusNode(ReactMount.getNode(this._rootNodeID))}};module.exports=AutoFocusUtils},{"./ReactMount":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactMount.js","./findDOMNode":"/Users/paulfrazee/patchwork/node_modules/react/lib/findDOMNode.js","fbjs/lib/focusNode":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/focusNode.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/BeforeInputEventPlugin.js":[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants");var EventPropagators=require("./EventPropagators");var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment");var FallbackCompositionState=require("./FallbackCompositionState");var SyntheticCompositionEvent=require("./SyntheticCompositionEvent");var SyntheticInputEvent=require("./SyntheticInputEvent");var keyOf=require("fbjs/lib/keyOf");var END_KEYCODES=[9,13,27,32];var START_KEYCODE=229;var canUseCompositionEvent=ExecutionEnvironment.canUseDOM&&"CompositionEvent"in window;var documentMode=null;if(ExecutionEnvironment.canUseDOM&&"documentMode"in document){documentMode=document.documentMode}var canUseTextInputEvent=ExecutionEnvironment.canUseDOM&&"TextEvent"in window&&!documentMode&&!isPresto();var useFallbackCompositionData=ExecutionEnvironment.canUseDOM&&(!canUseCompositionEvent||documentMode&&documentMode>8&&documentMode<=11);function isPresto(){var opera=window.opera;return typeof opera==="object"&&typeof opera.version==="function"&&parseInt(opera.version(),10)<=12}var SPACEBAR_CODE=32;var SPACEBAR_CHAR=String.fromCharCode(SPACEBAR_CODE);var topLevelTypes=EventConstants.topLevelTypes;var eventTypes={beforeInput:{phasedRegistrationNames:{bubbled:keyOf({onBeforeInput:null}),captured:keyOf({onBeforeInputCapture:null})},dependencies:[topLevelTypes.topCompositionEnd,topLevelTypes.topKeyPress,topLevelTypes.topTextInput,topLevelTypes.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:keyOf({onCompositionEnd:null}),captured:keyOf({onCompositionEndCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionEnd,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:keyOf({onCompositionStart:null}),captured:keyOf({onCompositionStartCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionStart,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:keyOf({onCompositionUpdate:null}),captured:keyOf({onCompositionUpdateCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionUpdate,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]}};var hasSpaceKeypress=false;function isKeypressCommand(nativeEvent){return(nativeEvent.ctrlKey||nativeEvent.altKey||nativeEvent.metaKey)&&!(nativeEvent.ctrlKey&&nativeEvent.altKey)}function getCompositionEventType(topLevelType){switch(topLevelType){case topLevelTypes.topCompositionStart:return eventTypes.compositionStart;case topLevelTypes.topCompositionEnd:return eventTypes.compositionEnd;case topLevelTypes.topCompositionUpdate:return eventTypes.compositionUpdate}}function isFallbackCompositionStart(topLevelType,nativeEvent){return topLevelType===topLevelTypes.topKeyDown&&nativeEvent.keyCode===START_KEYCODE}function isFallbackCompositionEnd(topLevelType,nativeEvent){switch(topLevelType){case topLevelTypes.topKeyUp:return END_KEYCODES.indexOf(nativeEvent.keyCode)!==-1;case topLevelTypes.topKeyDown:return nativeEvent.keyCode!==START_KEYCODE;case topLevelTypes.topKeyPress:case topLevelTypes.topMouseDown:case topLevelTypes.topBlur:return true;default:return false}}function getDataFromCustomEvent(nativeEvent){var detail=nativeEvent.detail;if(typeof detail==="object"&&"data"in detail){return detail.data}return null}var currentComposition=null;function extractCompositionEvent(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){var eventType;var fallbackData;if(canUseCompositionEvent){eventType=getCompositionEventType(topLevelType)}else if(!currentComposition){if(isFallbackCompositionStart(topLevelType,nativeEvent)){eventType=eventTypes.compositionStart}}else if(isFallbackCompositionEnd(topLevelType,nativeEvent)){eventType=eventTypes.compositionEnd}if(!eventType){return null}if(useFallbackCompositionData){if(!currentComposition&&eventType===eventTypes.compositionStart){currentComposition=FallbackCompositionState.getPooled(topLevelTarget)}else if(eventType===eventTypes.compositionEnd){if(currentComposition){fallbackData=currentComposition.getData()}}}var event=SyntheticCompositionEvent.getPooled(eventType,topLevelTargetID,nativeEvent,nativeEventTarget);if(fallbackData){event.data=fallbackData}else{var customData=getDataFromCustomEvent(nativeEvent);if(customData!==null){event.data=customData}}EventPropagators.accumulateTwoPhaseDispatches(event);return event}function getNativeBeforeInputChars(topLevelType,nativeEvent){switch(topLevelType){case topLevelTypes.topCompositionEnd:return getDataFromCustomEvent(nativeEvent);case topLevelTypes.topKeyPress:var which=nativeEvent.which;if(which!==SPACEBAR_CODE){return null}hasSpaceKeypress=true;return SPACEBAR_CHAR;case topLevelTypes.topTextInput:var chars=nativeEvent.data;if(chars===SPACEBAR_CHAR&&hasSpaceKeypress){return null}return chars;default:return null}}function getFallbackBeforeInputChars(topLevelType,nativeEvent){if(currentComposition){if(topLevelType===topLevelTypes.topCompositionEnd||isFallbackCompositionEnd(topLevelType,nativeEvent)){var chars=currentComposition.getData();FallbackCompositionState.release(currentComposition);currentComposition=null;return chars}return null}switch(topLevelType){case topLevelTypes.topPaste:return null;case topLevelTypes.topKeyPress:if(nativeEvent.which&&!isKeypressCommand(nativeEvent)){return String.fromCharCode(nativeEvent.which)}return null;case topLevelTypes.topCompositionEnd:return useFallbackCompositionData?null:nativeEvent.data;default:return null}}function extractBeforeInputEvent(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){var chars;if(canUseTextInputEvent){chars=getNativeBeforeInputChars(topLevelType,nativeEvent)}else{chars=getFallbackBeforeInputChars(topLevelType,nativeEvent)}if(!chars){return null}var event=SyntheticInputEvent.getPooled(eventTypes.beforeInput,topLevelTargetID,nativeEvent,nativeEventTarget);event.data=chars;EventPropagators.accumulateTwoPhaseDispatches(event);return event}var BeforeInputEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){return[extractCompositionEvent(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget),extractBeforeInputEvent(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget)]}};module.exports=BeforeInputEventPlugin},{"./EventConstants":"/Users/paulfrazee/patchwork/node_modules/react/lib/EventConstants.js","./EventPropagators":"/Users/paulfrazee/patchwork/node_modules/react/lib/EventPropagators.js","./FallbackCompositionState":"/Users/paulfrazee/patchwork/node_modules/react/lib/FallbackCompositionState.js","./SyntheticCompositionEvent":"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticCompositionEvent.js","./SyntheticInputEvent":"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticInputEvent.js","fbjs/lib/ExecutionEnvironment":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/ExecutionEnvironment.js","fbjs/lib/keyOf":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/keyOf.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/CSSProperty.js":[function(require,module,exports){"use strict";var isUnitlessNumber={animationIterationCount:true,boxFlex:true,boxFlexGroup:true,boxOrdinalGroup:true,columnCount:true,flex:true,flexGrow:true,flexPositive:true,flexShrink:true,flexNegative:true,flexOrder:true,fontWeight:true,lineClamp:true,lineHeight:true,opacity:true,order:true,orphans:true,tabSize:true,widows:true,zIndex:true,zoom:true,fillOpacity:true,stopOpacity:true,strokeDashoffset:true,strokeOpacity:true,strokeWidth:true};function prefixKey(prefix,key){return prefix+key.charAt(0).toUpperCase()+key.substring(1)}var prefixes=["Webkit","ms","Moz","O"];Object.keys(isUnitlessNumber).forEach(function(prop){prefixes.forEach(function(prefix){isUnitlessNumber[prefixKey(prefix,prop)]=isUnitlessNumber[prop]})});var shorthandPropertyExpansions={background:{backgroundAttachment:true,backgroundColor:true,backgroundImage:true,backgroundPositionX:true,backgroundPositionY:true,backgroundRepeat:true},backgroundPosition:{backgroundPositionX:true,backgroundPositionY:true},border:{borderWidth:true,borderStyle:true,borderColor:true},borderBottom:{borderBottomWidth:true,borderBottomStyle:true,borderBottomColor:true},borderLeft:{borderLeftWidth:true,borderLeftStyle:true,borderLeftColor:true},borderRight:{borderRightWidth:true,borderRightStyle:true,borderRightColor:true},borderTop:{borderTopWidth:true,borderTopStyle:true,borderTopColor:true},font:{fontStyle:true,fontVariant:true,fontWeight:true,fontSize:true,lineHeight:true,fontFamily:true},outline:{outlineWidth:true,outlineStyle:true,outlineColor:true}};var CSSProperty={isUnitlessNumber:isUnitlessNumber,shorthandPropertyExpansions:shorthandPropertyExpansions};module.exports=CSSProperty},{}],"/Users/paulfrazee/patchwork/node_modules/react/lib/CSSPropertyOperations.js":[function(require,module,exports){"use strict";var CSSProperty=require("./CSSProperty");var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment");var ReactPerf=require("./ReactPerf");var camelizeStyleName=require("fbjs/lib/camelizeStyleName");var dangerousStyleValue=require("./dangerousStyleValue");var hyphenateStyleName=require("fbjs/lib/hyphenateStyleName");var memoizeStringOnly=require("fbjs/lib/memoizeStringOnly");var warning=require("fbjs/lib/warning");var processStyleName=memoizeStringOnly(function(styleName){return hyphenateStyleName(styleName)});var hasShorthandPropertyBug=false;var styleFloatAccessor="cssFloat";if(ExecutionEnvironment.canUseDOM){var tempStyle=document.createElement("div").style;try{tempStyle.font=""}catch(e){hasShorthandPropertyBug=true}if(document.documentElement.style.cssFloat===undefined){styleFloatAccessor="styleFloat"}}if("production"!=="production"){var badVendoredStyleNamePattern=/^(?:webkit|moz|o)[A-Z]/;var badStyleValueWithSemicolonPattern=/;\s*$/;var warnedStyleNames={};var warnedStyleValues={};var warnHyphenatedStyleName=function(name){if(warnedStyleNames.hasOwnProperty(name)&&warnedStyleNames[name]){return}warnedStyleNames[name]=true;"production"!=="production"?warning(false,"Unsupported style property %s. Did you mean %s?",name,camelizeStyleName(name)):undefined};var warnBadVendoredStyleName=function(name){if(warnedStyleNames.hasOwnProperty(name)&&warnedStyleNames[name]){return}warnedStyleNames[name]=true;"production"!=="production"?warning(false,"Unsupported vendor-prefixed style property %s. Did you mean %s?",name,name.charAt(0).toUpperCase()+name.slice(1)):undefined};var warnStyleValueWithSemicolon=function(name,value){if(warnedStyleValues.hasOwnProperty(value)&&warnedStyleValues[value]){return}warnedStyleValues[value]=true;"production"!=="production"?warning(false,"Style property values shouldn't contain a semicolon. "+'Try "%s: %s" instead.',name,value.replace(badStyleValueWithSemicolonPattern,"")):undefined};var warnValidStyle=function(name,value){if(name.indexOf("-")>-1){warnHyphenatedStyleName(name)}else if(badVendoredStyleNamePattern.test(name)){warnBadVendoredStyleName(name)}else if(badStyleValueWithSemicolonPattern.test(value)){warnStyleValueWithSemicolon(name,value)}}}var CSSPropertyOperations={createMarkupForStyles:function(styles){var serialized="";for(var styleName in styles){if(!styles.hasOwnProperty(styleName)){continue}var styleValue=styles[styleName];if("production"!=="production"){warnValidStyle(styleName,styleValue)}if(styleValue!=null){serialized+=processStyleName(styleName)+":";serialized+=dangerousStyleValue(styleName,styleValue)+";"}}return serialized||null},setValueForStyles:function(node,styles){var style=node.style;for(var styleName in styles){if(!styles.hasOwnProperty(styleName)){continue}if("production"!=="production"){warnValidStyle(styleName,styles[styleName])}var styleValue=dangerousStyleValue(styleName,styles[styleName]);if(styleName==="float"){styleName=styleFloatAccessor}if(styleValue){style[styleName]=styleValue}else{var expansion=hasShorthandPropertyBug&&CSSProperty.shorthandPropertyExpansions[styleName];if(expansion){for(var individualStyleName in expansion){style[individualStyleName]=""}}else{style[styleName]=""}}}}};ReactPerf.measureMethods(CSSPropertyOperations,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"});module.exports=CSSPropertyOperations},{"./CSSProperty":"/Users/paulfrazee/patchwork/node_modules/react/lib/CSSProperty.js","./ReactPerf":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactPerf.js","./dangerousStyleValue":"/Users/paulfrazee/patchwork/node_modules/react/lib/dangerousStyleValue.js","fbjs/lib/ExecutionEnvironment":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/ExecutionEnvironment.js","fbjs/lib/camelizeStyleName":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/camelizeStyleName.js","fbjs/lib/hyphenateStyleName":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/hyphenateStyleName.js","fbjs/lib/memoizeStringOnly":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/memoizeStringOnly.js","fbjs/lib/warning":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/warning.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/CallbackQueue.js":[function(require,module,exports){"use strict";var PooledClass=require("./PooledClass");var assign=require("./Object.assign");var invariant=require("fbjs/lib/invariant");function CallbackQueue(){this._callbacks=null;this._contexts=null}assign(CallbackQueue.prototype,{enqueue:function(callback,context){this._callbacks=this._callbacks||[];this._contexts=this._contexts||[];this._callbacks.push(callback);this._contexts.push(context)},notifyAll:function(){var callbacks=this._callbacks;var contexts=this._contexts;if(callbacks){!(callbacks.length===contexts.length)?"production"!=="production"?invariant(false,"Mismatched list of contexts in callback queue"):invariant(false):undefined;this._callbacks=null;this._contexts=null;for(var i=0;i<callbacks.length;i++){callbacks[i].call(contexts[i])}callbacks.length=0;contexts.length=0}},reset:function(){this._callbacks=null;this._contexts=null},destructor:function(){this.reset()}});PooledClass.addPoolingTo(CallbackQueue);module.exports=CallbackQueue},{"./Object.assign":"/Users/paulfrazee/patchwork/node_modules/react/lib/Object.assign.js","./PooledClass":"/Users/paulfrazee/patchwork/node_modules/react/lib/PooledClass.js","fbjs/lib/invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ChangeEventPlugin.js":[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants");var EventPluginHub=require("./EventPluginHub");var EventPropagators=require("./EventPropagators");var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment");var ReactUpdates=require("./ReactUpdates");var SyntheticEvent=require("./SyntheticEvent");var getEventTarget=require("./getEventTarget");var isEventSupported=require("./isEventSupported");var isTextInputElement=require("./isTextInputElement");var keyOf=require("fbjs/lib/keyOf");var topLevelTypes=EventConstants.topLevelTypes;var eventTypes={change:{phasedRegistrationNames:{bubbled:keyOf({onChange:null}),captured:keyOf({onChangeCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topChange,topLevelTypes.topClick,topLevelTypes.topFocus,topLevelTypes.topInput,topLevelTypes.topKeyDown,topLevelTypes.topKeyUp,topLevelTypes.topSelectionChange]}};var activeElement=null;var activeElementID=null;var activeElementValue=null;var activeElementValueProp=null;function shouldUseChangeEvent(elem){var nodeName=elem.nodeName&&elem.nodeName.toLowerCase();return nodeName==="select"||nodeName==="input"&&elem.type==="file"}var doesChangeEventBubble=false;if(ExecutionEnvironment.canUseDOM){doesChangeEventBubble=isEventSupported("change")&&(!("documentMode"in document)||document.documentMode>8)}function manualDispatchChangeEvent(nativeEvent){var event=SyntheticEvent.getPooled(eventTypes.change,activeElementID,nativeEvent,getEventTarget(nativeEvent));EventPropagators.accumulateTwoPhaseDispatches(event);ReactUpdates.batchedUpdates(runEventInBatch,event)}function runEventInBatch(event){EventPluginHub.enqueueEvents(event);EventPluginHub.processEventQueue(false)}function startWatchingForChangeEventIE8(target,targetID){activeElement=target;activeElementID=targetID;activeElement.attachEvent("onchange",manualDispatchChangeEvent)}function stopWatchingForChangeEventIE8(){if(!activeElement){return}activeElement.detachEvent("onchange",manualDispatchChangeEvent);activeElement=null;activeElementID=null}function getTargetIDForChangeEvent(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topChange){return topLevelTargetID}}function handleEventsForChangeEventIE8(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topFocus){stopWatchingForChangeEventIE8();startWatchingForChangeEventIE8(topLevelTarget,topLevelTargetID)}else if(topLevelType===topLevelTypes.topBlur){stopWatchingForChangeEventIE8()}}var isInputEventSupported=false;if(ExecutionEnvironment.canUseDOM){isInputEventSupported=isEventSupported("input")&&(!("documentMode"in document)||document.documentMode>9)}var newValueProp={get:function(){return activeElementValueProp.get.call(this)},set:function(val){activeElementValue=""+val;activeElementValueProp.set.call(this,val)}};function startWatchingForValueChange(target,targetID){activeElement=target;activeElementID=targetID;activeElementValue=target.value;activeElementValueProp=Object.getOwnPropertyDescriptor(target.constructor.prototype,"value");Object.defineProperty(activeElement,"value",newValueProp);activeElement.attachEvent("onpropertychange",handlePropertyChange)}function stopWatchingForValueChange(){if(!activeElement){return}delete activeElement.value;activeElement.detachEvent("onpropertychange",handlePropertyChange);activeElement=null;activeElementID=null;activeElementValue=null;activeElementValueProp=null}function handlePropertyChange(nativeEvent){if(nativeEvent.propertyName!=="value"){return}var value=nativeEvent.srcElement.value;if(value===activeElementValue){return}activeElementValue=value;manualDispatchChangeEvent(nativeEvent)}function getTargetIDForInputEvent(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topInput){return topLevelTargetID}}function handleEventsForInputEventIE(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topFocus){stopWatchingForValueChange();startWatchingForValueChange(topLevelTarget,topLevelTargetID)}else if(topLevelType===topLevelTypes.topBlur){stopWatchingForValueChange()}}function getTargetIDForInputEventIE(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topSelectionChange||topLevelType===topLevelTypes.topKeyUp||topLevelType===topLevelTypes.topKeyDown){if(activeElement&&activeElement.value!==activeElementValue){activeElementValue=activeElement.value;return activeElementID}}}function shouldUseClickEvent(elem){return elem.nodeName&&elem.nodeName.toLowerCase()==="input"&&(elem.type==="checkbox"||elem.type==="radio")}function getTargetIDForClickEvent(topLevelType,topLevelTarget,topLevelTargetID){if(topLevelType===topLevelTypes.topClick){return topLevelTargetID}}var ChangeEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){var getTargetIDFunc,handleEventFunc;if(shouldUseChangeEvent(topLevelTarget)){if(doesChangeEventBubble){getTargetIDFunc=getTargetIDForChangeEvent}else{handleEventFunc=handleEventsForChangeEventIE8}}else if(isTextInputElement(topLevelTarget)){if(isInputEventSupported){getTargetIDFunc=getTargetIDForInputEvent}else{getTargetIDFunc=getTargetIDForInputEventIE;handleEventFunc=handleEventsForInputEventIE}}else if(shouldUseClickEvent(topLevelTarget)){getTargetIDFunc=getTargetIDForClickEvent}if(getTargetIDFunc){var targetID=getTargetIDFunc(topLevelType,topLevelTarget,topLevelTargetID);if(targetID){var event=SyntheticEvent.getPooled(eventTypes.change,targetID,nativeEvent,nativeEventTarget);event.type="change";EventPropagators.accumulateTwoPhaseDispatches(event);return event}}if(handleEventFunc){handleEventFunc(topLevelType,topLevelTarget,topLevelTargetID)}}};module.exports=ChangeEventPlugin},{"./EventConstants":"/Users/paulfrazee/patchwork/node_modules/react/lib/EventConstants.js","./EventPluginHub":"/Users/paulfrazee/patchwork/node_modules/react/lib/EventPluginHub.js","./EventPropagators":"/Users/paulfrazee/patchwork/node_modules/react/lib/EventPropagators.js","./ReactUpdates":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactUpdates.js","./SyntheticEvent":"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticEvent.js","./getEventTarget":"/Users/paulfrazee/patchwork/node_modules/react/lib/getEventTarget.js","./isEventSupported":"/Users/paulfrazee/patchwork/node_modules/react/lib/isEventSupported.js","./isTextInputElement":"/Users/paulfrazee/patchwork/node_modules/react/lib/isTextInputElement.js","fbjs/lib/ExecutionEnvironment":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/ExecutionEnvironment.js",
"fbjs/lib/keyOf":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/keyOf.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ClientReactRootIndex.js":[function(require,module,exports){"use strict";var nextReactRootIndex=0;var ClientReactRootIndex={createReactRootIndex:function(){return nextReactRootIndex++}};module.exports=ClientReactRootIndex},{}],"/Users/paulfrazee/patchwork/node_modules/react/lib/DOMChildrenOperations.js":[function(require,module,exports){"use strict";var Danger=require("./Danger");var ReactMultiChildUpdateTypes=require("./ReactMultiChildUpdateTypes");var ReactPerf=require("./ReactPerf");var setInnerHTML=require("./setInnerHTML");var setTextContent=require("./setTextContent");var invariant=require("fbjs/lib/invariant");function insertChildAt(parentNode,childNode,index){var beforeChild=index>=parentNode.childNodes.length?null:parentNode.childNodes.item(index);parentNode.insertBefore(childNode,beforeChild)}var DOMChildrenOperations={dangerouslyReplaceNodeWithMarkup:Danger.dangerouslyReplaceNodeWithMarkup,updateTextContent:setTextContent,processUpdates:function(updates,markupList){var update;var initialChildren=null;var updatedChildren=null;for(var i=0;i<updates.length;i++){update=updates[i];if(update.type===ReactMultiChildUpdateTypes.MOVE_EXISTING||update.type===ReactMultiChildUpdateTypes.REMOVE_NODE){var updatedIndex=update.fromIndex;var updatedChild=update.parentNode.childNodes[updatedIndex];var parentID=update.parentID;!updatedChild?"production"!=="production"?invariant(false,"processUpdates(): Unable to find child %s of element. This "+"probably means the DOM was unexpectedly mutated (e.g., by the "+"browser), usually due to forgetting a <tbody> when using tables, "+"nesting tags like <form>, <p>, or <a>, or using non-SVG elements "+"in an <svg> parent. Try inspecting the child nodes of the element "+"with React ID `%s`.",updatedIndex,parentID):invariant(false):undefined;initialChildren=initialChildren||{};initialChildren[parentID]=initialChildren[parentID]||[];initialChildren[parentID][updatedIndex]=updatedChild;updatedChildren=updatedChildren||[];updatedChildren.push(updatedChild)}}var renderedMarkup;if(markupList.length&&typeof markupList[0]==="string"){renderedMarkup=Danger.dangerouslyRenderMarkup(markupList)}else{renderedMarkup=markupList}if(updatedChildren){for(var j=0;j<updatedChildren.length;j++){updatedChildren[j].parentNode.removeChild(updatedChildren[j])}}for(var k=0;k<updates.length;k++){update=updates[k];switch(update.type){case ReactMultiChildUpdateTypes.INSERT_MARKUP:insertChildAt(update.parentNode,renderedMarkup[update.markupIndex],update.toIndex);break;case ReactMultiChildUpdateTypes.MOVE_EXISTING:insertChildAt(update.parentNode,initialChildren[update.parentID][update.fromIndex],update.toIndex);break;case ReactMultiChildUpdateTypes.SET_MARKUP:setInnerHTML(update.parentNode,update.content);break;case ReactMultiChildUpdateTypes.TEXT_CONTENT:setTextContent(update.parentNode,update.content);break;case ReactMultiChildUpdateTypes.REMOVE_NODE:break}}}};ReactPerf.measureMethods(DOMChildrenOperations,"DOMChildrenOperations",{updateTextContent:"updateTextContent"});module.exports=DOMChildrenOperations},{"./Danger":"/Users/paulfrazee/patchwork/node_modules/react/lib/Danger.js","./ReactMultiChildUpdateTypes":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactMultiChildUpdateTypes.js","./ReactPerf":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactPerf.js","./setInnerHTML":"/Users/paulfrazee/patchwork/node_modules/react/lib/setInnerHTML.js","./setTextContent":"/Users/paulfrazee/patchwork/node_modules/react/lib/setTextContent.js","fbjs/lib/invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/DOMProperty.js":[function(require,module,exports){"use strict";var invariant=require("fbjs/lib/invariant");function checkMask(value,bitmask){return(value&bitmask)===bitmask}var DOMPropertyInjection={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:32|16,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(domPropertyConfig){var Injection=DOMPropertyInjection;var Properties=domPropertyConfig.Properties||{};var DOMAttributeNamespaces=domPropertyConfig.DOMAttributeNamespaces||{};var DOMAttributeNames=domPropertyConfig.DOMAttributeNames||{};var DOMPropertyNames=domPropertyConfig.DOMPropertyNames||{};var DOMMutationMethods=domPropertyConfig.DOMMutationMethods||{};if(domPropertyConfig.isCustomAttribute){DOMProperty._isCustomAttributeFunctions.push(domPropertyConfig.isCustomAttribute)}for(var propName in Properties){!!DOMProperty.properties.hasOwnProperty(propName)?"production"!=="production"?invariant(false,"injectDOMPropertyConfig(...): You're trying to inject DOM property "+"'%s' which has already been injected. You may be accidentally "+"injecting the same DOM property config twice, or you may be "+"injecting two configs that have conflicting property names.",propName):invariant(false):undefined;var lowerCased=propName.toLowerCase();var propConfig=Properties[propName];var propertyInfo={attributeName:lowerCased,attributeNamespace:null,propertyName:propName,mutationMethod:null,mustUseAttribute:checkMask(propConfig,Injection.MUST_USE_ATTRIBUTE),mustUseProperty:checkMask(propConfig,Injection.MUST_USE_PROPERTY),hasSideEffects:checkMask(propConfig,Injection.HAS_SIDE_EFFECTS),hasBooleanValue:checkMask(propConfig,Injection.HAS_BOOLEAN_VALUE),hasNumericValue:checkMask(propConfig,Injection.HAS_NUMERIC_VALUE),hasPositiveNumericValue:checkMask(propConfig,Injection.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:checkMask(propConfig,Injection.HAS_OVERLOADED_BOOLEAN_VALUE)};!(!propertyInfo.mustUseAttribute||!propertyInfo.mustUseProperty)?"production"!=="production"?invariant(false,"DOMProperty: Cannot require using both attribute and property: %s",propName):invariant(false):undefined;!(propertyInfo.mustUseProperty||!propertyInfo.hasSideEffects)?"production"!=="production"?invariant(false,"DOMProperty: Properties that have side effects must use property: %s",propName):invariant(false):undefined;!(propertyInfo.hasBooleanValue+propertyInfo.hasNumericValue+propertyInfo.hasOverloadedBooleanValue<=1)?"production"!=="production"?invariant(false,"DOMProperty: Value can be one of boolean, overloaded boolean, or "+"numeric value, but not a combination: %s",propName):invariant(false):undefined;if("production"!=="production"){DOMProperty.getPossibleStandardName[lowerCased]=propName}if(DOMAttributeNames.hasOwnProperty(propName)){var attributeName=DOMAttributeNames[propName];propertyInfo.attributeName=attributeName;if("production"!=="production"){DOMProperty.getPossibleStandardName[attributeName]=propName}}if(DOMAttributeNamespaces.hasOwnProperty(propName)){propertyInfo.attributeNamespace=DOMAttributeNamespaces[propName]}if(DOMPropertyNames.hasOwnProperty(propName)){propertyInfo.propertyName=DOMPropertyNames[propName]}if(DOMMutationMethods.hasOwnProperty(propName)){propertyInfo.mutationMethod=DOMMutationMethods[propName]}DOMProperty.properties[propName]=propertyInfo}}};var defaultValueCache={};var DOMProperty={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:"production"!=="production"?{}:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(attributeName){for(var i=0;i<DOMProperty._isCustomAttributeFunctions.length;i++){var isCustomAttributeFn=DOMProperty._isCustomAttributeFunctions[i];if(isCustomAttributeFn(attributeName)){return true}}return false},getDefaultValueForProperty:function(nodeName,prop){var nodeDefaults=defaultValueCache[nodeName];var testElement;if(!nodeDefaults){defaultValueCache[nodeName]=nodeDefaults={}}if(!(prop in nodeDefaults)){testElement=document.createElement(nodeName);nodeDefaults[prop]=testElement[prop]}return nodeDefaults[prop]},injection:DOMPropertyInjection};module.exports=DOMProperty},{"fbjs/lib/invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/DOMPropertyOperations.js":[function(require,module,exports){"use strict";var DOMProperty=require("./DOMProperty");var ReactPerf=require("./ReactPerf");var quoteAttributeValueForBrowser=require("./quoteAttributeValueForBrowser");var warning=require("fbjs/lib/warning");var VALID_ATTRIBUTE_NAME_REGEX=/^[a-zA-Z_][\w\.\-]*$/;var illegalAttributeNameCache={};var validatedAttributeNameCache={};function isAttributeNameSafe(attributeName){if(validatedAttributeNameCache.hasOwnProperty(attributeName)){return true}if(illegalAttributeNameCache.hasOwnProperty(attributeName)){return false}if(VALID_ATTRIBUTE_NAME_REGEX.test(attributeName)){validatedAttributeNameCache[attributeName]=true;return true}illegalAttributeNameCache[attributeName]=true;"production"!=="production"?warning(false,"Invalid attribute name: `%s`",attributeName):undefined;return false}function shouldIgnoreValue(propertyInfo,value){return value==null||propertyInfo.hasBooleanValue&&!value||propertyInfo.hasNumericValue&&isNaN(value)||propertyInfo.hasPositiveNumericValue&&value<1||propertyInfo.hasOverloadedBooleanValue&&value===false}if("production"!=="production"){var reactProps={children:true,dangerouslySetInnerHTML:true,key:true,ref:true};var warnedProperties={};var warnUnknownProperty=function(name){if(reactProps.hasOwnProperty(name)&&reactProps[name]||warnedProperties.hasOwnProperty(name)&&warnedProperties[name]){return}warnedProperties[name]=true;var lowerCasedName=name.toLowerCase();var standardName=DOMProperty.isCustomAttribute(lowerCasedName)?lowerCasedName:DOMProperty.getPossibleStandardName.hasOwnProperty(lowerCasedName)?DOMProperty.getPossibleStandardName[lowerCasedName]:null;"production"!=="production"?warning(standardName==null,"Unknown DOM property %s. Did you mean %s?",name,standardName):undefined}}var DOMPropertyOperations={createMarkupForID:function(id){return DOMProperty.ID_ATTRIBUTE_NAME+"="+quoteAttributeValueForBrowser(id)},setAttributeForID:function(node,id){node.setAttribute(DOMProperty.ID_ATTRIBUTE_NAME,id)},createMarkupForProperty:function(name,value){var propertyInfo=DOMProperty.properties.hasOwnProperty(name)?DOMProperty.properties[name]:null;if(propertyInfo){if(shouldIgnoreValue(propertyInfo,value)){return""}var attributeName=propertyInfo.attributeName;if(propertyInfo.hasBooleanValue||propertyInfo.hasOverloadedBooleanValue&&value===true){return attributeName+'=""'}return attributeName+"="+quoteAttributeValueForBrowser(value)}else if(DOMProperty.isCustomAttribute(name)){if(value==null){return""}return name+"="+quoteAttributeValueForBrowser(value)}else if("production"!=="production"){warnUnknownProperty(name)}return null},createMarkupForCustomAttribute:function(name,value){if(!isAttributeNameSafe(name)||value==null){return""}return name+"="+quoteAttributeValueForBrowser(value)},setValueForProperty:function(node,name,value){var propertyInfo=DOMProperty.properties.hasOwnProperty(name)?DOMProperty.properties[name]:null;if(propertyInfo){var mutationMethod=propertyInfo.mutationMethod;if(mutationMethod){mutationMethod(node,value)}else if(shouldIgnoreValue(propertyInfo,value)){this.deleteValueForProperty(node,name)}else if(propertyInfo.mustUseAttribute){var attributeName=propertyInfo.attributeName;var namespace=propertyInfo.attributeNamespace;if(namespace){node.setAttributeNS(namespace,attributeName,""+value)}else if(propertyInfo.hasBooleanValue||propertyInfo.hasOverloadedBooleanValue&&value===true){node.setAttribute(attributeName,"")}else{node.setAttribute(attributeName,""+value)}}else{var propName=propertyInfo.propertyName;if(!propertyInfo.hasSideEffects||""+node[propName]!==""+value){node[propName]=value}}}else if(DOMProperty.isCustomAttribute(name)){DOMPropertyOperations.setValueForAttribute(node,name,value)}else if("production"!=="production"){warnUnknownProperty(name)}},setValueForAttribute:function(node,name,value){if(!isAttributeNameSafe(name)){return}if(value==null){node.removeAttribute(name)}else{node.setAttribute(name,""+value)}},deleteValueForProperty:function(node,name){var propertyInfo=DOMProperty.properties.hasOwnProperty(name)?DOMProperty.properties[name]:null;if(propertyInfo){var mutationMethod=propertyInfo.mutationMethod;if(mutationMethod){mutationMethod(node,undefined)}else if(propertyInfo.mustUseAttribute){node.removeAttribute(propertyInfo.attributeName)}else{var propName=propertyInfo.propertyName;var defaultValue=DOMProperty.getDefaultValueForProperty(node.nodeName,propName);if(!propertyInfo.hasSideEffects||""+node[propName]!==defaultValue){node[propName]=defaultValue}}}else if(DOMProperty.isCustomAttribute(name)){node.removeAttribute(name)}else if("production"!=="production"){warnUnknownProperty(name)}}};ReactPerf.measureMethods(DOMPropertyOperations,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"});module.exports=DOMPropertyOperations},{"./DOMProperty":"/Users/paulfrazee/patchwork/node_modules/react/lib/DOMProperty.js","./ReactPerf":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactPerf.js","./quoteAttributeValueForBrowser":"/Users/paulfrazee/patchwork/node_modules/react/lib/quoteAttributeValueForBrowser.js","fbjs/lib/warning":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/warning.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/Danger.js":[function(require,module,exports){"use strict";var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment");var createNodesFromMarkup=require("fbjs/lib/createNodesFromMarkup");var emptyFunction=require("fbjs/lib/emptyFunction");var getMarkupWrap=require("fbjs/lib/getMarkupWrap");var invariant=require("fbjs/lib/invariant");var OPEN_TAG_NAME_EXP=/^(<[^ \/>]+)/;var RESULT_INDEX_ATTR="data-danger-index";function getNodeName(markup){return markup.substring(1,markup.indexOf(" "))}var Danger={dangerouslyRenderMarkup:function(markupList){!ExecutionEnvironment.canUseDOM?"production"!=="production"?invariant(false,"dangerouslyRenderMarkup(...): Cannot render markup in a worker "+"thread. Make sure `window` and `document` are available globally "+"before requiring React when unit testing or use "+"ReactDOMServer.renderToString for server rendering."):invariant(false):undefined;var nodeName;var markupByNodeName={};for(var i=0;i<markupList.length;i++){!markupList[i]?"production"!=="production"?invariant(false,"dangerouslyRenderMarkup(...): Missing markup."):invariant(false):undefined;nodeName=getNodeName(markupList[i]);nodeName=getMarkupWrap(nodeName)?nodeName:"*";markupByNodeName[nodeName]=markupByNodeName[nodeName]||[];markupByNodeName[nodeName][i]=markupList[i]}var resultList=[];var resultListAssignmentCount=0;for(nodeName in markupByNodeName){if(!markupByNodeName.hasOwnProperty(nodeName)){continue}var markupListByNodeName=markupByNodeName[nodeName];var resultIndex;for(resultIndex in markupListByNodeName){if(markupListByNodeName.hasOwnProperty(resultIndex)){var markup=markupListByNodeName[resultIndex];markupListByNodeName[resultIndex]=markup.replace(OPEN_TAG_NAME_EXP,"$1 "+RESULT_INDEX_ATTR+'="'+resultIndex+'" ')}}var renderNodes=createNodesFromMarkup(markupListByNodeName.join(""),emptyFunction);for(var j=0;j<renderNodes.length;++j){var renderNode=renderNodes[j];if(renderNode.hasAttribute&&renderNode.hasAttribute(RESULT_INDEX_ATTR)){resultIndex=+renderNode.getAttribute(RESULT_INDEX_ATTR);renderNode.removeAttribute(RESULT_INDEX_ATTR);!!resultList.hasOwnProperty(resultIndex)?"production"!=="production"?invariant(false,"Danger: Assigning to an already-occupied result index."):invariant(false):undefined;resultList[resultIndex]=renderNode;resultListAssignmentCount+=1}else if("production"!=="production"){console.error("Danger: Discarding unexpected node:",renderNode)}}}!(resultListAssignmentCount===resultList.length)?"production"!=="production"?invariant(false,"Danger: Did not assign to every index of resultList."):invariant(false):undefined;!(resultList.length===markupList.length)?"production"!=="production"?invariant(false,"Danger: Expected markup to render %s nodes, but rendered %s.",markupList.length,resultList.length):invariant(false):undefined;return resultList},dangerouslyReplaceNodeWithMarkup:function(oldChild,markup){!ExecutionEnvironment.canUseDOM?"production"!=="production"?invariant(false,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a "+"worker thread. Make sure `window` and `document` are available "+"globally before requiring React when unit testing or use "+"ReactDOMServer.renderToString() for server rendering."):invariant(false):undefined;!markup?"production"!=="production"?invariant(false,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."):invariant(false):undefined;!(oldChild.tagName.toLowerCase()!=="html")?"production"!=="production"?invariant(false,"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the "+"<html> node. This is because browser quirks make this unreliable "+"and/or slow. If you want to render to the root you must use "+"server rendering. See ReactDOMServer.renderToString()."):invariant(false):undefined;var newChild;if(typeof markup==="string"){newChild=createNodesFromMarkup(markup,emptyFunction)[0]}else{newChild=markup}oldChild.parentNode.replaceChild(newChild,oldChild)}};module.exports=Danger},{"fbjs/lib/ExecutionEnvironment":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/ExecutionEnvironment.js","fbjs/lib/createNodesFromMarkup":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/createNodesFromMarkup.js","fbjs/lib/emptyFunction":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/emptyFunction.js","fbjs/lib/getMarkupWrap":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/getMarkupWrap.js","fbjs/lib/invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/DefaultEventPluginOrder.js":[function(require,module,exports){"use strict";var keyOf=require("fbjs/lib/keyOf");var DefaultEventPluginOrder=[keyOf({ResponderEventPlugin:null}),keyOf({SimpleEventPlugin:null}),keyOf({TapEventPlugin:null}),keyOf({EnterLeaveEventPlugin:null}),keyOf({ChangeEventPlugin:null}),keyOf({SelectEventPlugin:null}),keyOf({BeforeInputEventPlugin:null})];module.exports=DefaultEventPluginOrder},{"fbjs/lib/keyOf":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/keyOf.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/EnterLeaveEventPlugin.js":[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants");var EventPropagators=require("./EventPropagators");var SyntheticMouseEvent=require("./SyntheticMouseEvent");var ReactMount=require("./ReactMount");var keyOf=require("fbjs/lib/keyOf");var topLevelTypes=EventConstants.topLevelTypes;var getFirstReactDOM=ReactMount.getFirstReactDOM;var eventTypes={mouseEnter:{registrationName:keyOf({onMouseEnter:null}),dependencies:[topLevelTypes.topMouseOut,topLevelTypes.topMouseOver]},mouseLeave:{registrationName:keyOf({onMouseLeave:null}),dependencies:[topLevelTypes.topMouseOut,topLevelTypes.topMouseOver]}};var extractedEvents=[null,null];var EnterLeaveEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){if(topLevelType===topLevelTypes.topMouseOver&&(nativeEvent.relatedTarget||nativeEvent.fromElement)){return null}if(topLevelType!==topLevelTypes.topMouseOut&&topLevelType!==topLevelTypes.topMouseOver){return null}var win;if(topLevelTarget.window===topLevelTarget){win=topLevelTarget}else{var doc=topLevelTarget.ownerDocument;if(doc){win=doc.defaultView||doc.parentWindow}else{win=window}}var from;var to;var fromID="";var toID="";if(topLevelType===topLevelTypes.topMouseOut){from=topLevelTarget;fromID=topLevelTargetID;to=getFirstReactDOM(nativeEvent.relatedTarget||nativeEvent.toElement);if(to){toID=ReactMount.getID(to)}else{to=win}to=to||win}else{from=win;to=topLevelTarget;toID=topLevelTargetID}if(from===to){return null}var leave=SyntheticMouseEvent.getPooled(eventTypes.mouseLeave,fromID,nativeEvent,nativeEventTarget);leave.type="mouseleave";leave.target=from;leave.relatedTarget=to;var enter=SyntheticMouseEvent.getPooled(eventTypes.mouseEnter,toID,nativeEvent,nativeEventTarget);enter.type="mouseenter";enter.target=to;enter.relatedTarget=from;EventPropagators.accumulateEnterLeaveDispatches(leave,enter,fromID,toID);extractedEvents[0]=leave;extractedEvents[1]=enter;return extractedEvents}};module.exports=EnterLeaveEventPlugin},{"./EventConstants":"/Users/paulfrazee/patchwork/node_modules/react/lib/EventConstants.js","./EventPropagators":"/Users/paulfrazee/patchwork/node_modules/react/lib/EventPropagators.js","./ReactMount":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactMount.js","./SyntheticMouseEvent":"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticMouseEvent.js","fbjs/lib/keyOf":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/keyOf.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/EventConstants.js":[function(require,module,exports){"use strict";var keyMirror=require("fbjs/lib/keyMirror");var PropagationPhases=keyMirror({bubbled:null,captured:null});var topLevelTypes=keyMirror({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null});var EventConstants={topLevelTypes:topLevelTypes,PropagationPhases:PropagationPhases};module.exports=EventConstants},{"fbjs/lib/keyMirror":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/keyMirror.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/EventPluginHub.js":[function(require,module,exports){"use strict";var EventPluginRegistry=require("./EventPluginRegistry");var EventPluginUtils=require("./EventPluginUtils");var ReactErrorUtils=require("./ReactErrorUtils");var accumulateInto=require("./accumulateInto");var forEachAccumulated=require("./forEachAccumulated");var invariant=require("fbjs/lib/invariant");var warning=require("fbjs/lib/warning");var listenerBank={};var eventQueue=null;var executeDispatchesAndRelease=function(event,simulated){if(event){EventPluginUtils.executeDispatchesInOrder(event,simulated);if(!event.isPersistent()){event.constructor.release(event)}}};var executeDispatchesAndReleaseSimulated=function(e){return executeDispatchesAndRelease(e,true)};var executeDispatchesAndReleaseTopLevel=function(e){return executeDispatchesAndRelease(e,false)};var InstanceHandle=null;function validateInstanceHandle(){var valid=InstanceHandle&&InstanceHandle.traverseTwoPhase&&InstanceHandle.traverseEnterLeave;"production"!=="production"?warning(valid,"InstanceHandle not injected before use!"):undefined}var EventPluginHub={injection:{injectMount:EventPluginUtils.injection.injectMount,injectInstanceHandle:function(InjectedInstanceHandle){InstanceHandle=InjectedInstanceHandle;if("production"!=="production"){validateInstanceHandle()}},getInstanceHandle:function(){if("production"!=="production"){validateInstanceHandle()}return InstanceHandle},injectEventPluginOrder:EventPluginRegistry.injectEventPluginOrder,injectEventPluginsByName:EventPluginRegistry.injectEventPluginsByName},eventNameDispatchConfigs:EventPluginRegistry.eventNameDispatchConfigs,registrationNameModules:EventPluginRegistry.registrationNameModules,putListener:function(id,registrationName,listener){!(typeof listener==="function")?"production"!=="production"?invariant(false,"Expected %s listener to be a function, instead got type %s",registrationName,typeof listener):invariant(false):undefined;var bankForRegistrationName=listenerBank[registrationName]||(listenerBank[registrationName]={});bankForRegistrationName[id]=listener;var PluginModule=EventPluginRegistry.registrationNameModules[registrationName];if(PluginModule&&PluginModule.didPutListener){PluginModule.didPutListener(id,registrationName,listener)}},getListener:function(id,registrationName){var bankForRegistrationName=listenerBank[registrationName];return bankForRegistrationName&&bankForRegistrationName[id]},deleteListener:function(id,registrationName){var PluginModule=EventPluginRegistry.registrationNameModules[registrationName];if(PluginModule&&PluginModule.willDeleteListener){PluginModule.willDeleteListener(id,registrationName)}var bankForRegistrationName=listenerBank[registrationName];if(bankForRegistrationName){delete bankForRegistrationName[id]}},deleteAllListeners:function(id){for(var registrationName in listenerBank){if(!listenerBank[registrationName][id]){continue}var PluginModule=EventPluginRegistry.registrationNameModules[registrationName];if(PluginModule&&PluginModule.willDeleteListener){PluginModule.willDeleteListener(id,registrationName)}delete listenerBank[registrationName][id]}},extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){var events;var plugins=EventPluginRegistry.plugins;for(var i=0;i<plugins.length;i++){var possiblePlugin=plugins[i];if(possiblePlugin){var extractedEvents=possiblePlugin.extractEvents(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget);if(extractedEvents){events=accumulateInto(events,extractedEvents)}}}return events},enqueueEvents:function(events){if(events){eventQueue=accumulateInto(eventQueue,events)}},processEventQueue:function(simulated){var processingEventQueue=eventQueue;eventQueue=null;if(simulated){forEachAccumulated(processingEventQueue,executeDispatchesAndReleaseSimulated)}else{forEachAccumulated(processingEventQueue,executeDispatchesAndReleaseTopLevel)}!!eventQueue?"production"!=="production"?invariant(false,"processEventQueue(): Additional events were enqueued while processing "+"an event queue. Support for this has not yet been implemented."):invariant(false):undefined;ReactErrorUtils.rethrowCaughtError()},__purge:function(){listenerBank={}},__getListenerBank:function(){return listenerBank}};module.exports=EventPluginHub},{"./EventPluginRegistry":"/Users/paulfrazee/patchwork/node_modules/react/lib/EventPluginRegistry.js","./EventPluginUtils":"/Users/paulfrazee/patchwork/node_modules/react/lib/EventPluginUtils.js","./ReactErrorUtils":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactErrorUtils.js","./accumulateInto":"/Users/paulfrazee/patchwork/node_modules/react/lib/accumulateInto.js","./forEachAccumulated":"/Users/paulfrazee/patchwork/node_modules/react/lib/forEachAccumulated.js","fbjs/lib/invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js","fbjs/lib/warning":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/warning.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/EventPluginRegistry.js":[function(require,module,exports){"use strict";var invariant=require("fbjs/lib/invariant");var EventPluginOrder=null;var namesToPlugins={};function recomputePluginOrdering(){if(!EventPluginOrder){return}for(var pluginName in namesToPlugins){var PluginModule=namesToPlugins[pluginName];var pluginIndex=EventPluginOrder.indexOf(pluginName);!(pluginIndex>-1)?"production"!=="production"?invariant(false,"EventPluginRegistry: Cannot inject event plugins that do not exist in "+"the plugin ordering, `%s`.",pluginName):invariant(false):undefined;if(EventPluginRegistry.plugins[pluginIndex]){continue}!PluginModule.extractEvents?"production"!=="production"?invariant(false,"EventPluginRegistry: Event plugins must implement an `extractEvents` "+"method, but `%s` does not.",pluginName):invariant(false):undefined;EventPluginRegistry.plugins[pluginIndex]=PluginModule;var publishedEvents=PluginModule.eventTypes;for(var eventName in publishedEvents){!publishEventForPlugin(publishedEvents[eventName],PluginModule,eventName)?"production"!=="production"?invariant(false,"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",eventName,pluginName):invariant(false):undefined}}}function publishEventForPlugin(dispatchConfig,PluginModule,eventName){!!EventPluginRegistry.eventNameDispatchConfigs.hasOwnProperty(eventName)?"production"!=="production"?invariant(false,"EventPluginHub: More than one plugin attempted to publish the same "+"event name, `%s`.",eventName):invariant(false):undefined;EventPluginRegistry.eventNameDispatchConfigs[eventName]=dispatchConfig;var phasedRegistrationNames=dispatchConfig.phasedRegistrationNames;if(phasedRegistrationNames){for(var phaseName in phasedRegistrationNames){if(phasedRegistrationNames.hasOwnProperty(phaseName)){var phasedRegistrationName=phasedRegistrationNames[phaseName];publishRegistrationName(phasedRegistrationName,PluginModule,eventName)}}return true}else if(dispatchConfig.registrationName){publishRegistrationName(dispatchConfig.registrationName,PluginModule,eventName);return true}return false}function publishRegistrationName(registrationName,PluginModule,eventName){!!EventPluginRegistry.registrationNameModules[registrationName]?"production"!=="production"?invariant(false,"EventPluginHub: More than one plugin attempted to publish the same "+"registration name, `%s`.",registrationName):invariant(false):undefined;EventPluginRegistry.registrationNameModules[registrationName]=PluginModule;EventPluginRegistry.registrationNameDependencies[registrationName]=PluginModule.eventTypes[eventName].dependencies}var EventPluginRegistry={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(InjectedEventPluginOrder){!!EventPluginOrder?"production"!=="production"?invariant(false,"EventPluginRegistry: Cannot inject event plugin ordering more than "+"once. You are likely trying to load more than one copy of React."):invariant(false):undefined;EventPluginOrder=Array.prototype.slice.call(InjectedEventPluginOrder);recomputePluginOrdering()},injectEventPluginsByName:function(injectedNamesToPlugins){var isOrderingDirty=false;for(var pluginName in injectedNamesToPlugins){if(!injectedNamesToPlugins.hasOwnProperty(pluginName)){continue}var PluginModule=injectedNamesToPlugins[pluginName];if(!namesToPlugins.hasOwnProperty(pluginName)||namesToPlugins[pluginName]!==PluginModule){!!namesToPlugins[pluginName]?"production"!=="production"?invariant(false,"EventPluginRegistry: Cannot inject two different event plugins "+"using the same name, `%s`.",pluginName):invariant(false):undefined;namesToPlugins[pluginName]=PluginModule;isOrderingDirty=true}}if(isOrderingDirty){recomputePluginOrdering()}},getPluginModuleForEvent:function(event){var dispatchConfig=event.dispatchConfig;if(dispatchConfig.registrationName){return EventPluginRegistry.registrationNameModules[dispatchConfig.registrationName]||null}for(var phase in dispatchConfig.phasedRegistrationNames){if(!dispatchConfig.phasedRegistrationNames.hasOwnProperty(phase)){continue}var PluginModule=EventPluginRegistry.registrationNameModules[dispatchConfig.phasedRegistrationNames[phase]];if(PluginModule){return PluginModule}}return null},_resetEventPlugins:function(){EventPluginOrder=null;for(var pluginName in namesToPlugins){if(namesToPlugins.hasOwnProperty(pluginName)){delete namesToPlugins[pluginName];
}}EventPluginRegistry.plugins.length=0;var eventNameDispatchConfigs=EventPluginRegistry.eventNameDispatchConfigs;for(var eventName in eventNameDispatchConfigs){if(eventNameDispatchConfigs.hasOwnProperty(eventName)){delete eventNameDispatchConfigs[eventName]}}var registrationNameModules=EventPluginRegistry.registrationNameModules;for(var registrationName in registrationNameModules){if(registrationNameModules.hasOwnProperty(registrationName)){delete registrationNameModules[registrationName]}}}};module.exports=EventPluginRegistry},{"fbjs/lib/invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/EventPluginUtils.js":[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants");var ReactErrorUtils=require("./ReactErrorUtils");var invariant=require("fbjs/lib/invariant");var warning=require("fbjs/lib/warning");var injection={Mount:null,injectMount:function(InjectedMount){injection.Mount=InjectedMount;if("production"!=="production"){"production"!=="production"?warning(InjectedMount&&InjectedMount.getNode&&InjectedMount.getID,"EventPluginUtils.injection.injectMount(...): Injected Mount "+"module is missing getNode or getID."):undefined}}};var topLevelTypes=EventConstants.topLevelTypes;function isEndish(topLevelType){return topLevelType===topLevelTypes.topMouseUp||topLevelType===topLevelTypes.topTouchEnd||topLevelType===topLevelTypes.topTouchCancel}function isMoveish(topLevelType){return topLevelType===topLevelTypes.topMouseMove||topLevelType===topLevelTypes.topTouchMove}function isStartish(topLevelType){return topLevelType===topLevelTypes.topMouseDown||topLevelType===topLevelTypes.topTouchStart}var validateEventDispatches;if("production"!=="production"){validateEventDispatches=function(event){var dispatchListeners=event._dispatchListeners;var dispatchIDs=event._dispatchIDs;var listenersIsArr=Array.isArray(dispatchListeners);var idsIsArr=Array.isArray(dispatchIDs);var IDsLen=idsIsArr?dispatchIDs.length:dispatchIDs?1:0;var listenersLen=listenersIsArr?dispatchListeners.length:dispatchListeners?1:0;"production"!=="production"?warning(idsIsArr===listenersIsArr&&IDsLen===listenersLen,"EventPluginUtils: Invalid `event`."):undefined}}function executeDispatch(event,simulated,listener,domID){var type=event.type||"unknown-event";event.currentTarget=injection.Mount.getNode(domID);if(simulated){ReactErrorUtils.invokeGuardedCallbackWithCatch(type,listener,event,domID)}else{ReactErrorUtils.invokeGuardedCallback(type,listener,event,domID)}event.currentTarget=null}function executeDispatchesInOrder(event,simulated){var dispatchListeners=event._dispatchListeners;var dispatchIDs=event._dispatchIDs;if("production"!=="production"){validateEventDispatches(event)}if(Array.isArray(dispatchListeners)){for(var i=0;i<dispatchListeners.length;i++){if(event.isPropagationStopped()){break}executeDispatch(event,simulated,dispatchListeners[i],dispatchIDs[i])}}else if(dispatchListeners){executeDispatch(event,simulated,dispatchListeners,dispatchIDs)}event._dispatchListeners=null;event._dispatchIDs=null}function executeDispatchesInOrderStopAtTrueImpl(event){var dispatchListeners=event._dispatchListeners;var dispatchIDs=event._dispatchIDs;if("production"!=="production"){validateEventDispatches(event)}if(Array.isArray(dispatchListeners)){for(var i=0;i<dispatchListeners.length;i++){if(event.isPropagationStopped()){break}if(dispatchListeners[i](event,dispatchIDs[i])){return dispatchIDs[i]}}}else if(dispatchListeners){if(dispatchListeners(event,dispatchIDs)){return dispatchIDs}}return null}function executeDispatchesInOrderStopAtTrue(event){var ret=executeDispatchesInOrderStopAtTrueImpl(event);event._dispatchIDs=null;event._dispatchListeners=null;return ret}function executeDirectDispatch(event){if("production"!=="production"){validateEventDispatches(event)}var dispatchListener=event._dispatchListeners;var dispatchID=event._dispatchIDs;!!Array.isArray(dispatchListener)?"production"!=="production"?invariant(false,"executeDirectDispatch(...): Invalid `event`."):invariant(false):undefined;var res=dispatchListener?dispatchListener(event,dispatchID):null;event._dispatchListeners=null;event._dispatchIDs=null;return res}function hasDispatches(event){return!!event._dispatchListeners}var EventPluginUtils={isEndish:isEndish,isMoveish:isMoveish,isStartish:isStartish,executeDirectDispatch:executeDirectDispatch,executeDispatchesInOrder:executeDispatchesInOrder,executeDispatchesInOrderStopAtTrue:executeDispatchesInOrderStopAtTrue,hasDispatches:hasDispatches,getNode:function(id){return injection.Mount.getNode(id)},getID:function(node){return injection.Mount.getID(node)},injection:injection};module.exports=EventPluginUtils},{"./EventConstants":"/Users/paulfrazee/patchwork/node_modules/react/lib/EventConstants.js","./ReactErrorUtils":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactErrorUtils.js","fbjs/lib/invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js","fbjs/lib/warning":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/warning.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/EventPropagators.js":[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants");var EventPluginHub=require("./EventPluginHub");var warning=require("fbjs/lib/warning");var accumulateInto=require("./accumulateInto");var forEachAccumulated=require("./forEachAccumulated");var PropagationPhases=EventConstants.PropagationPhases;var getListener=EventPluginHub.getListener;function listenerAtPhase(id,event,propagationPhase){var registrationName=event.dispatchConfig.phasedRegistrationNames[propagationPhase];return getListener(id,registrationName)}function accumulateDirectionalDispatches(domID,upwards,event){if("production"!=="production"){"production"!=="production"?warning(domID,"Dispatching id must not be null"):undefined}var phase=upwards?PropagationPhases.bubbled:PropagationPhases.captured;var listener=listenerAtPhase(domID,event,phase);if(listener){event._dispatchListeners=accumulateInto(event._dispatchListeners,listener);event._dispatchIDs=accumulateInto(event._dispatchIDs,domID)}}function accumulateTwoPhaseDispatchesSingle(event){if(event&&event.dispatchConfig.phasedRegistrationNames){EventPluginHub.injection.getInstanceHandle().traverseTwoPhase(event.dispatchMarker,accumulateDirectionalDispatches,event)}}function accumulateTwoPhaseDispatchesSingleSkipTarget(event){if(event&&event.dispatchConfig.phasedRegistrationNames){EventPluginHub.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(event.dispatchMarker,accumulateDirectionalDispatches,event)}}function accumulateDispatches(id,ignoredDirection,event){if(event&&event.dispatchConfig.registrationName){var registrationName=event.dispatchConfig.registrationName;var listener=getListener(id,registrationName);if(listener){event._dispatchListeners=accumulateInto(event._dispatchListeners,listener);event._dispatchIDs=accumulateInto(event._dispatchIDs,id)}}}function accumulateDirectDispatchesSingle(event){if(event&&event.dispatchConfig.registrationName){accumulateDispatches(event.dispatchMarker,null,event)}}function accumulateTwoPhaseDispatches(events){forEachAccumulated(events,accumulateTwoPhaseDispatchesSingle)}function accumulateTwoPhaseDispatchesSkipTarget(events){forEachAccumulated(events,accumulateTwoPhaseDispatchesSingleSkipTarget)}function accumulateEnterLeaveDispatches(leave,enter,fromID,toID){EventPluginHub.injection.getInstanceHandle().traverseEnterLeave(fromID,toID,accumulateDispatches,leave,enter)}function accumulateDirectDispatches(events){forEachAccumulated(events,accumulateDirectDispatchesSingle)}var EventPropagators={accumulateTwoPhaseDispatches:accumulateTwoPhaseDispatches,accumulateTwoPhaseDispatchesSkipTarget:accumulateTwoPhaseDispatchesSkipTarget,accumulateDirectDispatches:accumulateDirectDispatches,accumulateEnterLeaveDispatches:accumulateEnterLeaveDispatches};module.exports=EventPropagators},{"./EventConstants":"/Users/paulfrazee/patchwork/node_modules/react/lib/EventConstants.js","./EventPluginHub":"/Users/paulfrazee/patchwork/node_modules/react/lib/EventPluginHub.js","./accumulateInto":"/Users/paulfrazee/patchwork/node_modules/react/lib/accumulateInto.js","./forEachAccumulated":"/Users/paulfrazee/patchwork/node_modules/react/lib/forEachAccumulated.js","fbjs/lib/warning":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/warning.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/FallbackCompositionState.js":[function(require,module,exports){"use strict";var PooledClass=require("./PooledClass");var assign=require("./Object.assign");var getTextContentAccessor=require("./getTextContentAccessor");function FallbackCompositionState(root){this._root=root;this._startText=this.getText();this._fallbackText=null}assign(FallbackCompositionState.prototype,{destructor:function(){this._root=null;this._startText=null;this._fallbackText=null},getText:function(){if("value"in this._root){return this._root.value}return this._root[getTextContentAccessor()]},getData:function(){if(this._fallbackText){return this._fallbackText}var start;var startValue=this._startText;var startLength=startValue.length;var end;var endValue=this.getText();var endLength=endValue.length;for(start=0;start<startLength;start++){if(startValue[start]!==endValue[start]){break}}var minEnd=startLength-start;for(end=1;end<=minEnd;end++){if(startValue[startLength-end]!==endValue[endLength-end]){break}}var sliceTail=end>1?1-end:undefined;this._fallbackText=endValue.slice(start,sliceTail);return this._fallbackText}});PooledClass.addPoolingTo(FallbackCompositionState);module.exports=FallbackCompositionState},{"./Object.assign":"/Users/paulfrazee/patchwork/node_modules/react/lib/Object.assign.js","./PooledClass":"/Users/paulfrazee/patchwork/node_modules/react/lib/PooledClass.js","./getTextContentAccessor":"/Users/paulfrazee/patchwork/node_modules/react/lib/getTextContentAccessor.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/HTMLDOMPropertyConfig.js":[function(require,module,exports){"use strict";var DOMProperty=require("./DOMProperty");var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment");var MUST_USE_ATTRIBUTE=DOMProperty.injection.MUST_USE_ATTRIBUTE;var MUST_USE_PROPERTY=DOMProperty.injection.MUST_USE_PROPERTY;var HAS_BOOLEAN_VALUE=DOMProperty.injection.HAS_BOOLEAN_VALUE;var HAS_SIDE_EFFECTS=DOMProperty.injection.HAS_SIDE_EFFECTS;var HAS_NUMERIC_VALUE=DOMProperty.injection.HAS_NUMERIC_VALUE;var HAS_POSITIVE_NUMERIC_VALUE=DOMProperty.injection.HAS_POSITIVE_NUMERIC_VALUE;var HAS_OVERLOADED_BOOLEAN_VALUE=DOMProperty.injection.HAS_OVERLOADED_BOOLEAN_VALUE;var hasSVG;if(ExecutionEnvironment.canUseDOM){var implementation=document.implementation;hasSVG=implementation&&implementation.hasFeature&&implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var HTMLDOMPropertyConfig={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,allowTransparency:MUST_USE_ATTRIBUTE,alt:null,async:HAS_BOOLEAN_VALUE,autoComplete:null,autoPlay:HAS_BOOLEAN_VALUE,capture:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,cellPadding:null,cellSpacing:null,charSet:MUST_USE_ATTRIBUTE,challenge:MUST_USE_ATTRIBUTE,checked:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,classID:MUST_USE_ATTRIBUTE,className:hasSVG?MUST_USE_ATTRIBUTE:MUST_USE_PROPERTY,cols:MUST_USE_ATTRIBUTE|HAS_POSITIVE_NUMERIC_VALUE,colSpan:null,content:null,contentEditable:null,contextMenu:MUST_USE_ATTRIBUTE,controls:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,coords:null,crossOrigin:null,data:null,dateTime:MUST_USE_ATTRIBUTE,"default":HAS_BOOLEAN_VALUE,defer:HAS_BOOLEAN_VALUE,dir:null,disabled:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,download:HAS_OVERLOADED_BOOLEAN_VALUE,draggable:null,encType:null,form:MUST_USE_ATTRIBUTE,formAction:MUST_USE_ATTRIBUTE,formEncType:MUST_USE_ATTRIBUTE,formMethod:MUST_USE_ATTRIBUTE,formNoValidate:HAS_BOOLEAN_VALUE,formTarget:MUST_USE_ATTRIBUTE,frameBorder:MUST_USE_ATTRIBUTE,headers:null,height:MUST_USE_ATTRIBUTE,hidden:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:MUST_USE_PROPERTY,inputMode:MUST_USE_ATTRIBUTE,integrity:null,is:MUST_USE_ATTRIBUTE,keyParams:MUST_USE_ATTRIBUTE,keyType:MUST_USE_ATTRIBUTE,kind:null,label:null,lang:null,list:MUST_USE_ATTRIBUTE,loop:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,low:null,manifest:MUST_USE_ATTRIBUTE,marginHeight:null,marginWidth:null,max:null,maxLength:MUST_USE_ATTRIBUTE,media:MUST_USE_ATTRIBUTE,mediaGroup:null,method:null,min:null,minLength:MUST_USE_ATTRIBUTE,multiple:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,muted:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,name:null,nonce:MUST_USE_ATTRIBUTE,noValidate:HAS_BOOLEAN_VALUE,open:HAS_BOOLEAN_VALUE,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,rel:null,required:HAS_BOOLEAN_VALUE,reversed:HAS_BOOLEAN_VALUE,role:MUST_USE_ATTRIBUTE,rows:MUST_USE_ATTRIBUTE|HAS_POSITIVE_NUMERIC_VALUE,rowSpan:null,sandbox:null,scope:null,scoped:HAS_BOOLEAN_VALUE,scrolling:null,seamless:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,selected:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,shape:null,size:MUST_USE_ATTRIBUTE|HAS_POSITIVE_NUMERIC_VALUE,sizes:MUST_USE_ATTRIBUTE,span:HAS_POSITIVE_NUMERIC_VALUE,spellCheck:null,src:null,srcDoc:MUST_USE_PROPERTY,srcLang:null,srcSet:MUST_USE_ATTRIBUTE,start:HAS_NUMERIC_VALUE,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:MUST_USE_PROPERTY|HAS_SIDE_EFFECTS,width:MUST_USE_ATTRIBUTE,wmode:MUST_USE_ATTRIBUTE,wrap:null,about:MUST_USE_ATTRIBUTE,datatype:MUST_USE_ATTRIBUTE,inlist:MUST_USE_ATTRIBUTE,prefix:MUST_USE_ATTRIBUTE,property:MUST_USE_ATTRIBUTE,resource:MUST_USE_ATTRIBUTE,"typeof":MUST_USE_ATTRIBUTE,vocab:MUST_USE_ATTRIBUTE,autoCapitalize:MUST_USE_ATTRIBUTE,autoCorrect:MUST_USE_ATTRIBUTE,autoSave:null,color:null,itemProp:MUST_USE_ATTRIBUTE,itemScope:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,itemType:MUST_USE_ATTRIBUTE,itemID:MUST_USE_ATTRIBUTE,itemRef:MUST_USE_ATTRIBUTE,results:null,security:MUST_USE_ATTRIBUTE,unselectable:MUST_USE_ATTRIBUTE},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoComplete:"autocomplete",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};module.exports=HTMLDOMPropertyConfig},{"./DOMProperty":"/Users/paulfrazee/patchwork/node_modules/react/lib/DOMProperty.js","fbjs/lib/ExecutionEnvironment":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/ExecutionEnvironment.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/LinkedValueUtils.js":[function(require,module,exports){"use strict";var ReactPropTypes=require("./ReactPropTypes");var ReactPropTypeLocations=require("./ReactPropTypeLocations");var invariant=require("fbjs/lib/invariant");var warning=require("fbjs/lib/warning");var hasReadOnlyValue={button:true,checkbox:true,image:true,hidden:true,radio:true,reset:true,submit:true};function _assertSingleLink(inputProps){!(inputProps.checkedLink==null||inputProps.valueLink==null)?"production"!=="production"?invariant(false,"Cannot provide a checkedLink and a valueLink. If you want to use "+"checkedLink, you probably don't want to use valueLink and vice versa."):invariant(false):undefined}function _assertValueLink(inputProps){_assertSingleLink(inputProps);!(inputProps.value==null&&inputProps.onChange==null)?"production"!=="production"?invariant(false,"Cannot provide a valueLink and a value or onChange event. If you want "+"to use value or onChange, you probably don't want to use valueLink."):invariant(false):undefined}function _assertCheckedLink(inputProps){_assertSingleLink(inputProps);!(inputProps.checked==null&&inputProps.onChange==null)?"production"!=="production"?invariant(false,"Cannot provide a checkedLink and a checked property or onChange event. "+"If you want to use checked or onChange, you probably don't want to "+"use checkedLink"):invariant(false):undefined}var propTypes={value:function(props,propName,componentName){if(!props[propName]||hasReadOnlyValue[props.type]||props.onChange||props.readOnly||props.disabled){return null}return new Error("You provided a `value` prop to a form field without an "+"`onChange` handler. This will render a read-only field. If "+"the field should be mutable use `defaultValue`. Otherwise, "+"set either `onChange` or `readOnly`.")},checked:function(props,propName,componentName){if(!props[propName]||props.onChange||props.readOnly||props.disabled){return null}return new Error("You provided a `checked` prop to a form field without an "+"`onChange` handler. This will render a read-only field. If "+"the field should be mutable use `defaultChecked`. Otherwise, "+"set either `onChange` or `readOnly`.")},onChange:ReactPropTypes.func};var loggedTypeFailures={};function getDeclarationErrorAddendum(owner){if(owner){var name=owner.getName();if(name){return" Check the render method of `"+name+"`."}}return""}var LinkedValueUtils={checkPropTypes:function(tagName,props,owner){for(var propName in propTypes){if(propTypes.hasOwnProperty(propName)){var error=propTypes[propName](props,propName,tagName,ReactPropTypeLocations.prop)}if(error instanceof Error&&!(error.message in loggedTypeFailures)){loggedTypeFailures[error.message]=true;var addendum=getDeclarationErrorAddendum(owner);"production"!=="production"?warning(false,"Failed form propType: %s%s",error.message,addendum):undefined}}},getValue:function(inputProps){if(inputProps.valueLink){_assertValueLink(inputProps);return inputProps.valueLink.value}return inputProps.value},getChecked:function(inputProps){if(inputProps.checkedLink){_assertCheckedLink(inputProps);return inputProps.checkedLink.value}return inputProps.checked},executeOnChange:function(inputProps,event){if(inputProps.valueLink){_assertValueLink(inputProps);return inputProps.valueLink.requestChange(event.target.value)}else if(inputProps.checkedLink){_assertCheckedLink(inputProps);return inputProps.checkedLink.requestChange(event.target.checked)}else if(inputProps.onChange){return inputProps.onChange.call(undefined,event)}}};module.exports=LinkedValueUtils},{"./ReactPropTypeLocations":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactPropTypeLocations.js","./ReactPropTypes":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactPropTypes.js","fbjs/lib/invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js","fbjs/lib/warning":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/warning.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/Object.assign.js":[function(require,module,exports){"use strict";function assign(target,sources){if(target==null){throw new TypeError("Object.assign target cannot be null or undefined")}var to=Object(target);var hasOwnProperty=Object.prototype.hasOwnProperty;for(var nextIndex=1;nextIndex<arguments.length;nextIndex++){var nextSource=arguments[nextIndex];if(nextSource==null){continue}var from=Object(nextSource);for(var key in from){if(hasOwnProperty.call(from,key)){to[key]=from[key]}}}return to}module.exports=assign},{}],"/Users/paulfrazee/patchwork/node_modules/react/lib/PooledClass.js":[function(require,module,exports){"use strict";var invariant=require("fbjs/lib/invariant");var oneArgumentPooler=function(copyFieldsFrom){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();Klass.call(instance,copyFieldsFrom);return instance}else{return new Klass(copyFieldsFrom)}};var twoArgumentPooler=function(a1,a2){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();Klass.call(instance,a1,a2);return instance}else{return new Klass(a1,a2)}};var threeArgumentPooler=function(a1,a2,a3){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();Klass.call(instance,a1,a2,a3);return instance}else{return new Klass(a1,a2,a3)}};var fourArgumentPooler=function(a1,a2,a3,a4){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();Klass.call(instance,a1,a2,a3,a4);return instance}else{return new Klass(a1,a2,a3,a4)}};var fiveArgumentPooler=function(a1,a2,a3,a4,a5){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();Klass.call(instance,a1,a2,a3,a4,a5);return instance}else{return new Klass(a1,a2,a3,a4,a5)}};var standardReleaser=function(instance){var Klass=this;!(instance instanceof Klass)?"production"!=="production"?invariant(false,"Trying to release an instance into a pool of a different type."):invariant(false):undefined;instance.destructor();if(Klass.instancePool.length<Klass.poolSize){Klass.instancePool.push(instance)}};var DEFAULT_POOL_SIZE=10;var DEFAULT_POOLER=oneArgumentPooler;var addPoolingTo=function(CopyConstructor,pooler){var NewKlass=CopyConstructor;NewKlass.instancePool=[];NewKlass.getPooled=pooler||DEFAULT_POOLER;if(!NewKlass.poolSize){NewKlass.poolSize=DEFAULT_POOL_SIZE}NewKlass.release=standardReleaser;return NewKlass};var PooledClass={addPoolingTo:addPoolingTo,oneArgumentPooler:oneArgumentPooler,twoArgumentPooler:twoArgumentPooler,threeArgumentPooler:threeArgumentPooler,fourArgumentPooler:fourArgumentPooler,fiveArgumentPooler:fiveArgumentPooler};module.exports=PooledClass},{"fbjs/lib/invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/React.js":[function(require,module,exports){"use strict";var ReactDOM=require("./ReactDOM");var ReactDOMServer=require("./ReactDOMServer");var ReactIsomorphic=require("./ReactIsomorphic");var assign=require("./Object.assign");var deprecated=require("./deprecated");var React={};assign(React,ReactIsomorphic);assign(React,{findDOMNode:deprecated("findDOMNode","ReactDOM","react-dom",ReactDOM,ReactDOM.findDOMNode),render:deprecated("render","ReactDOM","react-dom",ReactDOM,ReactDOM.render),unmountComponentAtNode:deprecated("unmountComponentAtNode","ReactDOM","react-dom",ReactDOM,ReactDOM.unmountComponentAtNode),renderToString:deprecated("renderToString","ReactDOMServer","react-dom/server",ReactDOMServer,ReactDOMServer.renderToString),renderToStaticMarkup:deprecated("renderToStaticMarkup","ReactDOMServer","react-dom/server",ReactDOMServer,ReactDOMServer.renderToStaticMarkup)});React.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ReactDOM;React.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ReactDOMServer;module.exports=React},{"./Object.assign":"/Users/paulfrazee/patchwork/node_modules/react/lib/Object.assign.js","./ReactDOM":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDOM.js","./ReactDOMServer":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDOMServer.js","./ReactIsomorphic":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactIsomorphic.js","./deprecated":"/Users/paulfrazee/patchwork/node_modules/react/lib/deprecated.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactBrowserComponentMixin.js":[function(require,module,exports){"use strict";var ReactInstanceMap=require("./ReactInstanceMap");var findDOMNode=require("./findDOMNode");var warning=require("fbjs/lib/warning");var didWarnKey="_getDOMNodeDidWarn";var ReactBrowserComponentMixin={getDOMNode:function(){"production"!=="production"?warning(this.constructor[didWarnKey],"%s.getDOMNode(...) is deprecated. Please use "+"ReactDOM.findDOMNode(instance) instead.",ReactInstanceMap.get(this).getName()||this.tagName||"Unknown"):undefined;this.constructor[didWarnKey]=true;return findDOMNode(this)}};module.exports=ReactBrowserComponentMixin},{"./ReactInstanceMap":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactInstanceMap.js","./findDOMNode":"/Users/paulfrazee/patchwork/node_modules/react/lib/findDOMNode.js","fbjs/lib/warning":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/warning.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactBrowserEventEmitter.js":[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants");var EventPluginHub=require("./EventPluginHub");var EventPluginRegistry=require("./EventPluginRegistry");var ReactEventEmitterMixin=require("./ReactEventEmitterMixin");var ReactPerf=require("./ReactPerf");var ViewportMetrics=require("./ViewportMetrics");var assign=require("./Object.assign");var isEventSupported=require("./isEventSupported");var alreadyListeningTo={};var isMonitoringScrollValue=false;var reactTopListenersCounter=0;var topEventMapping={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"};var topListenersIDKey="_reactListenersID"+String(Math.random()).slice(2);function getListeningForDocument(mountAt){if(!Object.prototype.hasOwnProperty.call(mountAt,topListenersIDKey)){mountAt[topListenersIDKey]=reactTopListenersCounter++;alreadyListeningTo[mountAt[topListenersIDKey]]={}}return alreadyListeningTo[mountAt[topListenersIDKey]]}var ReactBrowserEventEmitter=assign({},ReactEventEmitterMixin,{ReactEventListener:null,injection:{injectReactEventListener:function(ReactEventListener){ReactEventListener.setHandleTopLevel(ReactBrowserEventEmitter.handleTopLevel);ReactBrowserEventEmitter.ReactEventListener=ReactEventListener}},setEnabled:function(enabled){if(ReactBrowserEventEmitter.ReactEventListener){ReactBrowserEventEmitter.ReactEventListener.setEnabled(enabled)}},isEnabled:function(){return!!(ReactBrowserEventEmitter.ReactEventListener&&ReactBrowserEventEmitter.ReactEventListener.isEnabled())},listenTo:function(registrationName,contentDocumentHandle){var mountAt=contentDocumentHandle;var isListening=getListeningForDocument(mountAt);var dependencies=EventPluginRegistry.registrationNameDependencies[registrationName];var topLevelTypes=EventConstants.topLevelTypes;for(var i=0;i<dependencies.length;i++){var dependency=dependencies[i];if(!(isListening.hasOwnProperty(dependency)&&isListening[dependency])){if(dependency===topLevelTypes.topWheel){if(isEventSupported("wheel")){ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topWheel,"wheel",mountAt)}else if(isEventSupported("mousewheel")){ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topWheel,"mousewheel",mountAt)}else{ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topWheel,"DOMMouseScroll",mountAt)}}else if(dependency===topLevelTypes.topScroll){if(isEventSupported("scroll",true)){ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelTypes.topScroll,"scroll",mountAt)}else{ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topScroll,"scroll",ReactBrowserEventEmitter.ReactEventListener.WINDOW_HANDLE)}}else if(dependency===topLevelTypes.topFocus||dependency===topLevelTypes.topBlur){if(isEventSupported("focus",true)){ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelTypes.topFocus,"focus",mountAt);ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelTypes.topBlur,"blur",mountAt)}else if(isEventSupported("focusin")){ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topFocus,"focusin",mountAt);ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topBlur,"focusout",mountAt)}isListening[topLevelTypes.topBlur]=true;isListening[topLevelTypes.topFocus]=true}else if(topEventMapping.hasOwnProperty(dependency)){ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(dependency,topEventMapping[dependency],mountAt)}isListening[dependency]=true}}},trapBubbledEvent:function(topLevelType,handlerBaseName,handle){return ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelType,handlerBaseName,handle)},trapCapturedEvent:function(topLevelType,handlerBaseName,handle){return ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelType,handlerBaseName,handle)},ensureScrollValueMonitoring:function(){if(!isMonitoringScrollValue){var refresh=ViewportMetrics.refreshScrollValues;ReactBrowserEventEmitter.ReactEventListener.monitorScrollValue(refresh);isMonitoringScrollValue=true}},eventNameDispatchConfigs:EventPluginHub.eventNameDispatchConfigs,registrationNameModules:EventPluginHub.registrationNameModules,putListener:EventPluginHub.putListener,getListener:EventPluginHub.getListener,deleteListener:EventPluginHub.deleteListener,deleteAllListeners:EventPluginHub.deleteAllListeners});ReactPerf.measureMethods(ReactBrowserEventEmitter,"ReactBrowserEventEmitter",{putListener:"putListener",deleteListener:"deleteListener"});module.exports=ReactBrowserEventEmitter},{"./EventConstants":"/Users/paulfrazee/patchwork/node_modules/react/lib/EventConstants.js","./EventPluginHub":"/Users/paulfrazee/patchwork/node_modules/react/lib/EventPluginHub.js","./EventPluginRegistry":"/Users/paulfrazee/patchwork/node_modules/react/lib/EventPluginRegistry.js","./Object.assign":"/Users/paulfrazee/patchwork/node_modules/react/lib/Object.assign.js","./ReactEventEmitterMixin":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactEventEmitterMixin.js","./ReactPerf":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactPerf.js","./ViewportMetrics":"/Users/paulfrazee/patchwork/node_modules/react/lib/ViewportMetrics.js","./isEventSupported":"/Users/paulfrazee/patchwork/node_modules/react/lib/isEventSupported.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactCSSTransitionGroup.js":[function(require,module,exports){"use strict";var React=require("./React");var assign=require("./Object.assign");var ReactTransitionGroup=require("./ReactTransitionGroup");var ReactCSSTransitionGroupChild=require("./ReactCSSTransitionGroupChild");function createTransitionTimeoutPropValidator(transitionType){var timeoutPropName="transition"+transitionType+"Timeout";var enabledPropName="transition"+transitionType;return function(props){if(props[enabledPropName]){if(props[timeoutPropName]==null){return new Error(timeoutPropName+" wasn't supplied to ReactCSSTransitionGroup: "+"this can cause unreliable animations and won't be supported in "+"a future version of React. See "+"https://fb.me/react-animation-transition-group-timeout for more "+"information.")}else if(typeof props[timeoutPropName]!=="number"){return new Error(timeoutPropName+" must be a number (in milliseconds)")}}}}var ReactCSSTransitionGroup=React.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:ReactCSSTransitionGroupChild.propTypes.name,transitionAppear:React.PropTypes.bool,transitionEnter:React.PropTypes.bool,
transitionLeave:React.PropTypes.bool,transitionAppearTimeout:createTransitionTimeoutPropValidator("Appear"),transitionEnterTimeout:createTransitionTimeoutPropValidator("Enter"),transitionLeaveTimeout:createTransitionTimeoutPropValidator("Leave")},getDefaultProps:function(){return{transitionAppear:false,transitionEnter:true,transitionLeave:true}},_wrapChild:function(child){return React.createElement(ReactCSSTransitionGroupChild,{name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave,appearTimeout:this.props.transitionAppearTimeout,enterTimeout:this.props.transitionEnterTimeout,leaveTimeout:this.props.transitionLeaveTimeout},child)},render:function(){return React.createElement(ReactTransitionGroup,assign({},this.props,{childFactory:this._wrapChild}))}});module.exports=ReactCSSTransitionGroup},{"./Object.assign":"/Users/paulfrazee/patchwork/node_modules/react/lib/Object.assign.js","./React":"/Users/paulfrazee/patchwork/node_modules/react/lib/React.js","./ReactCSSTransitionGroupChild":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactCSSTransitionGroupChild.js","./ReactTransitionGroup":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactTransitionGroup.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactCSSTransitionGroupChild.js":[function(require,module,exports){"use strict";var React=require("./React");var ReactDOM=require("./ReactDOM");var CSSCore=require("fbjs/lib/CSSCore");var ReactTransitionEvents=require("./ReactTransitionEvents");var onlyChild=require("./onlyChild");var TICK=17;var ReactCSSTransitionGroupChild=React.createClass({displayName:"ReactCSSTransitionGroupChild",propTypes:{name:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.shape({enter:React.PropTypes.string,leave:React.PropTypes.string,active:React.PropTypes.string}),React.PropTypes.shape({enter:React.PropTypes.string,enterActive:React.PropTypes.string,leave:React.PropTypes.string,leaveActive:React.PropTypes.string,appear:React.PropTypes.string,appearActive:React.PropTypes.string})]).isRequired,appear:React.PropTypes.bool,enter:React.PropTypes.bool,leave:React.PropTypes.bool,appearTimeout:React.PropTypes.number,enterTimeout:React.PropTypes.number,leaveTimeout:React.PropTypes.number},transition:function(animationType,finishCallback,userSpecifiedDelay){var node=ReactDOM.findDOMNode(this);if(!node){if(finishCallback){finishCallback()}return}var className=this.props.name[animationType]||this.props.name+"-"+animationType;var activeClassName=this.props.name[animationType+"Active"]||className+"-active";var timeout=null;var endListener=function(e){if(e&&e.target!==node){return}clearTimeout(timeout);CSSCore.removeClass(node,className);CSSCore.removeClass(node,activeClassName);ReactTransitionEvents.removeEndEventListener(node,endListener);if(finishCallback){finishCallback()}};CSSCore.addClass(node,className);this.queueClass(activeClassName);if(userSpecifiedDelay){timeout=setTimeout(endListener,userSpecifiedDelay);this.transitionTimeouts.push(timeout)}else{ReactTransitionEvents.addEndEventListener(node,endListener)}},queueClass:function(className){this.classNameQueue.push(className);if(!this.timeout){this.timeout=setTimeout(this.flushClassNameQueue,TICK)}},flushClassNameQueue:function(){if(this.isMounted()){this.classNameQueue.forEach(CSSCore.addClass.bind(CSSCore,ReactDOM.findDOMNode(this)))}this.classNameQueue.length=0;this.timeout=null},componentWillMount:function(){this.classNameQueue=[];this.transitionTimeouts=[]},componentWillUnmount:function(){if(this.timeout){clearTimeout(this.timeout)}this.transitionTimeouts.forEach(function(timeout){clearTimeout(timeout)})},componentWillAppear:function(done){if(this.props.appear){this.transition("appear",done,this.props.appearTimeout)}else{done()}},componentWillEnter:function(done){if(this.props.enter){this.transition("enter",done,this.props.enterTimeout)}else{done()}},componentWillLeave:function(done){if(this.props.leave){this.transition("leave",done,this.props.leaveTimeout)}else{done()}},render:function(){return onlyChild(this.props.children)}});module.exports=ReactCSSTransitionGroupChild},{"./React":"/Users/paulfrazee/patchwork/node_modules/react/lib/React.js","./ReactDOM":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDOM.js","./ReactTransitionEvents":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactTransitionEvents.js","./onlyChild":"/Users/paulfrazee/patchwork/node_modules/react/lib/onlyChild.js","fbjs/lib/CSSCore":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/CSSCore.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactChildReconciler.js":[function(require,module,exports){"use strict";var ReactReconciler=require("./ReactReconciler");var instantiateReactComponent=require("./instantiateReactComponent");var shouldUpdateReactComponent=require("./shouldUpdateReactComponent");var traverseAllChildren=require("./traverseAllChildren");var warning=require("fbjs/lib/warning");function instantiateChild(childInstances,child,name){var keyUnique=childInstances[name]===undefined;if("production"!=="production"){"production"!=="production"?warning(keyUnique,"flattenChildren(...): Encountered two children with the same key, "+"`%s`. Child keys must be unique; when two children share a key, only "+"the first child will be used.",name):undefined}if(child!=null&&keyUnique){childInstances[name]=instantiateReactComponent(child,null)}}var ReactChildReconciler={instantiateChildren:function(nestedChildNodes,transaction,context){if(nestedChildNodes==null){return null}var childInstances={};traverseAllChildren(nestedChildNodes,instantiateChild,childInstances);return childInstances},updateChildren:function(prevChildren,nextChildren,transaction,context){if(!nextChildren&&!prevChildren){return null}var name;for(name in nextChildren){if(!nextChildren.hasOwnProperty(name)){continue}var prevChild=prevChildren&&prevChildren[name];var prevElement=prevChild&&prevChild._currentElement;var nextElement=nextChildren[name];if(prevChild!=null&&shouldUpdateReactComponent(prevElement,nextElement)){ReactReconciler.receiveComponent(prevChild,nextElement,transaction,context);nextChildren[name]=prevChild}else{if(prevChild){ReactReconciler.unmountComponent(prevChild,name)}var nextChildInstance=instantiateReactComponent(nextElement,null);nextChildren[name]=nextChildInstance}}for(name in prevChildren){if(prevChildren.hasOwnProperty(name)&&!(nextChildren&&nextChildren.hasOwnProperty(name))){ReactReconciler.unmountComponent(prevChildren[name])}}return nextChildren},unmountChildren:function(renderedChildren){for(var name in renderedChildren){if(renderedChildren.hasOwnProperty(name)){var renderedChild=renderedChildren[name];ReactReconciler.unmountComponent(renderedChild)}}}};module.exports=ReactChildReconciler},{"./ReactReconciler":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactReconciler.js","./instantiateReactComponent":"/Users/paulfrazee/patchwork/node_modules/react/lib/instantiateReactComponent.js","./shouldUpdateReactComponent":"/Users/paulfrazee/patchwork/node_modules/react/lib/shouldUpdateReactComponent.js","./traverseAllChildren":"/Users/paulfrazee/patchwork/node_modules/react/lib/traverseAllChildren.js","fbjs/lib/warning":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/warning.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactChildren.js":[function(require,module,exports){"use strict";var PooledClass=require("./PooledClass");var ReactElement=require("./ReactElement");var emptyFunction=require("fbjs/lib/emptyFunction");var traverseAllChildren=require("./traverseAllChildren");var twoArgumentPooler=PooledClass.twoArgumentPooler;var fourArgumentPooler=PooledClass.fourArgumentPooler;var userProvidedKeyEscapeRegex=/\/(?!\/)/g;function escapeUserProvidedKey(text){return(""+text).replace(userProvidedKeyEscapeRegex,"//")}function ForEachBookKeeping(forEachFunction,forEachContext){this.func=forEachFunction;this.context=forEachContext;this.count=0}ForEachBookKeeping.prototype.destructor=function(){this.func=null;this.context=null;this.count=0};PooledClass.addPoolingTo(ForEachBookKeeping,twoArgumentPooler);function forEachSingleChild(bookKeeping,child,name){var func=bookKeeping.func;var context=bookKeeping.context;func.call(context,child,bookKeeping.count++)}function forEachChildren(children,forEachFunc,forEachContext){if(children==null){return children}var traverseContext=ForEachBookKeeping.getPooled(forEachFunc,forEachContext);traverseAllChildren(children,forEachSingleChild,traverseContext);ForEachBookKeeping.release(traverseContext)}function MapBookKeeping(mapResult,keyPrefix,mapFunction,mapContext){this.result=mapResult;this.keyPrefix=keyPrefix;this.func=mapFunction;this.context=mapContext;this.count=0}MapBookKeeping.prototype.destructor=function(){this.result=null;this.keyPrefix=null;this.func=null;this.context=null;this.count=0};PooledClass.addPoolingTo(MapBookKeeping,fourArgumentPooler);function mapSingleChildIntoContext(bookKeeping,child,childKey){var result=bookKeeping.result;var keyPrefix=bookKeeping.keyPrefix;var func=bookKeeping.func;var context=bookKeeping.context;var mappedChild=func.call(context,child,bookKeeping.count++);if(Array.isArray(mappedChild)){mapIntoWithKeyPrefixInternal(mappedChild,result,childKey,emptyFunction.thatReturnsArgument)}else if(mappedChild!=null){if(ReactElement.isValidElement(mappedChild)){mappedChild=ReactElement.cloneAndReplaceKey(mappedChild,keyPrefix+(mappedChild!==child?escapeUserProvidedKey(mappedChild.key||"")+"/":"")+childKey)}result.push(mappedChild)}}function mapIntoWithKeyPrefixInternal(children,array,prefix,func,context){var escapedPrefix="";if(prefix!=null){escapedPrefix=escapeUserProvidedKey(prefix)+"/"}var traverseContext=MapBookKeeping.getPooled(array,escapedPrefix,func,context);traverseAllChildren(children,mapSingleChildIntoContext,traverseContext);MapBookKeeping.release(traverseContext)}function mapChildren(children,func,context){if(children==null){return children}var result=[];mapIntoWithKeyPrefixInternal(children,result,null,func,context);return result}function forEachSingleChildDummy(traverseContext,child,name){return null}function countChildren(children,context){return traverseAllChildren(children,forEachSingleChildDummy,null)}function toArray(children){var result=[];mapIntoWithKeyPrefixInternal(children,result,null,emptyFunction.thatReturnsArgument);return result}var ReactChildren={forEach:forEachChildren,map:mapChildren,mapIntoWithKeyPrefixInternal:mapIntoWithKeyPrefixInternal,count:countChildren,toArray:toArray};module.exports=ReactChildren},{"./PooledClass":"/Users/paulfrazee/patchwork/node_modules/react/lib/PooledClass.js","./ReactElement":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactElement.js","./traverseAllChildren":"/Users/paulfrazee/patchwork/node_modules/react/lib/traverseAllChildren.js","fbjs/lib/emptyFunction":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/emptyFunction.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactClass.js":[function(require,module,exports){"use strict";var ReactComponent=require("./ReactComponent");var ReactElement=require("./ReactElement");var ReactPropTypeLocations=require("./ReactPropTypeLocations");var ReactPropTypeLocationNames=require("./ReactPropTypeLocationNames");var ReactNoopUpdateQueue=require("./ReactNoopUpdateQueue");var assign=require("./Object.assign");var emptyObject=require("fbjs/lib/emptyObject");var invariant=require("fbjs/lib/invariant");var keyMirror=require("fbjs/lib/keyMirror");var keyOf=require("fbjs/lib/keyOf");var warning=require("fbjs/lib/warning");var MIXINS_KEY=keyOf({mixins:null});var SpecPolicy=keyMirror({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null});var injectedMixins=[];var warnedSetProps=false;function warnSetProps(){if(!warnedSetProps){warnedSetProps=true;"production"!=="production"?warning(false,"setProps(...) and replaceProps(...) are deprecated. "+"Instead, call render again at the top level."):undefined}}var ReactClassInterface={mixins:SpecPolicy.DEFINE_MANY,statics:SpecPolicy.DEFINE_MANY,propTypes:SpecPolicy.DEFINE_MANY,contextTypes:SpecPolicy.DEFINE_MANY,childContextTypes:SpecPolicy.DEFINE_MANY,getDefaultProps:SpecPolicy.DEFINE_MANY_MERGED,getInitialState:SpecPolicy.DEFINE_MANY_MERGED,getChildContext:SpecPolicy.DEFINE_MANY_MERGED,render:SpecPolicy.DEFINE_ONCE,componentWillMount:SpecPolicy.DEFINE_MANY,componentDidMount:SpecPolicy.DEFINE_MANY,componentWillReceiveProps:SpecPolicy.DEFINE_MANY,shouldComponentUpdate:SpecPolicy.DEFINE_ONCE,componentWillUpdate:SpecPolicy.DEFINE_MANY,componentDidUpdate:SpecPolicy.DEFINE_MANY,componentWillUnmount:SpecPolicy.DEFINE_MANY,updateComponent:SpecPolicy.OVERRIDE_BASE};var RESERVED_SPEC_KEYS={displayName:function(Constructor,displayName){Constructor.displayName=displayName},mixins:function(Constructor,mixins){if(mixins){for(var i=0;i<mixins.length;i++){mixSpecIntoComponent(Constructor,mixins[i])}}},childContextTypes:function(Constructor,childContextTypes){if("production"!=="production"){validateTypeDef(Constructor,childContextTypes,ReactPropTypeLocations.childContext)}Constructor.childContextTypes=assign({},Constructor.childContextTypes,childContextTypes)},contextTypes:function(Constructor,contextTypes){if("production"!=="production"){validateTypeDef(Constructor,contextTypes,ReactPropTypeLocations.context)}Constructor.contextTypes=assign({},Constructor.contextTypes,contextTypes)},getDefaultProps:function(Constructor,getDefaultProps){if(Constructor.getDefaultProps){Constructor.getDefaultProps=createMergedResultFunction(Constructor.getDefaultProps,getDefaultProps)}else{Constructor.getDefaultProps=getDefaultProps}},propTypes:function(Constructor,propTypes){if("production"!=="production"){validateTypeDef(Constructor,propTypes,ReactPropTypeLocations.prop)}Constructor.propTypes=assign({},Constructor.propTypes,propTypes)},statics:function(Constructor,statics){mixStaticSpecIntoComponent(Constructor,statics)},autobind:function(){}};function validateTypeDef(Constructor,typeDef,location){for(var propName in typeDef){if(typeDef.hasOwnProperty(propName)){"production"!=="production"?warning(typeof typeDef[propName]==="function","%s: %s type `%s` is invalid; it must be a function, usually from "+"React.PropTypes.",Constructor.displayName||"ReactClass",ReactPropTypeLocationNames[location],propName):undefined}}}function validateMethodOverride(proto,name){var specPolicy=ReactClassInterface.hasOwnProperty(name)?ReactClassInterface[name]:null;if(ReactClassMixin.hasOwnProperty(name)){!(specPolicy===SpecPolicy.OVERRIDE_BASE)?"production"!=="production"?invariant(false,"ReactClassInterface: You are attempting to override "+"`%s` from your class specification. Ensure that your method names "+"do not overlap with React methods.",name):invariant(false):undefined}if(proto.hasOwnProperty(name)){!(specPolicy===SpecPolicy.DEFINE_MANY||specPolicy===SpecPolicy.DEFINE_MANY_MERGED)?"production"!=="production"?invariant(false,"ReactClassInterface: You are attempting to define "+"`%s` on your component more than once. This conflict may be due "+"to a mixin.",name):invariant(false):undefined}}function mixSpecIntoComponent(Constructor,spec){if(!spec){return}!(typeof spec!=="function")?"production"!=="production"?invariant(false,"ReactClass: You're attempting to "+"use a component class as a mixin. Instead, just use a regular object."):invariant(false):undefined;!!ReactElement.isValidElement(spec)?"production"!=="production"?invariant(false,"ReactClass: You're attempting to "+"use a component as a mixin. Instead, just use a regular object."):invariant(false):undefined;var proto=Constructor.prototype;if(spec.hasOwnProperty(MIXINS_KEY)){RESERVED_SPEC_KEYS.mixins(Constructor,spec.mixins)}for(var name in spec){if(!spec.hasOwnProperty(name)){continue}if(name===MIXINS_KEY){continue}var property=spec[name];validateMethodOverride(proto,name);if(RESERVED_SPEC_KEYS.hasOwnProperty(name)){RESERVED_SPEC_KEYS[name](Constructor,property)}else{var isReactClassMethod=ReactClassInterface.hasOwnProperty(name);var isAlreadyDefined=proto.hasOwnProperty(name);var isFunction=typeof property==="function";var shouldAutoBind=isFunction&&!isReactClassMethod&&!isAlreadyDefined&&spec.autobind!==false;if(shouldAutoBind){if(!proto.__reactAutoBindMap){proto.__reactAutoBindMap={}}proto.__reactAutoBindMap[name]=property;proto[name]=property}else{if(isAlreadyDefined){var specPolicy=ReactClassInterface[name];!(isReactClassMethod&&(specPolicy===SpecPolicy.DEFINE_MANY_MERGED||specPolicy===SpecPolicy.DEFINE_MANY))?"production"!=="production"?invariant(false,"ReactClass: Unexpected spec policy %s for key %s "+"when mixing in component specs.",specPolicy,name):invariant(false):undefined;if(specPolicy===SpecPolicy.DEFINE_MANY_MERGED){proto[name]=createMergedResultFunction(proto[name],property)}else if(specPolicy===SpecPolicy.DEFINE_MANY){proto[name]=createChainedFunction(proto[name],property)}}else{proto[name]=property;if("production"!=="production"){if(typeof property==="function"&&spec.displayName){proto[name].displayName=spec.displayName+"_"+name}}}}}}}function mixStaticSpecIntoComponent(Constructor,statics){if(!statics){return}for(var name in statics){var property=statics[name];if(!statics.hasOwnProperty(name)){continue}var isReserved=name in RESERVED_SPEC_KEYS;!!isReserved?"production"!=="production"?invariant(false,"ReactClass: You are attempting to define a reserved "+'property, `%s`, that shouldn\'t be on the "statics" key. Define it '+"as an instance property instead; it will still be accessible on the "+"constructor.",name):invariant(false):undefined;var isInherited=name in Constructor;!!isInherited?"production"!=="production"?invariant(false,"ReactClass: You are attempting to define "+"`%s` on your component more than once. This conflict may be "+"due to a mixin.",name):invariant(false):undefined;Constructor[name]=property}}function mergeIntoWithNoDuplicateKeys(one,two){!(one&&two&&typeof one==="object"&&typeof two==="object")?"production"!=="production"?invariant(false,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."):invariant(false):undefined;for(var key in two){if(two.hasOwnProperty(key)){!(one[key]===undefined)?"production"!=="production"?invariant(false,"mergeIntoWithNoDuplicateKeys(): "+"Tried to merge two objects with the same key: `%s`. This conflict "+"may be due to a mixin; in particular, this may be caused by two "+"getInitialState() or getDefaultProps() methods returning objects "+"with clashing keys.",key):invariant(false):undefined;one[key]=two[key]}}return one}function createMergedResultFunction(one,two){return function mergedResult(){var a=one.apply(this,arguments);var b=two.apply(this,arguments);if(a==null){return b}else if(b==null){return a}var c={};mergeIntoWithNoDuplicateKeys(c,a);mergeIntoWithNoDuplicateKeys(c,b);return c}}function createChainedFunction(one,two){return function chainedFunction(){one.apply(this,arguments);two.apply(this,arguments)}}function bindAutoBindMethod(component,method){var boundMethod=method.bind(component);if("production"!=="production"){boundMethod.__reactBoundContext=component;boundMethod.__reactBoundMethod=method;boundMethod.__reactBoundArguments=null;var componentName=component.constructor.displayName;var _bind=boundMethod.bind;boundMethod.bind=function(newThis){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key]}if(newThis!==component&&newThis!==null){"production"!=="production"?warning(false,"bind(): React component methods may only be bound to the "+"component instance. See %s",componentName):undefined}else if(!args.length){"production"!=="production"?warning(false,"bind(): You are binding a component method to the component. "+"React does this for you automatically in a high-performance "+"way, so you can safely remove this call. See %s",componentName):undefined;return boundMethod}var reboundMethod=_bind.apply(boundMethod,arguments);reboundMethod.__reactBoundContext=component;reboundMethod.__reactBoundMethod=method;reboundMethod.__reactBoundArguments=args;return reboundMethod}}return boundMethod}function bindAutoBindMethods(component){for(var autoBindKey in component.__reactAutoBindMap){if(component.__reactAutoBindMap.hasOwnProperty(autoBindKey)){var method=component.__reactAutoBindMap[autoBindKey];component[autoBindKey]=bindAutoBindMethod(component,method)}}}var ReactClassMixin={replaceState:function(newState,callback){this.updater.enqueueReplaceState(this,newState);if(callback){this.updater.enqueueCallback(this,callback)}},isMounted:function(){return this.updater.isMounted(this)},setProps:function(partialProps,callback){if("production"!=="production"){warnSetProps()}this.updater.enqueueSetProps(this,partialProps);if(callback){this.updater.enqueueCallback(this,callback)}},replaceProps:function(newProps,callback){if("production"!=="production"){warnSetProps()}this.updater.enqueueReplaceProps(this,newProps);if(callback){this.updater.enqueueCallback(this,callback)}}};var ReactClassComponent=function(){};assign(ReactClassComponent.prototype,ReactComponent.prototype,ReactClassMixin);var ReactClass={createClass:function(spec){var Constructor=function(props,context,updater){if("production"!=="production"){"production"!=="production"?warning(this instanceof Constructor,"Something is calling a React component directly. Use a factory or "+"JSX instead. See: https://fb.me/react-legacyfactory"):undefined}if(this.__reactAutoBindMap){bindAutoBindMethods(this)}this.props=props;this.context=context;this.refs=emptyObject;this.updater=updater||ReactNoopUpdateQueue;this.state=null;var initialState=this.getInitialState?this.getInitialState():null;if("production"!=="production"){if(typeof initialState==="undefined"&&this.getInitialState._isMockFunction){initialState=null}}!(typeof initialState==="object"&&!Array.isArray(initialState))?"production"!=="production"?invariant(false,"%s.getInitialState(): must return an object or null",Constructor.displayName||"ReactCompositeComponent"):invariant(false):undefined;this.state=initialState};Constructor.prototype=new ReactClassComponent;Constructor.prototype.constructor=Constructor;injectedMixins.forEach(mixSpecIntoComponent.bind(null,Constructor));mixSpecIntoComponent(Constructor,spec);if(Constructor.getDefaultProps){Constructor.defaultProps=Constructor.getDefaultProps()}if("production"!=="production"){if(Constructor.getDefaultProps){Constructor.getDefaultProps.isReactClassApproved={}}if(Constructor.prototype.getInitialState){Constructor.prototype.getInitialState.isReactClassApproved={}}}!Constructor.prototype.render?"production"!=="production"?invariant(false,"createClass(...): Class specification must implement a `render` method."):invariant(false):undefined;if("production"!=="production"){"production"!=="production"?warning(!Constructor.prototype.componentShouldUpdate,"%s has a method called "+"componentShouldUpdate(). Did you mean shouldComponentUpdate()? "+"The name is phrased as a question because the function is "+"expected to return a value.",spec.displayName||"A component"):undefined;"production"!=="production"?warning(!Constructor.prototype.componentWillRecieveProps,"%s has a method called "+"componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",spec.displayName||"A component"):undefined}for(var methodName in ReactClassInterface){if(!Constructor.prototype[methodName]){Constructor.prototype[methodName]=null}}return Constructor},injection:{injectMixin:function(mixin){injectedMixins.push(mixin)}}};module.exports=ReactClass},{"./Object.assign":"/Users/paulfrazee/patchwork/node_modules/react/lib/Object.assign.js","./ReactComponent":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactComponent.js","./ReactElement":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactElement.js","./ReactNoopUpdateQueue":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactNoopUpdateQueue.js","./ReactPropTypeLocationNames":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactPropTypeLocationNames.js","./ReactPropTypeLocations":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactPropTypeLocations.js","fbjs/lib/emptyObject":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/emptyObject.js","fbjs/lib/invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js","fbjs/lib/keyMirror":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/keyMirror.js","fbjs/lib/keyOf":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/keyOf.js","fbjs/lib/warning":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/warning.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactComponent.js":[function(require,module,exports){"use strict";var ReactNoopUpdateQueue=require("./ReactNoopUpdateQueue");var canDefineProperty=require("./canDefineProperty");var emptyObject=require("fbjs/lib/emptyObject");var invariant=require("fbjs/lib/invariant");var warning=require("fbjs/lib/warning");function ReactComponent(props,context,updater){this.props=props;this.context=context;this.refs=emptyObject;this.updater=updater||ReactNoopUpdateQueue}ReactComponent.prototype.isReactComponent={};ReactComponent.prototype.setState=function(partialState,callback){!(typeof partialState==="object"||typeof partialState==="function"||partialState==null)?"production"!=="production"?invariant(false,"setState(...): takes an object of state variables to update or a "+"function which returns an object of state variables."):invariant(false):undefined;if("production"!=="production"){"production"!=="production"?warning(partialState!=null,"setState(...): You passed an undefined or null state object; "+"instead, use forceUpdate()."):undefined}this.updater.enqueueSetState(this,partialState);if(callback){this.updater.enqueueCallback(this,callback)}};ReactComponent.prototype.forceUpdate=function(callback){this.updater.enqueueForceUpdate(this);if(callback){this.updater.enqueueCallback(this,callback)}};if("production"!=="production"){var deprecatedAPIs={getDOMNode:["getDOMNode","Use ReactDOM.findDOMNode(component) instead."],isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in "+"componentWillUnmount to prevent memory leaks."],replaceProps:["replaceProps","Instead, call render again at the top level."],replaceState:["replaceState","Refactor your code to use setState instead (see "+"https://github.com/facebook/react/issues/3236)."],setProps:["setProps","Instead, call render again at the top level."]};var defineDeprecationWarning=function(methodName,info){if(canDefineProperty){Object.defineProperty(ReactComponent.prototype,methodName,{get:function(){"production"!=="production"?warning(false,"%s(...) is deprecated in plain JavaScript React classes. %s",info[0],info[1]):undefined;return undefined}})}};for(var fnName in deprecatedAPIs){if(deprecatedAPIs.hasOwnProperty(fnName)){defineDeprecationWarning(fnName,deprecatedAPIs[fnName])}}}module.exports=ReactComponent},{"./ReactNoopUpdateQueue":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactNoopUpdateQueue.js","./canDefineProperty":"/Users/paulfrazee/patchwork/node_modules/react/lib/canDefineProperty.js","fbjs/lib/emptyObject":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/emptyObject.js","fbjs/lib/invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js","fbjs/lib/warning":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/warning.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactComponentBrowserEnvironment.js":[function(require,module,exports){"use strict";var ReactDOMIDOperations=require("./ReactDOMIDOperations");var ReactMount=require("./ReactMount");var ReactComponentBrowserEnvironment={processChildrenUpdates:ReactDOMIDOperations.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:ReactDOMIDOperations.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(rootNodeID){ReactMount.purgeID(rootNodeID)}};module.exports=ReactComponentBrowserEnvironment},{"./ReactDOMIDOperations":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDOMIDOperations.js","./ReactMount":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactMount.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactComponentEnvironment.js":[function(require,module,exports){"use strict";var invariant=require("fbjs/lib/invariant");var injected=false;var ReactComponentEnvironment={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(environment){!!injected?"production"!=="production"?invariant(false,"ReactCompositeComponent: injectEnvironment() can only be called once."):invariant(false):undefined;ReactComponentEnvironment.unmountIDFromEnvironment=environment.unmountIDFromEnvironment;ReactComponentEnvironment.replaceNodeWithMarkupByID=environment.replaceNodeWithMarkupByID;ReactComponentEnvironment.processChildrenUpdates=environment.processChildrenUpdates;injected=true}}};module.exports=ReactComponentEnvironment},{"fbjs/lib/invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactCompositeComponent.js":[function(require,module,exports){"use strict";var ReactComponentEnvironment=require("./ReactComponentEnvironment");var ReactCurrentOwner=require("./ReactCurrentOwner");var ReactElement=require("./ReactElement");var ReactInstanceMap=require("./ReactInstanceMap");var ReactPerf=require("./ReactPerf");var ReactPropTypeLocations=require("./ReactPropTypeLocations");var ReactPropTypeLocationNames=require("./ReactPropTypeLocationNames");var ReactReconciler=require("./ReactReconciler");var ReactUpdateQueue=require("./ReactUpdateQueue");var assign=require("./Object.assign");var emptyObject=require("fbjs/lib/emptyObject");var invariant=require("fbjs/lib/invariant");var shouldUpdateReactComponent=require("./shouldUpdateReactComponent");var warning=require("fbjs/lib/warning");function getDeclarationErrorAddendum(component){var owner=component._currentElement._owner||null;if(owner){var name=owner.getName();if(name){return" Check the render method of `"+name+"`."}}return""}function StatelessComponent(Component){}StatelessComponent.prototype.render=function(){var Component=ReactInstanceMap.get(this)._currentElement.type;return Component(this.props,this.context,this.updater)};var nextMountID=1;var ReactCompositeComponentMixin={construct:function(element){this._currentElement=element;this._rootNodeID=null;this._instance=null;this._pendingElement=null;this._pendingStateQueue=null;this._pendingReplaceState=false;this._pendingForceUpdate=false;this._renderedComponent=null;this._context=null;this._mountOrder=0;this._topLevelWrapper=null;this._pendingCallbacks=null},mountComponent:function(rootID,transaction,context){this._context=context;this._mountOrder=nextMountID++;this._rootNodeID=rootID;var publicProps=this._processProps(this._currentElement.props);var publicContext=this._processContext(context);var Component=this._currentElement.type;var inst;var renderedElement;var canInstantiate="prototype"in Component;if(canInstantiate){if("production"!=="production"){ReactCurrentOwner.current=this;try{inst=new Component(publicProps,publicContext,ReactUpdateQueue)}finally{ReactCurrentOwner.current=null}}else{inst=new Component(publicProps,publicContext,ReactUpdateQueue)}}if(!canInstantiate||inst===null||inst===false||ReactElement.isValidElement(inst)){renderedElement=inst;inst=new StatelessComponent(Component)}if("production"!=="production"){if(inst.render==null){"production"!=="production"?warning(false,"%s(...): No `render` method found on the returned component "+"instance: you may have forgotten to define `render`, returned "+"null/false from a stateless component, or tried to render an "+"element whose type is a function that isn't a React component.",Component.displayName||Component.name||"Component"):undefined}else{"production"!=="production"?warning(Component.prototype&&Component.prototype.isReactComponent||!canInstantiate||!(inst instanceof Component),"%s(...): React component classes must extend React.Component.",Component.displayName||Component.name||"Component"):undefined;
}}inst.props=publicProps;inst.context=publicContext;inst.refs=emptyObject;inst.updater=ReactUpdateQueue;this._instance=inst;ReactInstanceMap.set(inst,this);if("production"!=="production"){"production"!=="production"?warning(!inst.getInitialState||inst.getInitialState.isReactClassApproved,"getInitialState was defined on %s, a plain JavaScript class. "+"This is only supported for classes created using React.createClass. "+"Did you mean to define a state property instead?",this.getName()||"a component"):undefined;"production"!=="production"?warning(!inst.getDefaultProps||inst.getDefaultProps.isReactClassApproved,"getDefaultProps was defined on %s, a plain JavaScript class. "+"This is only supported for classes created using React.createClass. "+"Use a static property to define defaultProps instead.",this.getName()||"a component"):undefined;"production"!=="production"?warning(!inst.propTypes,"propTypes was defined as an instance property on %s. Use a static "+"property to define propTypes instead.",this.getName()||"a component"):undefined;"production"!=="production"?warning(!inst.contextTypes,"contextTypes was defined as an instance property on %s. Use a "+"static property to define contextTypes instead.",this.getName()||"a component"):undefined;"production"!=="production"?warning(typeof inst.componentShouldUpdate!=="function","%s has a method called "+"componentShouldUpdate(). Did you mean shouldComponentUpdate()? "+"The name is phrased as a question because the function is "+"expected to return a value.",this.getName()||"A component"):undefined;"production"!=="production"?warning(typeof inst.componentDidUnmount!=="function","%s has a method called "+"componentDidUnmount(). But there is no such lifecycle method. "+"Did you mean componentWillUnmount()?",this.getName()||"A component"):undefined;"production"!=="production"?warning(typeof inst.componentWillRecieveProps!=="function","%s has a method called "+"componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",this.getName()||"A component"):undefined}var initialState=inst.state;if(initialState===undefined){inst.state=initialState=null}!(typeof initialState==="object"&&!Array.isArray(initialState))?"production"!=="production"?invariant(false,"%s.state: must be set to an object or null",this.getName()||"ReactCompositeComponent"):invariant(false):undefined;this._pendingStateQueue=null;this._pendingReplaceState=false;this._pendingForceUpdate=false;if(inst.componentWillMount){inst.componentWillMount();if(this._pendingStateQueue){inst.state=this._processPendingState(inst.props,inst.context)}}if(renderedElement===undefined){renderedElement=this._renderValidatedComponent()}this._renderedComponent=this._instantiateReactComponent(renderedElement);var markup=ReactReconciler.mountComponent(this._renderedComponent,rootID,transaction,this._processChildContext(context));if(inst.componentDidMount){transaction.getReactMountReady().enqueue(inst.componentDidMount,inst)}return markup},unmountComponent:function(){var inst=this._instance;if(inst.componentWillUnmount){inst.componentWillUnmount()}ReactReconciler.unmountComponent(this._renderedComponent);this._renderedComponent=null;this._instance=null;this._pendingStateQueue=null;this._pendingReplaceState=false;this._pendingForceUpdate=false;this._pendingCallbacks=null;this._pendingElement=null;this._context=null;this._rootNodeID=null;this._topLevelWrapper=null;ReactInstanceMap.remove(inst)},_maskContext:function(context){var maskedContext=null;var Component=this._currentElement.type;var contextTypes=Component.contextTypes;if(!contextTypes){return emptyObject}maskedContext={};for(var contextName in contextTypes){maskedContext[contextName]=context[contextName]}return maskedContext},_processContext:function(context){var maskedContext=this._maskContext(context);if("production"!=="production"){var Component=this._currentElement.type;if(Component.contextTypes){this._checkPropTypes(Component.contextTypes,maskedContext,ReactPropTypeLocations.context)}}return maskedContext},_processChildContext:function(currentContext){var Component=this._currentElement.type;var inst=this._instance;var childContext=inst.getChildContext&&inst.getChildContext();if(childContext){!(typeof Component.childContextTypes==="object")?"production"!=="production"?invariant(false,"%s.getChildContext(): childContextTypes must be defined in order to "+"use getChildContext().",this.getName()||"ReactCompositeComponent"):invariant(false):undefined;if("production"!=="production"){this._checkPropTypes(Component.childContextTypes,childContext,ReactPropTypeLocations.childContext)}for(var name in childContext){!(name in Component.childContextTypes)?"production"!=="production"?invariant(false,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||"ReactCompositeComponent",name):invariant(false):undefined}return assign({},currentContext,childContext)}return currentContext},_processProps:function(newProps){if("production"!=="production"){var Component=this._currentElement.type;if(Component.propTypes){this._checkPropTypes(Component.propTypes,newProps,ReactPropTypeLocations.prop)}}return newProps},_checkPropTypes:function(propTypes,props,location){var componentName=this.getName();for(var propName in propTypes){if(propTypes.hasOwnProperty(propName)){var error;try{!(typeof propTypes[propName]==="function")?"production"!=="production"?invariant(false,"%s: %s type `%s` is invalid; it must be a function, usually "+"from React.PropTypes.",componentName||"React class",ReactPropTypeLocationNames[location],propName):invariant(false):undefined;error=propTypes[propName](props,propName,componentName,location)}catch(ex){error=ex}if(error instanceof Error){var addendum=getDeclarationErrorAddendum(this);if(location===ReactPropTypeLocations.prop){"production"!=="production"?warning(false,"Failed Composite propType: %s%s",error.message,addendum):undefined}else{"production"!=="production"?warning(false,"Failed Context Types: %s%s",error.message,addendum):undefined}}}}},receiveComponent:function(nextElement,transaction,nextContext){var prevElement=this._currentElement;var prevContext=this._context;this._pendingElement=null;this.updateComponent(transaction,prevElement,nextElement,prevContext,nextContext)},performUpdateIfNecessary:function(transaction){if(this._pendingElement!=null){ReactReconciler.receiveComponent(this,this._pendingElement||this._currentElement,transaction,this._context)}if(this._pendingStateQueue!==null||this._pendingForceUpdate){this.updateComponent(transaction,this._currentElement,this._currentElement,this._context,this._context)}},updateComponent:function(transaction,prevParentElement,nextParentElement,prevUnmaskedContext,nextUnmaskedContext){var inst=this._instance;var nextContext=this._context===nextUnmaskedContext?inst.context:this._processContext(nextUnmaskedContext);var nextProps;if(prevParentElement===nextParentElement){nextProps=nextParentElement.props}else{nextProps=this._processProps(nextParentElement.props);if(inst.componentWillReceiveProps){inst.componentWillReceiveProps(nextProps,nextContext)}}var nextState=this._processPendingState(nextProps,nextContext);var shouldUpdate=this._pendingForceUpdate||!inst.shouldComponentUpdate||inst.shouldComponentUpdate(nextProps,nextState,nextContext);if("production"!=="production"){"production"!=="production"?warning(typeof shouldUpdate!=="undefined","%s.shouldComponentUpdate(): Returned undefined instead of a "+"boolean value. Make sure to return true or false.",this.getName()||"ReactCompositeComponent"):undefined}if(shouldUpdate){this._pendingForceUpdate=false;this._performComponentUpdate(nextParentElement,nextProps,nextState,nextContext,transaction,nextUnmaskedContext)}else{this._currentElement=nextParentElement;this._context=nextUnmaskedContext;inst.props=nextProps;inst.state=nextState;inst.context=nextContext}},_processPendingState:function(props,context){var inst=this._instance;var queue=this._pendingStateQueue;var replace=this._pendingReplaceState;this._pendingReplaceState=false;this._pendingStateQueue=null;if(!queue){return inst.state}if(replace&&queue.length===1){return queue[0]}var nextState=assign({},replace?queue[0]:inst.state);for(var i=replace?1:0;i<queue.length;i++){var partial=queue[i];assign(nextState,typeof partial==="function"?partial.call(inst,nextState,props,context):partial)}return nextState},_performComponentUpdate:function(nextElement,nextProps,nextState,nextContext,transaction,unmaskedContext){var inst=this._instance;var hasComponentDidUpdate=Boolean(inst.componentDidUpdate);var prevProps;var prevState;var prevContext;if(hasComponentDidUpdate){prevProps=inst.props;prevState=inst.state;prevContext=inst.context}if(inst.componentWillUpdate){inst.componentWillUpdate(nextProps,nextState,nextContext)}this._currentElement=nextElement;this._context=unmaskedContext;inst.props=nextProps;inst.state=nextState;inst.context=nextContext;this._updateRenderedComponent(transaction,unmaskedContext);if(hasComponentDidUpdate){transaction.getReactMountReady().enqueue(inst.componentDidUpdate.bind(inst,prevProps,prevState,prevContext),inst)}},_updateRenderedComponent:function(transaction,context){var prevComponentInstance=this._renderedComponent;var prevRenderedElement=prevComponentInstance._currentElement;var nextRenderedElement=this._renderValidatedComponent();if(shouldUpdateReactComponent(prevRenderedElement,nextRenderedElement)){ReactReconciler.receiveComponent(prevComponentInstance,nextRenderedElement,transaction,this._processChildContext(context))}else{var thisID=this._rootNodeID;var prevComponentID=prevComponentInstance._rootNodeID;ReactReconciler.unmountComponent(prevComponentInstance);this._renderedComponent=this._instantiateReactComponent(nextRenderedElement);var nextMarkup=ReactReconciler.mountComponent(this._renderedComponent,thisID,transaction,this._processChildContext(context));this._replaceNodeWithMarkupByID(prevComponentID,nextMarkup)}},_replaceNodeWithMarkupByID:function(prevComponentID,nextMarkup){ReactComponentEnvironment.replaceNodeWithMarkupByID(prevComponentID,nextMarkup)},_renderValidatedComponentWithoutOwnerOrContext:function(){var inst=this._instance;var renderedComponent=inst.render();if("production"!=="production"){if(typeof renderedComponent==="undefined"&&inst.render._isMockFunction){renderedComponent=null}}return renderedComponent},_renderValidatedComponent:function(){var renderedComponent;ReactCurrentOwner.current=this;try{renderedComponent=this._renderValidatedComponentWithoutOwnerOrContext()}finally{ReactCurrentOwner.current=null}!(renderedComponent===null||renderedComponent===false||ReactElement.isValidElement(renderedComponent))?"production"!=="production"?invariant(false,"%s.render(): A valid ReactComponent must be returned. You may have "+"returned undefined, an array or some other invalid object.",this.getName()||"ReactCompositeComponent"):invariant(false):undefined;return renderedComponent},attachRef:function(ref,component){var inst=this.getPublicInstance();!(inst!=null)?"production"!=="production"?invariant(false,"Stateless function components cannot have refs."):invariant(false):undefined;var publicComponentInstance=component.getPublicInstance();if("production"!=="production"){var componentName=component&&component.getName?component.getName():"a component";"production"!=="production"?warning(publicComponentInstance!=null,"Stateless function components cannot be given refs "+'(See ref "%s" in %s created by %s). '+"Attempts to access this ref will fail.",ref,componentName,this.getName()):undefined}var refs=inst.refs===emptyObject?inst.refs={}:inst.refs;refs[ref]=publicComponentInstance},detachRef:function(ref){var refs=this.getPublicInstance().refs;delete refs[ref]},getName:function(){var type=this._currentElement.type;var constructor=this._instance&&this._instance.constructor;return type.displayName||constructor&&constructor.displayName||type.name||constructor&&constructor.name||null},getPublicInstance:function(){var inst=this._instance;if(inst instanceof StatelessComponent){return null}return inst},_instantiateReactComponent:null};ReactPerf.measureMethods(ReactCompositeComponentMixin,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var ReactCompositeComponent={Mixin:ReactCompositeComponentMixin};module.exports=ReactCompositeComponent},{"./Object.assign":"/Users/paulfrazee/patchwork/node_modules/react/lib/Object.assign.js","./ReactComponentEnvironment":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactComponentEnvironment.js","./ReactCurrentOwner":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactCurrentOwner.js","./ReactElement":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactElement.js","./ReactInstanceMap":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactInstanceMap.js","./ReactPerf":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactPerf.js","./ReactPropTypeLocationNames":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactPropTypeLocationNames.js","./ReactPropTypeLocations":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactPropTypeLocations.js","./ReactReconciler":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactReconciler.js","./ReactUpdateQueue":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactUpdateQueue.js","./shouldUpdateReactComponent":"/Users/paulfrazee/patchwork/node_modules/react/lib/shouldUpdateReactComponent.js","fbjs/lib/emptyObject":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/emptyObject.js","fbjs/lib/invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js","fbjs/lib/warning":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/warning.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactCurrentOwner.js":[function(require,module,exports){"use strict";var ReactCurrentOwner={current:null};module.exports=ReactCurrentOwner},{}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDOM.js":[function(require,module,exports){"use strict";var ReactCurrentOwner=require("./ReactCurrentOwner");var ReactDOMTextComponent=require("./ReactDOMTextComponent");var ReactDefaultInjection=require("./ReactDefaultInjection");var ReactInstanceHandles=require("./ReactInstanceHandles");var ReactMount=require("./ReactMount");var ReactPerf=require("./ReactPerf");var ReactReconciler=require("./ReactReconciler");var ReactUpdates=require("./ReactUpdates");var ReactVersion=require("./ReactVersion");var findDOMNode=require("./findDOMNode");var renderSubtreeIntoContainer=require("./renderSubtreeIntoContainer");var warning=require("fbjs/lib/warning");ReactDefaultInjection.inject();var render=ReactPerf.measure("React","render",ReactMount.render);var React={findDOMNode:findDOMNode,render:render,unmountComponentAtNode:ReactMount.unmountComponentAtNode,version:ReactVersion,unstable_batchedUpdates:ReactUpdates.batchedUpdates,unstable_renderSubtreeIntoContainer:renderSubtreeIntoContainer};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject==="function"){__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:ReactCurrentOwner,InstanceHandles:ReactInstanceHandles,Mount:ReactMount,Reconciler:ReactReconciler,TextComponent:ReactDOMTextComponent})}if("production"!=="production"){var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment");if(ExecutionEnvironment.canUseDOM&&window.top===window.self){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==="undefined"){if(navigator.userAgent.indexOf("Chrome")>-1&&navigator.userAgent.indexOf("Edge")===-1||navigator.userAgent.indexOf("Firefox")>-1){console.debug("Download the React DevTools for a better development experience: "+"https://fb.me/react-devtools")}}var ieCompatibilityMode=document.documentMode&&document.documentMode<8;"production"!=="production"?warning(!ieCompatibilityMode,"Internet Explorer is running in compatibility mode; please add the "+"following tag to your HTML to prevent this from happening: "+'<meta http-equiv="X-UA-Compatible" content="IE=edge" />'):undefined;var expectedFeatures=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim,Object.create,Object.freeze];for(var i=0;i<expectedFeatures.length;i++){if(!expectedFeatures[i]){console.error("One or more ES5 shim/shams expected by React are not available: "+"https://fb.me/react-warning-polyfills");break}}}}module.exports=React},{"./ReactCurrentOwner":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactCurrentOwner.js","./ReactDOMTextComponent":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDOMTextComponent.js","./ReactDefaultInjection":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDefaultInjection.js","./ReactInstanceHandles":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactInstanceHandles.js","./ReactMount":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactMount.js","./ReactPerf":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactPerf.js","./ReactReconciler":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactReconciler.js","./ReactUpdates":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactUpdates.js","./ReactVersion":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactVersion.js","./findDOMNode":"/Users/paulfrazee/patchwork/node_modules/react/lib/findDOMNode.js","./renderSubtreeIntoContainer":"/Users/paulfrazee/patchwork/node_modules/react/lib/renderSubtreeIntoContainer.js","fbjs/lib/ExecutionEnvironment":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/ExecutionEnvironment.js","fbjs/lib/warning":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/warning.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDOMButton.js":[function(require,module,exports){"use strict";var mouseListenerNames={onClick:true,onDoubleClick:true,onMouseDown:true,onMouseMove:true,onMouseUp:true,onClickCapture:true,onDoubleClickCapture:true,onMouseDownCapture:true,onMouseMoveCapture:true,onMouseUpCapture:true};var ReactDOMButton={getNativeProps:function(inst,props,context){if(!props.disabled){return props}var nativeProps={};for(var key in props){if(props.hasOwnProperty(key)&&!mouseListenerNames[key]){nativeProps[key]=props[key]}}return nativeProps}};module.exports=ReactDOMButton},{}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDOMComponent.js":[function(require,module,exports){"use strict";var AutoFocusUtils=require("./AutoFocusUtils");var CSSPropertyOperations=require("./CSSPropertyOperations");var DOMProperty=require("./DOMProperty");var DOMPropertyOperations=require("./DOMPropertyOperations");var EventConstants=require("./EventConstants");var ReactBrowserEventEmitter=require("./ReactBrowserEventEmitter");var ReactComponentBrowserEnvironment=require("./ReactComponentBrowserEnvironment");var ReactDOMButton=require("./ReactDOMButton");var ReactDOMInput=require("./ReactDOMInput");var ReactDOMOption=require("./ReactDOMOption");var ReactDOMSelect=require("./ReactDOMSelect");var ReactDOMTextarea=require("./ReactDOMTextarea");var ReactMount=require("./ReactMount");var ReactMultiChild=require("./ReactMultiChild");var ReactPerf=require("./ReactPerf");var ReactUpdateQueue=require("./ReactUpdateQueue");var assign=require("./Object.assign");var canDefineProperty=require("./canDefineProperty");var escapeTextContentForBrowser=require("./escapeTextContentForBrowser");var invariant=require("fbjs/lib/invariant");var isEventSupported=require("./isEventSupported");var keyOf=require("fbjs/lib/keyOf");var setInnerHTML=require("./setInnerHTML");var setTextContent=require("./setTextContent");var shallowEqual=require("fbjs/lib/shallowEqual");var validateDOMNesting=require("./validateDOMNesting");var warning=require("fbjs/lib/warning");var deleteListener=ReactBrowserEventEmitter.deleteListener;var listenTo=ReactBrowserEventEmitter.listenTo;var registrationNameModules=ReactBrowserEventEmitter.registrationNameModules;var CONTENT_TYPES={string:true,number:true};var CHILDREN=keyOf({children:null});var STYLE=keyOf({style:null});var HTML=keyOf({__html:null});var ELEMENT_NODE_TYPE=1;function getDeclarationErrorAddendum(internalInstance){if(internalInstance){var owner=internalInstance._currentElement._owner||null;if(owner){var name=owner.getName();if(name){return" This DOM node was rendered by `"+name+"`."}}}return""}var legacyPropsDescriptor;if("production"!=="production"){legacyPropsDescriptor={props:{enumerable:false,get:function(){var component=this._reactInternalComponent;"production"!=="production"?warning(false,"ReactDOMComponent: Do not access .props of a DOM node; instead, "+"recreate the props as `render` did originally or read the DOM "+"properties/attributes directly from this node (e.g., "+"this.refs.box.className).%s",getDeclarationErrorAddendum(component)):undefined;return component._currentElement.props}}}}function legacyGetDOMNode(){if("production"!=="production"){var component=this._reactInternalComponent;"production"!=="production"?warning(false,"ReactDOMComponent: Do not access .getDOMNode() of a DOM node; "+"instead, use the node directly.%s",getDeclarationErrorAddendum(component)):undefined}return this}function legacyIsMounted(){var component=this._reactInternalComponent;if("production"!=="production"){"production"!=="production"?warning(false,"ReactDOMComponent: Do not access .isMounted() of a DOM node.%s",getDeclarationErrorAddendum(component)):undefined}return!!component}function legacySetStateEtc(){if("production"!=="production"){var component=this._reactInternalComponent;"production"!=="production"?warning(false,"ReactDOMComponent: Do not access .setState(), .replaceState(), or "+".forceUpdate() of a DOM node. This is a no-op.%s",getDeclarationErrorAddendum(component)):undefined}}function legacySetProps(partialProps,callback){var component=this._reactInternalComponent;if("production"!=="production"){"production"!=="production"?warning(false,"ReactDOMComponent: Do not access .setProps() of a DOM node. "+"Instead, call ReactDOM.render again at the top level.%s",getDeclarationErrorAddendum(component)):undefined}if(!component){return}ReactUpdateQueue.enqueueSetPropsInternal(component,partialProps);if(callback){ReactUpdateQueue.enqueueCallbackInternal(component,callback)}}function legacyReplaceProps(partialProps,callback){var component=this._reactInternalComponent;if("production"!=="production"){"production"!=="production"?warning(false,"ReactDOMComponent: Do not access .replaceProps() of a DOM node. "+"Instead, call ReactDOM.render again at the top level.%s",getDeclarationErrorAddendum(component)):undefined}if(!component){return}ReactUpdateQueue.enqueueReplacePropsInternal(component,partialProps);if(callback){ReactUpdateQueue.enqueueCallbackInternal(component,callback)}}function friendlyStringify(obj){if(typeof obj==="object"){if(Array.isArray(obj)){return"["+obj.map(friendlyStringify).join(", ")+"]"}else{var pairs=[];for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var keyEscaped=/^[a-z$_][\w$_]*$/i.test(key)?key:JSON.stringify(key);pairs.push(keyEscaped+": "+friendlyStringify(obj[key]))}}return"{"+pairs.join(", ")+"}"}}else if(typeof obj==="string"){return JSON.stringify(obj)}else if(typeof obj==="function"){return"[function object]"}return String(obj)}var styleMutationWarning={};function checkAndWarnForMutatedStyle(style1,style2,component){if(style1==null||style2==null){return}if(shallowEqual(style1,style2)){return}var componentName=component._tag;var owner=component._currentElement._owner;var ownerName;if(owner){ownerName=owner.getName()}var hash=ownerName+"|"+componentName;if(styleMutationWarning.hasOwnProperty(hash)){return}styleMutationWarning[hash]=true;"production"!=="production"?warning(false,"`%s` was passed a style object that has previously been mutated. "+"Mutating `style` is deprecated. Consider cloning it beforehand. Check "+"the `render` %s. Previous style: %s. Mutated style: %s.",componentName,owner?"of `"+ownerName+"`":"using <"+componentName+">",friendlyStringify(style1),friendlyStringify(style2)):undefined}function assertValidProps(component,props){if(!props){return}if("production"!=="production"){if(voidElementTags[component._tag]){"production"!=="production"?warning(props.children==null&&props.dangerouslySetInnerHTML==null,"%s is a void element tag and must not have `children` or "+"use `props.dangerouslySetInnerHTML`.%s",component._tag,component._currentElement._owner?" Check the render method of "+component._currentElement._owner.getName()+".":""):undefined}}if(props.dangerouslySetInnerHTML!=null){!(props.children==null)?"production"!=="production"?invariant(false,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."):invariant(false):undefined;!(typeof props.dangerouslySetInnerHTML==="object"&&HTML in props.dangerouslySetInnerHTML)?"production"!=="production"?invariant(false,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. "+"Please visit https://fb.me/react-invariant-dangerously-set-inner-html "+"for more information."):invariant(false):undefined}if("production"!=="production"){"production"!=="production"?warning(props.innerHTML==null,"Directly setting property `innerHTML` is not permitted. "+"For more information, lookup documentation on `dangerouslySetInnerHTML`."):undefined;"production"!=="production"?warning(!props.contentEditable||props.children==null,"A component is `contentEditable` and contains `children` managed by "+"React. It is now your responsibility to guarantee that none of "+"those nodes are unexpectedly modified or duplicated. This is "+"probably not intentional."):undefined}!(props.style==null||typeof props.style==="object")?"production"!=="production"?invariant(false,"The `style` prop expects a mapping from style properties to values, "+"not a string. For example, style={{marginRight: spacing + 'em'}} when "+"using JSX.%s",getDeclarationErrorAddendum(component)):invariant(false):undefined}function enqueuePutListener(id,registrationName,listener,transaction){if("production"!=="production"){"production"!=="production"?warning(registrationName!=="onScroll"||isEventSupported("scroll",true),"This browser doesn't support the `onScroll` event"):undefined}var container=ReactMount.findReactContainerForID(id);if(container){var doc=container.nodeType===ELEMENT_NODE_TYPE?container.ownerDocument:container;listenTo(registrationName,doc)}transaction.getReactMountReady().enqueue(putListener,{id:id,registrationName:registrationName,listener:listener})}function putListener(){var listenerToPut=this;ReactBrowserEventEmitter.putListener(listenerToPut.id,listenerToPut.registrationName,listenerToPut.listener)}var mediaEvents={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"};function trapBubbledEventsLocal(){var inst=this;!inst._rootNodeID?"production"!=="production"?invariant(false,"Must be mounted to trap events"):invariant(false):undefined;var node=ReactMount.getNode(inst._rootNodeID);!node?"production"!=="production"?invariant(false,"trapBubbledEvent(...): Requires node to be rendered."):invariant(false):undefined;switch(inst._tag){case"iframe":inst._wrapperState.listeners=[ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topLoad,"load",node)];break;case"video":case"audio":inst._wrapperState.listeners=[];for(var event in mediaEvents){if(mediaEvents.hasOwnProperty(event)){inst._wrapperState.listeners.push(ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes[event],mediaEvents[event],node))}}break;case"img":inst._wrapperState.listeners=[ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topError,"error",node),ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topLoad,"load",node)];break;case"form":inst._wrapperState.listeners=[ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topReset,"reset",node),ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topSubmit,"submit",node)];break}}function mountReadyInputWrapper(){ReactDOMInput.mountReadyWrapper(this)}function postUpdateSelectWrapper(){ReactDOMSelect.postUpdateWrapper(this)}var omittedCloseTags={area:true,base:true,br:true,col:true,embed:true,hr:true,img:true,input:true,keygen:true,link:true,meta:true,param:true,source:true,track:true,wbr:true};var newlineEatingTags={listing:true,pre:true,textarea:true};var voidElementTags=assign({menuitem:true},omittedCloseTags);var VALID_TAG_REGEX=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/;var validatedTagCache={};var hasOwnProperty={}.hasOwnProperty;function validateDangerousTag(tag){if(!hasOwnProperty.call(validatedTagCache,tag)){!VALID_TAG_REGEX.test(tag)?"production"!=="production"?invariant(false,"Invalid tag: %s",tag):invariant(false):undefined;validatedTagCache[tag]=true}}function processChildContextDev(context,inst){context=assign({},context);var info=context[validateDOMNesting.ancestorInfoContextKey];context[validateDOMNesting.ancestorInfoContextKey]=validateDOMNesting.updatedAncestorInfo(info,inst._tag,inst);return context}function isCustomComponent(tagName,props){return tagName.indexOf("-")>=0||props.is!=null}function ReactDOMComponent(tag){validateDangerousTag(tag);this._tag=tag.toLowerCase();this._renderedChildren=null;this._previousStyle=null;this._previousStyleCopy=null;this._rootNodeID=null;this._wrapperState=null;this._topLevelWrapper=null;this._nodeWithLegacyProperties=null;if("production"!=="production"){this._unprocessedContextDev=null;this._processedContextDev=null}}ReactDOMComponent.displayName="ReactDOMComponent";ReactDOMComponent.Mixin={construct:function(element){this._currentElement=element},mountComponent:function(rootID,transaction,context){this._rootNodeID=rootID;var props=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null};transaction.getReactMountReady().enqueue(trapBubbledEventsLocal,this);break;case"button":props=ReactDOMButton.getNativeProps(this,props,context);break;case"input":ReactDOMInput.mountWrapper(this,props,context);props=ReactDOMInput.getNativeProps(this,props,context);break;case"option":ReactDOMOption.mountWrapper(this,props,context);props=ReactDOMOption.getNativeProps(this,props,context);break;case"select":ReactDOMSelect.mountWrapper(this,props,context);props=ReactDOMSelect.getNativeProps(this,props,context);context=ReactDOMSelect.processChildContext(this,props,context);break;case"textarea":ReactDOMTextarea.mountWrapper(this,props,context);props=ReactDOMTextarea.getNativeProps(this,props,context);break}assertValidProps(this,props);if("production"!=="production"){if(context[validateDOMNesting.ancestorInfoContextKey]){validateDOMNesting(this._tag,this,context[validateDOMNesting.ancestorInfoContextKey])}}if("production"!=="production"){this._unprocessedContextDev=context;this._processedContextDev=processChildContextDev(context,this);context=this._processedContextDev}var mountImage;if(transaction.useCreateElement){var ownerDocument=context[ReactMount.ownerDocumentContextKey];var el=ownerDocument.createElement(this._currentElement.type);DOMPropertyOperations.setAttributeForID(el,this._rootNodeID);ReactMount.getID(el);this._updateDOMProperties({},props,transaction,el);this._createInitialChildren(transaction,props,context,el);mountImage=el}else{var tagOpen=this._createOpenTagMarkupAndPutListeners(transaction,props);var tagContent=this._createContentMarkup(transaction,props,context);
if(!tagContent&&omittedCloseTags[this._tag]){mountImage=tagOpen+"/>"}else{mountImage=tagOpen+">"+tagContent+"</"+this._currentElement.type+">"}}switch(this._tag){case"input":transaction.getReactMountReady().enqueue(mountReadyInputWrapper,this);case"button":case"select":case"textarea":if(props.autoFocus){transaction.getReactMountReady().enqueue(AutoFocusUtils.focusDOMComponent,this)}break}return mountImage},_createOpenTagMarkupAndPutListeners:function(transaction,props){var ret="<"+this._currentElement.type;for(var propKey in props){if(!props.hasOwnProperty(propKey)){continue}var propValue=props[propKey];if(propValue==null){continue}if(registrationNameModules.hasOwnProperty(propKey)){if(propValue){enqueuePutListener(this._rootNodeID,propKey,propValue,transaction)}}else{if(propKey===STYLE){if(propValue){if("production"!=="production"){this._previousStyle=propValue}propValue=this._previousStyleCopy=assign({},props.style)}propValue=CSSPropertyOperations.createMarkupForStyles(propValue)}var markup=null;if(this._tag!=null&&isCustomComponent(this._tag,props)){if(propKey!==CHILDREN){markup=DOMPropertyOperations.createMarkupForCustomAttribute(propKey,propValue)}}else{markup=DOMPropertyOperations.createMarkupForProperty(propKey,propValue)}if(markup){ret+=" "+markup}}}if(transaction.renderToStaticMarkup){return ret}var markupForID=DOMPropertyOperations.createMarkupForID(this._rootNodeID);return ret+" "+markupForID},_createContentMarkup:function(transaction,props,context){var ret="";var innerHTML=props.dangerouslySetInnerHTML;if(innerHTML!=null){if(innerHTML.__html!=null){ret=innerHTML.__html}}else{var contentToUse=CONTENT_TYPES[typeof props.children]?props.children:null;var childrenToUse=contentToUse!=null?null:props.children;if(contentToUse!=null){ret=escapeTextContentForBrowser(contentToUse)}else if(childrenToUse!=null){var mountImages=this.mountChildren(childrenToUse,transaction,context);ret=mountImages.join("")}}if(newlineEatingTags[this._tag]&&ret.charAt(0)==="\n"){return"\n"+ret}else{return ret}},_createInitialChildren:function(transaction,props,context,el){var innerHTML=props.dangerouslySetInnerHTML;if(innerHTML!=null){if(innerHTML.__html!=null){setInnerHTML(el,innerHTML.__html)}}else{var contentToUse=CONTENT_TYPES[typeof props.children]?props.children:null;var childrenToUse=contentToUse!=null?null:props.children;if(contentToUse!=null){setTextContent(el,contentToUse)}else if(childrenToUse!=null){var mountImages=this.mountChildren(childrenToUse,transaction,context);for(var i=0;i<mountImages.length;i++){el.appendChild(mountImages[i])}}}},receiveComponent:function(nextElement,transaction,context){var prevElement=this._currentElement;this._currentElement=nextElement;this.updateComponent(transaction,prevElement,nextElement,context)},updateComponent:function(transaction,prevElement,nextElement,context){var lastProps=prevElement.props;var nextProps=this._currentElement.props;switch(this._tag){case"button":lastProps=ReactDOMButton.getNativeProps(this,lastProps);nextProps=ReactDOMButton.getNativeProps(this,nextProps);break;case"input":ReactDOMInput.updateWrapper(this);lastProps=ReactDOMInput.getNativeProps(this,lastProps);nextProps=ReactDOMInput.getNativeProps(this,nextProps);break;case"option":lastProps=ReactDOMOption.getNativeProps(this,lastProps);nextProps=ReactDOMOption.getNativeProps(this,nextProps);break;case"select":lastProps=ReactDOMSelect.getNativeProps(this,lastProps);nextProps=ReactDOMSelect.getNativeProps(this,nextProps);break;case"textarea":ReactDOMTextarea.updateWrapper(this);lastProps=ReactDOMTextarea.getNativeProps(this,lastProps);nextProps=ReactDOMTextarea.getNativeProps(this,nextProps);break}if("production"!=="production"){if(this._unprocessedContextDev!==context){this._unprocessedContextDev=context;this._processedContextDev=processChildContextDev(context,this)}context=this._processedContextDev}assertValidProps(this,nextProps);this._updateDOMProperties(lastProps,nextProps,transaction,null);this._updateDOMChildren(lastProps,nextProps,transaction,context);if(!canDefineProperty&&this._nodeWithLegacyProperties){this._nodeWithLegacyProperties.props=nextProps}if(this._tag==="select"){transaction.getReactMountReady().enqueue(postUpdateSelectWrapper,this)}},_updateDOMProperties:function(lastProps,nextProps,transaction,node){var propKey;var styleName;var styleUpdates;for(propKey in lastProps){if(nextProps.hasOwnProperty(propKey)||!lastProps.hasOwnProperty(propKey)){continue}if(propKey===STYLE){var lastStyle=this._previousStyleCopy;for(styleName in lastStyle){if(lastStyle.hasOwnProperty(styleName)){styleUpdates=styleUpdates||{};styleUpdates[styleName]=""}}this._previousStyleCopy=null}else if(registrationNameModules.hasOwnProperty(propKey)){if(lastProps[propKey]){deleteListener(this._rootNodeID,propKey)}}else if(DOMProperty.properties[propKey]||DOMProperty.isCustomAttribute(propKey)){if(!node){node=ReactMount.getNode(this._rootNodeID)}DOMPropertyOperations.deleteValueForProperty(node,propKey)}}for(propKey in nextProps){var nextProp=nextProps[propKey];var lastProp=propKey===STYLE?this._previousStyleCopy:lastProps[propKey];if(!nextProps.hasOwnProperty(propKey)||nextProp===lastProp){continue}if(propKey===STYLE){if(nextProp){if("production"!=="production"){checkAndWarnForMutatedStyle(this._previousStyleCopy,this._previousStyle,this);this._previousStyle=nextProp}nextProp=this._previousStyleCopy=assign({},nextProp)}else{this._previousStyleCopy=null}if(lastProp){for(styleName in lastProp){if(lastProp.hasOwnProperty(styleName)&&(!nextProp||!nextProp.hasOwnProperty(styleName))){styleUpdates=styleUpdates||{};styleUpdates[styleName]=""}}for(styleName in nextProp){if(nextProp.hasOwnProperty(styleName)&&lastProp[styleName]!==nextProp[styleName]){styleUpdates=styleUpdates||{};styleUpdates[styleName]=nextProp[styleName]}}}else{styleUpdates=nextProp}}else if(registrationNameModules.hasOwnProperty(propKey)){if(nextProp){enqueuePutListener(this._rootNodeID,propKey,nextProp,transaction)}else if(lastProp){deleteListener(this._rootNodeID,propKey)}}else if(isCustomComponent(this._tag,nextProps)){if(!node){node=ReactMount.getNode(this._rootNodeID)}if(propKey===CHILDREN){nextProp=null}DOMPropertyOperations.setValueForAttribute(node,propKey,nextProp)}else if(DOMProperty.properties[propKey]||DOMProperty.isCustomAttribute(propKey)){if(!node){node=ReactMount.getNode(this._rootNodeID)}if(nextProp!=null){DOMPropertyOperations.setValueForProperty(node,propKey,nextProp)}else{DOMPropertyOperations.deleteValueForProperty(node,propKey)}}}if(styleUpdates){if(!node){node=ReactMount.getNode(this._rootNodeID)}CSSPropertyOperations.setValueForStyles(node,styleUpdates)}},_updateDOMChildren:function(lastProps,nextProps,transaction,context){var lastContent=CONTENT_TYPES[typeof lastProps.children]?lastProps.children:null;var nextContent=CONTENT_TYPES[typeof nextProps.children]?nextProps.children:null;var lastHtml=lastProps.dangerouslySetInnerHTML&&lastProps.dangerouslySetInnerHTML.__html;var nextHtml=nextProps.dangerouslySetInnerHTML&&nextProps.dangerouslySetInnerHTML.__html;var lastChildren=lastContent!=null?null:lastProps.children;var nextChildren=nextContent!=null?null:nextProps.children;var lastHasContentOrHtml=lastContent!=null||lastHtml!=null;var nextHasContentOrHtml=nextContent!=null||nextHtml!=null;if(lastChildren!=null&&nextChildren==null){this.updateChildren(null,transaction,context)}else if(lastHasContentOrHtml&&!nextHasContentOrHtml){this.updateTextContent("")}if(nextContent!=null){if(lastContent!==nextContent){this.updateTextContent(""+nextContent)}}else if(nextHtml!=null){if(lastHtml!==nextHtml){this.updateMarkup(""+nextHtml)}}else if(nextChildren!=null){this.updateChildren(nextChildren,transaction,context)}},unmountComponent:function(){switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":var listeners=this._wrapperState.listeners;if(listeners){for(var i=0;i<listeners.length;i++){listeners[i].remove()}}break;case"input":ReactDOMInput.unmountWrapper(this);break;case"html":case"head":case"body":!false?"production"!=="production"?invariant(false,"<%s> tried to unmount. Because of cross-browser quirks it is "+"impossible to unmount some top-level components (eg <html>, "+"<head>, and <body>) reliably and efficiently. To fix this, have a "+"single top-level component that never unmounts render these "+"elements.",this._tag):invariant(false):undefined;break}this.unmountChildren();ReactBrowserEventEmitter.deleteAllListeners(this._rootNodeID);ReactComponentBrowserEnvironment.unmountIDFromEnvironment(this._rootNodeID);this._rootNodeID=null;this._wrapperState=null;if(this._nodeWithLegacyProperties){var node=this._nodeWithLegacyProperties;node._reactInternalComponent=null;this._nodeWithLegacyProperties=null}},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var node=ReactMount.getNode(this._rootNodeID);node._reactInternalComponent=this;node.getDOMNode=legacyGetDOMNode;node.isMounted=legacyIsMounted;node.setState=legacySetStateEtc;node.replaceState=legacySetStateEtc;node.forceUpdate=legacySetStateEtc;node.setProps=legacySetProps;node.replaceProps=legacyReplaceProps;if("production"!=="production"){if(canDefineProperty){Object.defineProperties(node,legacyPropsDescriptor)}else{node.props=this._currentElement.props}}else{node.props=this._currentElement.props}this._nodeWithLegacyProperties=node}return this._nodeWithLegacyProperties}};ReactPerf.measureMethods(ReactDOMComponent,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"});assign(ReactDOMComponent.prototype,ReactDOMComponent.Mixin,ReactMultiChild.Mixin);module.exports=ReactDOMComponent},{"./AutoFocusUtils":"/Users/paulfrazee/patchwork/node_modules/react/lib/AutoFocusUtils.js","./CSSPropertyOperations":"/Users/paulfrazee/patchwork/node_modules/react/lib/CSSPropertyOperations.js","./DOMProperty":"/Users/paulfrazee/patchwork/node_modules/react/lib/DOMProperty.js","./DOMPropertyOperations":"/Users/paulfrazee/patchwork/node_modules/react/lib/DOMPropertyOperations.js","./EventConstants":"/Users/paulfrazee/patchwork/node_modules/react/lib/EventConstants.js","./Object.assign":"/Users/paulfrazee/patchwork/node_modules/react/lib/Object.assign.js","./ReactBrowserEventEmitter":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactBrowserEventEmitter.js","./ReactComponentBrowserEnvironment":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactComponentBrowserEnvironment.js","./ReactDOMButton":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDOMButton.js","./ReactDOMInput":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDOMInput.js","./ReactDOMOption":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDOMOption.js","./ReactDOMSelect":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDOMSelect.js","./ReactDOMTextarea":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDOMTextarea.js","./ReactMount":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactMount.js","./ReactMultiChild":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactMultiChild.js","./ReactPerf":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactPerf.js","./ReactUpdateQueue":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactUpdateQueue.js","./canDefineProperty":"/Users/paulfrazee/patchwork/node_modules/react/lib/canDefineProperty.js","./escapeTextContentForBrowser":"/Users/paulfrazee/patchwork/node_modules/react/lib/escapeTextContentForBrowser.js","./isEventSupported":"/Users/paulfrazee/patchwork/node_modules/react/lib/isEventSupported.js","./setInnerHTML":"/Users/paulfrazee/patchwork/node_modules/react/lib/setInnerHTML.js","./setTextContent":"/Users/paulfrazee/patchwork/node_modules/react/lib/setTextContent.js","./validateDOMNesting":"/Users/paulfrazee/patchwork/node_modules/react/lib/validateDOMNesting.js","fbjs/lib/invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js","fbjs/lib/keyOf":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/keyOf.js","fbjs/lib/shallowEqual":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/shallowEqual.js","fbjs/lib/warning":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/warning.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDOMFactories.js":[function(require,module,exports){"use strict";var ReactElement=require("./ReactElement");var ReactElementValidator=require("./ReactElementValidator");var mapObject=require("fbjs/lib/mapObject");function createDOMFactory(tag){if("production"!=="production"){return ReactElementValidator.createFactory(tag)}return ReactElement.createFactory(tag)}var ReactDOMFactories=mapObject({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},createDOMFactory);module.exports=ReactDOMFactories},{"./ReactElement":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactElement.js","./ReactElementValidator":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactElementValidator.js","fbjs/lib/mapObject":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/mapObject.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDOMFeatureFlags.js":[function(require,module,exports){"use strict";var ReactDOMFeatureFlags={useCreateElement:false};module.exports=ReactDOMFeatureFlags},{}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDOMIDOperations.js":[function(require,module,exports){"use strict";var DOMChildrenOperations=require("./DOMChildrenOperations");var DOMPropertyOperations=require("./DOMPropertyOperations");var ReactMount=require("./ReactMount");var ReactPerf=require("./ReactPerf");var invariant=require("fbjs/lib/invariant");var INVALID_PROPERTY_ERRORS={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."};var ReactDOMIDOperations={updatePropertyByID:function(id,name,value){var node=ReactMount.getNode(id);!!INVALID_PROPERTY_ERRORS.hasOwnProperty(name)?"production"!=="production"?invariant(false,"updatePropertyByID(...): %s",INVALID_PROPERTY_ERRORS[name]):invariant(false):undefined;if(value!=null){DOMPropertyOperations.setValueForProperty(node,name,value)}else{DOMPropertyOperations.deleteValueForProperty(node,name)}},dangerouslyReplaceNodeWithMarkupByID:function(id,markup){var node=ReactMount.getNode(id);DOMChildrenOperations.dangerouslyReplaceNodeWithMarkup(node,markup)},dangerouslyProcessChildrenUpdates:function(updates,markup){for(var i=0;i<updates.length;i++){updates[i].parentNode=ReactMount.getNode(updates[i].parentID)}DOMChildrenOperations.processUpdates(updates,markup)}};ReactPerf.measureMethods(ReactDOMIDOperations,"ReactDOMIDOperations",{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"});module.exports=ReactDOMIDOperations},{"./DOMChildrenOperations":"/Users/paulfrazee/patchwork/node_modules/react/lib/DOMChildrenOperations.js","./DOMPropertyOperations":"/Users/paulfrazee/patchwork/node_modules/react/lib/DOMPropertyOperations.js","./ReactMount":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactMount.js","./ReactPerf":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactPerf.js","fbjs/lib/invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDOMInput.js":[function(require,module,exports){"use strict";var ReactDOMIDOperations=require("./ReactDOMIDOperations");var LinkedValueUtils=require("./LinkedValueUtils");var ReactMount=require("./ReactMount");var ReactUpdates=require("./ReactUpdates");var assign=require("./Object.assign");var invariant=require("fbjs/lib/invariant");var instancesByReactID={};function forceUpdateIfMounted(){if(this._rootNodeID){ReactDOMInput.updateWrapper(this)}}var ReactDOMInput={getNativeProps:function(inst,props,context){var value=LinkedValueUtils.getValue(props);var checked=LinkedValueUtils.getChecked(props);var nativeProps=assign({},props,{defaultChecked:undefined,defaultValue:undefined,value:value!=null?value:inst._wrapperState.initialValue,checked:checked!=null?checked:inst._wrapperState.initialChecked,onChange:inst._wrapperState.onChange});return nativeProps},mountWrapper:function(inst,props){if("production"!=="production"){LinkedValueUtils.checkPropTypes("input",props,inst._currentElement._owner)}var defaultValue=props.defaultValue;inst._wrapperState={initialChecked:props.defaultChecked||false,initialValue:defaultValue!=null?defaultValue:null,onChange:_handleChange.bind(inst)}},mountReadyWrapper:function(inst){instancesByReactID[inst._rootNodeID]=inst},unmountWrapper:function(inst){delete instancesByReactID[inst._rootNodeID]},updateWrapper:function(inst){var props=inst._currentElement.props;var checked=props.checked;if(checked!=null){ReactDOMIDOperations.updatePropertyByID(inst._rootNodeID,"checked",checked||false)}var value=LinkedValueUtils.getValue(props);if(value!=null){ReactDOMIDOperations.updatePropertyByID(inst._rootNodeID,"value",""+value)}}};function _handleChange(event){var props=this._currentElement.props;var returnValue=LinkedValueUtils.executeOnChange(props,event);ReactUpdates.asap(forceUpdateIfMounted,this);var name=props.name;if(props.type==="radio"&&name!=null){var rootNode=ReactMount.getNode(this._rootNodeID);var queryRoot=rootNode;while(queryRoot.parentNode){queryRoot=queryRoot.parentNode}var group=queryRoot.querySelectorAll("input[name="+JSON.stringify(""+name)+'][type="radio"]');for(var i=0;i<group.length;i++){var otherNode=group[i];if(otherNode===rootNode||otherNode.form!==rootNode.form){continue}var otherID=ReactMount.getID(otherNode);!otherID?"production"!=="production"?invariant(false,"ReactDOMInput: Mixing React and non-React radio inputs with the "+"same `name` is not supported."):invariant(false):undefined;var otherInstance=instancesByReactID[otherID];!otherInstance?"production"!=="production"?invariant(false,"ReactDOMInput: Unknown radio button ID %s.",otherID):invariant(false):undefined;ReactUpdates.asap(forceUpdateIfMounted,otherInstance)}}return returnValue}module.exports=ReactDOMInput},{"./LinkedValueUtils":"/Users/paulfrazee/patchwork/node_modules/react/lib/LinkedValueUtils.js","./Object.assign":"/Users/paulfrazee/patchwork/node_modules/react/lib/Object.assign.js","./ReactDOMIDOperations":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDOMIDOperations.js","./ReactMount":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactMount.js","./ReactUpdates":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactUpdates.js","fbjs/lib/invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDOMOption.js":[function(require,module,exports){"use strict";var ReactChildren=require("./ReactChildren");var ReactDOMSelect=require("./ReactDOMSelect");var assign=require("./Object.assign");var warning=require("fbjs/lib/warning");var valueContextKey=ReactDOMSelect.valueContextKey;var ReactDOMOption={mountWrapper:function(inst,props,context){if("production"!=="production"){"production"!=="production"?warning(props.selected==null,"Use the `defaultValue` or `value` props on <select> instead of "+"setting `selected` on <option>."):undefined}var selectValue=context[valueContextKey];var selected=null;if(selectValue!=null){selected=false;if(Array.isArray(selectValue)){for(var i=0;i<selectValue.length;i++){if(""+selectValue[i]===""+props.value){selected=true;break}}}else{selected=""+selectValue===""+props.value}}inst._wrapperState={selected:selected}},getNativeProps:function(inst,props,context){var nativeProps=assign({selected:undefined,children:undefined},props);if(inst._wrapperState.selected!=null){nativeProps.selected=inst._wrapperState.selected}var content="";ReactChildren.forEach(props.children,function(child){if(child==null){return}if(typeof child==="string"||typeof child==="number"){content+=child}else{"production"!=="production"?warning(false,"Only strings and numbers are supported as <option> children."):undefined}});nativeProps.children=content;return nativeProps}};module.exports=ReactDOMOption},{"./Object.assign":"/Users/paulfrazee/patchwork/node_modules/react/lib/Object.assign.js","./ReactChildren":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactChildren.js","./ReactDOMSelect":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDOMSelect.js","fbjs/lib/warning":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/warning.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDOMSelect.js":[function(require,module,exports){"use strict";var LinkedValueUtils=require("./LinkedValueUtils");var ReactMount=require("./ReactMount");var ReactUpdates=require("./ReactUpdates");var assign=require("./Object.assign");var warning=require("fbjs/lib/warning");var valueContextKey="__ReactDOMSelect_value$"+Math.random().toString(36).slice(2);function updateOptionsIfPendingUpdateAndMounted(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=false;var props=this._currentElement.props;var value=LinkedValueUtils.getValue(props);if(value!=null){updateOptions(this,Boolean(props.multiple),value)}}}function getDeclarationErrorAddendum(owner){if(owner){var name=owner.getName();if(name){return" Check the render method of `"+name+"`."}}return""}var valuePropNames=["value","defaultValue"];function checkSelectPropTypes(inst,props){var owner=inst._currentElement._owner;LinkedValueUtils.checkPropTypes("select",props,owner);for(var i=0;i<valuePropNames.length;i++){var propName=valuePropNames[i];if(props[propName]==null){continue}if(props.multiple){"production"!=="production"?warning(Array.isArray(props[propName]),"The `%s` prop supplied to <select> must be an array if "+"`multiple` is true.%s",propName,getDeclarationErrorAddendum(owner)):undefined}else{"production"!=="production"?warning(!Array.isArray(props[propName]),"The `%s` prop supplied to <select> must be a scalar "+"value if `multiple` is false.%s",propName,getDeclarationErrorAddendum(owner)):undefined}}}function updateOptions(inst,multiple,propValue){var selectedValue,i;var options=ReactMount.getNode(inst._rootNodeID).options;if(multiple){selectedValue={};for(i=0;i<propValue.length;i++){selectedValue[""+propValue[i]]=true}for(i=0;i<options.length;i++){var selected=selectedValue.hasOwnProperty(options[i].value);if(options[i].selected!==selected){options[i].selected=selected}}}else{selectedValue=""+propValue;for(i=0;i<options.length;i++){if(options[i].value===selectedValue){options[i].selected=true;return}}if(options.length){options[0].selected=true}}}var ReactDOMSelect={valueContextKey:valueContextKey,getNativeProps:function(inst,props,context){return assign({},props,{onChange:inst._wrapperState.onChange,value:undefined})},mountWrapper:function(inst,props){if("production"!=="production"){checkSelectPropTypes(inst,props)}var value=LinkedValueUtils.getValue(props);inst._wrapperState={pendingUpdate:false,initialValue:value!=null?value:props.defaultValue,onChange:_handleChange.bind(inst),wasMultiple:Boolean(props.multiple)}},processChildContext:function(inst,props,context){var childContext=assign({},context);childContext[valueContextKey]=inst._wrapperState.initialValue;return childContext},postUpdateWrapper:function(inst){var props=inst._currentElement.props;inst._wrapperState.initialValue=undefined;var wasMultiple=inst._wrapperState.wasMultiple;inst._wrapperState.wasMultiple=Boolean(props.multiple);var value=LinkedValueUtils.getValue(props);if(value!=null){inst._wrapperState.pendingUpdate=false;updateOptions(inst,Boolean(props.multiple),value)}else if(wasMultiple!==Boolean(props.multiple)){if(props.defaultValue!=null){updateOptions(inst,Boolean(props.multiple),props.defaultValue)}else{updateOptions(inst,Boolean(props.multiple),props.multiple?[]:"")}}}};function _handleChange(event){var props=this._currentElement.props;var returnValue=LinkedValueUtils.executeOnChange(props,event);this._wrapperState.pendingUpdate=true;ReactUpdates.asap(updateOptionsIfPendingUpdateAndMounted,this);return returnValue}module.exports=ReactDOMSelect},{"./LinkedValueUtils":"/Users/paulfrazee/patchwork/node_modules/react/lib/LinkedValueUtils.js","./Object.assign":"/Users/paulfrazee/patchwork/node_modules/react/lib/Object.assign.js","./ReactMount":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactMount.js","./ReactUpdates":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactUpdates.js","fbjs/lib/warning":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/warning.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDOMSelection.js":[function(require,module,exports){"use strict";var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment");var getNodeForCharacterOffset=require("./getNodeForCharacterOffset");var getTextContentAccessor=require("./getTextContentAccessor");function isCollapsed(anchorNode,anchorOffset,focusNode,focusOffset){return anchorNode===focusNode&&anchorOffset===focusOffset}function getIEOffsets(node){var selection=document.selection;var selectedRange=selection.createRange();var selectedLength=selectedRange.text.length;var fromStart=selectedRange.duplicate();fromStart.moveToElementText(node);fromStart.setEndPoint("EndToStart",selectedRange);var startOffset=fromStart.text.length;var endOffset=startOffset+selectedLength;return{start:startOffset,end:endOffset}}function getModernOffsets(node){var selection=window.getSelection&&window.getSelection();if(!selection||selection.rangeCount===0){return null}var anchorNode=selection.anchorNode;var anchorOffset=selection.anchorOffset;var focusNode=selection.focusNode;var focusOffset=selection.focusOffset;var currentRange=selection.getRangeAt(0);try{currentRange.startContainer.nodeType;currentRange.endContainer.nodeType}catch(e){return null}var isSelectionCollapsed=isCollapsed(selection.anchorNode,selection.anchorOffset,selection.focusNode,selection.focusOffset);var rangeLength=isSelectionCollapsed?0:currentRange.toString().length;var tempRange=currentRange.cloneRange();tempRange.selectNodeContents(node);tempRange.setEnd(currentRange.startContainer,currentRange.startOffset);var isTempRangeCollapsed=isCollapsed(tempRange.startContainer,tempRange.startOffset,tempRange.endContainer,tempRange.endOffset);var start=isTempRangeCollapsed?0:tempRange.toString().length;var end=start+rangeLength;var detectionRange=document.createRange();detectionRange.setStart(anchorNode,anchorOffset);detectionRange.setEnd(focusNode,focusOffset);var isBackward=detectionRange.collapsed;return{start:isBackward?end:start,end:isBackward?start:end}}function setIEOffsets(node,offsets){var range=document.selection.createRange().duplicate();var start,end;if(typeof offsets.end==="undefined"){start=offsets.start;end=start}else if(offsets.start>offsets.end){start=offsets.end;end=offsets.start}else{start=offsets.start;end=offsets.end}range.moveToElementText(node);range.moveStart("character",start);range.setEndPoint("EndToStart",range);range.moveEnd("character",end-start);range.select()}function setModernOffsets(node,offsets){if(!window.getSelection){return}var selection=window.getSelection();var length=node[getTextContentAccessor()].length;var start=Math.min(offsets.start,length);var end=typeof offsets.end==="undefined"?start:Math.min(offsets.end,length);if(!selection.extend&&start>end){var temp=end;end=start;start=temp}var startMarker=getNodeForCharacterOffset(node,start);var endMarker=getNodeForCharacterOffset(node,end);if(startMarker&&endMarker){var range=document.createRange();range.setStart(startMarker.node,startMarker.offset);selection.removeAllRanges();if(start>end){selection.addRange(range);selection.extend(endMarker.node,endMarker.offset)}else{range.setEnd(endMarker.node,endMarker.offset);selection.addRange(range)}}}var useIEOffsets=ExecutionEnvironment.canUseDOM&&"selection"in document&&!("getSelection"in window);var ReactDOMSelection={getOffsets:useIEOffsets?getIEOffsets:getModernOffsets,setOffsets:useIEOffsets?setIEOffsets:setModernOffsets};module.exports=ReactDOMSelection},{"./getNodeForCharacterOffset":"/Users/paulfrazee/patchwork/node_modules/react/lib/getNodeForCharacterOffset.js","./getTextContentAccessor":"/Users/paulfrazee/patchwork/node_modules/react/lib/getTextContentAccessor.js","fbjs/lib/ExecutionEnvironment":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/ExecutionEnvironment.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDOMServer.js":[function(require,module,exports){"use strict";var ReactDefaultInjection=require("./ReactDefaultInjection");var ReactServerRendering=require("./ReactServerRendering");var ReactVersion=require("./ReactVersion");ReactDefaultInjection.inject();var ReactDOMServer={renderToString:ReactServerRendering.renderToString,renderToStaticMarkup:ReactServerRendering.renderToStaticMarkup,version:ReactVersion};module.exports=ReactDOMServer},{"./ReactDefaultInjection":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDefaultInjection.js","./ReactServerRendering":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactServerRendering.js","./ReactVersion":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactVersion.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDOMTextComponent.js":[function(require,module,exports){"use strict";var DOMChildrenOperations=require("./DOMChildrenOperations");var DOMPropertyOperations=require("./DOMPropertyOperations");var ReactComponentBrowserEnvironment=require("./ReactComponentBrowserEnvironment");var ReactMount=require("./ReactMount");var assign=require("./Object.assign");var escapeTextContentForBrowser=require("./escapeTextContentForBrowser");var setTextContent=require("./setTextContent");var validateDOMNesting=require("./validateDOMNesting");var ReactDOMTextComponent=function(props){};assign(ReactDOMTextComponent.prototype,{construct:function(text){this._currentElement=text;this._stringText=""+text;this._rootNodeID=null;this._mountIndex=0},mountComponent:function(rootID,transaction,context){if("production"!=="production"){if(context[validateDOMNesting.ancestorInfoContextKey]){validateDOMNesting("span",null,context[validateDOMNesting.ancestorInfoContextKey])}}this._rootNodeID=rootID;if(transaction.useCreateElement){var ownerDocument=context[ReactMount.ownerDocumentContextKey];var el=ownerDocument.createElement("span");
DOMPropertyOperations.setAttributeForID(el,rootID);ReactMount.getID(el);setTextContent(el,this._stringText);return el}else{var escapedText=escapeTextContentForBrowser(this._stringText);if(transaction.renderToStaticMarkup){return escapedText}return"<span "+DOMPropertyOperations.createMarkupForID(rootID)+">"+escapedText+"</span>"}},receiveComponent:function(nextText,transaction){if(nextText!==this._currentElement){this._currentElement=nextText;var nextStringText=""+nextText;if(nextStringText!==this._stringText){this._stringText=nextStringText;var node=ReactMount.getNode(this._rootNodeID);DOMChildrenOperations.updateTextContent(node,nextStringText)}}},unmountComponent:function(){ReactComponentBrowserEnvironment.unmountIDFromEnvironment(this._rootNodeID)}});module.exports=ReactDOMTextComponent},{"./DOMChildrenOperations":"/Users/paulfrazee/patchwork/node_modules/react/lib/DOMChildrenOperations.js","./DOMPropertyOperations":"/Users/paulfrazee/patchwork/node_modules/react/lib/DOMPropertyOperations.js","./Object.assign":"/Users/paulfrazee/patchwork/node_modules/react/lib/Object.assign.js","./ReactComponentBrowserEnvironment":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactComponentBrowserEnvironment.js","./ReactMount":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactMount.js","./escapeTextContentForBrowser":"/Users/paulfrazee/patchwork/node_modules/react/lib/escapeTextContentForBrowser.js","./setTextContent":"/Users/paulfrazee/patchwork/node_modules/react/lib/setTextContent.js","./validateDOMNesting":"/Users/paulfrazee/patchwork/node_modules/react/lib/validateDOMNesting.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDOMTextarea.js":[function(require,module,exports){"use strict";var LinkedValueUtils=require("./LinkedValueUtils");var ReactDOMIDOperations=require("./ReactDOMIDOperations");var ReactUpdates=require("./ReactUpdates");var assign=require("./Object.assign");var invariant=require("fbjs/lib/invariant");var warning=require("fbjs/lib/warning");function forceUpdateIfMounted(){if(this._rootNodeID){ReactDOMTextarea.updateWrapper(this)}}var ReactDOMTextarea={getNativeProps:function(inst,props,context){!(props.dangerouslySetInnerHTML==null)?"production"!=="production"?invariant(false,"`dangerouslySetInnerHTML` does not make sense on <textarea>."):invariant(false):undefined;var nativeProps=assign({},props,{defaultValue:undefined,value:undefined,children:inst._wrapperState.initialValue,onChange:inst._wrapperState.onChange});return nativeProps},mountWrapper:function(inst,props){if("production"!=="production"){LinkedValueUtils.checkPropTypes("textarea",props,inst._currentElement._owner)}var defaultValue=props.defaultValue;var children=props.children;if(children!=null){if("production"!=="production"){"production"!=="production"?warning(false,"Use the `defaultValue` or `value` props instead of setting "+"children on <textarea>."):undefined}!(defaultValue==null)?"production"!=="production"?invariant(false,"If you supply `defaultValue` on a <textarea>, do not pass children."):invariant(false):undefined;if(Array.isArray(children)){!(children.length<=1)?"production"!=="production"?invariant(false,"<textarea> can only have at most one child."):invariant(false):undefined;children=children[0]}defaultValue=""+children}if(defaultValue==null){defaultValue=""}var value=LinkedValueUtils.getValue(props);inst._wrapperState={initialValue:""+(value!=null?value:defaultValue),onChange:_handleChange.bind(inst)}},updateWrapper:function(inst){var props=inst._currentElement.props;var value=LinkedValueUtils.getValue(props);if(value!=null){ReactDOMIDOperations.updatePropertyByID(inst._rootNodeID,"value",""+value)}}};function _handleChange(event){var props=this._currentElement.props;var returnValue=LinkedValueUtils.executeOnChange(props,event);ReactUpdates.asap(forceUpdateIfMounted,this);return returnValue}module.exports=ReactDOMTextarea},{"./LinkedValueUtils":"/Users/paulfrazee/patchwork/node_modules/react/lib/LinkedValueUtils.js","./Object.assign":"/Users/paulfrazee/patchwork/node_modules/react/lib/Object.assign.js","./ReactDOMIDOperations":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDOMIDOperations.js","./ReactUpdates":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactUpdates.js","fbjs/lib/invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js","fbjs/lib/warning":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/warning.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDefaultBatchingStrategy.js":[function(require,module,exports){"use strict";var ReactUpdates=require("./ReactUpdates");var Transaction=require("./Transaction");var assign=require("./Object.assign");var emptyFunction=require("fbjs/lib/emptyFunction");var RESET_BATCHED_UPDATES={initialize:emptyFunction,close:function(){ReactDefaultBatchingStrategy.isBatchingUpdates=false}};var FLUSH_BATCHED_UPDATES={initialize:emptyFunction,close:ReactUpdates.flushBatchedUpdates.bind(ReactUpdates)};var TRANSACTION_WRAPPERS=[FLUSH_BATCHED_UPDATES,RESET_BATCHED_UPDATES];function ReactDefaultBatchingStrategyTransaction(){this.reinitializeTransaction()}assign(ReactDefaultBatchingStrategyTransaction.prototype,Transaction.Mixin,{getTransactionWrappers:function(){return TRANSACTION_WRAPPERS}});var transaction=new ReactDefaultBatchingStrategyTransaction;var ReactDefaultBatchingStrategy={isBatchingUpdates:false,batchedUpdates:function(callback,a,b,c,d,e){var alreadyBatchingUpdates=ReactDefaultBatchingStrategy.isBatchingUpdates;ReactDefaultBatchingStrategy.isBatchingUpdates=true;if(alreadyBatchingUpdates){callback(a,b,c,d,e)}else{transaction.perform(callback,null,a,b,c,d,e)}}};module.exports=ReactDefaultBatchingStrategy},{"./Object.assign":"/Users/paulfrazee/patchwork/node_modules/react/lib/Object.assign.js","./ReactUpdates":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactUpdates.js","./Transaction":"/Users/paulfrazee/patchwork/node_modules/react/lib/Transaction.js","fbjs/lib/emptyFunction":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/emptyFunction.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDefaultInjection.js":[function(require,module,exports){"use strict";var BeforeInputEventPlugin=require("./BeforeInputEventPlugin");var ChangeEventPlugin=require("./ChangeEventPlugin");var ClientReactRootIndex=require("./ClientReactRootIndex");var DefaultEventPluginOrder=require("./DefaultEventPluginOrder");var EnterLeaveEventPlugin=require("./EnterLeaveEventPlugin");var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment");var HTMLDOMPropertyConfig=require("./HTMLDOMPropertyConfig");var ReactBrowserComponentMixin=require("./ReactBrowserComponentMixin");var ReactComponentBrowserEnvironment=require("./ReactComponentBrowserEnvironment");var ReactDefaultBatchingStrategy=require("./ReactDefaultBatchingStrategy");var ReactDOMComponent=require("./ReactDOMComponent");var ReactDOMTextComponent=require("./ReactDOMTextComponent");var ReactEventListener=require("./ReactEventListener");var ReactInjection=require("./ReactInjection");var ReactInstanceHandles=require("./ReactInstanceHandles");var ReactMount=require("./ReactMount");var ReactReconcileTransaction=require("./ReactReconcileTransaction");var SelectEventPlugin=require("./SelectEventPlugin");var ServerReactRootIndex=require("./ServerReactRootIndex");var SimpleEventPlugin=require("./SimpleEventPlugin");var SVGDOMPropertyConfig=require("./SVGDOMPropertyConfig");var alreadyInjected=false;function inject(){if(alreadyInjected){return}alreadyInjected=true;ReactInjection.EventEmitter.injectReactEventListener(ReactEventListener);ReactInjection.EventPluginHub.injectEventPluginOrder(DefaultEventPluginOrder);ReactInjection.EventPluginHub.injectInstanceHandle(ReactInstanceHandles);ReactInjection.EventPluginHub.injectMount(ReactMount);ReactInjection.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:SimpleEventPlugin,EnterLeaveEventPlugin:EnterLeaveEventPlugin,ChangeEventPlugin:ChangeEventPlugin,SelectEventPlugin:SelectEventPlugin,BeforeInputEventPlugin:BeforeInputEventPlugin});ReactInjection.NativeComponent.injectGenericComponentClass(ReactDOMComponent);ReactInjection.NativeComponent.injectTextComponentClass(ReactDOMTextComponent);ReactInjection.Class.injectMixin(ReactBrowserComponentMixin);ReactInjection.DOMProperty.injectDOMPropertyConfig(HTMLDOMPropertyConfig);ReactInjection.DOMProperty.injectDOMPropertyConfig(SVGDOMPropertyConfig);ReactInjection.EmptyComponent.injectEmptyComponent("noscript");ReactInjection.Updates.injectReconcileTransaction(ReactReconcileTransaction);ReactInjection.Updates.injectBatchingStrategy(ReactDefaultBatchingStrategy);ReactInjection.RootIndex.injectCreateReactRootIndex(ExecutionEnvironment.canUseDOM?ClientReactRootIndex.createReactRootIndex:ServerReactRootIndex.createReactRootIndex);ReactInjection.Component.injectEnvironment(ReactComponentBrowserEnvironment);if("production"!=="production"){var url=ExecutionEnvironment.canUseDOM&&window.location.href||"";if(/[?&]react_perf\b/.test(url)){var ReactDefaultPerf=require("./ReactDefaultPerf");ReactDefaultPerf.start()}}}module.exports={inject:inject}},{"./BeforeInputEventPlugin":"/Users/paulfrazee/patchwork/node_modules/react/lib/BeforeInputEventPlugin.js","./ChangeEventPlugin":"/Users/paulfrazee/patchwork/node_modules/react/lib/ChangeEventPlugin.js","./ClientReactRootIndex":"/Users/paulfrazee/patchwork/node_modules/react/lib/ClientReactRootIndex.js","./DefaultEventPluginOrder":"/Users/paulfrazee/patchwork/node_modules/react/lib/DefaultEventPluginOrder.js","./EnterLeaveEventPlugin":"/Users/paulfrazee/patchwork/node_modules/react/lib/EnterLeaveEventPlugin.js","./HTMLDOMPropertyConfig":"/Users/paulfrazee/patchwork/node_modules/react/lib/HTMLDOMPropertyConfig.js","./ReactBrowserComponentMixin":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactBrowserComponentMixin.js","./ReactComponentBrowserEnvironment":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactComponentBrowserEnvironment.js","./ReactDOMComponent":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDOMComponent.js","./ReactDOMTextComponent":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDOMTextComponent.js","./ReactDefaultBatchingStrategy":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDefaultBatchingStrategy.js","./ReactDefaultPerf":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDefaultPerf.js","./ReactEventListener":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactEventListener.js","./ReactInjection":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactInjection.js","./ReactInstanceHandles":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactInstanceHandles.js","./ReactMount":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactMount.js","./ReactReconcileTransaction":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactReconcileTransaction.js","./SVGDOMPropertyConfig":"/Users/paulfrazee/patchwork/node_modules/react/lib/SVGDOMPropertyConfig.js","./SelectEventPlugin":"/Users/paulfrazee/patchwork/node_modules/react/lib/SelectEventPlugin.js","./ServerReactRootIndex":"/Users/paulfrazee/patchwork/node_modules/react/lib/ServerReactRootIndex.js","./SimpleEventPlugin":"/Users/paulfrazee/patchwork/node_modules/react/lib/SimpleEventPlugin.js","fbjs/lib/ExecutionEnvironment":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/ExecutionEnvironment.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDefaultPerf.js":[function(require,module,exports){"use strict";var DOMProperty=require("./DOMProperty");var ReactDefaultPerfAnalysis=require("./ReactDefaultPerfAnalysis");var ReactMount=require("./ReactMount");var ReactPerf=require("./ReactPerf");var performanceNow=require("fbjs/lib/performanceNow");function roundFloat(val){return Math.floor(val*100)/100}function addValue(obj,key,val){obj[key]=(obj[key]||0)+val}var ReactDefaultPerf={_allMeasurements:[],_mountStack:[0],_injected:false,start:function(){if(!ReactDefaultPerf._injected){ReactPerf.injection.injectMeasure(ReactDefaultPerf.measure)}ReactDefaultPerf._allMeasurements.length=0;ReactPerf.enableMeasure=true},stop:function(){ReactPerf.enableMeasure=false},getLastMeasurements:function(){return ReactDefaultPerf._allMeasurements},printExclusive:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements;var summary=ReactDefaultPerfAnalysis.getExclusiveSummary(measurements);console.table(summary.map(function(item){return{"Component class name":item.componentName,"Total inclusive time (ms)":roundFloat(item.inclusive),"Exclusive mount time (ms)":roundFloat(item.exclusive),"Exclusive render time (ms)":roundFloat(item.render),"Mount time per instance (ms)":roundFloat(item.exclusive/item.count),"Render time per instance (ms)":roundFloat(item.render/item.count),Instances:item.count}}))},printInclusive:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements;var summary=ReactDefaultPerfAnalysis.getInclusiveSummary(measurements);console.table(summary.map(function(item){return{"Owner > component":item.componentName,"Inclusive time (ms)":roundFloat(item.time),Instances:item.count}}));console.log("Total time:",ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(measurements){var summary=ReactDefaultPerfAnalysis.getInclusiveSummary(measurements,true);return summary.map(function(item){return{"Owner > component":item.componentName,"Wasted time (ms)":item.time,Instances:item.count}})},printWasted:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements;console.table(ReactDefaultPerf.getMeasurementsSummaryMap(measurements));console.log("Total time:",ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2)+" ms")},printDOM:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements;var summary=ReactDefaultPerfAnalysis.getDOMSummary(measurements);console.table(summary.map(function(item){var result={};result[DOMProperty.ID_ATTRIBUTE_NAME]=item.id;result.type=item.type;result.args=JSON.stringify(item.args);return result}));console.log("Total time:",ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2)+" ms")},_recordWrite:function(id,fnName,totalTime,args){var writes=ReactDefaultPerf._allMeasurements[ReactDefaultPerf._allMeasurements.length-1].writes;writes[id]=writes[id]||[];writes[id].push({type:fnName,time:totalTime,args:args})},measure:function(moduleName,fnName,func){return function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}var totalTime;var rv;var start;if(fnName==="_renderNewRootComponent"||fnName==="flushBatchedUpdates"){ReactDefaultPerf._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0,created:{}});start=performanceNow();rv=func.apply(this,args);ReactDefaultPerf._allMeasurements[ReactDefaultPerf._allMeasurements.length-1].totalTime=performanceNow()-start;return rv}else if(fnName==="_mountImageIntoNode"||moduleName==="ReactBrowserEventEmitter"||moduleName==="ReactDOMIDOperations"||moduleName==="CSSPropertyOperations"||moduleName==="DOMChildrenOperations"||moduleName==="DOMPropertyOperations"){start=performanceNow();rv=func.apply(this,args);totalTime=performanceNow()-start;if(fnName==="_mountImageIntoNode"){var mountID=ReactMount.getID(args[1]);ReactDefaultPerf._recordWrite(mountID,fnName,totalTime,args[0])}else if(fnName==="dangerouslyProcessChildrenUpdates"){args[0].forEach(function(update){var writeArgs={};if(update.fromIndex!==null){writeArgs.fromIndex=update.fromIndex}if(update.toIndex!==null){writeArgs.toIndex=update.toIndex}if(update.textContent!==null){writeArgs.textContent=update.textContent}if(update.markupIndex!==null){writeArgs.markup=args[1][update.markupIndex]}ReactDefaultPerf._recordWrite(update.parentID,update.type,totalTime,writeArgs)})}else{var id=args[0];if(typeof id==="object"){id=ReactMount.getID(args[0])}ReactDefaultPerf._recordWrite(id,fnName,totalTime,Array.prototype.slice.call(args,1))}return rv}else if(moduleName==="ReactCompositeComponent"&&(fnName==="mountComponent"||fnName==="updateComponent"||fnName==="_renderValidatedComponent")){if(this._currentElement.type===ReactMount.TopLevelWrapper){return func.apply(this,args)}var rootNodeID=fnName==="mountComponent"?args[0]:this._rootNodeID;var isRender=fnName==="_renderValidatedComponent";var isMount=fnName==="mountComponent";var mountStack=ReactDefaultPerf._mountStack;var entry=ReactDefaultPerf._allMeasurements[ReactDefaultPerf._allMeasurements.length-1];if(isRender){addValue(entry.counts,rootNodeID,1)}else if(isMount){entry.created[rootNodeID]=true;mountStack.push(0)}start=performanceNow();rv=func.apply(this,args);totalTime=performanceNow()-start;if(isRender){addValue(entry.render,rootNodeID,totalTime)}else if(isMount){var subMountTime=mountStack.pop();mountStack[mountStack.length-1]+=totalTime;addValue(entry.exclusive,rootNodeID,totalTime-subMountTime);addValue(entry.inclusive,rootNodeID,totalTime)}else{addValue(entry.inclusive,rootNodeID,totalTime)}entry.displayNames[rootNodeID]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"};return rv}else{return func.apply(this,args)}}}};module.exports=ReactDefaultPerf},{"./DOMProperty":"/Users/paulfrazee/patchwork/node_modules/react/lib/DOMProperty.js","./ReactDefaultPerfAnalysis":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDefaultPerfAnalysis.js","./ReactMount":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactMount.js","./ReactPerf":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactPerf.js","fbjs/lib/performanceNow":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/performanceNow.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDefaultPerfAnalysis.js":[function(require,module,exports){"use strict";var assign=require("./Object.assign");var DONT_CARE_THRESHOLD=1.2;var DOM_OPERATION_TYPES={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",SET_MARKUP:"set innerHTML",TEXT_CONTENT:"set textContent",setValueForProperty:"update attribute",setValueForAttribute:"update attribute",deleteValueForProperty:"remove attribute",setValueForStyles:"update styles",replaceNodeWithMarkup:"replace",updateTextContent:"set textContent"};function getTotalTime(measurements){var totalTime=0;for(var i=0;i<measurements.length;i++){var measurement=measurements[i];totalTime+=measurement.totalTime}return totalTime}function getDOMSummary(measurements){var items=[];measurements.forEach(function(measurement){Object.keys(measurement.writes).forEach(function(id){measurement.writes[id].forEach(function(write){items.push({id:id,type:DOM_OPERATION_TYPES[write.type]||write.type,args:write.args})})})});return items}function getExclusiveSummary(measurements){var candidates={};var displayName;for(var i=0;i<measurements.length;i++){var measurement=measurements[i];var allIDs=assign({},measurement.exclusive,measurement.inclusive);for(var id in allIDs){displayName=measurement.displayNames[id].current;candidates[displayName]=candidates[displayName]||{componentName:displayName,inclusive:0,exclusive:0,render:0,count:0};if(measurement.render[id]){candidates[displayName].render+=measurement.render[id]}if(measurement.exclusive[id]){candidates[displayName].exclusive+=measurement.exclusive[id]}if(measurement.inclusive[id]){candidates[displayName].inclusive+=measurement.inclusive[id]}if(measurement.counts[id]){candidates[displayName].count+=measurement.counts[id]}}}var arr=[];for(displayName in candidates){if(candidates[displayName].exclusive>=DONT_CARE_THRESHOLD){arr.push(candidates[displayName])}}arr.sort(function(a,b){return b.exclusive-a.exclusive});return arr}function getInclusiveSummary(measurements,onlyClean){var candidates={};var inclusiveKey;for(var i=0;i<measurements.length;i++){var measurement=measurements[i];var allIDs=assign({},measurement.exclusive,measurement.inclusive);var cleanComponents;if(onlyClean){cleanComponents=getUnchangedComponents(measurement)}for(var id in allIDs){if(onlyClean&&!cleanComponents[id]){continue}var displayName=measurement.displayNames[id];inclusiveKey=displayName.owner+" > "+displayName.current;candidates[inclusiveKey]=candidates[inclusiveKey]||{componentName:inclusiveKey,time:0,count:0};if(measurement.inclusive[id]){candidates[inclusiveKey].time+=measurement.inclusive[id]}if(measurement.counts[id]){candidates[inclusiveKey].count+=measurement.counts[id]}}}var arr=[];for(inclusiveKey in candidates){if(candidates[inclusiveKey].time>=DONT_CARE_THRESHOLD){arr.push(candidates[inclusiveKey])}}arr.sort(function(a,b){return b.time-a.time});return arr}function getUnchangedComponents(measurement){var cleanComponents={};var dirtyLeafIDs=Object.keys(measurement.writes);var allIDs=assign({},measurement.exclusive,measurement.inclusive);for(var id in allIDs){var isDirty=false;for(var i=0;i<dirtyLeafIDs.length;i++){if(dirtyLeafIDs[i].indexOf(id)===0){isDirty=true;break}}if(measurement.created[id]){isDirty=true}if(!isDirty&&measurement.counts[id]>0){cleanComponents[id]=true}}return cleanComponents}var ReactDefaultPerfAnalysis={getExclusiveSummary:getExclusiveSummary,getInclusiveSummary:getInclusiveSummary,getDOMSummary:getDOMSummary,getTotalTime:getTotalTime};module.exports=ReactDefaultPerfAnalysis},{"./Object.assign":"/Users/paulfrazee/patchwork/node_modules/react/lib/Object.assign.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactElement.js":[function(require,module,exports){"use strict";var ReactCurrentOwner=require("./ReactCurrentOwner");var assign=require("./Object.assign");var canDefineProperty=require("./canDefineProperty");var REACT_ELEMENT_TYPE=typeof Symbol==="function"&&Symbol["for"]&&Symbol["for"]("react.element")||60103;var RESERVED_PROPS={key:true,ref:true,__self:true,__source:true};var ReactElement=function(type,key,ref,self,source,owner,props){var element={$$typeof:REACT_ELEMENT_TYPE,type:type,key:key,ref:ref,props:props,_owner:owner};if("production"!=="production"){element._store={};if(canDefineProperty){Object.defineProperty(element._store,"validated",{configurable:false,enumerable:false,writable:true,value:false});Object.defineProperty(element,"_self",{configurable:false,enumerable:false,writable:false,value:self});Object.defineProperty(element,"_source",{configurable:false,enumerable:false,writable:false,value:source})}else{element._store.validated=false;element._self=self;element._source=source}Object.freeze(element.props);Object.freeze(element)}return element};ReactElement.createElement=function(type,config,children){var propName;var props={};var key=null;var ref=null;var self=null;var source=null;if(config!=null){ref=config.ref===undefined?null:config.ref;key=config.key===undefined?null:""+config.key;self=config.__self===undefined?null:config.__self;source=config.__source===undefined?null:config.__source;for(propName in config){if(config.hasOwnProperty(propName)&&!RESERVED_PROPS.hasOwnProperty(propName)){props[propName]=config[propName]}}}var childrenLength=arguments.length-2;if(childrenLength===1){props.children=children}else if(childrenLength>1){var childArray=Array(childrenLength);for(var i=0;i<childrenLength;i++){childArray[i]=arguments[i+2]}props.children=childArray}if(type&&type.defaultProps){var defaultProps=type.defaultProps;for(propName in defaultProps){if(typeof props[propName]==="undefined"){props[propName]=defaultProps[propName]}}}return ReactElement(type,key,ref,self,source,ReactCurrentOwner.current,props)};ReactElement.createFactory=function(type){var factory=ReactElement.createElement.bind(null,type);factory.type=type;return factory};ReactElement.cloneAndReplaceKey=function(oldElement,newKey){var newElement=ReactElement(oldElement.type,newKey,oldElement.ref,oldElement._self,oldElement._source,oldElement._owner,oldElement.props);return newElement};ReactElement.cloneAndReplaceProps=function(oldElement,newProps){var newElement=ReactElement(oldElement.type,oldElement.key,oldElement.ref,oldElement._self,oldElement._source,oldElement._owner,newProps);if("production"!=="production"){newElement._store.validated=oldElement._store.validated}return newElement};ReactElement.cloneElement=function(element,config,children){var propName;var props=assign({},element.props);var key=element.key;var ref=element.ref;var self=element._self;var source=element._source;var owner=element._owner;if(config!=null){if(config.ref!==undefined){ref=config.ref;owner=ReactCurrentOwner.current}if(config.key!==undefined){key=""+config.key}for(propName in config){if(config.hasOwnProperty(propName)&&!RESERVED_PROPS.hasOwnProperty(propName)){props[propName]=config[propName]}}}var childrenLength=arguments.length-2;if(childrenLength===1){props.children=children}else if(childrenLength>1){var childArray=Array(childrenLength);for(var i=0;i<childrenLength;i++){childArray[i]=arguments[i+2]}props.children=childArray}return ReactElement(element.type,key,ref,self,source,owner,props)};ReactElement.isValidElement=function(object){return typeof object==="object"&&object!==null&&object.$$typeof===REACT_ELEMENT_TYPE};module.exports=ReactElement},{"./Object.assign":"/Users/paulfrazee/patchwork/node_modules/react/lib/Object.assign.js","./ReactCurrentOwner":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactCurrentOwner.js","./canDefineProperty":"/Users/paulfrazee/patchwork/node_modules/react/lib/canDefineProperty.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactElementValidator.js":[function(require,module,exports){"use strict";var ReactElement=require("./ReactElement");var ReactPropTypeLocations=require("./ReactPropTypeLocations");var ReactPropTypeLocationNames=require("./ReactPropTypeLocationNames");var ReactCurrentOwner=require("./ReactCurrentOwner");var canDefineProperty=require("./canDefineProperty");var getIteratorFn=require("./getIteratorFn");var invariant=require("fbjs/lib/invariant");var warning=require("fbjs/lib/warning");function getDeclarationErrorAddendum(){if(ReactCurrentOwner.current){var name=ReactCurrentOwner.current.getName();if(name){return" Check the render method of `"+name+"`."}}return""}var ownerHasKeyUseWarning={};var loggedTypeFailures={};function validateExplicitKey(element,parentType){if(!element._store||element._store.validated||element.key!=null){return}element._store.validated=true;var addenda=getAddendaForKeyUse("uniqueKey",element,parentType);if(addenda===null){return}"production"!=="production"?warning(false,'Each child in an array or iterator should have a unique "key" prop.'+"%s%s%s",addenda.parentOrOwner||"",addenda.childOwner||"",addenda.url||""):undefined}function getAddendaForKeyUse(messageType,element,parentType){var addendum=getDeclarationErrorAddendum();if(!addendum){var parentName=typeof parentType==="string"?parentType:parentType.displayName||parentType.name;if(parentName){addendum=" Check the top-level render call using <"+parentName+">."}}var memoizer=ownerHasKeyUseWarning[messageType]||(ownerHasKeyUseWarning[messageType]={});if(memoizer[addendum]){return null}memoizer[addendum]=true;var addenda={parentOrOwner:addendum,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};if(element&&element._owner&&element._owner!==ReactCurrentOwner.current){addenda.childOwner=" It was passed a child from "+element._owner.getName()+"."}return addenda}function validateChildKeys(node,parentType){if(typeof node!=="object"){return}if(Array.isArray(node)){for(var i=0;i<node.length;i++){var child=node[i];if(ReactElement.isValidElement(child)){validateExplicitKey(child,parentType)}}}else if(ReactElement.isValidElement(node)){if(node._store){node._store.validated=true}}else if(node){var iteratorFn=getIteratorFn(node);if(iteratorFn){if(iteratorFn!==node.entries){var iterator=iteratorFn.call(node);var step;while(!(step=iterator.next()).done){if(ReactElement.isValidElement(step.value)){validateExplicitKey(step.value,parentType)}}}}}}function checkPropTypes(componentName,propTypes,props,location){for(var propName in propTypes){if(propTypes.hasOwnProperty(propName)){var error;try{!(typeof propTypes[propName]==="function")?"production"!=="production"?invariant(false,"%s: %s type `%s` is invalid; it must be a function, usually from "+"React.PropTypes.",componentName||"React class",ReactPropTypeLocationNames[location],propName):invariant(false):undefined;error=propTypes[propName](props,propName,componentName,location)}catch(ex){error=ex}"production"!=="production"?warning(!error||error instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker "+"function must return `null` or an `Error` but returned a %s. "+"You may have forgotten to pass an argument to the type checker "+"creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and "+"shape all require an argument).",componentName||"React class",ReactPropTypeLocationNames[location],propName,typeof error):undefined;if(error instanceof Error&&!(error.message in loggedTypeFailures)){loggedTypeFailures[error.message]=true;var addendum=getDeclarationErrorAddendum();"production"!=="production"?warning(false,"Failed propType: %s%s",error.message,addendum):undefined}}}}function validatePropTypes(element){var componentClass=element.type;if(typeof componentClass!=="function"){return}var name=componentClass.displayName||componentClass.name;if(componentClass.propTypes){checkPropTypes(name,componentClass.propTypes,element.props,ReactPropTypeLocations.prop)}if(typeof componentClass.getDefaultProps==="function"){"production"!=="production"?warning(componentClass.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass "+"definitions. Use a static property named `defaultProps` instead."):undefined}}var ReactElementValidator={createElement:function(type,props,children){var validType=typeof type==="string"||typeof type==="function";"production"!=="production"?warning(validType,"React.createElement: type should not be null, undefined, boolean, or "+"number. It should be a string (for DOM elements) or a ReactClass "+"(for composite components).%s",getDeclarationErrorAddendum()):undefined;var element=ReactElement.createElement.apply(this,arguments);if(element==null){return element}if(validType){for(var i=2;i<arguments.length;i++){validateChildKeys(arguments[i],type)}}validatePropTypes(element);return element},createFactory:function(type){var validatedFactory=ReactElementValidator.createElement.bind(null,type);validatedFactory.type=type;if("production"!=="production"){if(canDefineProperty){Object.defineProperty(validatedFactory,"type",{enumerable:false,get:function(){"production"!=="production"?warning(false,"Factory.type is deprecated. Access the class directly "+"before passing it to createFactory."):undefined;Object.defineProperty(this,"type",{value:type});return type}})}}return validatedFactory},cloneElement:function(element,props,children){var newElement=ReactElement.cloneElement.apply(this,arguments);for(var i=2;i<arguments.length;i++){validateChildKeys(arguments[i],newElement.type)}validatePropTypes(newElement);return newElement}};module.exports=ReactElementValidator},{"./ReactCurrentOwner":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactCurrentOwner.js","./ReactElement":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactElement.js","./ReactPropTypeLocationNames":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactPropTypeLocationNames.js","./ReactPropTypeLocations":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactPropTypeLocations.js","./canDefineProperty":"/Users/paulfrazee/patchwork/node_modules/react/lib/canDefineProperty.js","./getIteratorFn":"/Users/paulfrazee/patchwork/node_modules/react/lib/getIteratorFn.js","fbjs/lib/invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js","fbjs/lib/warning":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/warning.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactEmptyComponent.js":[function(require,module,exports){
"use strict";var ReactElement=require("./ReactElement");var ReactEmptyComponentRegistry=require("./ReactEmptyComponentRegistry");var ReactReconciler=require("./ReactReconciler");var assign=require("./Object.assign");var placeholderElement;var ReactEmptyComponentInjection={injectEmptyComponent:function(component){placeholderElement=ReactElement.createElement(component)}};var ReactEmptyComponent=function(instantiate){this._currentElement=null;this._rootNodeID=null;this._renderedComponent=instantiate(placeholderElement)};assign(ReactEmptyComponent.prototype,{construct:function(element){},mountComponent:function(rootID,transaction,context){ReactEmptyComponentRegistry.registerNullComponentID(rootID);this._rootNodeID=rootID;return ReactReconciler.mountComponent(this._renderedComponent,rootID,transaction,context)},receiveComponent:function(){},unmountComponent:function(rootID,transaction,context){ReactReconciler.unmountComponent(this._renderedComponent);ReactEmptyComponentRegistry.deregisterNullComponentID(this._rootNodeID);this._rootNodeID=null;this._renderedComponent=null}});ReactEmptyComponent.injection=ReactEmptyComponentInjection;module.exports=ReactEmptyComponent},{"./Object.assign":"/Users/paulfrazee/patchwork/node_modules/react/lib/Object.assign.js","./ReactElement":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactElement.js","./ReactEmptyComponentRegistry":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactEmptyComponentRegistry.js","./ReactReconciler":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactReconciler.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactEmptyComponentRegistry.js":[function(require,module,exports){"use strict";var nullComponentIDsRegistry={};function isNullComponentID(id){return!!nullComponentIDsRegistry[id]}function registerNullComponentID(id){nullComponentIDsRegistry[id]=true}function deregisterNullComponentID(id){delete nullComponentIDsRegistry[id]}var ReactEmptyComponentRegistry={isNullComponentID:isNullComponentID,registerNullComponentID:registerNullComponentID,deregisterNullComponentID:deregisterNullComponentID};module.exports=ReactEmptyComponentRegistry},{}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactErrorUtils.js":[function(require,module,exports){"use strict";var caughtError=null;function invokeGuardedCallback(name,func,a,b){try{return func(a,b)}catch(x){if(caughtError===null){caughtError=x}return undefined}}var ReactErrorUtils={invokeGuardedCallback:invokeGuardedCallback,invokeGuardedCallbackWithCatch:invokeGuardedCallback,rethrowCaughtError:function(){if(caughtError){var error=caughtError;caughtError=null;throw error}}};if("production"!=="production"){if(typeof window!=="undefined"&&typeof window.dispatchEvent==="function"&&typeof document!=="undefined"&&typeof document.createEvent==="function"){var fakeNode=document.createElement("react");ReactErrorUtils.invokeGuardedCallback=function(name,func,a,b){var boundFunc=func.bind(null,a,b);var evtType="react-"+name;fakeNode.addEventListener(evtType,boundFunc,false);var evt=document.createEvent("Event");evt.initEvent(evtType,false,false);fakeNode.dispatchEvent(evt);fakeNode.removeEventListener(evtType,boundFunc,false)}}}module.exports=ReactErrorUtils},{}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactEventEmitterMixin.js":[function(require,module,exports){"use strict";var EventPluginHub=require("./EventPluginHub");function runEventQueueInBatch(events){EventPluginHub.enqueueEvents(events);EventPluginHub.processEventQueue(false)}var ReactEventEmitterMixin={handleTopLevel:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){var events=EventPluginHub.extractEvents(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget);runEventQueueInBatch(events)}};module.exports=ReactEventEmitterMixin},{"./EventPluginHub":"/Users/paulfrazee/patchwork/node_modules/react/lib/EventPluginHub.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactEventListener.js":[function(require,module,exports){"use strict";var EventListener=require("fbjs/lib/EventListener");var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment");var PooledClass=require("./PooledClass");var ReactInstanceHandles=require("./ReactInstanceHandles");var ReactMount=require("./ReactMount");var ReactUpdates=require("./ReactUpdates");var assign=require("./Object.assign");var getEventTarget=require("./getEventTarget");var getUnboundedScrollPosition=require("fbjs/lib/getUnboundedScrollPosition");var DOCUMENT_FRAGMENT_NODE_TYPE=11;function findParent(node){var nodeID=ReactMount.getID(node);var rootID=ReactInstanceHandles.getReactRootIDFromNodeID(nodeID);var container=ReactMount.findReactContainerForID(rootID);var parent=ReactMount.getFirstReactDOM(container);return parent}function TopLevelCallbackBookKeeping(topLevelType,nativeEvent){this.topLevelType=topLevelType;this.nativeEvent=nativeEvent;this.ancestors=[]}assign(TopLevelCallbackBookKeeping.prototype,{destructor:function(){this.topLevelType=null;this.nativeEvent=null;this.ancestors.length=0}});PooledClass.addPoolingTo(TopLevelCallbackBookKeeping,PooledClass.twoArgumentPooler);function handleTopLevelImpl(bookKeeping){void handleTopLevelWithPath;handleTopLevelWithoutPath(bookKeeping)}function handleTopLevelWithoutPath(bookKeeping){var topLevelTarget=ReactMount.getFirstReactDOM(getEventTarget(bookKeeping.nativeEvent))||window;var ancestor=topLevelTarget;while(ancestor){bookKeeping.ancestors.push(ancestor);ancestor=findParent(ancestor)}for(var i=0;i<bookKeeping.ancestors.length;i++){topLevelTarget=bookKeeping.ancestors[i];var topLevelTargetID=ReactMount.getID(topLevelTarget)||"";ReactEventListener._handleTopLevel(bookKeeping.topLevelType,topLevelTarget,topLevelTargetID,bookKeeping.nativeEvent,getEventTarget(bookKeeping.nativeEvent))}}function handleTopLevelWithPath(bookKeeping){var path=bookKeeping.nativeEvent.path;var currentNativeTarget=path[0];var eventsFired=0;for(var i=0;i<path.length;i++){var currentPathElement=path[i];if(currentPathElement.nodeType===DOCUMENT_FRAGMENT_NODE_TYPE){currentNativeTarget=path[i+1]}var reactParent=ReactMount.getFirstReactDOM(currentPathElement);if(reactParent===currentPathElement){var currentPathElementID=ReactMount.getID(currentPathElement);var newRootID=ReactInstanceHandles.getReactRootIDFromNodeID(currentPathElementID);bookKeeping.ancestors.push(currentPathElement);var topLevelTargetID=ReactMount.getID(currentPathElement)||"";eventsFired++;ReactEventListener._handleTopLevel(bookKeeping.topLevelType,currentPathElement,topLevelTargetID,bookKeeping.nativeEvent,currentNativeTarget);while(currentPathElementID!==newRootID){i++;currentPathElement=path[i];currentPathElementID=ReactMount.getID(currentPathElement)}}}if(eventsFired===0){ReactEventListener._handleTopLevel(bookKeeping.topLevelType,window,"",bookKeeping.nativeEvent,getEventTarget(bookKeeping.nativeEvent))}}function scrollValueMonitor(cb){var scrollPosition=getUnboundedScrollPosition(window);cb(scrollPosition)}var ReactEventListener={_enabled:true,_handleTopLevel:null,WINDOW_HANDLE:ExecutionEnvironment.canUseDOM?window:null,setHandleTopLevel:function(handleTopLevel){ReactEventListener._handleTopLevel=handleTopLevel},setEnabled:function(enabled){ReactEventListener._enabled=!!enabled},isEnabled:function(){return ReactEventListener._enabled},trapBubbledEvent:function(topLevelType,handlerBaseName,handle){var element=handle;if(!element){return null}return EventListener.listen(element,handlerBaseName,ReactEventListener.dispatchEvent.bind(null,topLevelType))},trapCapturedEvent:function(topLevelType,handlerBaseName,handle){var element=handle;if(!element){return null}return EventListener.capture(element,handlerBaseName,ReactEventListener.dispatchEvent.bind(null,topLevelType))},monitorScrollValue:function(refresh){var callback=scrollValueMonitor.bind(null,refresh);EventListener.listen(window,"scroll",callback)},dispatchEvent:function(topLevelType,nativeEvent){if(!ReactEventListener._enabled){return}var bookKeeping=TopLevelCallbackBookKeeping.getPooled(topLevelType,nativeEvent);try{ReactUpdates.batchedUpdates(handleTopLevelImpl,bookKeeping)}finally{TopLevelCallbackBookKeeping.release(bookKeeping)}}};module.exports=ReactEventListener},{"./Object.assign":"/Users/paulfrazee/patchwork/node_modules/react/lib/Object.assign.js","./PooledClass":"/Users/paulfrazee/patchwork/node_modules/react/lib/PooledClass.js","./ReactInstanceHandles":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactInstanceHandles.js","./ReactMount":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactMount.js","./ReactUpdates":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactUpdates.js","./getEventTarget":"/Users/paulfrazee/patchwork/node_modules/react/lib/getEventTarget.js","fbjs/lib/EventListener":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/EventListener.js","fbjs/lib/ExecutionEnvironment":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/ExecutionEnvironment.js","fbjs/lib/getUnboundedScrollPosition":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/getUnboundedScrollPosition.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactInjection.js":[function(require,module,exports){"use strict";var DOMProperty=require("./DOMProperty");var EventPluginHub=require("./EventPluginHub");var ReactComponentEnvironment=require("./ReactComponentEnvironment");var ReactClass=require("./ReactClass");var ReactEmptyComponent=require("./ReactEmptyComponent");var ReactBrowserEventEmitter=require("./ReactBrowserEventEmitter");var ReactNativeComponent=require("./ReactNativeComponent");var ReactPerf=require("./ReactPerf");var ReactRootIndex=require("./ReactRootIndex");var ReactUpdates=require("./ReactUpdates");var ReactInjection={Component:ReactComponentEnvironment.injection,Class:ReactClass.injection,DOMProperty:DOMProperty.injection,EmptyComponent:ReactEmptyComponent.injection,EventPluginHub:EventPluginHub.injection,EventEmitter:ReactBrowserEventEmitter.injection,NativeComponent:ReactNativeComponent.injection,Perf:ReactPerf.injection,RootIndex:ReactRootIndex.injection,Updates:ReactUpdates.injection};module.exports=ReactInjection},{"./DOMProperty":"/Users/paulfrazee/patchwork/node_modules/react/lib/DOMProperty.js","./EventPluginHub":"/Users/paulfrazee/patchwork/node_modules/react/lib/EventPluginHub.js","./ReactBrowserEventEmitter":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactBrowserEventEmitter.js","./ReactClass":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactClass.js","./ReactComponentEnvironment":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactComponentEnvironment.js","./ReactEmptyComponent":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactEmptyComponent.js","./ReactNativeComponent":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactNativeComponent.js","./ReactPerf":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactPerf.js","./ReactRootIndex":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactRootIndex.js","./ReactUpdates":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactUpdates.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactInputSelection.js":[function(require,module,exports){"use strict";var ReactDOMSelection=require("./ReactDOMSelection");var containsNode=require("fbjs/lib/containsNode");var focusNode=require("fbjs/lib/focusNode");var getActiveElement=require("fbjs/lib/getActiveElement");function isInDocument(node){return containsNode(document.documentElement,node)}var ReactInputSelection={hasSelectionCapabilities:function(elem){var nodeName=elem&&elem.nodeName&&elem.nodeName.toLowerCase();return nodeName&&(nodeName==="input"&&elem.type==="text"||nodeName==="textarea"||elem.contentEditable==="true")},getSelectionInformation:function(){var focusedElem=getActiveElement();return{focusedElem:focusedElem,selectionRange:ReactInputSelection.hasSelectionCapabilities(focusedElem)?ReactInputSelection.getSelection(focusedElem):null}},restoreSelection:function(priorSelectionInformation){var curFocusedElem=getActiveElement();var priorFocusedElem=priorSelectionInformation.focusedElem;var priorSelectionRange=priorSelectionInformation.selectionRange;if(curFocusedElem!==priorFocusedElem&&isInDocument(priorFocusedElem)){if(ReactInputSelection.hasSelectionCapabilities(priorFocusedElem)){ReactInputSelection.setSelection(priorFocusedElem,priorSelectionRange)}focusNode(priorFocusedElem)}},getSelection:function(input){var selection;if("selectionStart"in input){selection={start:input.selectionStart,end:input.selectionEnd}}else if(document.selection&&(input.nodeName&&input.nodeName.toLowerCase()==="input")){var range=document.selection.createRange();if(range.parentElement()===input){selection={start:-range.moveStart("character",-input.value.length),end:-range.moveEnd("character",-input.value.length)}}}else{selection=ReactDOMSelection.getOffsets(input)}return selection||{start:0,end:0}},setSelection:function(input,offsets){var start=offsets.start;var end=offsets.end;if(typeof end==="undefined"){end=start}if("selectionStart"in input){input.selectionStart=start;input.selectionEnd=Math.min(end,input.value.length)}else if(document.selection&&(input.nodeName&&input.nodeName.toLowerCase()==="input")){var range=input.createTextRange();range.collapse(true);range.moveStart("character",start);range.moveEnd("character",end-start);range.select()}else{ReactDOMSelection.setOffsets(input,offsets)}}};module.exports=ReactInputSelection},{"./ReactDOMSelection":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDOMSelection.js","fbjs/lib/containsNode":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/containsNode.js","fbjs/lib/focusNode":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/focusNode.js","fbjs/lib/getActiveElement":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/getActiveElement.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactInstanceHandles.js":[function(require,module,exports){"use strict";var ReactRootIndex=require("./ReactRootIndex");var invariant=require("fbjs/lib/invariant");var SEPARATOR=".";var SEPARATOR_LENGTH=SEPARATOR.length;var MAX_TREE_DEPTH=1e4;function getReactRootIDString(index){return SEPARATOR+index.toString(36)}function isBoundary(id,index){return id.charAt(index)===SEPARATOR||index===id.length}function isValidID(id){return id===""||id.charAt(0)===SEPARATOR&&id.charAt(id.length-1)!==SEPARATOR}function isAncestorIDOf(ancestorID,descendantID){return descendantID.indexOf(ancestorID)===0&&isBoundary(descendantID,ancestorID.length)}function getParentID(id){return id?id.substr(0,id.lastIndexOf(SEPARATOR)):""}function getNextDescendantID(ancestorID,destinationID){!(isValidID(ancestorID)&&isValidID(destinationID))?"production"!=="production"?invariant(false,"getNextDescendantID(%s, %s): Received an invalid React DOM ID.",ancestorID,destinationID):invariant(false):undefined;!isAncestorIDOf(ancestorID,destinationID)?"production"!=="production"?invariant(false,"getNextDescendantID(...): React has made an invalid assumption about "+"the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.",ancestorID,destinationID):invariant(false):undefined;if(ancestorID===destinationID){return ancestorID}var start=ancestorID.length+SEPARATOR_LENGTH;var i;for(i=start;i<destinationID.length;i++){if(isBoundary(destinationID,i)){break}}return destinationID.substr(0,i)}function getFirstCommonAncestorID(oneID,twoID){var minLength=Math.min(oneID.length,twoID.length);if(minLength===0){return""}var lastCommonMarkerIndex=0;for(var i=0;i<=minLength;i++){if(isBoundary(oneID,i)&&isBoundary(twoID,i)){lastCommonMarkerIndex=i}else if(oneID.charAt(i)!==twoID.charAt(i)){break}}var longestCommonID=oneID.substr(0,lastCommonMarkerIndex);!isValidID(longestCommonID)?"production"!=="production"?invariant(false,"getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s",oneID,twoID,longestCommonID):invariant(false):undefined;return longestCommonID}function traverseParentPath(start,stop,cb,arg,skipFirst,skipLast){start=start||"";stop=stop||"";!(start!==stop)?"production"!=="production"?invariant(false,"traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.",start):invariant(false):undefined;var traverseUp=isAncestorIDOf(stop,start);!(traverseUp||isAncestorIDOf(start,stop))?"production"!=="production"?invariant(false,"traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do "+"not have a parent path.",start,stop):invariant(false):undefined;var depth=0;var traverse=traverseUp?getParentID:getNextDescendantID;for(var id=start;;id=traverse(id,stop)){var ret;if((!skipFirst||id!==start)&&(!skipLast||id!==stop)){ret=cb(id,traverseUp,arg)}if(ret===false||id===stop){break}!(depth++<MAX_TREE_DEPTH)?"production"!=="production"?invariant(false,"traverseParentPath(%s, %s, ...): Detected an infinite loop while "+"traversing the React DOM ID tree. This may be due to malformed IDs: %s",start,stop,id):invariant(false):undefined}}var ReactInstanceHandles={createReactRootID:function(){return getReactRootIDString(ReactRootIndex.createReactRootIndex())},createReactID:function(rootID,name){return rootID+name},getReactRootIDFromNodeID:function(id){if(id&&id.charAt(0)===SEPARATOR&&id.length>1){var index=id.indexOf(SEPARATOR,1);return index>-1?id.substr(0,index):id}return null},traverseEnterLeave:function(leaveID,enterID,cb,upArg,downArg){var ancestorID=getFirstCommonAncestorID(leaveID,enterID);if(ancestorID!==leaveID){traverseParentPath(leaveID,ancestorID,cb,upArg,false,true)}if(ancestorID!==enterID){traverseParentPath(ancestorID,enterID,cb,downArg,true,false)}},traverseTwoPhase:function(targetID,cb,arg){if(targetID){traverseParentPath("",targetID,cb,arg,true,false);traverseParentPath(targetID,"",cb,arg,false,true)}},traverseTwoPhaseSkipTarget:function(targetID,cb,arg){if(targetID){traverseParentPath("",targetID,cb,arg,true,true);traverseParentPath(targetID,"",cb,arg,true,true)}},traverseAncestors:function(targetID,cb,arg){traverseParentPath("",targetID,cb,arg,true,false)},getFirstCommonAncestorID:getFirstCommonAncestorID,_getNextDescendantID:getNextDescendantID,isAncestorIDOf:isAncestorIDOf,SEPARATOR:SEPARATOR};module.exports=ReactInstanceHandles},{"./ReactRootIndex":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactRootIndex.js","fbjs/lib/invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactInstanceMap.js":[function(require,module,exports){"use strict";var ReactInstanceMap={remove:function(key){key._reactInternalInstance=undefined},get:function(key){return key._reactInternalInstance},has:function(key){return key._reactInternalInstance!==undefined},set:function(key,value){key._reactInternalInstance=value}};module.exports=ReactInstanceMap},{}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactIsomorphic.js":[function(require,module,exports){"use strict";var ReactChildren=require("./ReactChildren");var ReactComponent=require("./ReactComponent");var ReactClass=require("./ReactClass");var ReactDOMFactories=require("./ReactDOMFactories");var ReactElement=require("./ReactElement");var ReactElementValidator=require("./ReactElementValidator");var ReactPropTypes=require("./ReactPropTypes");var ReactVersion=require("./ReactVersion");var assign=require("./Object.assign");var onlyChild=require("./onlyChild");var createElement=ReactElement.createElement;var createFactory=ReactElement.createFactory;var cloneElement=ReactElement.cloneElement;if("production"!=="production"){createElement=ReactElementValidator.createElement;createFactory=ReactElementValidator.createFactory;cloneElement=ReactElementValidator.cloneElement}var React={Children:{map:ReactChildren.map,forEach:ReactChildren.forEach,count:ReactChildren.count,toArray:ReactChildren.toArray,only:onlyChild},Component:ReactComponent,createElement:createElement,cloneElement:cloneElement,isValidElement:ReactElement.isValidElement,PropTypes:ReactPropTypes,createClass:ReactClass.createClass,createFactory:createFactory,createMixin:function(mixin){return mixin},DOM:ReactDOMFactories,version:ReactVersion,__spread:assign};module.exports=React},{"./Object.assign":"/Users/paulfrazee/patchwork/node_modules/react/lib/Object.assign.js","./ReactChildren":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactChildren.js","./ReactClass":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactClass.js","./ReactComponent":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactComponent.js","./ReactDOMFactories":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDOMFactories.js","./ReactElement":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactElement.js","./ReactElementValidator":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactElementValidator.js","./ReactPropTypes":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactPropTypes.js","./ReactVersion":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactVersion.js","./onlyChild":"/Users/paulfrazee/patchwork/node_modules/react/lib/onlyChild.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactMarkupChecksum.js":[function(require,module,exports){"use strict";var adler32=require("./adler32");var TAG_END=/\/?>/;var ReactMarkupChecksum={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(markup){var checksum=adler32(markup);return markup.replace(TAG_END," "+ReactMarkupChecksum.CHECKSUM_ATTR_NAME+'="'+checksum+'"$&')},canReuseMarkup:function(markup,element){var existingChecksum=element.getAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);existingChecksum=existingChecksum&&parseInt(existingChecksum,10);var markupChecksum=adler32(markup);return markupChecksum===existingChecksum}};module.exports=ReactMarkupChecksum},{"./adler32":"/Users/paulfrazee/patchwork/node_modules/react/lib/adler32.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactMount.js":[function(require,module,exports){"use strict";var DOMProperty=require("./DOMProperty");var ReactBrowserEventEmitter=require("./ReactBrowserEventEmitter");var ReactCurrentOwner=require("./ReactCurrentOwner");var ReactDOMFeatureFlags=require("./ReactDOMFeatureFlags");var ReactElement=require("./ReactElement");var ReactEmptyComponentRegistry=require("./ReactEmptyComponentRegistry");var ReactInstanceHandles=require("./ReactInstanceHandles");var ReactInstanceMap=require("./ReactInstanceMap");var ReactMarkupChecksum=require("./ReactMarkupChecksum");var ReactPerf=require("./ReactPerf");var ReactReconciler=require("./ReactReconciler");var ReactUpdateQueue=require("./ReactUpdateQueue");var ReactUpdates=require("./ReactUpdates");var assign=require("./Object.assign");var emptyObject=require("fbjs/lib/emptyObject");var containsNode=require("fbjs/lib/containsNode");var instantiateReactComponent=require("./instantiateReactComponent");var invariant=require("fbjs/lib/invariant");var setInnerHTML=require("./setInnerHTML");var shouldUpdateReactComponent=require("./shouldUpdateReactComponent");var validateDOMNesting=require("./validateDOMNesting");var warning=require("fbjs/lib/warning");var ATTR_NAME=DOMProperty.ID_ATTRIBUTE_NAME;var nodeCache={};var ELEMENT_NODE_TYPE=1;var DOC_NODE_TYPE=9;var DOCUMENT_FRAGMENT_NODE_TYPE=11;var ownerDocumentContextKey="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2);var instancesByReactRootID={};var containersByReactRootID={};if("production"!=="production"){var rootElementsByReactRootID={}}var findComponentRootReusableArray=[];function firstDifferenceIndex(string1,string2){var minLen=Math.min(string1.length,string2.length);for(var i=0;i<minLen;i++){if(string1.charAt(i)!==string2.charAt(i)){return i}}return string1.length===string2.length?-1:minLen}function getReactRootElementInContainer(container){if(!container){return null}if(container.nodeType===DOC_NODE_TYPE){return container.documentElement}else{return container.firstChild}}function getReactRootID(container){var rootElement=getReactRootElementInContainer(container);return rootElement&&ReactMount.getID(rootElement)}function getID(node){var id=internalGetID(node);if(id){if(nodeCache.hasOwnProperty(id)){var cached=nodeCache[id];if(cached!==node){!!isValid(cached,id)?"production"!=="production"?invariant(false,"ReactMount: Two valid but unequal nodes with the same `%s`: %s",ATTR_NAME,id):invariant(false):undefined;nodeCache[id]=node}}else{nodeCache[id]=node}}return id}function internalGetID(node){return node&&node.getAttribute&&node.getAttribute(ATTR_NAME)||""}function setID(node,id){var oldID=internalGetID(node);if(oldID!==id){delete nodeCache[oldID]}node.setAttribute(ATTR_NAME,id);nodeCache[id]=node}function getNode(id){if(!nodeCache.hasOwnProperty(id)||!isValid(nodeCache[id],id)){nodeCache[id]=ReactMount.findReactNodeByID(id)}return nodeCache[id]}function getNodeFromInstance(instance){var id=ReactInstanceMap.get(instance)._rootNodeID;if(ReactEmptyComponentRegistry.isNullComponentID(id)){return null}if(!nodeCache.hasOwnProperty(id)||!isValid(nodeCache[id],id)){nodeCache[id]=ReactMount.findReactNodeByID(id)}return nodeCache[id]}function isValid(node,id){if(node){!(internalGetID(node)===id)?"production"!=="production"?invariant(false,"ReactMount: Unexpected modification of `%s`",ATTR_NAME):invariant(false):undefined;var container=ReactMount.findReactContainerForID(id);if(container&&containsNode(container,node)){return true}}return false}function purgeID(id){delete nodeCache[id]}var deepestNodeSoFar=null;function findDeepestCachedAncestorImpl(ancestorID){var ancestor=nodeCache[ancestorID];if(ancestor&&isValid(ancestor,ancestorID)){deepestNodeSoFar=ancestor}else{return false}}function findDeepestCachedAncestor(targetID){deepestNodeSoFar=null;ReactInstanceHandles.traverseAncestors(targetID,findDeepestCachedAncestorImpl);var foundNode=deepestNodeSoFar;deepestNodeSoFar=null;return foundNode}function mountComponentIntoNode(componentInstance,rootID,container,transaction,shouldReuseMarkup,context){if(ReactDOMFeatureFlags.useCreateElement){context=assign({},context);if(container.nodeType===DOC_NODE_TYPE){context[ownerDocumentContextKey]=container}else{context[ownerDocumentContextKey]=container.ownerDocument}}if("production"!=="production"){if(context===emptyObject){context={}}var tag=container.nodeName.toLowerCase();context[validateDOMNesting.ancestorInfoContextKey]=validateDOMNesting.updatedAncestorInfo(null,tag,null)}var markup=ReactReconciler.mountComponent(componentInstance,rootID,transaction,context);componentInstance._renderedComponent._topLevelWrapper=componentInstance;ReactMount._mountImageIntoNode(markup,container,shouldReuseMarkup,transaction)}function batchedMountComponentIntoNode(componentInstance,rootID,container,shouldReuseMarkup,context){var transaction=ReactUpdates.ReactReconcileTransaction.getPooled(shouldReuseMarkup);transaction.perform(mountComponentIntoNode,null,componentInstance,rootID,container,transaction,shouldReuseMarkup,context);ReactUpdates.ReactReconcileTransaction.release(transaction)}function unmountComponentFromNode(instance,container){ReactReconciler.unmountComponent(instance);if(container.nodeType===DOC_NODE_TYPE){container=container.documentElement}while(container.lastChild){container.removeChild(container.lastChild)}}function hasNonRootReactChild(node){var reactRootID=getReactRootID(node);return reactRootID?reactRootID!==ReactInstanceHandles.getReactRootIDFromNodeID(reactRootID):false}function findFirstReactDOMImpl(node){for(;node&&node.parentNode!==node;node=node.parentNode){if(node.nodeType!==1){continue}var nodeID=internalGetID(node);if(!nodeID){continue}var reactRootID=ReactInstanceHandles.getReactRootIDFromNodeID(nodeID);var current=node;var lastID;do{lastID=internalGetID(current);current=current.parentNode;if(current==null){return null}}while(lastID!==reactRootID);if(current===containersByReactRootID[reactRootID]){return node}}return null}var TopLevelWrapper=function(){};TopLevelWrapper.prototype.isReactComponent={};if("production"!=="production"){TopLevelWrapper.displayName="TopLevelWrapper"}TopLevelWrapper.prototype.render=function(){return this.props};var ReactMount={TopLevelWrapper:TopLevelWrapper,_instancesByReactRootID:instancesByReactRootID,scrollMonitor:function(container,renderCallback){renderCallback()},_updateRootComponent:function(prevComponent,nextElement,container,callback){ReactMount.scrollMonitor(container,function(){ReactUpdateQueue.enqueueElementInternal(prevComponent,nextElement);if(callback){ReactUpdateQueue.enqueueCallbackInternal(prevComponent,callback)}});if("production"!=="production"){rootElementsByReactRootID[getReactRootID(container)]=getReactRootElementInContainer(container)}return prevComponent},_registerComponent:function(nextComponent,container){!(container&&(container.nodeType===ELEMENT_NODE_TYPE||container.nodeType===DOC_NODE_TYPE||container.nodeType===DOCUMENT_FRAGMENT_NODE_TYPE))?"production"!=="production"?invariant(false,"_registerComponent(...): Target container is not a DOM element."):invariant(false):undefined;ReactBrowserEventEmitter.ensureScrollValueMonitoring();var reactRootID=ReactMount.registerContainer(container);instancesByReactRootID[reactRootID]=nextComponent;return reactRootID},_renderNewRootComponent:function(nextElement,container,shouldReuseMarkup,context){"production"!=="production"?warning(ReactCurrentOwner.current==null,"_renderNewRootComponent(): Render methods should be a pure function "+"of props and state; triggering nested component updates from "+"render is not allowed. If necessary, trigger nested updates in "+"componentDidUpdate. Check the render method of %s.",ReactCurrentOwner.current&&ReactCurrentOwner.current.getName()||"ReactCompositeComponent"):undefined;var componentInstance=instantiateReactComponent(nextElement,null);var reactRootID=ReactMount._registerComponent(componentInstance,container);ReactUpdates.batchedUpdates(batchedMountComponentIntoNode,componentInstance,reactRootID,container,shouldReuseMarkup,context);if("production"!=="production"){rootElementsByReactRootID[reactRootID]=getReactRootElementInContainer(container)}return componentInstance},renderSubtreeIntoContainer:function(parentComponent,nextElement,container,callback){!(parentComponent!=null&&parentComponent._reactInternalInstance!=null)?"production"!=="production"?invariant(false,"parentComponent must be a valid React Component"):invariant(false):undefined;return ReactMount._renderSubtreeIntoContainer(parentComponent,nextElement,container,callback)},_renderSubtreeIntoContainer:function(parentComponent,nextElement,container,callback){!ReactElement.isValidElement(nextElement)?"production"!=="production"?invariant(false,"ReactDOM.render(): Invalid component element.%s",typeof nextElement==="string"?" Instead of passing an element string, make sure to instantiate "+"it by passing it to React.createElement.":typeof nextElement==="function"?" Instead of passing a component class, make sure to instantiate "+"it by passing it to React.createElement.":nextElement!=null&&nextElement.props!==undefined?" This may be caused by unintentionally loading two independent "+"copies of React.":""):invariant(false):undefined;"production"!=="production"?warning(!container||!container.tagName||container.tagName.toUpperCase()!=="BODY","render(): Rendering components directly into document.body is "+"discouraged, since its children are often manipulated by third-party "+"scripts and browser extensions. This may lead to subtle "+"reconciliation issues. Try rendering into a container element created "+"for your app."):undefined;var nextWrappedElement=new ReactElement(TopLevelWrapper,null,null,null,null,null,nextElement);var prevComponent=instancesByReactRootID[getReactRootID(container)];if(prevComponent){var prevWrappedElement=prevComponent._currentElement;var prevElement=prevWrappedElement.props;if(shouldUpdateReactComponent(prevElement,nextElement)){var publicInst=prevComponent._renderedComponent.getPublicInstance();var updatedCallback=callback&&function(){callback.call(publicInst);
};ReactMount._updateRootComponent(prevComponent,nextWrappedElement,container,updatedCallback);return publicInst}else{ReactMount.unmountComponentAtNode(container)}}var reactRootElement=getReactRootElementInContainer(container);var containerHasReactMarkup=reactRootElement&&!!internalGetID(reactRootElement);var containerHasNonRootReactChild=hasNonRootReactChild(container);if("production"!=="production"){"production"!=="production"?warning(!containerHasNonRootReactChild,"render(...): Replacing React-rendered children with a new root "+"component. If you intended to update the children of this node, "+"you should instead have the existing children update their state "+"and render the new components instead of calling ReactDOM.render."):undefined;if(!containerHasReactMarkup||reactRootElement.nextSibling){var rootElementSibling=reactRootElement;while(rootElementSibling){if(internalGetID(rootElementSibling)){"production"!=="production"?warning(false,"render(): Target node has markup rendered by React, but there "+"are unrelated nodes as well. This is most commonly caused by "+"white-space inserted around server-rendered markup."):undefined;break}rootElementSibling=rootElementSibling.nextSibling}}}var shouldReuseMarkup=containerHasReactMarkup&&!prevComponent&&!containerHasNonRootReactChild;var component=ReactMount._renderNewRootComponent(nextWrappedElement,container,shouldReuseMarkup,parentComponent!=null?parentComponent._reactInternalInstance._processChildContext(parentComponent._reactInternalInstance._context):emptyObject)._renderedComponent.getPublicInstance();if(callback){callback.call(component)}return component},render:function(nextElement,container,callback){return ReactMount._renderSubtreeIntoContainer(null,nextElement,container,callback)},registerContainer:function(container){var reactRootID=getReactRootID(container);if(reactRootID){reactRootID=ReactInstanceHandles.getReactRootIDFromNodeID(reactRootID)}if(!reactRootID){reactRootID=ReactInstanceHandles.createReactRootID()}containersByReactRootID[reactRootID]=container;return reactRootID},unmountComponentAtNode:function(container){"production"!=="production"?warning(ReactCurrentOwner.current==null,"unmountComponentAtNode(): Render methods should be a pure function "+"of props and state; triggering nested component updates from render "+"is not allowed. If necessary, trigger nested updates in "+"componentDidUpdate. Check the render method of %s.",ReactCurrentOwner.current&&ReactCurrentOwner.current.getName()||"ReactCompositeComponent"):undefined;!(container&&(container.nodeType===ELEMENT_NODE_TYPE||container.nodeType===DOC_NODE_TYPE||container.nodeType===DOCUMENT_FRAGMENT_NODE_TYPE))?"production"!=="production"?invariant(false,"unmountComponentAtNode(...): Target container is not a DOM element."):invariant(false):undefined;var reactRootID=getReactRootID(container);var component=instancesByReactRootID[reactRootID];if(!component){var containerHasNonRootReactChild=hasNonRootReactChild(container);var containerID=internalGetID(container);var isContainerReactRoot=containerID&&containerID===ReactInstanceHandles.getReactRootIDFromNodeID(containerID);if("production"!=="production"){"production"!=="production"?warning(!containerHasNonRootReactChild,"unmountComponentAtNode(): The node you're attempting to unmount "+"was rendered by React and is not a top-level container. %s",isContainerReactRoot?"You may have accidentally passed in a React root node instead "+"of its container.":"Instead, have the parent component update its state and "+"rerender in order to remove this component."):undefined}return false}ReactUpdates.batchedUpdates(unmountComponentFromNode,component,container);delete instancesByReactRootID[reactRootID];delete containersByReactRootID[reactRootID];if("production"!=="production"){delete rootElementsByReactRootID[reactRootID]}return true},findReactContainerForID:function(id){var reactRootID=ReactInstanceHandles.getReactRootIDFromNodeID(id);var container=containersByReactRootID[reactRootID];if("production"!=="production"){var rootElement=rootElementsByReactRootID[reactRootID];if(rootElement&&rootElement.parentNode!==container){"production"!=="production"?warning(internalGetID(rootElement)===reactRootID,"ReactMount: Root element ID differed from reactRootID."):undefined;var containerChild=container.firstChild;if(containerChild&&reactRootID===internalGetID(containerChild)){rootElementsByReactRootID[reactRootID]=containerChild}else{"production"!=="production"?warning(false,"ReactMount: Root element has been removed from its original "+"container. New container: %s",rootElement.parentNode):undefined}}}return container},findReactNodeByID:function(id){var reactRoot=ReactMount.findReactContainerForID(id);return ReactMount.findComponentRoot(reactRoot,id)},getFirstReactDOM:function(node){return findFirstReactDOMImpl(node)},findComponentRoot:function(ancestorNode,targetID){var firstChildren=findComponentRootReusableArray;var childIndex=0;var deepestAncestor=findDeepestCachedAncestor(targetID)||ancestorNode;if("production"!=="production"){"production"!=="production"?warning(deepestAncestor!=null,"React can't find the root component node for data-reactid value "+"`%s`. If you're seeing this message, it probably means that "+"you've loaded two copies of React on the page. At this time, only "+"a single copy of React can be loaded at a time.",targetID):undefined}firstChildren[0]=deepestAncestor.firstChild;firstChildren.length=1;while(childIndex<firstChildren.length){var child=firstChildren[childIndex++];var targetChild;while(child){var childID=ReactMount.getID(child);if(childID){if(targetID===childID){targetChild=child}else if(ReactInstanceHandles.isAncestorIDOf(childID,targetID)){firstChildren.length=childIndex=0;firstChildren.push(child.firstChild)}}else{firstChildren.push(child.firstChild)}child=child.nextSibling}if(targetChild){firstChildren.length=0;return targetChild}}firstChildren.length=0;!false?"production"!=="production"?invariant(false,"findComponentRoot(..., %s): Unable to find element. This probably "+"means the DOM was unexpectedly mutated (e.g., by the browser), "+"usually due to forgetting a <tbody> when using tables, nesting tags "+"like <form>, <p>, or <a>, or using non-SVG elements in an <svg> "+"parent. "+"Try inspecting the child nodes of the element with React ID `%s`.",targetID,ReactMount.getID(ancestorNode)):invariant(false):undefined},_mountImageIntoNode:function(markup,container,shouldReuseMarkup,transaction){!(container&&(container.nodeType===ELEMENT_NODE_TYPE||container.nodeType===DOC_NODE_TYPE||container.nodeType===DOCUMENT_FRAGMENT_NODE_TYPE))?"production"!=="production"?invariant(false,"mountComponentIntoNode(...): Target container is not valid."):invariant(false):undefined;if(shouldReuseMarkup){var rootElement=getReactRootElementInContainer(container);if(ReactMarkupChecksum.canReuseMarkup(markup,rootElement)){return}else{var checksum=rootElement.getAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);rootElement.removeAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);var rootMarkup=rootElement.outerHTML;rootElement.setAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME,checksum);var normalizedMarkup=markup;if("production"!=="production"){var normalizer;if(container.nodeType===ELEMENT_NODE_TYPE){normalizer=document.createElement("div");normalizer.innerHTML=markup;normalizedMarkup=normalizer.innerHTML}else{normalizer=document.createElement("iframe");document.body.appendChild(normalizer);normalizer.contentDocument.write(markup);normalizedMarkup=normalizer.contentDocument.documentElement.outerHTML;document.body.removeChild(normalizer)}}var diffIndex=firstDifferenceIndex(normalizedMarkup,rootMarkup);var difference=" (client) "+normalizedMarkup.substring(diffIndex-20,diffIndex+20)+"\n (server) "+rootMarkup.substring(diffIndex-20,diffIndex+20);!(container.nodeType!==DOC_NODE_TYPE)?"production"!=="production"?invariant(false,"You're trying to render a component to the document using "+"server rendering but the checksum was invalid. This usually "+"means you rendered a different component type or props on "+"the client from the one on the server, or your render() "+"methods are impure. React cannot handle this case due to "+"cross-browser quirks by rendering at the document root. You "+"should look for environment dependent code in your components "+"and ensure the props are the same client and server side:\n%s",difference):invariant(false):undefined;if("production"!=="production"){"production"!=="production"?warning(false,"React attempted to reuse markup in a container but the "+"checksum was invalid. This generally means that you are "+"using server rendering and the markup generated on the "+"server was not what the client was expecting. React injected "+"new markup to compensate which works but you have lost many "+"of the benefits of server rendering. Instead, figure out "+"why the markup being generated is different on the client "+"or server:\n%s",difference):undefined}}}!(container.nodeType!==DOC_NODE_TYPE)?"production"!=="production"?invariant(false,"You're trying to render a component to the document but "+"you didn't use server rendering. We can't do this "+"without using server rendering due to cross-browser quirks. "+"See ReactDOMServer.renderToString() for server rendering."):invariant(false):undefined;if(transaction.useCreateElement){while(container.lastChild){container.removeChild(container.lastChild)}container.appendChild(markup)}else{setInnerHTML(container,markup)}},ownerDocumentContextKey:ownerDocumentContextKey,getReactRootID:getReactRootID,getID:getID,setID:setID,getNode:getNode,getNodeFromInstance:getNodeFromInstance,isValid:isValid,purgeID:purgeID};ReactPerf.measureMethods(ReactMount,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"});module.exports=ReactMount},{"./DOMProperty":"/Users/paulfrazee/patchwork/node_modules/react/lib/DOMProperty.js","./Object.assign":"/Users/paulfrazee/patchwork/node_modules/react/lib/Object.assign.js","./ReactBrowserEventEmitter":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactBrowserEventEmitter.js","./ReactCurrentOwner":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactCurrentOwner.js","./ReactDOMFeatureFlags":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDOMFeatureFlags.js","./ReactElement":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactElement.js","./ReactEmptyComponentRegistry":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactEmptyComponentRegistry.js","./ReactInstanceHandles":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactInstanceHandles.js","./ReactInstanceMap":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactInstanceMap.js","./ReactMarkupChecksum":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactMarkupChecksum.js","./ReactPerf":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactPerf.js","./ReactReconciler":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactReconciler.js","./ReactUpdateQueue":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactUpdateQueue.js","./ReactUpdates":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactUpdates.js","./instantiateReactComponent":"/Users/paulfrazee/patchwork/node_modules/react/lib/instantiateReactComponent.js","./setInnerHTML":"/Users/paulfrazee/patchwork/node_modules/react/lib/setInnerHTML.js","./shouldUpdateReactComponent":"/Users/paulfrazee/patchwork/node_modules/react/lib/shouldUpdateReactComponent.js","./validateDOMNesting":"/Users/paulfrazee/patchwork/node_modules/react/lib/validateDOMNesting.js","fbjs/lib/containsNode":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/containsNode.js","fbjs/lib/emptyObject":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/emptyObject.js","fbjs/lib/invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js","fbjs/lib/warning":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/warning.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactMultiChild.js":[function(require,module,exports){"use strict";var ReactComponentEnvironment=require("./ReactComponentEnvironment");var ReactMultiChildUpdateTypes=require("./ReactMultiChildUpdateTypes");var ReactCurrentOwner=require("./ReactCurrentOwner");var ReactReconciler=require("./ReactReconciler");var ReactChildReconciler=require("./ReactChildReconciler");var flattenChildren=require("./flattenChildren");var updateDepth=0;var updateQueue=[];var markupQueue=[];function enqueueInsertMarkup(parentID,markup,toIndex){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.INSERT_MARKUP,markupIndex:markupQueue.push(markup)-1,content:null,fromIndex:null,toIndex:toIndex})}function enqueueMove(parentID,fromIndex,toIndex){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:fromIndex,toIndex:toIndex})}function enqueueRemove(parentID,fromIndex){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.REMOVE_NODE,markupIndex:null,content:null,fromIndex:fromIndex,toIndex:null})}function enqueueSetMarkup(parentID,markup){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.SET_MARKUP,markupIndex:null,content:markup,fromIndex:null,toIndex:null})}function enqueueTextContent(parentID,textContent){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.TEXT_CONTENT,markupIndex:null,content:textContent,fromIndex:null,toIndex:null})}function processQueue(){if(updateQueue.length){ReactComponentEnvironment.processChildrenUpdates(updateQueue,markupQueue);clearQueue()}}function clearQueue(){updateQueue.length=0;markupQueue.length=0}var ReactMultiChild={Mixin:{_reconcilerInstantiateChildren:function(nestedChildren,transaction,context){if("production"!=="production"){if(this._currentElement){try{ReactCurrentOwner.current=this._currentElement._owner;return ReactChildReconciler.instantiateChildren(nestedChildren,transaction,context)}finally{ReactCurrentOwner.current=null}}}return ReactChildReconciler.instantiateChildren(nestedChildren,transaction,context)},_reconcilerUpdateChildren:function(prevChildren,nextNestedChildrenElements,transaction,context){var nextChildren;if("production"!=="production"){if(this._currentElement){try{ReactCurrentOwner.current=this._currentElement._owner;nextChildren=flattenChildren(nextNestedChildrenElements)}finally{ReactCurrentOwner.current=null}return ReactChildReconciler.updateChildren(prevChildren,nextChildren,transaction,context)}}nextChildren=flattenChildren(nextNestedChildrenElements);return ReactChildReconciler.updateChildren(prevChildren,nextChildren,transaction,context)},mountChildren:function(nestedChildren,transaction,context){var children=this._reconcilerInstantiateChildren(nestedChildren,transaction,context);this._renderedChildren=children;var mountImages=[];var index=0;for(var name in children){if(children.hasOwnProperty(name)){var child=children[name];var rootID=this._rootNodeID+name;var mountImage=ReactReconciler.mountComponent(child,rootID,transaction,context);child._mountIndex=index++;mountImages.push(mountImage)}}return mountImages},updateTextContent:function(nextContent){updateDepth++;var errorThrown=true;try{var prevChildren=this._renderedChildren;ReactChildReconciler.unmountChildren(prevChildren);for(var name in prevChildren){if(prevChildren.hasOwnProperty(name)){this._unmountChild(prevChildren[name])}}this.setTextContent(nextContent);errorThrown=false}finally{updateDepth--;if(!updateDepth){if(errorThrown){clearQueue()}else{processQueue()}}}},updateMarkup:function(nextMarkup){updateDepth++;var errorThrown=true;try{var prevChildren=this._renderedChildren;ReactChildReconciler.unmountChildren(prevChildren);for(var name in prevChildren){if(prevChildren.hasOwnProperty(name)){this._unmountChildByName(prevChildren[name],name)}}this.setMarkup(nextMarkup);errorThrown=false}finally{updateDepth--;if(!updateDepth){if(errorThrown){clearQueue()}else{processQueue()}}}},updateChildren:function(nextNestedChildrenElements,transaction,context){updateDepth++;var errorThrown=true;try{this._updateChildren(nextNestedChildrenElements,transaction,context);errorThrown=false}finally{updateDepth--;if(!updateDepth){if(errorThrown){clearQueue()}else{processQueue()}}}},_updateChildren:function(nextNestedChildrenElements,transaction,context){var prevChildren=this._renderedChildren;var nextChildren=this._reconcilerUpdateChildren(prevChildren,nextNestedChildrenElements,transaction,context);this._renderedChildren=nextChildren;if(!nextChildren&&!prevChildren){return}var name;var lastIndex=0;var nextIndex=0;for(name in nextChildren){if(!nextChildren.hasOwnProperty(name)){continue}var prevChild=prevChildren&&prevChildren[name];var nextChild=nextChildren[name];if(prevChild===nextChild){this.moveChild(prevChild,nextIndex,lastIndex);lastIndex=Math.max(prevChild._mountIndex,lastIndex);prevChild._mountIndex=nextIndex}else{if(prevChild){lastIndex=Math.max(prevChild._mountIndex,lastIndex);this._unmountChild(prevChild)}this._mountChildByNameAtIndex(nextChild,name,nextIndex,transaction,context)}nextIndex++}for(name in prevChildren){if(prevChildren.hasOwnProperty(name)&&!(nextChildren&&nextChildren.hasOwnProperty(name))){this._unmountChild(prevChildren[name])}}},unmountChildren:function(){var renderedChildren=this._renderedChildren;ReactChildReconciler.unmountChildren(renderedChildren);this._renderedChildren=null},moveChild:function(child,toIndex,lastIndex){if(child._mountIndex<lastIndex){enqueueMove(this._rootNodeID,child._mountIndex,toIndex)}},createChild:function(child,mountImage){enqueueInsertMarkup(this._rootNodeID,mountImage,child._mountIndex)},removeChild:function(child){enqueueRemove(this._rootNodeID,child._mountIndex)},setTextContent:function(textContent){enqueueTextContent(this._rootNodeID,textContent)},setMarkup:function(markup){enqueueSetMarkup(this._rootNodeID,markup)},_mountChildByNameAtIndex:function(child,name,index,transaction,context){var rootID=this._rootNodeID+name;var mountImage=ReactReconciler.mountComponent(child,rootID,transaction,context);child._mountIndex=index;this.createChild(child,mountImage)},_unmountChild:function(child){this.removeChild(child);child._mountIndex=null}}};module.exports=ReactMultiChild},{"./ReactChildReconciler":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactChildReconciler.js","./ReactComponentEnvironment":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactComponentEnvironment.js","./ReactCurrentOwner":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactCurrentOwner.js","./ReactMultiChildUpdateTypes":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactMultiChildUpdateTypes.js","./ReactReconciler":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactReconciler.js","./flattenChildren":"/Users/paulfrazee/patchwork/node_modules/react/lib/flattenChildren.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactMultiChildUpdateTypes.js":[function(require,module,exports){"use strict";var keyMirror=require("fbjs/lib/keyMirror");var ReactMultiChildUpdateTypes=keyMirror({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});module.exports=ReactMultiChildUpdateTypes},{"fbjs/lib/keyMirror":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/keyMirror.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactNativeComponent.js":[function(require,module,exports){"use strict";var assign=require("./Object.assign");var invariant=require("fbjs/lib/invariant");var autoGenerateWrapperClass=null;var genericComponentClass=null;var tagToComponentClass={};var textComponentClass=null;var ReactNativeComponentInjection={injectGenericComponentClass:function(componentClass){genericComponentClass=componentClass},injectTextComponentClass:function(componentClass){textComponentClass=componentClass},injectComponentClasses:function(componentClasses){assign(tagToComponentClass,componentClasses)}};function getComponentClassForElement(element){if(typeof element.type==="function"){return element.type}var tag=element.type;var componentClass=tagToComponentClass[tag];if(componentClass==null){tagToComponentClass[tag]=componentClass=autoGenerateWrapperClass(tag)}return componentClass}function createInternalComponent(element){!genericComponentClass?"production"!=="production"?invariant(false,"There is no registered component for the tag %s",element.type):invariant(false):undefined;return new genericComponentClass(element.type,element.props)}function createInstanceForText(text){return new textComponentClass(text)}function isTextComponent(component){return component instanceof textComponentClass}var ReactNativeComponent={getComponentClassForElement:getComponentClassForElement,createInternalComponent:createInternalComponent,createInstanceForText:createInstanceForText,isTextComponent:isTextComponent,injection:ReactNativeComponentInjection};module.exports=ReactNativeComponent},{"./Object.assign":"/Users/paulfrazee/patchwork/node_modules/react/lib/Object.assign.js","fbjs/lib/invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactNoopUpdateQueue.js":[function(require,module,exports){"use strict";var warning=require("fbjs/lib/warning");function warnTDZ(publicInstance,callerName){if("production"!=="production"){"production"!=="production"?warning(false,"%s(...): Can only update a mounted or mounting component. "+"This usually means you called %s() on an unmounted component. "+"This is a no-op. Please check the code for the %s component.",callerName,callerName,publicInstance.constructor&&publicInstance.constructor.displayName||""):undefined}}var ReactNoopUpdateQueue={isMounted:function(publicInstance){return false},enqueueCallback:function(publicInstance,callback){},enqueueForceUpdate:function(publicInstance){warnTDZ(publicInstance,"forceUpdate")},enqueueReplaceState:function(publicInstance,completeState){warnTDZ(publicInstance,"replaceState")},enqueueSetState:function(publicInstance,partialState){warnTDZ(publicInstance,"setState")},enqueueSetProps:function(publicInstance,partialProps){warnTDZ(publicInstance,"setProps")},enqueueReplaceProps:function(publicInstance,props){warnTDZ(publicInstance,"replaceProps")}};module.exports=ReactNoopUpdateQueue},{"fbjs/lib/warning":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/warning.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactOwner.js":[function(require,module,exports){"use strict";var invariant=require("fbjs/lib/invariant");var ReactOwner={isValidOwner:function(object){return!!(object&&typeof object.attachRef==="function"&&typeof object.detachRef==="function")},addComponentAsRefTo:function(component,ref,owner){!ReactOwner.isValidOwner(owner)?"production"!=="production"?invariant(false,"addComponentAsRefTo(...): Only a ReactOwner can have refs. You might "+"be adding a ref to a component that was not created inside a component's "+"`render` method, or you have multiple copies of React loaded "+"(details: https://fb.me/react-refs-must-have-owner)."):invariant(false):undefined;owner.attachRef(ref,component)},removeComponentAsRefFrom:function(component,ref,owner){!ReactOwner.isValidOwner(owner)?"production"!=="production"?invariant(false,"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. You might "+"be removing a ref to a component that was not created inside a component's "+"`render` method, or you have multiple copies of React loaded "+"(details: https://fb.me/react-refs-must-have-owner)."):invariant(false):undefined;if(owner.getPublicInstance().refs[ref]===component.getPublicInstance()){owner.detachRef(ref)}}};module.exports=ReactOwner},{"fbjs/lib/invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactPerf.js":[function(require,module,exports){"use strict";var ReactPerf={enableMeasure:false,storedMeasure:_noMeasure,measureMethods:function(object,objectName,methodNames){if("production"!=="production"){for(var key in methodNames){if(!methodNames.hasOwnProperty(key)){continue}object[key]=ReactPerf.measure(objectName,methodNames[key],object[key])}}},measure:function(objName,fnName,func){if("production"!=="production"){var measuredFunc=null;var wrapper=function(){if(ReactPerf.enableMeasure){if(!measuredFunc){measuredFunc=ReactPerf.storedMeasure(objName,fnName,func)}return measuredFunc.apply(this,arguments)}return func.apply(this,arguments)};wrapper.displayName=objName+"_"+fnName;return wrapper}return func},injection:{injectMeasure:function(measure){ReactPerf.storedMeasure=measure}}};function _noMeasure(objName,fnName,func){return func}module.exports=ReactPerf},{}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactPropTypeLocationNames.js":[function(require,module,exports){"use strict";var ReactPropTypeLocationNames={};if("production"!=="production"){ReactPropTypeLocationNames={prop:"prop",context:"context",childContext:"child context"}}module.exports=ReactPropTypeLocationNames},{}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactPropTypeLocations.js":[function(require,module,exports){"use strict";var keyMirror=require("fbjs/lib/keyMirror");var ReactPropTypeLocations=keyMirror({prop:null,context:null,childContext:null});module.exports=ReactPropTypeLocations},{"fbjs/lib/keyMirror":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/keyMirror.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactPropTypes.js":[function(require,module,exports){"use strict";var ReactElement=require("./ReactElement");var ReactPropTypeLocationNames=require("./ReactPropTypeLocationNames");var emptyFunction=require("fbjs/lib/emptyFunction");var getIteratorFn=require("./getIteratorFn");var ANONYMOUS="<<anonymous>>";var ReactPropTypes={array:createPrimitiveTypeChecker("array"),bool:createPrimitiveTypeChecker("boolean"),func:createPrimitiveTypeChecker("function"),number:createPrimitiveTypeChecker("number"),object:createPrimitiveTypeChecker("object"),string:createPrimitiveTypeChecker("string"),any:createAnyTypeChecker(),arrayOf:createArrayOfTypeChecker,element:createElementTypeChecker(),instanceOf:createInstanceTypeChecker,node:createNodeChecker(),objectOf:createObjectOfTypeChecker,oneOf:createEnumTypeChecker,oneOfType:createUnionTypeChecker,shape:createShapeTypeChecker};function createChainableTypeChecker(validate){function checkType(isRequired,props,propName,componentName,location,propFullName){componentName=componentName||ANONYMOUS;propFullName=propFullName||propName;if(props[propName]==null){var locationName=ReactPropTypeLocationNames[location];if(isRequired){return new Error("Required "+locationName+" `"+propFullName+"` was not specified in "+("`"+componentName+"`."))}return null}else{return validate(props,propName,componentName,location,propFullName)}}var chainedCheckType=checkType.bind(null,false);chainedCheckType.isRequired=checkType.bind(null,true);return chainedCheckType}function createPrimitiveTypeChecker(expectedType){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName];var propType=getPropType(propValue);if(propType!==expectedType){var locationName=ReactPropTypeLocationNames[location];var preciseType=getPreciseType(propValue);return new Error("Invalid "+locationName+" `"+propFullName+"` of type "+("`"+preciseType+"` supplied to `"+componentName+"`, expected ")+("`"+expectedType+"`."))}return null}return createChainableTypeChecker(validate)}function createAnyTypeChecker(){return createChainableTypeChecker(emptyFunction.thatReturns(null))}function createArrayOfTypeChecker(typeChecker){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName];if(!Array.isArray(propValue)){var locationName=ReactPropTypeLocationNames[location];var propType=getPropType(propValue);return new Error("Invalid "+locationName+" `"+propFullName+"` of type "+("`"+propType+"` supplied to `"+componentName+"`, expected an array."))}for(var i=0;i<propValue.length;i++){var error=typeChecker(propValue,i,componentName,location,propFullName+"["+i+"]");if(error instanceof Error){return error}}return null}return createChainableTypeChecker(validate)}function createElementTypeChecker(){function validate(props,propName,componentName,location,propFullName){if(!ReactElement.isValidElement(props[propName])){var locationName=ReactPropTypeLocationNames[location];return new Error("Invalid "+locationName+" `"+propFullName+"` supplied to "+("`"+componentName+"`, expected a single ReactElement."))}return null}return createChainableTypeChecker(validate)}function createInstanceTypeChecker(expectedClass){function validate(props,propName,componentName,location,propFullName){if(!(props[propName]instanceof expectedClass)){var locationName=ReactPropTypeLocationNames[location];var expectedClassName=expectedClass.name||ANONYMOUS;var actualClassName=getClassName(props[propName]);return new Error("Invalid "+locationName+" `"+propFullName+"` of type "+("`"+actualClassName+"` supplied to `"+componentName+"`, expected ")+("instance of `"+expectedClassName+"`."))}return null}return createChainableTypeChecker(validate)}function createEnumTypeChecker(expectedValues){if(!Array.isArray(expectedValues)){return createChainableTypeChecker(function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function validate(props,propName,componentName,location,propFullName){var propValue=props[propName];for(var i=0;i<expectedValues.length;i++){if(propValue===expectedValues[i]){return null}}var locationName=ReactPropTypeLocationNames[location];var valuesString=JSON.stringify(expectedValues);return new Error("Invalid "+locationName+" `"+propFullName+"` of value `"+propValue+"` "+("supplied to `"+componentName+"`, expected one of "+valuesString+"."))}return createChainableTypeChecker(validate)}function createObjectOfTypeChecker(typeChecker){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName];var propType=getPropType(propValue);if(propType!=="object"){var locationName=ReactPropTypeLocationNames[location];return new Error("Invalid "+locationName+" `"+propFullName+"` of type "+("`"+propType+"` supplied to `"+componentName+"`, expected an object."))}for(var key in propValue){if(propValue.hasOwnProperty(key)){var error=typeChecker(propValue,key,componentName,location,propFullName+"."+key);if(error instanceof Error){return error}}}return null}return createChainableTypeChecker(validate)}function createUnionTypeChecker(arrayOfTypeCheckers){if(!Array.isArray(arrayOfTypeCheckers)){return createChainableTypeChecker(function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function validate(props,propName,componentName,location,propFullName){for(var i=0;i<arrayOfTypeCheckers.length;i++){var checker=arrayOfTypeCheckers[i];if(checker(props,propName,componentName,location,propFullName)==null){return null}}var locationName=ReactPropTypeLocationNames[location];return new Error("Invalid "+locationName+" `"+propFullName+"` supplied to "+("`"+componentName+"`."))}return createChainableTypeChecker(validate)}function createNodeChecker(){function validate(props,propName,componentName,location,propFullName){if(!isNode(props[propName])){var locationName=ReactPropTypeLocationNames[location];return new Error("Invalid "+locationName+" `"+propFullName+"` supplied to "+("`"+componentName+"`, expected a ReactNode."))}return null}return createChainableTypeChecker(validate)}function createShapeTypeChecker(shapeTypes){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName];var propType=getPropType(propValue);if(propType!=="object"){var locationName=ReactPropTypeLocationNames[location];return new Error("Invalid "+locationName+" `"+propFullName+"` of type `"+propType+"` "+("supplied to `"+componentName+"`, expected `object`."));
}for(var key in shapeTypes){var checker=shapeTypes[key];if(!checker){continue}var error=checker(propValue,key,componentName,location,propFullName+"."+key);if(error){return error}}return null}return createChainableTypeChecker(validate)}function isNode(propValue){switch(typeof propValue){case"number":case"string":case"undefined":return true;case"boolean":return!propValue;case"object":if(Array.isArray(propValue)){return propValue.every(isNode)}if(propValue===null||ReactElement.isValidElement(propValue)){return true}var iteratorFn=getIteratorFn(propValue);if(iteratorFn){var iterator=iteratorFn.call(propValue);var step;if(iteratorFn!==propValue.entries){while(!(step=iterator.next()).done){if(!isNode(step.value)){return false}}}else{while(!(step=iterator.next()).done){var entry=step.value;if(entry){if(!isNode(entry[1])){return false}}}}}else{return false}return true;default:return false}}function getPropType(propValue){var propType=typeof propValue;if(Array.isArray(propValue)){return"array"}if(propValue instanceof RegExp){return"object"}return propType}function getPreciseType(propValue){var propType=getPropType(propValue);if(propType==="object"){if(propValue instanceof Date){return"date"}else if(propValue instanceof RegExp){return"regexp"}}return propType}function getClassName(propValue){if(!propValue.constructor||!propValue.constructor.name){return"<<anonymous>>"}return propValue.constructor.name}module.exports=ReactPropTypes},{"./ReactElement":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactElement.js","./ReactPropTypeLocationNames":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactPropTypeLocationNames.js","./getIteratorFn":"/Users/paulfrazee/patchwork/node_modules/react/lib/getIteratorFn.js","fbjs/lib/emptyFunction":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/emptyFunction.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactReconcileTransaction.js":[function(require,module,exports){"use strict";var CallbackQueue=require("./CallbackQueue");var PooledClass=require("./PooledClass");var ReactBrowserEventEmitter=require("./ReactBrowserEventEmitter");var ReactDOMFeatureFlags=require("./ReactDOMFeatureFlags");var ReactInputSelection=require("./ReactInputSelection");var Transaction=require("./Transaction");var assign=require("./Object.assign");var SELECTION_RESTORATION={initialize:ReactInputSelection.getSelectionInformation,close:ReactInputSelection.restoreSelection};var EVENT_SUPPRESSION={initialize:function(){var currentlyEnabled=ReactBrowserEventEmitter.isEnabled();ReactBrowserEventEmitter.setEnabled(false);return currentlyEnabled},close:function(previouslyEnabled){ReactBrowserEventEmitter.setEnabled(previouslyEnabled)}};var ON_DOM_READY_QUEUEING={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}};var TRANSACTION_WRAPPERS=[SELECTION_RESTORATION,EVENT_SUPPRESSION,ON_DOM_READY_QUEUEING];function ReactReconcileTransaction(forceHTML){this.reinitializeTransaction();this.renderToStaticMarkup=false;this.reactMountReady=CallbackQueue.getPooled(null);this.useCreateElement=!forceHTML&&ReactDOMFeatureFlags.useCreateElement}var Mixin={getTransactionWrappers:function(){return TRANSACTION_WRAPPERS},getReactMountReady:function(){return this.reactMountReady},destructor:function(){CallbackQueue.release(this.reactMountReady);this.reactMountReady=null}};assign(ReactReconcileTransaction.prototype,Transaction.Mixin,Mixin);PooledClass.addPoolingTo(ReactReconcileTransaction);module.exports=ReactReconcileTransaction},{"./CallbackQueue":"/Users/paulfrazee/patchwork/node_modules/react/lib/CallbackQueue.js","./Object.assign":"/Users/paulfrazee/patchwork/node_modules/react/lib/Object.assign.js","./PooledClass":"/Users/paulfrazee/patchwork/node_modules/react/lib/PooledClass.js","./ReactBrowserEventEmitter":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactBrowserEventEmitter.js","./ReactDOMFeatureFlags":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDOMFeatureFlags.js","./ReactInputSelection":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactInputSelection.js","./Transaction":"/Users/paulfrazee/patchwork/node_modules/react/lib/Transaction.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactReconciler.js":[function(require,module,exports){"use strict";var ReactRef=require("./ReactRef");function attachRefs(){ReactRef.attachRefs(this,this._currentElement)}var ReactReconciler={mountComponent:function(internalInstance,rootID,transaction,context){var markup=internalInstance.mountComponent(rootID,transaction,context);if(internalInstance._currentElement&&internalInstance._currentElement.ref!=null){transaction.getReactMountReady().enqueue(attachRefs,internalInstance)}return markup},unmountComponent:function(internalInstance){ReactRef.detachRefs(internalInstance,internalInstance._currentElement);internalInstance.unmountComponent()},receiveComponent:function(internalInstance,nextElement,transaction,context){var prevElement=internalInstance._currentElement;if(nextElement===prevElement&&context===internalInstance._context){return}var refsChanged=ReactRef.shouldUpdateRefs(prevElement,nextElement);if(refsChanged){ReactRef.detachRefs(internalInstance,prevElement)}internalInstance.receiveComponent(nextElement,transaction,context);if(refsChanged&&internalInstance._currentElement&&internalInstance._currentElement.ref!=null){transaction.getReactMountReady().enqueue(attachRefs,internalInstance)}},performUpdateIfNecessary:function(internalInstance,transaction){internalInstance.performUpdateIfNecessary(transaction)}};module.exports=ReactReconciler},{"./ReactRef":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactRef.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactRef.js":[function(require,module,exports){"use strict";var ReactOwner=require("./ReactOwner");var ReactRef={};function attachRef(ref,component,owner){if(typeof ref==="function"){ref(component.getPublicInstance())}else{ReactOwner.addComponentAsRefTo(component,ref,owner)}}function detachRef(ref,component,owner){if(typeof ref==="function"){ref(null)}else{ReactOwner.removeComponentAsRefFrom(component,ref,owner)}}ReactRef.attachRefs=function(instance,element){if(element===null||element===false){return}var ref=element.ref;if(ref!=null){attachRef(ref,instance,element._owner)}};ReactRef.shouldUpdateRefs=function(prevElement,nextElement){var prevEmpty=prevElement===null||prevElement===false;var nextEmpty=nextElement===null||nextElement===false;return prevEmpty||nextEmpty||nextElement._owner!==prevElement._owner||nextElement.ref!==prevElement.ref};ReactRef.detachRefs=function(instance,element){if(element===null||element===false){return}var ref=element.ref;if(ref!=null){detachRef(ref,instance,element._owner)}};module.exports=ReactRef},{"./ReactOwner":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactOwner.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactRootIndex.js":[function(require,module,exports){"use strict";var ReactRootIndexInjection={injectCreateReactRootIndex:function(_createReactRootIndex){ReactRootIndex.createReactRootIndex=_createReactRootIndex}};var ReactRootIndex={createReactRootIndex:null,injection:ReactRootIndexInjection};module.exports=ReactRootIndex},{}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactServerBatchingStrategy.js":[function(require,module,exports){"use strict";var ReactServerBatchingStrategy={isBatchingUpdates:false,batchedUpdates:function(callback){}};module.exports=ReactServerBatchingStrategy},{}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactServerRendering.js":[function(require,module,exports){"use strict";var ReactDefaultBatchingStrategy=require("./ReactDefaultBatchingStrategy");var ReactElement=require("./ReactElement");var ReactInstanceHandles=require("./ReactInstanceHandles");var ReactMarkupChecksum=require("./ReactMarkupChecksum");var ReactServerBatchingStrategy=require("./ReactServerBatchingStrategy");var ReactServerRenderingTransaction=require("./ReactServerRenderingTransaction");var ReactUpdates=require("./ReactUpdates");var emptyObject=require("fbjs/lib/emptyObject");var instantiateReactComponent=require("./instantiateReactComponent");var invariant=require("fbjs/lib/invariant");function renderToString(element){!ReactElement.isValidElement(element)?"production"!=="production"?invariant(false,"renderToString(): You must pass a valid ReactElement."):invariant(false):undefined;var transaction;try{ReactUpdates.injection.injectBatchingStrategy(ReactServerBatchingStrategy);var id=ReactInstanceHandles.createReactRootID();transaction=ReactServerRenderingTransaction.getPooled(false);return transaction.perform(function(){var componentInstance=instantiateReactComponent(element,null);var markup=componentInstance.mountComponent(id,transaction,emptyObject);return ReactMarkupChecksum.addChecksumToMarkup(markup)},null)}finally{ReactServerRenderingTransaction.release(transaction);ReactUpdates.injection.injectBatchingStrategy(ReactDefaultBatchingStrategy)}}function renderToStaticMarkup(element){!ReactElement.isValidElement(element)?"production"!=="production"?invariant(false,"renderToStaticMarkup(): You must pass a valid ReactElement."):invariant(false):undefined;var transaction;try{ReactUpdates.injection.injectBatchingStrategy(ReactServerBatchingStrategy);var id=ReactInstanceHandles.createReactRootID();transaction=ReactServerRenderingTransaction.getPooled(true);return transaction.perform(function(){var componentInstance=instantiateReactComponent(element,null);return componentInstance.mountComponent(id,transaction,emptyObject)},null)}finally{ReactServerRenderingTransaction.release(transaction);ReactUpdates.injection.injectBatchingStrategy(ReactDefaultBatchingStrategy)}}module.exports={renderToString:renderToString,renderToStaticMarkup:renderToStaticMarkup}},{"./ReactDefaultBatchingStrategy":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactDefaultBatchingStrategy.js","./ReactElement":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactElement.js","./ReactInstanceHandles":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactInstanceHandles.js","./ReactMarkupChecksum":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactMarkupChecksum.js","./ReactServerBatchingStrategy":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactServerBatchingStrategy.js","./ReactServerRenderingTransaction":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactServerRenderingTransaction.js","./ReactUpdates":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactUpdates.js","./instantiateReactComponent":"/Users/paulfrazee/patchwork/node_modules/react/lib/instantiateReactComponent.js","fbjs/lib/emptyObject":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/emptyObject.js","fbjs/lib/invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactServerRenderingTransaction.js":[function(require,module,exports){"use strict";var PooledClass=require("./PooledClass");var CallbackQueue=require("./CallbackQueue");var Transaction=require("./Transaction");var assign=require("./Object.assign");var emptyFunction=require("fbjs/lib/emptyFunction");var ON_DOM_READY_QUEUEING={initialize:function(){this.reactMountReady.reset()},close:emptyFunction};var TRANSACTION_WRAPPERS=[ON_DOM_READY_QUEUEING];function ReactServerRenderingTransaction(renderToStaticMarkup){this.reinitializeTransaction();this.renderToStaticMarkup=renderToStaticMarkup;this.reactMountReady=CallbackQueue.getPooled(null);this.useCreateElement=false}var Mixin={getTransactionWrappers:function(){return TRANSACTION_WRAPPERS},getReactMountReady:function(){return this.reactMountReady},destructor:function(){CallbackQueue.release(this.reactMountReady);this.reactMountReady=null}};assign(ReactServerRenderingTransaction.prototype,Transaction.Mixin,Mixin);PooledClass.addPoolingTo(ReactServerRenderingTransaction);module.exports=ReactServerRenderingTransaction},{"./CallbackQueue":"/Users/paulfrazee/patchwork/node_modules/react/lib/CallbackQueue.js","./Object.assign":"/Users/paulfrazee/patchwork/node_modules/react/lib/Object.assign.js","./PooledClass":"/Users/paulfrazee/patchwork/node_modules/react/lib/PooledClass.js","./Transaction":"/Users/paulfrazee/patchwork/node_modules/react/lib/Transaction.js","fbjs/lib/emptyFunction":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/emptyFunction.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactTransitionChildMapping.js":[function(require,module,exports){"use strict";var flattenChildren=require("./flattenChildren");var ReactTransitionChildMapping={getChildMapping:function(children){if(!children){return children}return flattenChildren(children)},mergeChildMappings:function(prev,next){prev=prev||{};next=next||{};function getValueForKey(key){if(next.hasOwnProperty(key)){return next[key]}else{return prev[key]}}var nextKeysPending={};var pendingKeys=[];for(var prevKey in prev){if(next.hasOwnProperty(prevKey)){if(pendingKeys.length){nextKeysPending[prevKey]=pendingKeys;pendingKeys=[]}}else{pendingKeys.push(prevKey)}}var i;var childMapping={};for(var nextKey in next){if(nextKeysPending.hasOwnProperty(nextKey)){for(i=0;i<nextKeysPending[nextKey].length;i++){var pendingNextKey=nextKeysPending[nextKey][i];childMapping[nextKeysPending[nextKey][i]]=getValueForKey(pendingNextKey)}}childMapping[nextKey]=getValueForKey(nextKey)}for(i=0;i<pendingKeys.length;i++){childMapping[pendingKeys[i]]=getValueForKey(pendingKeys[i])}return childMapping}};module.exports=ReactTransitionChildMapping},{"./flattenChildren":"/Users/paulfrazee/patchwork/node_modules/react/lib/flattenChildren.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactTransitionEvents.js":[function(require,module,exports){"use strict";var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment");var EVENT_NAME_MAP={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}};var endEvents=[];function detectEvents(){var testEl=document.createElement("div");var style=testEl.style;if(!("AnimationEvent"in window)){delete EVENT_NAME_MAP.animationend.animation}if(!("TransitionEvent"in window)){delete EVENT_NAME_MAP.transitionend.transition}for(var baseEventName in EVENT_NAME_MAP){var baseEvents=EVENT_NAME_MAP[baseEventName];for(var styleName in baseEvents){if(styleName in style){endEvents.push(baseEvents[styleName]);break}}}}if(ExecutionEnvironment.canUseDOM){detectEvents()}function addEventListener(node,eventName,eventListener){node.addEventListener(eventName,eventListener,false)}function removeEventListener(node,eventName,eventListener){node.removeEventListener(eventName,eventListener,false)}var ReactTransitionEvents={addEndEventListener:function(node,eventListener){if(endEvents.length===0){window.setTimeout(eventListener,0);return}endEvents.forEach(function(endEvent){addEventListener(node,endEvent,eventListener)})},removeEndEventListener:function(node,eventListener){if(endEvents.length===0){return}endEvents.forEach(function(endEvent){removeEventListener(node,endEvent,eventListener)})}};module.exports=ReactTransitionEvents},{"fbjs/lib/ExecutionEnvironment":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/ExecutionEnvironment.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactTransitionGroup.js":[function(require,module,exports){"use strict";var React=require("./React");var ReactTransitionChildMapping=require("./ReactTransitionChildMapping");var assign=require("./Object.assign");var emptyFunction=require("fbjs/lib/emptyFunction");var ReactTransitionGroup=React.createClass({displayName:"ReactTransitionGroup",propTypes:{component:React.PropTypes.any,childFactory:React.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:emptyFunction.thatReturnsArgument}},getInitialState:function(){return{children:ReactTransitionChildMapping.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={};this.keysToEnter=[];this.keysToLeave=[]},componentDidMount:function(){var initialChildMapping=this.state.children;for(var key in initialChildMapping){if(initialChildMapping[key]){this.performAppear(key)}}},componentWillReceiveProps:function(nextProps){var nextChildMapping=ReactTransitionChildMapping.getChildMapping(nextProps.children);var prevChildMapping=this.state.children;this.setState({children:ReactTransitionChildMapping.mergeChildMappings(prevChildMapping,nextChildMapping)});var key;for(key in nextChildMapping){var hasPrev=prevChildMapping&&prevChildMapping.hasOwnProperty(key);if(nextChildMapping[key]&&!hasPrev&&!this.currentlyTransitioningKeys[key]){this.keysToEnter.push(key)}}for(key in prevChildMapping){var hasNext=nextChildMapping&&nextChildMapping.hasOwnProperty(key);if(prevChildMapping[key]&&!hasNext&&!this.currentlyTransitioningKeys[key]){this.keysToLeave.push(key)}}},componentDidUpdate:function(){var keysToEnter=this.keysToEnter;this.keysToEnter=[];keysToEnter.forEach(this.performEnter);var keysToLeave=this.keysToLeave;this.keysToLeave=[];keysToLeave.forEach(this.performLeave)},performAppear:function(key){this.currentlyTransitioningKeys[key]=true;var component=this.refs[key];if(component.componentWillAppear){component.componentWillAppear(this._handleDoneAppearing.bind(this,key))}else{this._handleDoneAppearing(key)}},_handleDoneAppearing:function(key){var component=this.refs[key];if(component.componentDidAppear){component.componentDidAppear()}delete this.currentlyTransitioningKeys[key];var currentChildMapping=ReactTransitionChildMapping.getChildMapping(this.props.children);if(!currentChildMapping||!currentChildMapping.hasOwnProperty(key)){this.performLeave(key)}},performEnter:function(key){this.currentlyTransitioningKeys[key]=true;var component=this.refs[key];if(component.componentWillEnter){component.componentWillEnter(this._handleDoneEntering.bind(this,key))}else{this._handleDoneEntering(key)}},_handleDoneEntering:function(key){var component=this.refs[key];if(component.componentDidEnter){component.componentDidEnter()}delete this.currentlyTransitioningKeys[key];var currentChildMapping=ReactTransitionChildMapping.getChildMapping(this.props.children);if(!currentChildMapping||!currentChildMapping.hasOwnProperty(key)){this.performLeave(key)}},performLeave:function(key){this.currentlyTransitioningKeys[key]=true;var component=this.refs[key];if(component.componentWillLeave){component.componentWillLeave(this._handleDoneLeaving.bind(this,key))}else{this._handleDoneLeaving(key)}},_handleDoneLeaving:function(key){var component=this.refs[key];if(component.componentDidLeave){component.componentDidLeave()}delete this.currentlyTransitioningKeys[key];var currentChildMapping=ReactTransitionChildMapping.getChildMapping(this.props.children);if(currentChildMapping&&currentChildMapping.hasOwnProperty(key)){this.performEnter(key)}else{this.setState(function(state){var newChildren=assign({},state.children);delete newChildren[key];return{children:newChildren}})}},render:function(){var childrenToRender=[];for(var key in this.state.children){var child=this.state.children[key];if(child){childrenToRender.push(React.cloneElement(this.props.childFactory(child),{ref:key,key:key}))}}return React.createElement(this.props.component,this.props,childrenToRender)}});module.exports=ReactTransitionGroup},{"./Object.assign":"/Users/paulfrazee/patchwork/node_modules/react/lib/Object.assign.js","./React":"/Users/paulfrazee/patchwork/node_modules/react/lib/React.js","./ReactTransitionChildMapping":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactTransitionChildMapping.js","fbjs/lib/emptyFunction":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/emptyFunction.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactUpdateQueue.js":[function(require,module,exports){"use strict";var ReactCurrentOwner=require("./ReactCurrentOwner");var ReactElement=require("./ReactElement");var ReactInstanceMap=require("./ReactInstanceMap");var ReactUpdates=require("./ReactUpdates");var assign=require("./Object.assign");var invariant=require("fbjs/lib/invariant");var warning=require("fbjs/lib/warning");function enqueueUpdate(internalInstance){ReactUpdates.enqueueUpdate(internalInstance)}function getInternalInstanceReadyForUpdate(publicInstance,callerName){var internalInstance=ReactInstanceMap.get(publicInstance);if(!internalInstance){if("production"!=="production"){"production"!=="production"?warning(!callerName,"%s(...): Can only update a mounted or mounting component. "+"This usually means you called %s() on an unmounted component. "+"This is a no-op. Please check the code for the %s component.",callerName,callerName,publicInstance.constructor.displayName):undefined}return null}if("production"!=="production"){"production"!=="production"?warning(ReactCurrentOwner.current==null,"%s(...): Cannot update during an existing state transition "+"(such as within `render`). Render methods should be a pure function "+"of props and state.",callerName):undefined}return internalInstance}var ReactUpdateQueue={isMounted:function(publicInstance){if("production"!=="production"){var owner=ReactCurrentOwner.current;if(owner!==null){"production"!=="production"?warning(owner._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. "+"render() should be a pure function of props and state. It should "+"never access something that requires stale data from the previous "+"render, such as refs. Move this logic to componentDidMount and "+"componentDidUpdate instead.",owner.getName()||"A component"):undefined;owner._warnedAboutRefsInRender=true}}var internalInstance=ReactInstanceMap.get(publicInstance);if(internalInstance){return!!internalInstance._renderedComponent}else{return false}},enqueueCallback:function(publicInstance,callback){!(typeof callback==="function")?"production"!=="production"?invariant(false,"enqueueCallback(...): You called `setProps`, `replaceProps`, "+"`setState`, `replaceState`, or `forceUpdate` with a callback that "+"isn't callable."):invariant(false):undefined;var internalInstance=getInternalInstanceReadyForUpdate(publicInstance);if(!internalInstance){return null}if(internalInstance._pendingCallbacks){internalInstance._pendingCallbacks.push(callback)}else{internalInstance._pendingCallbacks=[callback]}enqueueUpdate(internalInstance)},enqueueCallbackInternal:function(internalInstance,callback){!(typeof callback==="function")?"production"!=="production"?invariant(false,"enqueueCallback(...): You called `setProps`, `replaceProps`, "+"`setState`, `replaceState`, or `forceUpdate` with a callback that "+"isn't callable."):invariant(false):undefined;if(internalInstance._pendingCallbacks){internalInstance._pendingCallbacks.push(callback)}else{internalInstance._pendingCallbacks=[callback]}enqueueUpdate(internalInstance)},enqueueForceUpdate:function(publicInstance){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,"forceUpdate");if(!internalInstance){return}internalInstance._pendingForceUpdate=true;enqueueUpdate(internalInstance)},enqueueReplaceState:function(publicInstance,completeState){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,"replaceState");if(!internalInstance){return}internalInstance._pendingStateQueue=[completeState];internalInstance._pendingReplaceState=true;enqueueUpdate(internalInstance)},enqueueSetState:function(publicInstance,partialState){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,"setState");if(!internalInstance){return}var queue=internalInstance._pendingStateQueue||(internalInstance._pendingStateQueue=[]);queue.push(partialState);enqueueUpdate(internalInstance)},enqueueSetProps:function(publicInstance,partialProps){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,"setProps");if(!internalInstance){return}ReactUpdateQueue.enqueueSetPropsInternal(internalInstance,partialProps)},enqueueSetPropsInternal:function(internalInstance,partialProps){var topLevelWrapper=internalInstance._topLevelWrapper;!topLevelWrapper?"production"!=="production"?invariant(false,"setProps(...): You called `setProps` on a "+"component with a parent. This is an anti-pattern since props will "+"get reactively updated when rendered. Instead, change the owner's "+"`render` method to pass the correct value as props to the component "+"where it is created."):invariant(false):undefined;var wrapElement=topLevelWrapper._pendingElement||topLevelWrapper._currentElement;var element=wrapElement.props;var props=assign({},element.props,partialProps);topLevelWrapper._pendingElement=ReactElement.cloneAndReplaceProps(wrapElement,ReactElement.cloneAndReplaceProps(element,props));enqueueUpdate(topLevelWrapper)},enqueueReplaceProps:function(publicInstance,props){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,"replaceProps");if(!internalInstance){return}ReactUpdateQueue.enqueueReplacePropsInternal(internalInstance,props)},enqueueReplacePropsInternal:function(internalInstance,props){var topLevelWrapper=internalInstance._topLevelWrapper;!topLevelWrapper?"production"!=="production"?invariant(false,"replaceProps(...): You called `replaceProps` on a "+"component with a parent. This is an anti-pattern since props will "+"get reactively updated when rendered. Instead, change the owner's "+"`render` method to pass the correct value as props to the component "+"where it is created."):invariant(false):undefined;var wrapElement=topLevelWrapper._pendingElement||topLevelWrapper._currentElement;var element=wrapElement.props;topLevelWrapper._pendingElement=ReactElement.cloneAndReplaceProps(wrapElement,ReactElement.cloneAndReplaceProps(element,props));enqueueUpdate(topLevelWrapper)},enqueueElementInternal:function(internalInstance,newElement){internalInstance._pendingElement=newElement;enqueueUpdate(internalInstance)}};module.exports=ReactUpdateQueue},{"./Object.assign":"/Users/paulfrazee/patchwork/node_modules/react/lib/Object.assign.js","./ReactCurrentOwner":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactCurrentOwner.js","./ReactElement":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactElement.js","./ReactInstanceMap":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactInstanceMap.js","./ReactUpdates":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactUpdates.js","fbjs/lib/invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js","fbjs/lib/warning":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/warning.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactUpdates.js":[function(require,module,exports){"use strict";var CallbackQueue=require("./CallbackQueue");var PooledClass=require("./PooledClass");var ReactPerf=require("./ReactPerf");var ReactReconciler=require("./ReactReconciler");var Transaction=require("./Transaction");var assign=require("./Object.assign");var invariant=require("fbjs/lib/invariant");var dirtyComponents=[];var asapCallbackQueue=CallbackQueue.getPooled();var asapEnqueued=false;var batchingStrategy=null;function ensureInjected(){!(ReactUpdates.ReactReconcileTransaction&&batchingStrategy)?"production"!=="production"?invariant(false,"ReactUpdates: must inject a reconcile transaction class and batching "+"strategy"):invariant(false):undefined}var NESTED_UPDATES={initialize:function(){this.dirtyComponentsLength=dirtyComponents.length},close:function(){if(this.dirtyComponentsLength!==dirtyComponents.length){dirtyComponents.splice(0,this.dirtyComponentsLength);flushBatchedUpdates()}else{dirtyComponents.length=0}}};var UPDATE_QUEUEING={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}};var TRANSACTION_WRAPPERS=[NESTED_UPDATES,UPDATE_QUEUEING];function ReactUpdatesFlushTransaction(){this.reinitializeTransaction();this.dirtyComponentsLength=null;this.callbackQueue=CallbackQueue.getPooled();this.reconcileTransaction=ReactUpdates.ReactReconcileTransaction.getPooled(false)}assign(ReactUpdatesFlushTransaction.prototype,Transaction.Mixin,{getTransactionWrappers:function(){return TRANSACTION_WRAPPERS},destructor:function(){this.dirtyComponentsLength=null;CallbackQueue.release(this.callbackQueue);this.callbackQueue=null;ReactUpdates.ReactReconcileTransaction.release(this.reconcileTransaction);this.reconcileTransaction=null},perform:function(method,scope,a){return Transaction.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,method,scope,a)}});PooledClass.addPoolingTo(ReactUpdatesFlushTransaction);function batchedUpdates(callback,a,b,c,d,e){ensureInjected();batchingStrategy.batchedUpdates(callback,a,b,c,d,e)}function mountOrderComparator(c1,c2){return c1._mountOrder-c2._mountOrder}function runBatchedUpdates(transaction){var len=transaction.dirtyComponentsLength;!(len===dirtyComponents.length)?"production"!=="production"?invariant(false,"Expected flush transaction's stored dirty-components length (%s) to "+"match dirty-components array length (%s).",len,dirtyComponents.length):invariant(false):undefined;dirtyComponents.sort(mountOrderComparator);for(var i=0;i<len;i++){var component=dirtyComponents[i];var callbacks=component._pendingCallbacks;component._pendingCallbacks=null;ReactReconciler.performUpdateIfNecessary(component,transaction.reconcileTransaction);if(callbacks){for(var j=0;j<callbacks.length;j++){transaction.callbackQueue.enqueue(callbacks[j],component.getPublicInstance())}}}}var flushBatchedUpdates=function(){while(dirtyComponents.length||asapEnqueued){if(dirtyComponents.length){var transaction=ReactUpdatesFlushTransaction.getPooled();transaction.perform(runBatchedUpdates,null,transaction);ReactUpdatesFlushTransaction.release(transaction)}if(asapEnqueued){asapEnqueued=false;var queue=asapCallbackQueue;asapCallbackQueue=CallbackQueue.getPooled();queue.notifyAll();CallbackQueue.release(queue)}}};flushBatchedUpdates=ReactPerf.measure("ReactUpdates","flushBatchedUpdates",flushBatchedUpdates);function enqueueUpdate(component){ensureInjected();if(!batchingStrategy.isBatchingUpdates){batchingStrategy.batchedUpdates(enqueueUpdate,component);return}dirtyComponents.push(component)}function asap(callback,context){!batchingStrategy.isBatchingUpdates?"production"!=="production"?invariant(false,"ReactUpdates.asap: Can't enqueue an asap callback in a context where"+"updates are not being batched."):invariant(false):undefined;asapCallbackQueue.enqueue(callback,context);asapEnqueued=true}var ReactUpdatesInjection={injectReconcileTransaction:function(ReconcileTransaction){!ReconcileTransaction?"production"!=="production"?invariant(false,"ReactUpdates: must provide a reconcile transaction class"):invariant(false):undefined;ReactUpdates.ReactReconcileTransaction=ReconcileTransaction},injectBatchingStrategy:function(_batchingStrategy){!_batchingStrategy?"production"!=="production"?invariant(false,"ReactUpdates: must provide a batching strategy"):invariant(false):undefined;!(typeof _batchingStrategy.batchedUpdates==="function")?"production"!=="production"?invariant(false,"ReactUpdates: must provide a batchedUpdates() function"):invariant(false):undefined;!(typeof _batchingStrategy.isBatchingUpdates==="boolean")?"production"!=="production"?invariant(false,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"):invariant(false):undefined;batchingStrategy=_batchingStrategy}};var ReactUpdates={ReactReconcileTransaction:null,batchedUpdates:batchedUpdates,enqueueUpdate:enqueueUpdate,flushBatchedUpdates:flushBatchedUpdates,injection:ReactUpdatesInjection,asap:asap};module.exports=ReactUpdates},{"./CallbackQueue":"/Users/paulfrazee/patchwork/node_modules/react/lib/CallbackQueue.js","./Object.assign":"/Users/paulfrazee/patchwork/node_modules/react/lib/Object.assign.js",
"./PooledClass":"/Users/paulfrazee/patchwork/node_modules/react/lib/PooledClass.js","./ReactPerf":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactPerf.js","./ReactReconciler":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactReconciler.js","./Transaction":"/Users/paulfrazee/patchwork/node_modules/react/lib/Transaction.js","fbjs/lib/invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactVersion.js":[function(require,module,exports){"use strict";module.exports="0.14.6"},{}],"/Users/paulfrazee/patchwork/node_modules/react/lib/SVGDOMPropertyConfig.js":[function(require,module,exports){"use strict";var DOMProperty=require("./DOMProperty");var MUST_USE_ATTRIBUTE=DOMProperty.injection.MUST_USE_ATTRIBUTE;var NS={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};var SVGDOMPropertyConfig={Properties:{clipPath:MUST_USE_ATTRIBUTE,cx:MUST_USE_ATTRIBUTE,cy:MUST_USE_ATTRIBUTE,d:MUST_USE_ATTRIBUTE,dx:MUST_USE_ATTRIBUTE,dy:MUST_USE_ATTRIBUTE,fill:MUST_USE_ATTRIBUTE,fillOpacity:MUST_USE_ATTRIBUTE,fontFamily:MUST_USE_ATTRIBUTE,fontSize:MUST_USE_ATTRIBUTE,fx:MUST_USE_ATTRIBUTE,fy:MUST_USE_ATTRIBUTE,gradientTransform:MUST_USE_ATTRIBUTE,gradientUnits:MUST_USE_ATTRIBUTE,markerEnd:MUST_USE_ATTRIBUTE,markerMid:MUST_USE_ATTRIBUTE,markerStart:MUST_USE_ATTRIBUTE,offset:MUST_USE_ATTRIBUTE,opacity:MUST_USE_ATTRIBUTE,patternContentUnits:MUST_USE_ATTRIBUTE,patternUnits:MUST_USE_ATTRIBUTE,points:MUST_USE_ATTRIBUTE,preserveAspectRatio:MUST_USE_ATTRIBUTE,r:MUST_USE_ATTRIBUTE,rx:MUST_USE_ATTRIBUTE,ry:MUST_USE_ATTRIBUTE,spreadMethod:MUST_USE_ATTRIBUTE,stopColor:MUST_USE_ATTRIBUTE,stopOpacity:MUST_USE_ATTRIBUTE,stroke:MUST_USE_ATTRIBUTE,strokeDasharray:MUST_USE_ATTRIBUTE,strokeLinecap:MUST_USE_ATTRIBUTE,strokeOpacity:MUST_USE_ATTRIBUTE,strokeWidth:MUST_USE_ATTRIBUTE,textAnchor:MUST_USE_ATTRIBUTE,transform:MUST_USE_ATTRIBUTE,version:MUST_USE_ATTRIBUTE,viewBox:MUST_USE_ATTRIBUTE,x1:MUST_USE_ATTRIBUTE,x2:MUST_USE_ATTRIBUTE,x:MUST_USE_ATTRIBUTE,xlinkActuate:MUST_USE_ATTRIBUTE,xlinkArcrole:MUST_USE_ATTRIBUTE,xlinkHref:MUST_USE_ATTRIBUTE,xlinkRole:MUST_USE_ATTRIBUTE,xlinkShow:MUST_USE_ATTRIBUTE,xlinkTitle:MUST_USE_ATTRIBUTE,xlinkType:MUST_USE_ATTRIBUTE,xmlBase:MUST_USE_ATTRIBUTE,xmlLang:MUST_USE_ATTRIBUTE,xmlSpace:MUST_USE_ATTRIBUTE,y1:MUST_USE_ATTRIBUTE,y2:MUST_USE_ATTRIBUTE,y:MUST_USE_ATTRIBUTE},DOMAttributeNamespaces:{xlinkActuate:NS.xlink,xlinkArcrole:NS.xlink,xlinkHref:NS.xlink,xlinkRole:NS.xlink,xlinkShow:NS.xlink,xlinkTitle:NS.xlink,xlinkType:NS.xlink,xmlBase:NS.xml,xmlLang:NS.xml,xmlSpace:NS.xml},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}};module.exports=SVGDOMPropertyConfig},{"./DOMProperty":"/Users/paulfrazee/patchwork/node_modules/react/lib/DOMProperty.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/SelectEventPlugin.js":[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants");var EventPropagators=require("./EventPropagators");var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment");var ReactInputSelection=require("./ReactInputSelection");var SyntheticEvent=require("./SyntheticEvent");var getActiveElement=require("fbjs/lib/getActiveElement");var isTextInputElement=require("./isTextInputElement");var keyOf=require("fbjs/lib/keyOf");var shallowEqual=require("fbjs/lib/shallowEqual");var topLevelTypes=EventConstants.topLevelTypes;var skipSelectionChangeEvent=ExecutionEnvironment.canUseDOM&&"documentMode"in document&&document.documentMode<=11;var eventTypes={select:{phasedRegistrationNames:{bubbled:keyOf({onSelect:null}),captured:keyOf({onSelectCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topContextMenu,topLevelTypes.topFocus,topLevelTypes.topKeyDown,topLevelTypes.topMouseDown,topLevelTypes.topMouseUp,topLevelTypes.topSelectionChange]}};var activeElement=null;var activeElementID=null;var lastSelection=null;var mouseDown=false;var hasListener=false;var ON_SELECT_KEY=keyOf({onSelect:null});function getSelection(node){if("selectionStart"in node&&ReactInputSelection.hasSelectionCapabilities(node)){return{start:node.selectionStart,end:node.selectionEnd}}else if(window.getSelection){var selection=window.getSelection();return{anchorNode:selection.anchorNode,anchorOffset:selection.anchorOffset,focusNode:selection.focusNode,focusOffset:selection.focusOffset}}else if(document.selection){var range=document.selection.createRange();return{parentElement:range.parentElement(),text:range.text,top:range.boundingTop,left:range.boundingLeft}}}function constructSelectEvent(nativeEvent,nativeEventTarget){if(mouseDown||activeElement==null||activeElement!==getActiveElement()){return null}var currentSelection=getSelection(activeElement);if(!lastSelection||!shallowEqual(lastSelection,currentSelection)){lastSelection=currentSelection;var syntheticEvent=SyntheticEvent.getPooled(eventTypes.select,activeElementID,nativeEvent,nativeEventTarget);syntheticEvent.type="select";syntheticEvent.target=activeElement;EventPropagators.accumulateTwoPhaseDispatches(syntheticEvent);return syntheticEvent}return null}var SelectEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){if(!hasListener){return null}switch(topLevelType){case topLevelTypes.topFocus:if(isTextInputElement(topLevelTarget)||topLevelTarget.contentEditable==="true"){activeElement=topLevelTarget;activeElementID=topLevelTargetID;lastSelection=null}break;case topLevelTypes.topBlur:activeElement=null;activeElementID=null;lastSelection=null;break;case topLevelTypes.topMouseDown:mouseDown=true;break;case topLevelTypes.topContextMenu:case topLevelTypes.topMouseUp:mouseDown=false;return constructSelectEvent(nativeEvent,nativeEventTarget);case topLevelTypes.topSelectionChange:if(skipSelectionChangeEvent){break}case topLevelTypes.topKeyDown:case topLevelTypes.topKeyUp:return constructSelectEvent(nativeEvent,nativeEventTarget)}return null},didPutListener:function(id,registrationName,listener){if(registrationName===ON_SELECT_KEY){hasListener=true}}};module.exports=SelectEventPlugin},{"./EventConstants":"/Users/paulfrazee/patchwork/node_modules/react/lib/EventConstants.js","./EventPropagators":"/Users/paulfrazee/patchwork/node_modules/react/lib/EventPropagators.js","./ReactInputSelection":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactInputSelection.js","./SyntheticEvent":"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticEvent.js","./isTextInputElement":"/Users/paulfrazee/patchwork/node_modules/react/lib/isTextInputElement.js","fbjs/lib/ExecutionEnvironment":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/ExecutionEnvironment.js","fbjs/lib/getActiveElement":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/getActiveElement.js","fbjs/lib/keyOf":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/keyOf.js","fbjs/lib/shallowEqual":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/shallowEqual.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ServerReactRootIndex.js":[function(require,module,exports){"use strict";var GLOBAL_MOUNT_POINT_MAX=Math.pow(2,53);var ServerReactRootIndex={createReactRootIndex:function(){return Math.ceil(Math.random()*GLOBAL_MOUNT_POINT_MAX)}};module.exports=ServerReactRootIndex},{}],"/Users/paulfrazee/patchwork/node_modules/react/lib/SimpleEventPlugin.js":[function(require,module,exports){"use strict";var EventConstants=require("./EventConstants");var EventListener=require("fbjs/lib/EventListener");var EventPropagators=require("./EventPropagators");var ReactMount=require("./ReactMount");var SyntheticClipboardEvent=require("./SyntheticClipboardEvent");var SyntheticEvent=require("./SyntheticEvent");var SyntheticFocusEvent=require("./SyntheticFocusEvent");var SyntheticKeyboardEvent=require("./SyntheticKeyboardEvent");var SyntheticMouseEvent=require("./SyntheticMouseEvent");var SyntheticDragEvent=require("./SyntheticDragEvent");var SyntheticTouchEvent=require("./SyntheticTouchEvent");var SyntheticUIEvent=require("./SyntheticUIEvent");var SyntheticWheelEvent=require("./SyntheticWheelEvent");var emptyFunction=require("fbjs/lib/emptyFunction");var getEventCharCode=require("./getEventCharCode");var invariant=require("fbjs/lib/invariant");var keyOf=require("fbjs/lib/keyOf");var topLevelTypes=EventConstants.topLevelTypes;var eventTypes={abort:{phasedRegistrationNames:{bubbled:keyOf({onAbort:true}),captured:keyOf({onAbortCapture:true})}},blur:{phasedRegistrationNames:{bubbled:keyOf({onBlur:true}),captured:keyOf({onBlurCapture:true})}},canPlay:{phasedRegistrationNames:{bubbled:keyOf({onCanPlay:true}),captured:keyOf({onCanPlayCapture:true})}},canPlayThrough:{phasedRegistrationNames:{bubbled:keyOf({onCanPlayThrough:true}),captured:keyOf({onCanPlayThroughCapture:true})}},click:{phasedRegistrationNames:{bubbled:keyOf({onClick:true}),captured:keyOf({onClickCapture:true})}},contextMenu:{phasedRegistrationNames:{bubbled:keyOf({onContextMenu:true}),captured:keyOf({onContextMenuCapture:true})}},copy:{phasedRegistrationNames:{bubbled:keyOf({onCopy:true}),captured:keyOf({onCopyCapture:true})}},cut:{phasedRegistrationNames:{bubbled:keyOf({onCut:true}),captured:keyOf({onCutCapture:true})}},doubleClick:{phasedRegistrationNames:{bubbled:keyOf({onDoubleClick:true}),captured:keyOf({onDoubleClickCapture:true})}},drag:{phasedRegistrationNames:{bubbled:keyOf({onDrag:true}),captured:keyOf({onDragCapture:true})}},dragEnd:{phasedRegistrationNames:{bubbled:keyOf({onDragEnd:true}),captured:keyOf({onDragEndCapture:true})}},dragEnter:{phasedRegistrationNames:{bubbled:keyOf({onDragEnter:true}),captured:keyOf({onDragEnterCapture:true})}},dragExit:{phasedRegistrationNames:{bubbled:keyOf({onDragExit:true}),captured:keyOf({onDragExitCapture:true})}},dragLeave:{phasedRegistrationNames:{bubbled:keyOf({onDragLeave:true}),captured:keyOf({onDragLeaveCapture:true})}},dragOver:{phasedRegistrationNames:{bubbled:keyOf({onDragOver:true}),captured:keyOf({onDragOverCapture:true})}},dragStart:{phasedRegistrationNames:{bubbled:keyOf({onDragStart:true}),captured:keyOf({onDragStartCapture:true})}},drop:{phasedRegistrationNames:{bubbled:keyOf({onDrop:true}),captured:keyOf({onDropCapture:true})}},durationChange:{phasedRegistrationNames:{bubbled:keyOf({onDurationChange:true}),captured:keyOf({onDurationChangeCapture:true})}},emptied:{phasedRegistrationNames:{bubbled:keyOf({onEmptied:true}),captured:keyOf({onEmptiedCapture:true})}},encrypted:{phasedRegistrationNames:{bubbled:keyOf({onEncrypted:true}),captured:keyOf({onEncryptedCapture:true})}},ended:{phasedRegistrationNames:{bubbled:keyOf({onEnded:true}),captured:keyOf({onEndedCapture:true})}},error:{phasedRegistrationNames:{bubbled:keyOf({onError:true}),captured:keyOf({onErrorCapture:true})}},focus:{phasedRegistrationNames:{bubbled:keyOf({onFocus:true}),captured:keyOf({onFocusCapture:true})}},input:{phasedRegistrationNames:{bubbled:keyOf({onInput:true}),captured:keyOf({onInputCapture:true})}},keyDown:{phasedRegistrationNames:{bubbled:keyOf({onKeyDown:true}),captured:keyOf({onKeyDownCapture:true})}},keyPress:{phasedRegistrationNames:{bubbled:keyOf({onKeyPress:true}),captured:keyOf({onKeyPressCapture:true})}},keyUp:{phasedRegistrationNames:{bubbled:keyOf({onKeyUp:true}),captured:keyOf({onKeyUpCapture:true})}},load:{phasedRegistrationNames:{bubbled:keyOf({onLoad:true}),captured:keyOf({onLoadCapture:true})}},loadedData:{phasedRegistrationNames:{bubbled:keyOf({onLoadedData:true}),captured:keyOf({onLoadedDataCapture:true})}},loadedMetadata:{phasedRegistrationNames:{bubbled:keyOf({onLoadedMetadata:true}),captured:keyOf({onLoadedMetadataCapture:true})}},loadStart:{phasedRegistrationNames:{bubbled:keyOf({onLoadStart:true}),captured:keyOf({onLoadStartCapture:true})}},mouseDown:{phasedRegistrationNames:{bubbled:keyOf({onMouseDown:true}),captured:keyOf({onMouseDownCapture:true})}},mouseMove:{phasedRegistrationNames:{bubbled:keyOf({onMouseMove:true}),captured:keyOf({onMouseMoveCapture:true})}},mouseOut:{phasedRegistrationNames:{bubbled:keyOf({onMouseOut:true}),captured:keyOf({onMouseOutCapture:true})}},mouseOver:{phasedRegistrationNames:{bubbled:keyOf({onMouseOver:true}),captured:keyOf({onMouseOverCapture:true})}},mouseUp:{phasedRegistrationNames:{bubbled:keyOf({onMouseUp:true}),captured:keyOf({onMouseUpCapture:true})}},paste:{phasedRegistrationNames:{bubbled:keyOf({onPaste:true}),captured:keyOf({onPasteCapture:true})}},pause:{phasedRegistrationNames:{bubbled:keyOf({onPause:true}),captured:keyOf({onPauseCapture:true})}},play:{phasedRegistrationNames:{bubbled:keyOf({onPlay:true}),captured:keyOf({onPlayCapture:true})}},playing:{phasedRegistrationNames:{bubbled:keyOf({onPlaying:true}),captured:keyOf({onPlayingCapture:true})}},progress:{phasedRegistrationNames:{bubbled:keyOf({onProgress:true}),captured:keyOf({onProgressCapture:true})}},rateChange:{phasedRegistrationNames:{bubbled:keyOf({onRateChange:true}),captured:keyOf({onRateChangeCapture:true})}},reset:{phasedRegistrationNames:{bubbled:keyOf({onReset:true}),captured:keyOf({onResetCapture:true})}},scroll:{phasedRegistrationNames:{bubbled:keyOf({onScroll:true}),captured:keyOf({onScrollCapture:true})}},seeked:{phasedRegistrationNames:{bubbled:keyOf({onSeeked:true}),captured:keyOf({onSeekedCapture:true})}},seeking:{phasedRegistrationNames:{bubbled:keyOf({onSeeking:true}),captured:keyOf({onSeekingCapture:true})}},stalled:{phasedRegistrationNames:{bubbled:keyOf({onStalled:true}),captured:keyOf({onStalledCapture:true})}},submit:{phasedRegistrationNames:{bubbled:keyOf({onSubmit:true}),captured:keyOf({onSubmitCapture:true})}},suspend:{phasedRegistrationNames:{bubbled:keyOf({onSuspend:true}),captured:keyOf({onSuspendCapture:true})}},timeUpdate:{phasedRegistrationNames:{bubbled:keyOf({onTimeUpdate:true}),captured:keyOf({onTimeUpdateCapture:true})}},touchCancel:{phasedRegistrationNames:{bubbled:keyOf({onTouchCancel:true}),captured:keyOf({onTouchCancelCapture:true})}},touchEnd:{phasedRegistrationNames:{bubbled:keyOf({onTouchEnd:true}),captured:keyOf({onTouchEndCapture:true})}},touchMove:{phasedRegistrationNames:{bubbled:keyOf({onTouchMove:true}),captured:keyOf({onTouchMoveCapture:true})}},touchStart:{phasedRegistrationNames:{bubbled:keyOf({onTouchStart:true}),captured:keyOf({onTouchStartCapture:true})}},volumeChange:{phasedRegistrationNames:{bubbled:keyOf({onVolumeChange:true}),captured:keyOf({onVolumeChangeCapture:true})}},waiting:{phasedRegistrationNames:{bubbled:keyOf({onWaiting:true}),captured:keyOf({onWaitingCapture:true})}},wheel:{phasedRegistrationNames:{bubbled:keyOf({onWheel:true}),captured:keyOf({onWheelCapture:true})}}};var topLevelEventsToDispatchConfig={topAbort:eventTypes.abort,topBlur:eventTypes.blur,topCanPlay:eventTypes.canPlay,topCanPlayThrough:eventTypes.canPlayThrough,topClick:eventTypes.click,topContextMenu:eventTypes.contextMenu,topCopy:eventTypes.copy,topCut:eventTypes.cut,topDoubleClick:eventTypes.doubleClick,topDrag:eventTypes.drag,topDragEnd:eventTypes.dragEnd,topDragEnter:eventTypes.dragEnter,topDragExit:eventTypes.dragExit,topDragLeave:eventTypes.dragLeave,topDragOver:eventTypes.dragOver,topDragStart:eventTypes.dragStart,topDrop:eventTypes.drop,topDurationChange:eventTypes.durationChange,topEmptied:eventTypes.emptied,topEncrypted:eventTypes.encrypted,topEnded:eventTypes.ended,topError:eventTypes.error,topFocus:eventTypes.focus,topInput:eventTypes.input,topKeyDown:eventTypes.keyDown,topKeyPress:eventTypes.keyPress,topKeyUp:eventTypes.keyUp,topLoad:eventTypes.load,topLoadedData:eventTypes.loadedData,topLoadedMetadata:eventTypes.loadedMetadata,topLoadStart:eventTypes.loadStart,topMouseDown:eventTypes.mouseDown,topMouseMove:eventTypes.mouseMove,topMouseOut:eventTypes.mouseOut,topMouseOver:eventTypes.mouseOver,topMouseUp:eventTypes.mouseUp,topPaste:eventTypes.paste,topPause:eventTypes.pause,topPlay:eventTypes.play,topPlaying:eventTypes.playing,topProgress:eventTypes.progress,topRateChange:eventTypes.rateChange,topReset:eventTypes.reset,topScroll:eventTypes.scroll,topSeeked:eventTypes.seeked,topSeeking:eventTypes.seeking,topStalled:eventTypes.stalled,topSubmit:eventTypes.submit,topSuspend:eventTypes.suspend,topTimeUpdate:eventTypes.timeUpdate,topTouchCancel:eventTypes.touchCancel,topTouchEnd:eventTypes.touchEnd,topTouchMove:eventTypes.touchMove,topTouchStart:eventTypes.touchStart,topVolumeChange:eventTypes.volumeChange,topWaiting:eventTypes.waiting,topWheel:eventTypes.wheel};for(var type in topLevelEventsToDispatchConfig){topLevelEventsToDispatchConfig[type].dependencies=[type]}var ON_CLICK_KEY=keyOf({onClick:null});var onClickListeners={};var SimpleEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){var dispatchConfig=topLevelEventsToDispatchConfig[topLevelType];if(!dispatchConfig){return null}var EventConstructor;switch(topLevelType){case topLevelTypes.topAbort:case topLevelTypes.topCanPlay:case topLevelTypes.topCanPlayThrough:case topLevelTypes.topDurationChange:case topLevelTypes.topEmptied:case topLevelTypes.topEncrypted:case topLevelTypes.topEnded:case topLevelTypes.topError:case topLevelTypes.topInput:case topLevelTypes.topLoad:case topLevelTypes.topLoadedData:case topLevelTypes.topLoadedMetadata:case topLevelTypes.topLoadStart:case topLevelTypes.topPause:case topLevelTypes.topPlay:case topLevelTypes.topPlaying:case topLevelTypes.topProgress:case topLevelTypes.topRateChange:case topLevelTypes.topReset:case topLevelTypes.topSeeked:case topLevelTypes.topSeeking:case topLevelTypes.topStalled:case topLevelTypes.topSubmit:case topLevelTypes.topSuspend:case topLevelTypes.topTimeUpdate:case topLevelTypes.topVolumeChange:case topLevelTypes.topWaiting:EventConstructor=SyntheticEvent;break;case topLevelTypes.topKeyPress:if(getEventCharCode(nativeEvent)===0){return null}case topLevelTypes.topKeyDown:case topLevelTypes.topKeyUp:EventConstructor=SyntheticKeyboardEvent;break;case topLevelTypes.topBlur:case topLevelTypes.topFocus:EventConstructor=SyntheticFocusEvent;break;case topLevelTypes.topClick:if(nativeEvent.button===2){return null}case topLevelTypes.topContextMenu:case topLevelTypes.topDoubleClick:case topLevelTypes.topMouseDown:case topLevelTypes.topMouseMove:case topLevelTypes.topMouseOut:case topLevelTypes.topMouseOver:case topLevelTypes.topMouseUp:EventConstructor=SyntheticMouseEvent;break;case topLevelTypes.topDrag:case topLevelTypes.topDragEnd:case topLevelTypes.topDragEnter:case topLevelTypes.topDragExit:case topLevelTypes.topDragLeave:case topLevelTypes.topDragOver:case topLevelTypes.topDragStart:case topLevelTypes.topDrop:EventConstructor=SyntheticDragEvent;break;case topLevelTypes.topTouchCancel:case topLevelTypes.topTouchEnd:case topLevelTypes.topTouchMove:case topLevelTypes.topTouchStart:EventConstructor=SyntheticTouchEvent;break;case topLevelTypes.topScroll:EventConstructor=SyntheticUIEvent;break;case topLevelTypes.topWheel:EventConstructor=SyntheticWheelEvent;break;case topLevelTypes.topCopy:case topLevelTypes.topCut:case topLevelTypes.topPaste:EventConstructor=SyntheticClipboardEvent;break}!EventConstructor?"production"!=="production"?invariant(false,"SimpleEventPlugin: Unhandled event type, `%s`.",topLevelType):invariant(false):undefined;var event=EventConstructor.getPooled(dispatchConfig,topLevelTargetID,nativeEvent,nativeEventTarget);EventPropagators.accumulateTwoPhaseDispatches(event);return event},didPutListener:function(id,registrationName,listener){if(registrationName===ON_CLICK_KEY){var node=ReactMount.getNode(id);if(!onClickListeners[id]){onClickListeners[id]=EventListener.listen(node,"click",emptyFunction)}}},willDeleteListener:function(id,registrationName){if(registrationName===ON_CLICK_KEY){onClickListeners[id].remove();delete onClickListeners[id]}}};module.exports=SimpleEventPlugin},{"./EventConstants":"/Users/paulfrazee/patchwork/node_modules/react/lib/EventConstants.js","./EventPropagators":"/Users/paulfrazee/patchwork/node_modules/react/lib/EventPropagators.js","./ReactMount":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactMount.js","./SyntheticClipboardEvent":"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticClipboardEvent.js","./SyntheticDragEvent":"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticDragEvent.js","./SyntheticEvent":"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticEvent.js","./SyntheticFocusEvent":"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticFocusEvent.js","./SyntheticKeyboardEvent":"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticKeyboardEvent.js","./SyntheticMouseEvent":"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticMouseEvent.js","./SyntheticTouchEvent":"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticTouchEvent.js","./SyntheticUIEvent":"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticUIEvent.js","./SyntheticWheelEvent":"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticWheelEvent.js","./getEventCharCode":"/Users/paulfrazee/patchwork/node_modules/react/lib/getEventCharCode.js","fbjs/lib/EventListener":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/EventListener.js","fbjs/lib/emptyFunction":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/emptyFunction.js","fbjs/lib/invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js","fbjs/lib/keyOf":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/keyOf.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticClipboardEvent.js":[function(require,module,exports){"use strict";var SyntheticEvent=require("./SyntheticEvent");var ClipboardEventInterface={clipboardData:function(event){return"clipboardData"in event?event.clipboardData:window.clipboardData}};function SyntheticClipboardEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}SyntheticEvent.augmentClass(SyntheticClipboardEvent,ClipboardEventInterface);module.exports=SyntheticClipboardEvent},{"./SyntheticEvent":"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticEvent.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticCompositionEvent.js":[function(require,module,exports){"use strict";var SyntheticEvent=require("./SyntheticEvent");var CompositionEventInterface={data:null};function SyntheticCompositionEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}SyntheticEvent.augmentClass(SyntheticCompositionEvent,CompositionEventInterface);module.exports=SyntheticCompositionEvent},{"./SyntheticEvent":"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticEvent.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticDragEvent.js":[function(require,module,exports){"use strict";var SyntheticMouseEvent=require("./SyntheticMouseEvent");var DragEventInterface={dataTransfer:null};function SyntheticDragEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticMouseEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}SyntheticMouseEvent.augmentClass(SyntheticDragEvent,DragEventInterface);module.exports=SyntheticDragEvent},{"./SyntheticMouseEvent":"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticMouseEvent.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticEvent.js":[function(require,module,exports){"use strict";var PooledClass=require("./PooledClass");var assign=require("./Object.assign");var emptyFunction=require("fbjs/lib/emptyFunction");var warning=require("fbjs/lib/warning");var EventInterface={type:null,currentTarget:emptyFunction.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(event){return event.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function SyntheticEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){this.dispatchConfig=dispatchConfig;this.dispatchMarker=dispatchMarker;this.nativeEvent=nativeEvent;this.target=nativeEventTarget;this.currentTarget=nativeEventTarget;var Interface=this.constructor.Interface;for(var propName in Interface){if(!Interface.hasOwnProperty(propName)){continue}var normalize=Interface[propName];if(normalize){this[propName]=normalize(nativeEvent)}else{this[propName]=nativeEvent[propName]}}var defaultPrevented=nativeEvent.defaultPrevented!=null?nativeEvent.defaultPrevented:nativeEvent.returnValue===false;if(defaultPrevented){this.isDefaultPrevented=emptyFunction.thatReturnsTrue}else{this.isDefaultPrevented=emptyFunction.thatReturnsFalse}this.isPropagationStopped=emptyFunction.thatReturnsFalse}assign(SyntheticEvent.prototype,{preventDefault:function(){this.defaultPrevented=true;var event=this.nativeEvent;if("production"!=="production"){"production"!=="production"?warning(event,"This synthetic event is reused for performance reasons. If you're "+"seeing this, you're calling `preventDefault` on a "+"released/nullified synthetic event. This is a no-op. See "+"https://fb.me/react-event-pooling for more information."):undefined}if(!event){return}if(event.preventDefault){event.preventDefault()}else{event.returnValue=false}this.isDefaultPrevented=emptyFunction.thatReturnsTrue},stopPropagation:function(){var event=this.nativeEvent;if("production"!=="production"){"production"!=="production"?warning(event,"This synthetic event is reused for performance reasons. If you're "+"seeing this, you're calling `stopPropagation` on a "+"released/nullified synthetic event. This is a no-op. See "+"https://fb.me/react-event-pooling for more information."):undefined}if(!event){return}if(event.stopPropagation){event.stopPropagation()}else{event.cancelBubble=true}this.isPropagationStopped=emptyFunction.thatReturnsTrue},persist:function(){this.isPersistent=emptyFunction.thatReturnsTrue},isPersistent:emptyFunction.thatReturnsFalse,destructor:function(){var Interface=this.constructor.Interface;for(var propName in Interface){this[propName]=null}this.dispatchConfig=null;this.dispatchMarker=null;this.nativeEvent=null}});SyntheticEvent.Interface=EventInterface;SyntheticEvent.augmentClass=function(Class,Interface){var Super=this;var prototype=Object.create(Super.prototype);assign(prototype,Class.prototype);Class.prototype=prototype;Class.prototype.constructor=Class;Class.Interface=assign({},Super.Interface,Interface);Class.augmentClass=Super.augmentClass;PooledClass.addPoolingTo(Class,PooledClass.fourArgumentPooler)};PooledClass.addPoolingTo(SyntheticEvent,PooledClass.fourArgumentPooler);module.exports=SyntheticEvent},{"./Object.assign":"/Users/paulfrazee/patchwork/node_modules/react/lib/Object.assign.js","./PooledClass":"/Users/paulfrazee/patchwork/node_modules/react/lib/PooledClass.js","fbjs/lib/emptyFunction":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/emptyFunction.js","fbjs/lib/warning":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/warning.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticFocusEvent.js":[function(require,module,exports){"use strict";var SyntheticUIEvent=require("./SyntheticUIEvent");var FocusEventInterface={relatedTarget:null};function SyntheticFocusEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}SyntheticUIEvent.augmentClass(SyntheticFocusEvent,FocusEventInterface);module.exports=SyntheticFocusEvent},{"./SyntheticUIEvent":"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticUIEvent.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticInputEvent.js":[function(require,module,exports){"use strict";var SyntheticEvent=require("./SyntheticEvent");var InputEventInterface={data:null};function SyntheticInputEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}SyntheticEvent.augmentClass(SyntheticInputEvent,InputEventInterface);module.exports=SyntheticInputEvent},{"./SyntheticEvent":"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticEvent.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticKeyboardEvent.js":[function(require,module,exports){"use strict";var SyntheticUIEvent=require("./SyntheticUIEvent");var getEventCharCode=require("./getEventCharCode");var getEventKey=require("./getEventKey");var getEventModifierState=require("./getEventModifierState");var KeyboardEventInterface={key:getEventKey,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:getEventModifierState,charCode:function(event){if(event.type==="keypress"){return getEventCharCode(event)}return 0},keyCode:function(event){if(event.type==="keydown"||event.type==="keyup"){return event.keyCode}return 0},which:function(event){if(event.type==="keypress"){return getEventCharCode(event)}if(event.type==="keydown"||event.type==="keyup"){return event.keyCode}return 0}};function SyntheticKeyboardEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}SyntheticUIEvent.augmentClass(SyntheticKeyboardEvent,KeyboardEventInterface);module.exports=SyntheticKeyboardEvent},{"./SyntheticUIEvent":"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticUIEvent.js","./getEventCharCode":"/Users/paulfrazee/patchwork/node_modules/react/lib/getEventCharCode.js","./getEventKey":"/Users/paulfrazee/patchwork/node_modules/react/lib/getEventKey.js","./getEventModifierState":"/Users/paulfrazee/patchwork/node_modules/react/lib/getEventModifierState.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticMouseEvent.js":[function(require,module,exports){"use strict";var SyntheticUIEvent=require("./SyntheticUIEvent");var ViewportMetrics=require("./ViewportMetrics");var getEventModifierState=require("./getEventModifierState");var MouseEventInterface={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:getEventModifierState,button:function(event){var button=event.button;if("which"in event){return button}return button===2?2:button===4?1:0},buttons:null,relatedTarget:function(event){return event.relatedTarget||(event.fromElement===event.srcElement?event.toElement:event.fromElement)},pageX:function(event){return"pageX"in event?event.pageX:event.clientX+ViewportMetrics.currentScrollLeft},pageY:function(event){return"pageY"in event?event.pageY:event.clientY+ViewportMetrics.currentScrollTop}};function SyntheticMouseEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}SyntheticUIEvent.augmentClass(SyntheticMouseEvent,MouseEventInterface);module.exports=SyntheticMouseEvent},{"./SyntheticUIEvent":"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticUIEvent.js","./ViewportMetrics":"/Users/paulfrazee/patchwork/node_modules/react/lib/ViewportMetrics.js","./getEventModifierState":"/Users/paulfrazee/patchwork/node_modules/react/lib/getEventModifierState.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticTouchEvent.js":[function(require,module,exports){
"use strict";var SyntheticUIEvent=require("./SyntheticUIEvent");var getEventModifierState=require("./getEventModifierState");var TouchEventInterface={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:getEventModifierState};function SyntheticTouchEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}SyntheticUIEvent.augmentClass(SyntheticTouchEvent,TouchEventInterface);module.exports=SyntheticTouchEvent},{"./SyntheticUIEvent":"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticUIEvent.js","./getEventModifierState":"/Users/paulfrazee/patchwork/node_modules/react/lib/getEventModifierState.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticUIEvent.js":[function(require,module,exports){"use strict";var SyntheticEvent=require("./SyntheticEvent");var getEventTarget=require("./getEventTarget");var UIEventInterface={view:function(event){if(event.view){return event.view}var target=getEventTarget(event);if(target!=null&&target.window===target){return target}var doc=target.ownerDocument;if(doc){return doc.defaultView||doc.parentWindow}else{return window}},detail:function(event){return event.detail||0}};function SyntheticUIEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}SyntheticEvent.augmentClass(SyntheticUIEvent,UIEventInterface);module.exports=SyntheticUIEvent},{"./SyntheticEvent":"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticEvent.js","./getEventTarget":"/Users/paulfrazee/patchwork/node_modules/react/lib/getEventTarget.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticWheelEvent.js":[function(require,module,exports){"use strict";var SyntheticMouseEvent=require("./SyntheticMouseEvent");var WheelEventInterface={deltaX:function(event){return"deltaX"in event?event.deltaX:"wheelDeltaX"in event?-event.wheelDeltaX:0},deltaY:function(event){return"deltaY"in event?event.deltaY:"wheelDeltaY"in event?-event.wheelDeltaY:"wheelDelta"in event?-event.wheelDelta:0},deltaZ:null,deltaMode:null};function SyntheticWheelEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticMouseEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}SyntheticMouseEvent.augmentClass(SyntheticWheelEvent,WheelEventInterface);module.exports=SyntheticWheelEvent},{"./SyntheticMouseEvent":"/Users/paulfrazee/patchwork/node_modules/react/lib/SyntheticMouseEvent.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/Transaction.js":[function(require,module,exports){"use strict";var invariant=require("fbjs/lib/invariant");var Mixin={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers();if(this.wrapperInitData){this.wrapperInitData.length=0}else{this.wrapperInitData=[]}this._isInTransaction=false},_isInTransaction:false,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(method,scope,a,b,c,d,e,f){!!this.isInTransaction()?"production"!=="production"?invariant(false,"Transaction.perform(...): Cannot initialize a transaction when there "+"is already an outstanding transaction."):invariant(false):undefined;var errorThrown;var ret;try{this._isInTransaction=true;errorThrown=true;this.initializeAll(0);ret=method.call(scope,a,b,c,d,e,f);errorThrown=false}finally{try{if(errorThrown){try{this.closeAll(0)}catch(err){}}else{this.closeAll(0)}}finally{this._isInTransaction=false}}return ret},initializeAll:function(startIndex){var transactionWrappers=this.transactionWrappers;for(var i=startIndex;i<transactionWrappers.length;i++){var wrapper=transactionWrappers[i];try{this.wrapperInitData[i]=Transaction.OBSERVED_ERROR;this.wrapperInitData[i]=wrapper.initialize?wrapper.initialize.call(this):null}finally{if(this.wrapperInitData[i]===Transaction.OBSERVED_ERROR){try{this.initializeAll(i+1)}catch(err){}}}}},closeAll:function(startIndex){!this.isInTransaction()?"production"!=="production"?invariant(false,"Transaction.closeAll(): Cannot close transaction when none are open."):invariant(false):undefined;var transactionWrappers=this.transactionWrappers;for(var i=startIndex;i<transactionWrappers.length;i++){var wrapper=transactionWrappers[i];var initData=this.wrapperInitData[i];var errorThrown;try{errorThrown=true;if(initData!==Transaction.OBSERVED_ERROR&&wrapper.close){wrapper.close.call(this,initData)}errorThrown=false}finally{if(errorThrown){try{this.closeAll(i+1)}catch(e){}}}}this.wrapperInitData.length=0}};var Transaction={Mixin:Mixin,OBSERVED_ERROR:{}};module.exports=Transaction},{"fbjs/lib/invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/ViewportMetrics.js":[function(require,module,exports){"use strict";var ViewportMetrics={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(scrollPosition){ViewportMetrics.currentScrollLeft=scrollPosition.x;ViewportMetrics.currentScrollTop=scrollPosition.y}};module.exports=ViewportMetrics},{}],"/Users/paulfrazee/patchwork/node_modules/react/lib/accumulateInto.js":[function(require,module,exports){"use strict";var invariant=require("fbjs/lib/invariant");function accumulateInto(current,next){!(next!=null)?"production"!=="production"?invariant(false,"accumulateInto(...): Accumulated items must not be null or undefined."):invariant(false):undefined;if(current==null){return next}var currentIsArray=Array.isArray(current);var nextIsArray=Array.isArray(next);if(currentIsArray&&nextIsArray){current.push.apply(current,next);return current}if(currentIsArray){current.push(next);return current}if(nextIsArray){return[current].concat(next)}return[current,next]}module.exports=accumulateInto},{"fbjs/lib/invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/adler32.js":[function(require,module,exports){"use strict";var MOD=65521;function adler32(data){var a=1;var b=0;var i=0;var l=data.length;var m=l&~3;while(i<m){for(;i<Math.min(i+4096,m);i+=4){b+=(a+=data.charCodeAt(i))+(a+=data.charCodeAt(i+1))+(a+=data.charCodeAt(i+2))+(a+=data.charCodeAt(i+3))}a%=MOD;b%=MOD}for(;i<l;i++){b+=a+=data.charCodeAt(i)}a%=MOD;b%=MOD;return a|b<<16}module.exports=adler32},{}],"/Users/paulfrazee/patchwork/node_modules/react/lib/canDefineProperty.js":[function(require,module,exports){"use strict";var canDefineProperty=false;if("production"!=="production"){try{Object.defineProperty({},"x",{get:function(){}});canDefineProperty=true}catch(x){}}module.exports=canDefineProperty},{}],"/Users/paulfrazee/patchwork/node_modules/react/lib/dangerousStyleValue.js":[function(require,module,exports){"use strict";var CSSProperty=require("./CSSProperty");var isUnitlessNumber=CSSProperty.isUnitlessNumber;function dangerousStyleValue(name,value){var isEmpty=value==null||typeof value==="boolean"||value==="";if(isEmpty){return""}var isNonNumeric=isNaN(value);if(isNonNumeric||value===0||isUnitlessNumber.hasOwnProperty(name)&&isUnitlessNumber[name]){return""+value}if(typeof value==="string"){value=value.trim()}return value+"px"}module.exports=dangerousStyleValue},{"./CSSProperty":"/Users/paulfrazee/patchwork/node_modules/react/lib/CSSProperty.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/deprecated.js":[function(require,module,exports){"use strict";var assign=require("./Object.assign");var warning=require("fbjs/lib/warning");function deprecated(fnName,newModule,newPackage,ctx,fn){var warned=false;if("production"!=="production"){var newFn=function(){"production"!=="production"?warning(warned,"React.%s is deprecated. Please use %s.%s from require"+"('%s') "+"instead.",fnName,newModule,fnName,newPackage):undefined;warned=true;return fn.apply(ctx,arguments)};return assign(newFn,fn)}return fn}module.exports=deprecated},{"./Object.assign":"/Users/paulfrazee/patchwork/node_modules/react/lib/Object.assign.js","fbjs/lib/warning":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/warning.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/escapeTextContentForBrowser.js":[function(require,module,exports){"use strict";var ESCAPE_LOOKUP={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"};var ESCAPE_REGEX=/[&><"']/g;function escaper(match){return ESCAPE_LOOKUP[match]}function escapeTextContentForBrowser(text){return(""+text).replace(ESCAPE_REGEX,escaper)}module.exports=escapeTextContentForBrowser},{}],"/Users/paulfrazee/patchwork/node_modules/react/lib/findDOMNode.js":[function(require,module,exports){"use strict";var ReactCurrentOwner=require("./ReactCurrentOwner");var ReactInstanceMap=require("./ReactInstanceMap");var ReactMount=require("./ReactMount");var invariant=require("fbjs/lib/invariant");var warning=require("fbjs/lib/warning");function findDOMNode(componentOrElement){if("production"!=="production"){var owner=ReactCurrentOwner.current;if(owner!==null){"production"!=="production"?warning(owner._warnedAboutRefsInRender,"%s is accessing getDOMNode or findDOMNode inside its render(). "+"render() should be a pure function of props and state. It should "+"never access something that requires stale data from the previous "+"render, such as refs. Move this logic to componentDidMount and "+"componentDidUpdate instead.",owner.getName()||"A component"):undefined;owner._warnedAboutRefsInRender=true}}if(componentOrElement==null){return null}if(componentOrElement.nodeType===1){return componentOrElement}if(ReactInstanceMap.has(componentOrElement)){return ReactMount.getNodeFromInstance(componentOrElement)}!(componentOrElement.render==null||typeof componentOrElement.render!=="function")?"production"!=="production"?invariant(false,"findDOMNode was called on an unmounted component."):invariant(false):undefined;!false?"production"!=="production"?invariant(false,"Element appears to be neither ReactComponent nor DOMNode (keys: %s)",Object.keys(componentOrElement)):invariant(false):undefined}module.exports=findDOMNode},{"./ReactCurrentOwner":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactCurrentOwner.js","./ReactInstanceMap":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactInstanceMap.js","./ReactMount":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactMount.js","fbjs/lib/invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js","fbjs/lib/warning":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/warning.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/flattenChildren.js":[function(require,module,exports){"use strict";var traverseAllChildren=require("./traverseAllChildren");var warning=require("fbjs/lib/warning");function flattenSingleChildIntoContext(traverseContext,child,name){var result=traverseContext;var keyUnique=result[name]===undefined;if("production"!=="production"){"production"!=="production"?warning(keyUnique,"flattenChildren(...): Encountered two children with the same key, "+"`%s`. Child keys must be unique; when two children share a key, only "+"the first child will be used.",name):undefined}if(keyUnique&&child!=null){result[name]=child}}function flattenChildren(children){if(children==null){return children}var result={};traverseAllChildren(children,flattenSingleChildIntoContext,result);return result}module.exports=flattenChildren},{"./traverseAllChildren":"/Users/paulfrazee/patchwork/node_modules/react/lib/traverseAllChildren.js","fbjs/lib/warning":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/warning.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/forEachAccumulated.js":[function(require,module,exports){"use strict";var forEachAccumulated=function(arr,cb,scope){if(Array.isArray(arr)){arr.forEach(cb,scope)}else if(arr){cb.call(scope,arr)}};module.exports=forEachAccumulated},{}],"/Users/paulfrazee/patchwork/node_modules/react/lib/getEventCharCode.js":[function(require,module,exports){"use strict";function getEventCharCode(nativeEvent){var charCode;var keyCode=nativeEvent.keyCode;if("charCode"in nativeEvent){charCode=nativeEvent.charCode;if(charCode===0&&keyCode===13){charCode=13}}else{charCode=keyCode}if(charCode>=32||charCode===13){return charCode}return 0}module.exports=getEventCharCode},{}],"/Users/paulfrazee/patchwork/node_modules/react/lib/getEventKey.js":[function(require,module,exports){"use strict";var getEventCharCode=require("./getEventCharCode");var normalizeKey={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"};var translateToKey={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};function getEventKey(nativeEvent){if(nativeEvent.key){var key=normalizeKey[nativeEvent.key]||nativeEvent.key;if(key!=="Unidentified"){return key}}if(nativeEvent.type==="keypress"){var charCode=getEventCharCode(nativeEvent);return charCode===13?"Enter":String.fromCharCode(charCode)}if(nativeEvent.type==="keydown"||nativeEvent.type==="keyup"){return translateToKey[nativeEvent.keyCode]||"Unidentified"}return""}module.exports=getEventKey},{"./getEventCharCode":"/Users/paulfrazee/patchwork/node_modules/react/lib/getEventCharCode.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/getEventModifierState.js":[function(require,module,exports){"use strict";var modifierKeyToProp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function modifierStateGetter(keyArg){var syntheticEvent=this;var nativeEvent=syntheticEvent.nativeEvent;if(nativeEvent.getModifierState){return nativeEvent.getModifierState(keyArg)}var keyProp=modifierKeyToProp[keyArg];return keyProp?!!nativeEvent[keyProp]:false}function getEventModifierState(nativeEvent){return modifierStateGetter}module.exports=getEventModifierState},{}],"/Users/paulfrazee/patchwork/node_modules/react/lib/getEventTarget.js":[function(require,module,exports){"use strict";function getEventTarget(nativeEvent){var target=nativeEvent.target||nativeEvent.srcElement||window;return target.nodeType===3?target.parentNode:target}module.exports=getEventTarget},{}],"/Users/paulfrazee/patchwork/node_modules/react/lib/getIteratorFn.js":[function(require,module,exports){"use strict";var ITERATOR_SYMBOL=typeof Symbol==="function"&&Symbol.iterator;var FAUX_ITERATOR_SYMBOL="@@iterator";function getIteratorFn(maybeIterable){var iteratorFn=maybeIterable&&(ITERATOR_SYMBOL&&maybeIterable[ITERATOR_SYMBOL]||maybeIterable[FAUX_ITERATOR_SYMBOL]);if(typeof iteratorFn==="function"){return iteratorFn}}module.exports=getIteratorFn},{}],"/Users/paulfrazee/patchwork/node_modules/react/lib/getNodeForCharacterOffset.js":[function(require,module,exports){"use strict";function getLeafNode(node){while(node&&node.firstChild){node=node.firstChild}return node}function getSiblingNode(node){while(node){if(node.nextSibling){return node.nextSibling}node=node.parentNode}}function getNodeForCharacterOffset(root,offset){var node=getLeafNode(root);var nodeStart=0;var nodeEnd=0;while(node){if(node.nodeType===3){nodeEnd=nodeStart+node.textContent.length;if(nodeStart<=offset&&nodeEnd>=offset){return{node:node,offset:offset-nodeStart}}nodeStart=nodeEnd}node=getLeafNode(getSiblingNode(node))}}module.exports=getNodeForCharacterOffset},{}],"/Users/paulfrazee/patchwork/node_modules/react/lib/getTextContentAccessor.js":[function(require,module,exports){"use strict";var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment");var contentKey=null;function getTextContentAccessor(){if(!contentKey&&ExecutionEnvironment.canUseDOM){contentKey="textContent"in document.documentElement?"textContent":"innerText"}return contentKey}module.exports=getTextContentAccessor},{"fbjs/lib/ExecutionEnvironment":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/ExecutionEnvironment.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/instantiateReactComponent.js":[function(require,module,exports){"use strict";var ReactCompositeComponent=require("./ReactCompositeComponent");var ReactEmptyComponent=require("./ReactEmptyComponent");var ReactNativeComponent=require("./ReactNativeComponent");var assign=require("./Object.assign");var invariant=require("fbjs/lib/invariant");var warning=require("fbjs/lib/warning");var ReactCompositeComponentWrapper=function(){};assign(ReactCompositeComponentWrapper.prototype,ReactCompositeComponent.Mixin,{_instantiateReactComponent:instantiateReactComponent});function getDeclarationErrorAddendum(owner){if(owner){var name=owner.getName();if(name){return" Check the render method of `"+name+"`."}}return""}function isInternalComponentType(type){return typeof type==="function"&&typeof type.prototype!=="undefined"&&typeof type.prototype.mountComponent==="function"&&typeof type.prototype.receiveComponent==="function"}function instantiateReactComponent(node){var instance;if(node===null||node===false){instance=new ReactEmptyComponent(instantiateReactComponent)}else if(typeof node==="object"){var element=node;!(element&&(typeof element.type==="function"||typeof element.type==="string"))?"production"!=="production"?invariant(false,"Element type is invalid: expected a string (for built-in components) "+"or a class/function (for composite components) but got: %s.%s",element.type==null?element.type:typeof element.type,getDeclarationErrorAddendum(element._owner)):invariant(false):undefined;if(typeof element.type==="string"){instance=ReactNativeComponent.createInternalComponent(element)}else if(isInternalComponentType(element.type)){instance=new element.type(element)}else{instance=new ReactCompositeComponentWrapper}}else if(typeof node==="string"||typeof node==="number"){instance=ReactNativeComponent.createInstanceForText(node)}else{!false?"production"!=="production"?invariant(false,"Encountered invalid React node of type %s",typeof node):invariant(false):undefined}if("production"!=="production"){"production"!=="production"?warning(typeof instance.construct==="function"&&typeof instance.mountComponent==="function"&&typeof instance.receiveComponent==="function"&&typeof instance.unmountComponent==="function","Only React Components can be mounted."):undefined}instance.construct(node);instance._mountIndex=0;instance._mountImage=null;if("production"!=="production"){instance._isOwnerNecessary=false;instance._warnedAboutRefsInRender=false}if("production"!=="production"){if(Object.preventExtensions){Object.preventExtensions(instance)}}return instance}module.exports=instantiateReactComponent},{"./Object.assign":"/Users/paulfrazee/patchwork/node_modules/react/lib/Object.assign.js","./ReactCompositeComponent":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactCompositeComponent.js","./ReactEmptyComponent":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactEmptyComponent.js","./ReactNativeComponent":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactNativeComponent.js","fbjs/lib/invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js","fbjs/lib/warning":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/warning.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/isEventSupported.js":[function(require,module,exports){"use strict";var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment");var useHasFeature;if(ExecutionEnvironment.canUseDOM){useHasFeature=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==true}function isEventSupported(eventNameSuffix,capture){if(!ExecutionEnvironment.canUseDOM||capture&&!("addEventListener"in document)){return false}var eventName="on"+eventNameSuffix;var isSupported=eventName in document;if(!isSupported){var element=document.createElement("div");element.setAttribute(eventName,"return;");isSupported=typeof element[eventName]==="function"}if(!isSupported&&useHasFeature&&eventNameSuffix==="wheel"){isSupported=document.implementation.hasFeature("Events.wheel","3.0")}return isSupported}module.exports=isEventSupported},{"fbjs/lib/ExecutionEnvironment":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/ExecutionEnvironment.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/isTextInputElement.js":[function(require,module,exports){"use strict";var supportedInputTypes={color:true,date:true,datetime:true,"datetime-local":true,email:true,month:true,number:true,password:true,range:true,search:true,tel:true,text:true,time:true,url:true,week:true};function isTextInputElement(elem){var nodeName=elem&&elem.nodeName&&elem.nodeName.toLowerCase();return nodeName&&(nodeName==="input"&&supportedInputTypes[elem.type]||nodeName==="textarea")}module.exports=isTextInputElement},{}],"/Users/paulfrazee/patchwork/node_modules/react/lib/onlyChild.js":[function(require,module,exports){"use strict";var ReactElement=require("./ReactElement");var invariant=require("fbjs/lib/invariant");function onlyChild(children){!ReactElement.isValidElement(children)?"production"!=="production"?invariant(false,"onlyChild must be passed a children with exactly one child."):invariant(false):undefined;return children}module.exports=onlyChild},{"./ReactElement":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactElement.js","fbjs/lib/invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/quoteAttributeValueForBrowser.js":[function(require,module,exports){"use strict";var escapeTextContentForBrowser=require("./escapeTextContentForBrowser");function quoteAttributeValueForBrowser(value){return'"'+escapeTextContentForBrowser(value)+'"'}module.exports=quoteAttributeValueForBrowser},{"./escapeTextContentForBrowser":"/Users/paulfrazee/patchwork/node_modules/react/lib/escapeTextContentForBrowser.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/renderSubtreeIntoContainer.js":[function(require,module,exports){"use strict";var ReactMount=require("./ReactMount");module.exports=ReactMount.renderSubtreeIntoContainer},{"./ReactMount":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactMount.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/setInnerHTML.js":[function(require,module,exports){"use strict";var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment");var WHITESPACE_TEST=/^[ \r\n\t\f]/;var NONVISIBLE_TEST=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/;var setInnerHTML=function(node,html){node.innerHTML=html};if(typeof MSApp!=="undefined"&&MSApp.execUnsafeLocalFunction){setInnerHTML=function(node,html){MSApp.execUnsafeLocalFunction(function(){node.innerHTML=html})}}if(ExecutionEnvironment.canUseDOM){var testElement=document.createElement("div");testElement.innerHTML=" ";if(testElement.innerHTML===""){setInnerHTML=function(node,html){if(node.parentNode){node.parentNode.replaceChild(node,node)}if(WHITESPACE_TEST.test(html)||html[0]==="<"&&NONVISIBLE_TEST.test(html)){node.innerHTML=String.fromCharCode(65279)+html;var textNode=node.firstChild;if(textNode.data.length===1){node.removeChild(textNode)}else{textNode.deleteData(0,1)}}else{node.innerHTML=html}}}}module.exports=setInnerHTML},{"fbjs/lib/ExecutionEnvironment":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/ExecutionEnvironment.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/setTextContent.js":[function(require,module,exports){"use strict";var ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment");var escapeTextContentForBrowser=require("./escapeTextContentForBrowser");var setInnerHTML=require("./setInnerHTML");var setTextContent=function(node,text){node.textContent=text};if(ExecutionEnvironment.canUseDOM){if(!("textContent"in document.documentElement)){setTextContent=function(node,text){setInnerHTML(node,escapeTextContentForBrowser(text))}}}module.exports=setTextContent},{"./escapeTextContentForBrowser":"/Users/paulfrazee/patchwork/node_modules/react/lib/escapeTextContentForBrowser.js","./setInnerHTML":"/Users/paulfrazee/patchwork/node_modules/react/lib/setInnerHTML.js","fbjs/lib/ExecutionEnvironment":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/ExecutionEnvironment.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/shouldUpdateReactComponent.js":[function(require,module,exports){"use strict";function shouldUpdateReactComponent(prevElement,nextElement){var prevEmpty=prevElement===null||prevElement===false;var nextEmpty=nextElement===null||nextElement===false;if(prevEmpty||nextEmpty){return prevEmpty===nextEmpty}var prevType=typeof prevElement;var nextType=typeof nextElement;if(prevType==="string"||prevType==="number"){return nextType==="string"||nextType==="number"}else{return nextType==="object"&&prevElement.type===nextElement.type&&prevElement.key===nextElement.key}return false}module.exports=shouldUpdateReactComponent},{}],"/Users/paulfrazee/patchwork/node_modules/react/lib/traverseAllChildren.js":[function(require,module,exports){"use strict";var ReactCurrentOwner=require("./ReactCurrentOwner");var ReactElement=require("./ReactElement");var ReactInstanceHandles=require("./ReactInstanceHandles");var getIteratorFn=require("./getIteratorFn");var invariant=require("fbjs/lib/invariant");var warning=require("fbjs/lib/warning");var SEPARATOR=ReactInstanceHandles.SEPARATOR;var SUBSEPARATOR=":";var userProvidedKeyEscaperLookup={"=":"=0",".":"=1",":":"=2"};var userProvidedKeyEscapeRegex=/[=.:]/g;var didWarnAboutMaps=false;function userProvidedKeyEscaper(match){return userProvidedKeyEscaperLookup[match]}function getComponentKey(component,index){if(component&&component.key!=null){return wrapUserProvidedKey(component.key)}return index.toString(36)}function escapeUserProvidedKey(text){return(""+text).replace(userProvidedKeyEscapeRegex,userProvidedKeyEscaper)}function wrapUserProvidedKey(key){return"$"+escapeUserProvidedKey(key)}function traverseAllChildrenImpl(children,nameSoFar,callback,traverseContext){var type=typeof children;if(type==="undefined"||type==="boolean"){children=null}if(children===null||type==="string"||type==="number"||ReactElement.isValidElement(children)){callback(traverseContext,children,nameSoFar===""?SEPARATOR+getComponentKey(children,0):nameSoFar);return 1}var child;var nextName;var subtreeCount=0;var nextNamePrefix=nameSoFar===""?SEPARATOR:nameSoFar+SUBSEPARATOR;if(Array.isArray(children)){for(var i=0;i<children.length;i++){child=children[i];nextName=nextNamePrefix+getComponentKey(child,i);subtreeCount+=traverseAllChildrenImpl(child,nextName,callback,traverseContext)}}else{var iteratorFn=getIteratorFn(children);if(iteratorFn){var iterator=iteratorFn.call(children);var step;if(iteratorFn!==children.entries){var ii=0;while(!(step=iterator.next()).done){child=step.value;nextName=nextNamePrefix+getComponentKey(child,ii++);subtreeCount+=traverseAllChildrenImpl(child,nextName,callback,traverseContext)}}else{if("production"!=="production"){"production"!=="production"?warning(didWarnAboutMaps,"Using Maps as children is not yet fully supported. It is an "+"experimental feature that might be removed. Convert it to a "+"sequence / iterable of keyed ReactElements instead."):undefined;didWarnAboutMaps=true}while(!(step=iterator.next()).done){var entry=step.value;if(entry){child=entry[1];nextName=nextNamePrefix+wrapUserProvidedKey(entry[0])+SUBSEPARATOR+getComponentKey(child,0);subtreeCount+=traverseAllChildrenImpl(child,nextName,callback,traverseContext)}}}}else if(type==="object"){var addendum="";if("production"!=="production"){addendum=" If you meant to render a collection of children, use an array "+"instead or wrap the object using createFragment(object) from the "+"React add-ons.";if(children._isReactElement){addendum=" It looks like you're using an element created by a different "+"version of React. Make sure to use only one copy of React."}if(ReactCurrentOwner.current){var name=ReactCurrentOwner.current.getName();if(name){addendum+=" Check the render method of `"+name+"`."}}}var childrenString=String(children);!false?"production"!=="production"?invariant(false,"Objects are not valid as a React child (found: %s).%s",childrenString==="[object Object]"?"object with keys {"+Object.keys(children).join(", ")+"}":childrenString,addendum):invariant(false):undefined}}return subtreeCount}function traverseAllChildren(children,callback,traverseContext){if(children==null){return 0}return traverseAllChildrenImpl(children,"",callback,traverseContext)}module.exports=traverseAllChildren},{"./ReactCurrentOwner":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactCurrentOwner.js","./ReactElement":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactElement.js","./ReactInstanceHandles":"/Users/paulfrazee/patchwork/node_modules/react/lib/ReactInstanceHandles.js","./getIteratorFn":"/Users/paulfrazee/patchwork/node_modules/react/lib/getIteratorFn.js","fbjs/lib/invariant":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/invariant.js","fbjs/lib/warning":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/warning.js"}],"/Users/paulfrazee/patchwork/node_modules/react/lib/validateDOMNesting.js":[function(require,module,exports){"use strict";var assign=require("./Object.assign");var emptyFunction=require("fbjs/lib/emptyFunction");var warning=require("fbjs/lib/warning");var validateDOMNesting=emptyFunction;if("production"!=="production"){var specialTags=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"];var inScopeTags=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"];var buttonScopeTags=inScopeTags.concat(["button"]);var impliedEndTags=["dd","dt","li","option","optgroup","p","rp","rt"];var emptyAncestorInfo={parentTag:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null};var updatedAncestorInfo=function(oldInfo,tag,instance){var ancestorInfo=assign({},oldInfo||emptyAncestorInfo);var info={tag:tag,instance:instance};if(inScopeTags.indexOf(tag)!==-1){ancestorInfo.aTagInScope=null;ancestorInfo.buttonTagInScope=null;ancestorInfo.nobrTagInScope=null}if(buttonScopeTags.indexOf(tag)!==-1){ancestorInfo.pTagInButtonScope=null}if(specialTags.indexOf(tag)!==-1&&tag!=="address"&&tag!=="div"&&tag!=="p"){ancestorInfo.listItemTagAutoclosing=null;ancestorInfo.dlItemTagAutoclosing=null}ancestorInfo.parentTag=info;if(tag==="form"){ancestorInfo.formTag=info}if(tag==="a"){ancestorInfo.aTagInScope=info}if(tag==="button"){ancestorInfo.buttonTagInScope=info}if(tag==="nobr"){ancestorInfo.nobrTagInScope=info}if(tag==="p"){ancestorInfo.pTagInButtonScope=info}if(tag==="li"){ancestorInfo.listItemTagAutoclosing=info}if(tag==="dd"||tag==="dt"){ancestorInfo.dlItemTagAutoclosing=info}return ancestorInfo};var isTagValidWithParent=function(tag,parentTag){switch(parentTag){case"select":return tag==="option"||tag==="optgroup"||tag==="#text";case"optgroup":return tag==="option"||tag==="#text";case"option":return tag==="#text";case"tr":return tag==="th"||tag==="td"||tag==="style"||tag==="script"||tag==="template";case"tbody":
case"thead":case"tfoot":return tag==="tr"||tag==="style"||tag==="script"||tag==="template";case"colgroup":return tag==="col"||tag==="template";case"table":return tag==="caption"||tag==="colgroup"||tag==="tbody"||tag==="tfoot"||tag==="thead"||tag==="style"||tag==="script"||tag==="template";case"head":return tag==="base"||tag==="basefont"||tag==="bgsound"||tag==="link"||tag==="meta"||tag==="title"||tag==="noscript"||tag==="noframes"||tag==="style"||tag==="script"||tag==="template";case"html":return tag==="head"||tag==="body"}switch(tag){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return parentTag!=="h1"&&parentTag!=="h2"&&parentTag!=="h3"&&parentTag!=="h4"&&parentTag!=="h5"&&parentTag!=="h6";case"rp":case"rt":return impliedEndTags.indexOf(parentTag)===-1;case"caption":case"col":case"colgroup":case"frame":case"head":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return parentTag==null}return true};var findInvalidAncestorForTag=function(tag,ancestorInfo){switch(tag){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return ancestorInfo.pTagInButtonScope;case"form":return ancestorInfo.formTag||ancestorInfo.pTagInButtonScope;case"li":return ancestorInfo.listItemTagAutoclosing;case"dd":case"dt":return ancestorInfo.dlItemTagAutoclosing;case"button":return ancestorInfo.buttonTagInScope;case"a":return ancestorInfo.aTagInScope;case"nobr":return ancestorInfo.nobrTagInScope}return null};var findOwnerStack=function(instance){if(!instance){return[]}var stack=[];do{stack.push(instance)}while(instance=instance._currentElement._owner);stack.reverse();return stack};var didWarn={};validateDOMNesting=function(childTag,childInstance,ancestorInfo){ancestorInfo=ancestorInfo||emptyAncestorInfo;var parentInfo=ancestorInfo.parentTag;var parentTag=parentInfo&&parentInfo.tag;var invalidParent=isTagValidWithParent(childTag,parentTag)?null:parentInfo;var invalidAncestor=invalidParent?null:findInvalidAncestorForTag(childTag,ancestorInfo);var problematic=invalidParent||invalidAncestor;if(problematic){var ancestorTag=problematic.tag;var ancestorInstance=problematic.instance;var childOwner=childInstance&&childInstance._currentElement._owner;var ancestorOwner=ancestorInstance&&ancestorInstance._currentElement._owner;var childOwners=findOwnerStack(childOwner);var ancestorOwners=findOwnerStack(ancestorOwner);var minStackLen=Math.min(childOwners.length,ancestorOwners.length);var i;var deepestCommon=-1;for(i=0;i<minStackLen;i++){if(childOwners[i]===ancestorOwners[i]){deepestCommon=i}else{break}}var UNKNOWN="(unknown)";var childOwnerNames=childOwners.slice(deepestCommon+1).map(function(inst){return inst.getName()||UNKNOWN});var ancestorOwnerNames=ancestorOwners.slice(deepestCommon+1).map(function(inst){return inst.getName()||UNKNOWN});var ownerInfo=[].concat(deepestCommon!==-1?childOwners[deepestCommon].getName()||UNKNOWN:[],ancestorOwnerNames,ancestorTag,invalidAncestor?["..."]:[],childOwnerNames,childTag).join(" > ");var warnKey=!!invalidParent+"|"+childTag+"|"+ancestorTag+"|"+ownerInfo;if(didWarn[warnKey]){return}didWarn[warnKey]=true;if(invalidParent){var info="";if(ancestorTag==="table"&&childTag==="tr"){info+=" Add a <tbody> to your code to match the DOM tree generated by "+"the browser."}"production"!=="production"?warning(false,"validateDOMNesting(...): <%s> cannot appear as a child of <%s>. "+"See %s.%s",childTag,ancestorTag,ownerInfo,info):undefined}else{"production"!=="production"?warning(false,"validateDOMNesting(...): <%s> cannot appear as a descendant of "+"<%s>. See %s.",childTag,ancestorTag,ownerInfo):undefined}}};validateDOMNesting.ancestorInfoContextKey="__validateDOMNesting_ancestorInfo$"+Math.random().toString(36).slice(2);validateDOMNesting.updatedAncestorInfo=updatedAncestorInfo;validateDOMNesting.isTagValidInContext=function(tag,ancestorInfo){ancestorInfo=ancestorInfo||emptyAncestorInfo;var parentInfo=ancestorInfo.parentTag;var parentTag=parentInfo&&parentInfo.tag;return isTagValidWithParent(tag,parentTag)&&!findInvalidAncestorForTag(tag,ancestorInfo)}}module.exports=validateDOMNesting},{"./Object.assign":"/Users/paulfrazee/patchwork/node_modules/react/lib/Object.assign.js","fbjs/lib/emptyFunction":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/emptyFunction.js","fbjs/lib/warning":"/Users/paulfrazee/patchwork/node_modules/fbjs/lib/warning.js"}],"/Users/paulfrazee/patchwork/node_modules/react/react.js":[function(require,module,exports){"use strict";module.exports=require("./lib/React")},{"./lib/React":"/Users/paulfrazee/patchwork/node_modules/react/lib/React.js"}],"/Users/paulfrazee/patchwork/node_modules/readable-stream/duplex.js":[function(require,module,exports){module.exports=require("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":"/Users/paulfrazee/patchwork/node_modules/readable-stream/lib/_stream_duplex.js"}],"/Users/paulfrazee/patchwork/node_modules/readable-stream/lib/_stream_duplex.js":[function(require,module,exports){"use strict";var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};module.exports=Duplex;var processNextTick=require("process-nextick-args");var util=require("core-util-is");util.inherits=require("inherits");var Readable=require("./_stream_readable");var Writable=require("./_stream_writable");util.inherits(Duplex,Readable);var keys=objectKeys(Writable.prototype);for(var v=0;v<keys.length;v++){var method=keys[v];if(!Duplex.prototype[method])Duplex.prototype[method]=Writable.prototype[method]}function Duplex(options){if(!(this instanceof Duplex))return new Duplex(options);Readable.call(this,options);Writable.call(this,options);if(options&&options.readable===false)this.readable=false;if(options&&options.writable===false)this.writable=false;this.allowHalfOpen=true;if(options&&options.allowHalfOpen===false)this.allowHalfOpen=false;this.once("end",onend)}function onend(){if(this.allowHalfOpen||this._writableState.ended)return;processNextTick(onEndNT,this)}function onEndNT(self){self.end()}function forEach(xs,f){for(var i=0,l=xs.length;i<l;i++){f(xs[i],i)}}},{"./_stream_readable":"/Users/paulfrazee/patchwork/node_modules/readable-stream/lib/_stream_readable.js","./_stream_writable":"/Users/paulfrazee/patchwork/node_modules/readable-stream/lib/_stream_writable.js","core-util-is":"/Users/paulfrazee/patchwork/node_modules/core-util-is/lib/util.js",inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js","process-nextick-args":"/Users/paulfrazee/patchwork/node_modules/process-nextick-args/index.js"}],"/Users/paulfrazee/patchwork/node_modules/readable-stream/lib/_stream_passthrough.js":[function(require,module,exports){"use strict";module.exports=PassThrough;var Transform=require("./_stream_transform");var util=require("core-util-is");util.inherits=require("inherits");util.inherits(PassThrough,Transform);function PassThrough(options){if(!(this instanceof PassThrough))return new PassThrough(options);Transform.call(this,options)}PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},{"./_stream_transform":"/Users/paulfrazee/patchwork/node_modules/readable-stream/lib/_stream_transform.js","core-util-is":"/Users/paulfrazee/patchwork/node_modules/core-util-is/lib/util.js",inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js"}],"/Users/paulfrazee/patchwork/node_modules/readable-stream/lib/_stream_readable.js":[function(require,module,exports){(function(process){"use strict";module.exports=Readable;var processNextTick=require("process-nextick-args");var isArray=require("isarray");var Buffer=require("buffer").Buffer;Readable.ReadableState=ReadableState;var EE=require("events");var EElistenerCount=function(emitter,type){return emitter.listeners(type).length};var Stream;(function(){try{Stream=require("st"+"ream")}catch(_){}finally{if(!Stream)Stream=require("events").EventEmitter}})();var Buffer=require("buffer").Buffer;var util=require("core-util-is");util.inherits=require("inherits");var debugUtil=require("util");var debug;if(debugUtil&&debugUtil.debuglog){debug=debugUtil.debuglog("stream")}else{debug=function(){}}var StringDecoder;util.inherits(Readable,Stream);var Duplex;function ReadableState(options,stream){Duplex=Duplex||require("./_stream_duplex");options=options||{};this.objectMode=!!options.objectMode;if(stream instanceof Duplex)this.objectMode=this.objectMode||!!options.readableObjectMode;var hwm=options.highWaterMark;var defaultHwm=this.objectMode?16:16*1024;this.highWaterMark=hwm||hwm===0?hwm:defaultHwm;this.highWaterMark=~~this.highWaterMark;this.buffer=[];this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.defaultEncoding=options.defaultEncoding||"utf8";this.ranOut=false;this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(options.encoding){if(!StringDecoder)StringDecoder=require("string_decoder/").StringDecoder;this.decoder=new StringDecoder(options.encoding);this.encoding=options.encoding}}var Duplex;function Readable(options){Duplex=Duplex||require("./_stream_duplex");if(!(this instanceof Readable))return new Readable(options);this._readableState=new ReadableState(options,this);this.readable=true;if(options&&typeof options.read==="function")this._read=options.read;Stream.call(this)}Readable.prototype.push=function(chunk,encoding){var state=this._readableState;if(!state.objectMode&&typeof chunk==="string"){encoding=encoding||state.defaultEncoding;if(encoding!==state.encoding){chunk=new Buffer(chunk,encoding);encoding=""}}return readableAddChunk(this,state,chunk,encoding,false)};Readable.prototype.unshift=function(chunk){var state=this._readableState;return readableAddChunk(this,state,chunk,"",true)};Readable.prototype.isPaused=function(){return this._readableState.flowing===false};function readableAddChunk(stream,state,chunk,encoding,addToFront){var er=chunkInvalid(state,chunk);if(er){stream.emit("error",er)}else if(chunk===null){state.reading=false;onEofChunk(stream,state)}else if(state.objectMode||chunk&&chunk.length>0){if(state.ended&&!addToFront){var e=new Error("stream.push() after EOF");stream.emit("error",e)}else if(state.endEmitted&&addToFront){var e=new Error("stream.unshift() after end event");stream.emit("error",e)}else{if(state.decoder&&!addToFront&&!encoding)chunk=state.decoder.write(chunk);if(!addToFront)state.reading=false;if(state.flowing&&state.length===0&&!state.sync){stream.emit("data",chunk);stream.read(0)}else{state.length+=state.objectMode?1:chunk.length;if(addToFront)state.buffer.unshift(chunk);else state.buffer.push(chunk);if(state.needReadable)emitReadable(stream)}maybeReadMore(stream,state)}}else if(!addToFront){state.reading=false}return needMoreData(state)}function needMoreData(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||state.length===0)}Readable.prototype.setEncoding=function(enc){if(!StringDecoder)StringDecoder=require("string_decoder/").StringDecoder;this._readableState.decoder=new StringDecoder(enc);this._readableState.encoding=enc;return this};var MAX_HWM=8388608;function computeNewHighWaterMark(n){if(n>=MAX_HWM){n=MAX_HWM}else{n--;n|=n>>>1;n|=n>>>2;n|=n>>>4;n|=n>>>8;n|=n>>>16;n++}return n}function howMuchToRead(n,state){if(state.length===0&&state.ended)return 0;if(state.objectMode)return n===0?0:1;if(n===null||isNaN(n)){if(state.flowing&&state.buffer.length)return state.buffer[0].length;else return state.length}if(n<=0)return 0;if(n>state.highWaterMark)state.highWaterMark=computeNewHighWaterMark(n);if(n>state.length){if(!state.ended){state.needReadable=true;return 0}else{return state.length}}return n}Readable.prototype.read=function(n){debug("read",n);var state=this._readableState;var nOrig=n;if(typeof n!=="number"||n>0)state.emittedReadable=false;if(n===0&&state.needReadable&&(state.length>=state.highWaterMark||state.ended)){debug("read: emitReadable",state.length,state.ended);if(state.length===0&&state.ended)endReadable(this);else emitReadable(this);return null}n=howMuchToRead(n,state);if(n===0&&state.ended){if(state.length===0)endReadable(this);return null}var doRead=state.needReadable;debug("need readable",doRead);if(state.length===0||state.length-n<state.highWaterMark){doRead=true;debug("length less than watermark",doRead)}if(state.ended||state.reading){doRead=false;debug("reading or ended",doRead)}if(doRead){debug("do read");state.reading=true;state.sync=true;if(state.length===0)state.needReadable=true;this._read(state.highWaterMark);state.sync=false}if(doRead&&!state.reading)n=howMuchToRead(nOrig,state);var ret;if(n>0)ret=fromList(n,state);else ret=null;if(ret===null){state.needReadable=true;n=0}state.length-=n;if(state.length===0&&!state.ended)state.needReadable=true;if(nOrig!==n&&state.ended&&state.length===0)endReadable(this);if(ret!==null)this.emit("data",ret);return ret};function chunkInvalid(state,chunk){var er=null;if(!Buffer.isBuffer(chunk)&&typeof chunk!=="string"&&chunk!==null&&chunk!==undefined&&!state.objectMode){er=new TypeError("Invalid non-string/buffer chunk")}return er}function onEofChunk(stream,state){if(state.ended)return;if(state.decoder){var chunk=state.decoder.end();if(chunk&&chunk.length){state.buffer.push(chunk);state.length+=state.objectMode?1:chunk.length}}state.ended=true;emitReadable(stream)}function emitReadable(stream){var state=stream._readableState;state.needReadable=false;if(!state.emittedReadable){debug("emitReadable",state.flowing);state.emittedReadable=true;if(state.sync)processNextTick(emitReadable_,stream);else emitReadable_(stream)}}function emitReadable_(stream){debug("emit readable");stream.emit("readable");flow(stream)}function maybeReadMore(stream,state){if(!state.readingMore){state.readingMore=true;processNextTick(maybeReadMore_,stream,state)}}function maybeReadMore_(stream,state){var len=state.length;while(!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark){debug("maybeReadMore read 0");stream.read(0);if(len===state.length)break;else len=state.length}state.readingMore=false}Readable.prototype._read=function(n){this.emit("error",new Error("not implemented"))};Readable.prototype.pipe=function(dest,pipeOpts){var src=this;var state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest);break}state.pipesCount+=1;debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var doEnd=(!pipeOpts||pipeOpts.end!==false)&&dest!==process.stdout&&dest!==process.stderr;var endFn=doEnd?onend:cleanup;if(state.endEmitted)processNextTick(endFn);else src.once("end",endFn);dest.on("unpipe",onunpipe);function onunpipe(readable){debug("onunpipe");if(readable===src){cleanup()}}function onend(){debug("onend");dest.end()}var ondrain=pipeOnDrain(src);dest.on("drain",ondrain);var cleanedUp=false;function cleanup(){debug("cleanup");dest.removeListener("close",onclose);dest.removeListener("finish",onfinish);dest.removeListener("drain",ondrain);dest.removeListener("error",onerror);dest.removeListener("unpipe",onunpipe);src.removeListener("end",onend);src.removeListener("end",cleanup);src.removeListener("data",ondata);cleanedUp=true;if(state.awaitDrain&&(!dest._writableState||dest._writableState.needDrain))ondrain()}src.on("data",ondata);function ondata(chunk){debug("ondata");var ret=dest.write(chunk);if(false===ret){if(state.pipesCount===1&&state.pipes[0]===dest&&src.listenerCount("data")===1&&!cleanedUp){debug("false write response, pause",src._readableState.awaitDrain);src._readableState.awaitDrain++}src.pause()}}function onerror(er){debug("onerror",er);unpipe();dest.removeListener("error",onerror);if(EElistenerCount(dest,"error")===0)dest.emit("error",er)}if(!dest._events||!dest._events.error)dest.on("error",onerror);else if(isArray(dest._events.error))dest._events.error.unshift(onerror);else dest._events.error=[onerror,dest._events.error];function onclose(){dest.removeListener("finish",onfinish);unpipe()}dest.once("close",onclose);function onfinish(){debug("onfinish");dest.removeListener("close",onclose);unpipe()}dest.once("finish",onfinish);function unpipe(){debug("unpipe");src.unpipe(dest)}dest.emit("pipe",src);if(!state.flowing){debug("pipe resume");src.resume()}return dest};function pipeOnDrain(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain);if(state.awaitDrain)state.awaitDrain--;if(state.awaitDrain===0&&EElistenerCount(src,"data")){state.flowing=true;flow(src)}}}Readable.prototype.unpipe=function(dest){var state=this._readableState;if(state.pipesCount===0)return this;if(state.pipesCount===1){if(dest&&dest!==state.pipes)return this;if(!dest)dest=state.pipes;state.pipes=null;state.pipesCount=0;state.flowing=false;if(dest)dest.emit("unpipe",this);return this}if(!dest){var dests=state.pipes;var len=state.pipesCount;state.pipes=null;state.pipesCount=0;state.flowing=false;for(var i=0;i<len;i++)dests[i].emit("unpipe",this);return this}var i=indexOf(state.pipes,dest);if(i===-1)return this;state.pipes.splice(i,1);state.pipesCount-=1;if(state.pipesCount===1)state.pipes=state.pipes[0];dest.emit("unpipe",this);return this};Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if(ev==="data"&&false!==this._readableState.flowing){this.resume()}if(ev==="readable"&&this.readable){var state=this._readableState;if(!state.readableListening){state.readableListening=true;state.emittedReadable=false;state.needReadable=true;if(!state.reading){processNextTick(nReadingNextTick,this)}else if(state.length){emitReadable(this,state)}}}return res};Readable.prototype.addListener=Readable.prototype.on;function nReadingNextTick(self){debug("readable nexttick read 0");self.read(0)}Readable.prototype.resume=function(){var state=this._readableState;if(!state.flowing){debug("resume");state.flowing=true;resume(this,state)}return this};function resume(stream,state){if(!state.resumeScheduled){state.resumeScheduled=true;processNextTick(resume_,stream,state)}}function resume_(stream,state){if(!state.reading){debug("resume read 0");stream.read(0)}state.resumeScheduled=false;stream.emit("resume");flow(stream);if(state.flowing&&!state.reading)stream.read(0)}Readable.prototype.pause=function(){debug("call pause flowing=%j",this._readableState.flowing);if(false!==this._readableState.flowing){debug("pause");this._readableState.flowing=false;this.emit("pause")}return this};function flow(stream){var state=stream._readableState;debug("flow",state.flowing);if(state.flowing){do{var chunk=stream.read()}while(null!==chunk&&state.flowing)}}Readable.prototype.wrap=function(stream){var state=this._readableState;var paused=false;var self=this;stream.on("end",function(){debug("wrapped end");if(state.decoder&&!state.ended){var chunk=state.decoder.end();if(chunk&&chunk.length)self.push(chunk)}self.push(null)});stream.on("data",function(chunk){debug("wrapped data");if(state.decoder)chunk=state.decoder.write(chunk);if(state.objectMode&&(chunk===null||chunk===undefined))return;else if(!state.objectMode&&(!chunk||!chunk.length))return;var ret=self.push(chunk);if(!ret){paused=true;stream.pause()}});for(var i in stream){if(this[i]===undefined&&typeof stream[i]==="function"){this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i)}}var events=["error","close","destroy","pause","resume"];forEach(events,function(ev){stream.on(ev,self.emit.bind(self,ev))});self._read=function(n){debug("wrapped _read",n);if(paused){paused=false;stream.resume()}};return self};Readable._fromList=fromList;function fromList(n,state){var list=state.buffer;var length=state.length;var stringMode=!!state.decoder;var objectMode=!!state.objectMode;var ret;if(list.length===0)return null;if(length===0)ret=null;else if(objectMode)ret=list.shift();else if(!n||n>=length){if(stringMode)ret=list.join("");else if(list.length===1)ret=list[0];else ret=Buffer.concat(list,length);list.length=0}else{if(n<list[0].length){var buf=list[0];ret=buf.slice(0,n);list[0]=buf.slice(n)}else if(n===list[0].length){ret=list.shift()}else{if(stringMode)ret="";else ret=new Buffer(n);var c=0;for(var i=0,l=list.length;i<l&&c<n;i++){var buf=list[0];var cpy=Math.min(n-c,buf.length);if(stringMode)ret+=buf.slice(0,cpy);else buf.copy(ret,c,0,cpy);if(cpy<buf.length)list[0]=buf.slice(cpy);else list.shift();c+=cpy}}}return ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error("endReadable called on non-empty stream");if(!state.endEmitted){state.ended=true;processNextTick(endReadableNT,state,stream)}}function endReadableNT(state,stream){if(!state.endEmitted&&state.length===0){state.endEmitted=true;stream.readable=false;stream.emit("end")}}function forEach(xs,f){for(var i=0,l=xs.length;i<l;i++){f(xs[i],i)}}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++){if(xs[i]===x)return i}return-1}}).call(this,require("_process"))},{"./_stream_duplex":"/Users/paulfrazee/patchwork/node_modules/readable-stream/lib/_stream_duplex.js",_process:"/Users/paulfrazee/patchwork/node_modules/process/browser.js",buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js","core-util-is":"/Users/paulfrazee/patchwork/node_modules/core-util-is/lib/util.js",events:"/Users/paulfrazee/patchwork/node_modules/events/events.js",inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js",isarray:"/Users/paulfrazee/patchwork/node_modules/isarray/index.js","process-nextick-args":"/Users/paulfrazee/patchwork/node_modules/process-nextick-args/index.js","string_decoder/":"/Users/paulfrazee/patchwork/node_modules/string_decoder/index.js",util:"/Users/paulfrazee/patchwork/node_modules/browser-resolve/empty.js"}],"/Users/paulfrazee/patchwork/node_modules/readable-stream/lib/_stream_transform.js":[function(require,module,exports){"use strict";module.exports=Transform;var Duplex=require("./_stream_duplex");var util=require("core-util-is");util.inherits=require("inherits");util.inherits(Transform,Duplex);function TransformState(stream){this.afterTransform=function(er,data){return afterTransform(stream,er,data)};this.needTransform=false;this.transforming=false;this.writecb=null;this.writechunk=null}function afterTransform(stream,er,data){var ts=stream._transformState;ts.transforming=false;var cb=ts.writecb;if(!cb)return stream.emit("error",new Error("no writecb in Transform class"));ts.writechunk=null;ts.writecb=null;if(data!==null&&data!==undefined)stream.push(data);if(cb)cb(er);var rs=stream._readableState;rs.reading=false;if(rs.needReadable||rs.length<rs.highWaterMark){stream._read(rs.highWaterMark)}}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options);this._transformState=new TransformState(this);var stream=this;this._readableState.needReadable=true;this._readableState.sync=false;if(options){if(typeof options.transform==="function")this._transform=options.transform;if(typeof options.flush==="function")this._flush=options.flush}this.once("prefinish",function(){if(typeof this._flush==="function")this._flush(function(er){done(stream,er)});else done(stream)})}Transform.prototype.push=function(chunk,encoding){this._transformState.needTransform=false;return Duplex.prototype.push.call(this,chunk,encoding)};Transform.prototype._transform=function(chunk,encoding,cb){throw new Error("not implemented")};Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;ts.writecb=cb;ts.writechunk=chunk;ts.writeencoding=encoding;if(!ts.transforming){var rs=this._readableState;if(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)this._read(rs.highWaterMark)}};Transform.prototype._read=function(n){var ts=this._transformState;if(ts.writechunk!==null&&ts.writecb&&!ts.transforming){ts.transforming=true;this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)}else{ts.needTransform=true}};function done(stream,er){if(er)return stream.emit("error",er);var ws=stream._writableState;var ts=stream._transformState;if(ws.length)throw new Error("calling transform done when ws.length != 0");if(ts.transforming)throw new Error("calling transform done when still transforming");return stream.push(null)}},{"./_stream_duplex":"/Users/paulfrazee/patchwork/node_modules/readable-stream/lib/_stream_duplex.js","core-util-is":"/Users/paulfrazee/patchwork/node_modules/core-util-is/lib/util.js",inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js"}],"/Users/paulfrazee/patchwork/node_modules/readable-stream/lib/_stream_writable.js":[function(require,module,exports){"use strict";module.exports=Writable;var processNextTick=require("process-nextick-args");var Buffer=require("buffer").Buffer;Writable.WritableState=WritableState;var util=require("core-util-is");util.inherits=require("inherits");var internalUtil={deprecate:require("util-deprecate")};var Stream;(function(){try{Stream=require("st"+"ream")}catch(_){}finally{if(!Stream)Stream=require("events").EventEmitter}})();var Buffer=require("buffer").Buffer;util.inherits(Writable,Stream);function nop(){}function WriteReq(chunk,encoding,cb){this.chunk=chunk;this.encoding=encoding;this.callback=cb;this.next=null}var Duplex;function WritableState(options,stream){Duplex=Duplex||require("./_stream_duplex");options=options||{};this.objectMode=!!options.objectMode;if(stream instanceof Duplex)this.objectMode=this.objectMode||!!options.writableObjectMode;var hwm=options.highWaterMark;var defaultHwm=this.objectMode?16:16*1024;this.highWaterMark=hwm||hwm===0?hwm:defaultHwm;this.highWaterMark=~~this.highWaterMark;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;var noDecode=options.decodeStrings===false;this.decodeStrings=!noDecode;this.defaultEncoding=options.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(er){onwrite(stream,er)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false}WritableState.prototype.getBuffer=function writableStateGetBuffer(){var current=this.bufferedRequest;var out=[];while(current){out.push(current);current=current.next}return out};(function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.")})}catch(_){}})();var Duplex;function Writable(options){Duplex=Duplex||require("./_stream_duplex");if(!(this instanceof Writable)&&!(this instanceof Duplex))return new Writable(options);this._writableState=new WritableState(options,this);this.writable=true;if(options){if(typeof options.write==="function")this._write=options.write;if(typeof options.writev==="function")this._writev=options.writev}Stream.call(this)}Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))};function writeAfterEnd(stream,cb){var er=new Error("write after end");stream.emit("error",er);processNextTick(cb,er)}function validChunk(stream,state,chunk,cb){var valid=true;if(!Buffer.isBuffer(chunk)&&typeof chunk!=="string"&&chunk!==null&&chunk!==undefined&&!state.objectMode){var er=new TypeError("Invalid non-string/buffer chunk");stream.emit("error",er);processNextTick(cb,er);valid=false}return valid}Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState;var ret=false;if(typeof encoding==="function"){cb=encoding;encoding=null}if(Buffer.isBuffer(chunk))encoding="buffer";else if(!encoding)encoding=state.defaultEncoding;if(typeof cb!=="function")cb=nop;if(state.ended)writeAfterEnd(this,cb);else if(validChunk(this,state,chunk,cb)){state.pendingcb++;ret=writeOrBuffer(this,state,chunk,encoding,cb)}return ret};Writable.prototype.cork=function(){var state=this._writableState;state.corked++};Writable.prototype.uncork=function(){var state=this._writableState;if(state.corked){state.corked--;if(!state.writing&&!state.corked&&!state.finished&&!state.bufferProcessing&&state.bufferedRequest)clearBuffer(this,state)}};Writable.prototype.setDefaultEncoding=function setDefaultEncoding(encoding){if(typeof encoding==="string")encoding=encoding.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+encoding);this._writableState.defaultEncoding=encoding};function decodeChunk(state,chunk,encoding){if(!state.objectMode&&state.decodeStrings!==false&&typeof chunk==="string"){chunk=new Buffer(chunk,encoding)}return chunk}function writeOrBuffer(stream,state,chunk,encoding,cb){chunk=decodeChunk(state,chunk,encoding);if(Buffer.isBuffer(chunk))encoding="buffer";var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;if(!ret)state.needDrain=true;if(state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest=new WriteReq(chunk,encoding,cb);if(last){last.next=state.lastBufferedRequest}else{state.bufferedRequest=state.lastBufferedRequest}}else{doWrite(stream,state,false,len,chunk,encoding,cb)}return ret}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len;state.writecb=cb;state.writing=true;state.sync=true;if(writev)stream._writev(chunk,state.onwrite);else stream._write(chunk,encoding,state.onwrite);state.sync=false}function onwriteError(stream,state,sync,er,cb){--state.pendingcb;if(sync)processNextTick(cb,er);else cb(er);stream._writableState.errorEmitted=true;stream.emit("error",er)}function onwriteStateUpdate(state){state.writing=false;state.writecb=null;state.length-=state.writelen;state.writelen=0}function onwrite(stream,er){var state=stream._writableState;var sync=state.sync;var cb=state.writecb;onwriteStateUpdate(state);if(er)onwriteError(stream,state,sync,er,cb);else{var finished=needFinish(state);if(!finished&&!state.corked&&!state.bufferProcessing&&state.bufferedRequest){clearBuffer(stream,state)}if(sync){processNextTick(afterWrite,stream,state,finished,cb)}else{afterWrite(stream,state,finished,cb)}}}function afterWrite(stream,state,finished,cb){if(!finished)onwriteDrain(stream,state);state.pendingcb--;cb();finishMaybe(stream,state)}function onwriteDrain(stream,state){if(state.length===0&&state.needDrain){state.needDrain=false;stream.emit("drain")}}function clearBuffer(stream,state){state.bufferProcessing=true;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var buffer=[];var cbs=[];while(entry){cbs.push(entry.callback);buffer.push(entry);entry=entry.next}state.pendingcb++;state.lastBufferedRequest=null;doWrite(stream,state,true,state.length,buffer,"",function(err){for(var i=0;i<cbs.length;i++){state.pendingcb--;cbs[i](err)}})}else{while(entry){var chunk=entry.chunk;var encoding=entry.encoding;var cb=entry.callback;var len=state.objectMode?1:chunk.length;doWrite(stream,state,false,len,chunk,encoding,cb);entry=entry.next;if(state.writing){break}}if(entry===null)state.lastBufferedRequest=null}state.bufferedRequest=entry;state.bufferProcessing=false}Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("not implemented"))};Writable.prototype._writev=null;Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;if(typeof chunk==="function"){cb=chunk;chunk=null;encoding=null}else if(typeof encoding==="function"){cb=encoding;encoding=null}if(chunk!==null&&chunk!==undefined)this.write(chunk,encoding);
if(state.corked){state.corked=1;this.uncork()}if(!state.ending&&!state.finished)endWritable(this,state,cb)};function needFinish(state){return state.ending&&state.length===0&&state.bufferedRequest===null&&!state.finished&&!state.writing}function prefinish(stream,state){if(!state.prefinished){state.prefinished=true;stream.emit("prefinish")}}function finishMaybe(stream,state){var need=needFinish(state);if(need){if(state.pendingcb===0){prefinish(stream,state);state.finished=true;stream.emit("finish")}else{prefinish(stream,state)}}return need}function endWritable(stream,state,cb){state.ending=true;finishMaybe(stream,state);if(cb){if(state.finished)processNextTick(cb);else stream.once("finish",cb)}state.ended=true}},{"./_stream_duplex":"/Users/paulfrazee/patchwork/node_modules/readable-stream/lib/_stream_duplex.js",buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js","core-util-is":"/Users/paulfrazee/patchwork/node_modules/core-util-is/lib/util.js",events:"/Users/paulfrazee/patchwork/node_modules/events/events.js",inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js","process-nextick-args":"/Users/paulfrazee/patchwork/node_modules/process-nextick-args/index.js","util-deprecate":"/Users/paulfrazee/patchwork/node_modules/util-deprecate/browser.js"}],"/Users/paulfrazee/patchwork/node_modules/readable-stream/passthrough.js":[function(require,module,exports){module.exports=require("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":"/Users/paulfrazee/patchwork/node_modules/readable-stream/lib/_stream_passthrough.js"}],"/Users/paulfrazee/patchwork/node_modules/readable-stream/readable.js":[function(require,module,exports){var Stream=function(){try{return require("st"+"ream")}catch(_){}}();exports=module.exports=require("./lib/_stream_readable.js");exports.Stream=Stream||exports;exports.Readable=exports;exports.Writable=require("./lib/_stream_writable.js");exports.Duplex=require("./lib/_stream_duplex.js");exports.Transform=require("./lib/_stream_transform.js");exports.PassThrough=require("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":"/Users/paulfrazee/patchwork/node_modules/readable-stream/lib/_stream_duplex.js","./lib/_stream_passthrough.js":"/Users/paulfrazee/patchwork/node_modules/readable-stream/lib/_stream_passthrough.js","./lib/_stream_readable.js":"/Users/paulfrazee/patchwork/node_modules/readable-stream/lib/_stream_readable.js","./lib/_stream_transform.js":"/Users/paulfrazee/patchwork/node_modules/readable-stream/lib/_stream_transform.js","./lib/_stream_writable.js":"/Users/paulfrazee/patchwork/node_modules/readable-stream/lib/_stream_writable.js"}],"/Users/paulfrazee/patchwork/node_modules/readable-stream/transform.js":[function(require,module,exports){module.exports=require("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":"/Users/paulfrazee/patchwork/node_modules/readable-stream/lib/_stream_transform.js"}],"/Users/paulfrazee/patchwork/node_modules/readable-stream/writable.js":[function(require,module,exports){module.exports=require("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":"/Users/paulfrazee/patchwork/node_modules/readable-stream/lib/_stream_writable.js"}],"/Users/paulfrazee/patchwork/node_modules/ripemd160/lib/ripemd160.js":[function(require,module,exports){(function(Buffer){var zl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13];var zr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11];var sl=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6];var sr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];var hl=[0,1518500249,1859775393,2400959708,2840853838];var hr=[1352829926,1548603684,1836072691,2053994217,0];function bytesToWords(bytes){var words=[];for(var i=0,b=0;i<bytes.length;i++,b+=8){words[b>>>5]|=bytes[i]<<24-b%32}return words}function wordsToBytes(words){var bytes=[];for(var b=0;b<words.length*32;b+=8){bytes.push(words[b>>>5]>>>24-b%32&255)}return bytes}function processBlock(H,M,offset){for(var i=0;i<16;i++){var offset_i=offset+i;var M_offset_i=M[offset_i];M[offset_i]=(M_offset_i<<8|M_offset_i>>>24)&16711935|(M_offset_i<<24|M_offset_i>>>8)&4278255360}var al,bl,cl,dl,el;var ar,br,cr,dr,er;ar=al=H[0];br=bl=H[1];cr=cl=H[2];dr=dl=H[3];er=el=H[4];var t;for(i=0;i<80;i+=1){t=al+M[offset+zl[i]]|0;if(i<16){t+=f1(bl,cl,dl)+hl[0]}else if(i<32){t+=f2(bl,cl,dl)+hl[1]}else if(i<48){t+=f3(bl,cl,dl)+hl[2]}else if(i<64){t+=f4(bl,cl,dl)+hl[3]}else{t+=f5(bl,cl,dl)+hl[4]}t=t|0;t=rotl(t,sl[i]);t=t+el|0;al=el;el=dl;dl=rotl(cl,10);cl=bl;bl=t;t=ar+M[offset+zr[i]]|0;if(i<16){t+=f5(br,cr,dr)+hr[0]}else if(i<32){t+=f4(br,cr,dr)+hr[1]}else if(i<48){t+=f3(br,cr,dr)+hr[2]}else if(i<64){t+=f2(br,cr,dr)+hr[3]}else{t+=f1(br,cr,dr)+hr[4]}t=t|0;t=rotl(t,sr[i]);t=t+er|0;ar=er;er=dr;dr=rotl(cr,10);cr=br;br=t}t=H[1]+cl+dr|0;H[1]=H[2]+dl+er|0;H[2]=H[3]+el+ar|0;H[3]=H[4]+al+br|0;H[4]=H[0]+bl+cr|0;H[0]=t}function f1(x,y,z){return x^y^z}function f2(x,y,z){return x&y|~x&z}function f3(x,y,z){return(x|~y)^z}function f4(x,y,z){return x&z|y&~z}function f5(x,y,z){return x^(y|~z)}function rotl(x,n){return x<<n|x>>>32-n}function ripemd160(message){var H=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof message==="string"){message=new Buffer(message,"utf8")}var m=bytesToWords(message);var nBitsLeft=message.length*8;var nBitsTotal=message.length*8;m[nBitsLeft>>>5]|=128<<24-nBitsLeft%32;m[(nBitsLeft+64>>>9<<4)+14]=(nBitsTotal<<8|nBitsTotal>>>24)&16711935|(nBitsTotal<<24|nBitsTotal>>>8)&4278255360;for(var i=0;i<m.length;i+=16){processBlock(H,m,i)}for(i=0;i<5;i++){var H_i=H[i];H[i]=(H_i<<8|H_i>>>24)&16711935|(H_i<<24|H_i>>>8)&4278255360}var digestbytes=wordsToBytes(H);return new Buffer(digestbytes)}module.exports=ripemd160}).call(this,require("buffer").Buffer)},{buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js"}],"/Users/paulfrazee/patchwork/node_modules/sha.js/hash.js":[function(require,module,exports){(function(Buffer){function Hash(blockSize,finalSize){this._block=new Buffer(blockSize);this._finalSize=finalSize;this._blockSize=blockSize;this._len=0;this._s=0}Hash.prototype.update=function(data,enc){if(typeof data==="string"){enc=enc||"utf8";data=new Buffer(data,enc)}var l=this._len+=data.length;var s=this._s||0;var f=0;var buffer=this._block;while(s<l){var t=Math.min(data.length,f+this._blockSize-s%this._blockSize);var ch=t-f;for(var i=0;i<ch;i++){buffer[s%this._blockSize+i]=data[i+f]}s+=ch;f+=ch;if(s%this._blockSize===0){this._update(buffer)}}this._s=s;return this};Hash.prototype.digest=function(enc){var l=this._len*8;this._block[this._len%this._blockSize]=128;this._block.fill(0,this._len%this._blockSize+1);if(l%(this._blockSize*8)>=this._finalSize*8){this._update(this._block);this._block.fill(0)}this._block.writeInt32BE(l,this._blockSize-4);var hash=this._update(this._block)||this._hash();return enc?hash.toString(enc):hash};Hash.prototype._update=function(){throw new Error("_update must be implemented by subclass")};module.exports=Hash}).call(this,require("buffer").Buffer)},{buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js"}],"/Users/paulfrazee/patchwork/node_modules/sha.js/index.js":[function(require,module,exports){var exports=module.exports=function SHA(algorithm){algorithm=algorithm.toLowerCase();var Algorithm=exports[algorithm];if(!Algorithm)throw new Error(algorithm+" is not supported (we accept pull requests)");return new Algorithm};exports.sha=require("./sha");exports.sha1=require("./sha1");exports.sha224=require("./sha224");exports.sha256=require("./sha256");exports.sha384=require("./sha384");exports.sha512=require("./sha512")},{"./sha":"/Users/paulfrazee/patchwork/node_modules/sha.js/sha.js","./sha1":"/Users/paulfrazee/patchwork/node_modules/sha.js/sha1.js","./sha224":"/Users/paulfrazee/patchwork/node_modules/sha.js/sha224.js","./sha256":"/Users/paulfrazee/patchwork/node_modules/sha.js/sha256.js","./sha384":"/Users/paulfrazee/patchwork/node_modules/sha.js/sha384.js","./sha512":"/Users/paulfrazee/patchwork/node_modules/sha.js/sha512.js"}],"/Users/paulfrazee/patchwork/node_modules/sha.js/sha.js":[function(require,module,exports){(function(Buffer){var inherits=require("inherits");var Hash=require("./hash");var W=new Array(80);function Sha(){this.init();this._w=W;Hash.call(this,64,56)}inherits(Sha,Hash);Sha.prototype.init=function(){this._a=1732584193|0;this._b=4023233417|0;this._c=2562383102|0;this._d=271733878|0;this._e=3285377520|0;return this};function rol(num,cnt){return num<<cnt|num>>>32-cnt}Sha.prototype._update=function(M){var W=this._w;var a=this._a;var b=this._b;var c=this._c;var d=this._d;var e=this._e;var j=0;var k;function calcW(){return W[j-3]^W[j-8]^W[j-14]^W[j-16]}function loop(w,f){W[j]=w;var t=rol(a,5)+f+e+w+k;e=d;d=c;c=rol(b,30);b=a;a=t;j++}k=1518500249;while(j<16)loop(M.readInt32BE(j*4),b&c|~b&d);while(j<20)loop(calcW(),b&c|~b&d);k=1859775393;while(j<40)loop(calcW(),b^c^d);k=-1894007588;while(j<60)loop(calcW(),b&c|b&d|c&d);k=-899497514;while(j<80)loop(calcW(),b^c^d);this._a=a+this._a|0;this._b=b+this._b|0;this._c=c+this._c|0;this._d=d+this._d|0;this._e=e+this._e|0};Sha.prototype._hash=function(){var H=new Buffer(20);H.writeInt32BE(this._a|0,0);H.writeInt32BE(this._b|0,4);H.writeInt32BE(this._c|0,8);H.writeInt32BE(this._d|0,12);H.writeInt32BE(this._e|0,16);return H};module.exports=Sha}).call(this,require("buffer").Buffer)},{"./hash":"/Users/paulfrazee/patchwork/node_modules/sha.js/hash.js",buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js",inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js"}],"/Users/paulfrazee/patchwork/node_modules/sha.js/sha1.js":[function(require,module,exports){(function(Buffer){var inherits=require("inherits");var Hash=require("./hash");var W=new Array(80);function Sha1(){this.init();this._w=W;Hash.call(this,64,56)}inherits(Sha1,Hash);Sha1.prototype.init=function(){this._a=1732584193|0;this._b=4023233417|0;this._c=2562383102|0;this._d=271733878|0;this._e=3285377520|0;return this};function rol(num,cnt){return num<<cnt|num>>>32-cnt}Sha1.prototype._update=function(M){var W=this._w;var a=this._a;var b=this._b;var c=this._c;var d=this._d;var e=this._e;var j=0;var k;function calcW(){return rol(W[j-3]^W[j-8]^W[j-14]^W[j-16],1)}function loop(w,f){W[j]=w;var t=rol(a,5)+f+e+w+k;e=d;d=c;c=rol(b,30);b=a;a=t;j++}k=1518500249;while(j<16)loop(M.readInt32BE(j*4),b&c|~b&d);while(j<20)loop(calcW(),b&c|~b&d);k=1859775393;while(j<40)loop(calcW(),b^c^d);k=-1894007588;while(j<60)loop(calcW(),b&c|b&d|c&d);k=-899497514;while(j<80)loop(calcW(),b^c^d);this._a=a+this._a|0;this._b=b+this._b|0;this._c=c+this._c|0;this._d=d+this._d|0;this._e=e+this._e|0};Sha1.prototype._hash=function(){var H=new Buffer(20);H.writeInt32BE(this._a|0,0);H.writeInt32BE(this._b|0,4);H.writeInt32BE(this._c|0,8);H.writeInt32BE(this._d|0,12);H.writeInt32BE(this._e|0,16);return H};module.exports=Sha1}).call(this,require("buffer").Buffer)},{"./hash":"/Users/paulfrazee/patchwork/node_modules/sha.js/hash.js",buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js",inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js"}],"/Users/paulfrazee/patchwork/node_modules/sha.js/sha224.js":[function(require,module,exports){(function(Buffer){var inherits=require("inherits");var Sha256=require("./sha256");var Hash=require("./hash");var W=new Array(64);function Sha224(){this.init();this._w=W;Hash.call(this,64,56)}inherits(Sha224,Sha256);Sha224.prototype.init=function(){this._a=3238371032|0;this._b=914150663|0;this._c=812702999|0;this._d=4144912697|0;this._e=4290775857|0;this._f=1750603025|0;this._g=1694076839|0;this._h=3204075428|0;return this};Sha224.prototype._hash=function(){var H=new Buffer(28);H.writeInt32BE(this._a,0);H.writeInt32BE(this._b,4);H.writeInt32BE(this._c,8);H.writeInt32BE(this._d,12);H.writeInt32BE(this._e,16);H.writeInt32BE(this._f,20);H.writeInt32BE(this._g,24);return H};module.exports=Sha224}).call(this,require("buffer").Buffer)},{"./hash":"/Users/paulfrazee/patchwork/node_modules/sha.js/hash.js","./sha256":"/Users/paulfrazee/patchwork/node_modules/sha.js/sha256.js",buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js",inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js"}],"/Users/paulfrazee/patchwork/node_modules/sha.js/sha256.js":[function(require,module,exports){(function(Buffer){var inherits=require("inherits");var Hash=require("./hash");var K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];var W=new Array(64);function Sha256(){this.init();this._w=W;Hash.call(this,64,56)}inherits(Sha256,Hash);Sha256.prototype.init=function(){this._a=1779033703|0;this._b=3144134277|0;this._c=1013904242|0;this._d=2773480762|0;this._e=1359893119|0;this._f=2600822924|0;this._g=528734635|0;this._h=1541459225|0;return this};function Ch(x,y,z){return z^x&(y^z)}function Maj(x,y,z){return x&y|z&(x|y)}function Sigma0(x){return(x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10)}function Sigma1(x){return(x>>>6|x<<26)^(x>>>11|x<<21)^(x>>>25|x<<7)}function Gamma0(x){return(x>>>7|x<<25)^(x>>>18|x<<14)^x>>>3}function Gamma1(x){return(x>>>17|x<<15)^(x>>>19|x<<13)^x>>>10}Sha256.prototype._update=function(M){var W=this._w;var a=this._a|0;var b=this._b|0;var c=this._c|0;var d=this._d|0;var e=this._e|0;var f=this._f|0;var g=this._g|0;var h=this._h|0;var j=0;function calcW(){return Gamma1(W[j-2])+W[j-7]+Gamma0(W[j-15])+W[j-16]}function loop(w){W[j]=w;var T1=h+Sigma1(e)+Ch(e,f,g)+K[j]+w;var T2=Sigma0(a)+Maj(a,b,c);h=g;g=f;f=e;e=d+T1;d=c;c=b;b=a;a=T1+T2;j++}while(j<16)loop(M.readInt32BE(j*4));while(j<64)loop(calcW());this._a=a+this._a|0;this._b=b+this._b|0;this._c=c+this._c|0;this._d=d+this._d|0;this._e=e+this._e|0;this._f=f+this._f|0;this._g=g+this._g|0;this._h=h+this._h|0};Sha256.prototype._hash=function(){var H=new Buffer(32);H.writeInt32BE(this._a,0);H.writeInt32BE(this._b,4);H.writeInt32BE(this._c,8);H.writeInt32BE(this._d,12);H.writeInt32BE(this._e,16);H.writeInt32BE(this._f,20);H.writeInt32BE(this._g,24);H.writeInt32BE(this._h,28);return H};module.exports=Sha256}).call(this,require("buffer").Buffer)},{"./hash":"/Users/paulfrazee/patchwork/node_modules/sha.js/hash.js",buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js",inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js"}],"/Users/paulfrazee/patchwork/node_modules/sha.js/sha384.js":[function(require,module,exports){(function(Buffer){var inherits=require("inherits");var SHA512=require("./sha512");var Hash=require("./hash");var W=new Array(160);function Sha384(){this.init();this._w=W;Hash.call(this,128,112)}inherits(Sha384,SHA512);Sha384.prototype.init=function(){this._a=3418070365|0;this._b=1654270250|0;this._c=2438529370|0;this._d=355462360|0;this._e=1731405415|0;this._f=2394180231|0;this._g=3675008525|0;this._h=1203062813|0;this._al=3238371032|0;this._bl=914150663|0;this._cl=812702999|0;this._dl=4144912697|0;this._el=4290775857|0;this._fl=1750603025|0;this._gl=1694076839|0;this._hl=3204075428|0;return this};Sha384.prototype._hash=function(){var H=new Buffer(48);function writeInt64BE(h,l,offset){H.writeInt32BE(h,offset);H.writeInt32BE(l,offset+4)}writeInt64BE(this._a,this._al,0);writeInt64BE(this._b,this._bl,8);writeInt64BE(this._c,this._cl,16);writeInt64BE(this._d,this._dl,24);writeInt64BE(this._e,this._el,32);writeInt64BE(this._f,this._fl,40);return H};module.exports=Sha384}).call(this,require("buffer").Buffer)},{"./hash":"/Users/paulfrazee/patchwork/node_modules/sha.js/hash.js","./sha512":"/Users/paulfrazee/patchwork/node_modules/sha.js/sha512.js",buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js",inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js"}],"/Users/paulfrazee/patchwork/node_modules/sha.js/sha512.js":[function(require,module,exports){(function(Buffer){var inherits=require("inherits");var Hash=require("./hash");var K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];var W=new Array(160);function Sha512(){this.init();this._w=W;Hash.call(this,128,112)}inherits(Sha512,Hash);Sha512.prototype.init=function(){this._a=1779033703|0;this._b=3144134277|0;this._c=1013904242|0;this._d=2773480762|0;this._e=1359893119|0;this._f=2600822924|0;this._g=528734635|0;this._h=1541459225|0;this._al=4089235720|0;this._bl=2227873595|0;this._cl=4271175723|0;this._dl=1595750129|0;this._el=2917565137|0;this._fl=725511199|0;this._gl=4215389547|0;this._hl=327033209|0;return this};function Ch(x,y,z){return z^x&(y^z)}function Maj(x,y,z){return x&y|z&(x|y)}function Sigma0(x,xl){return(x>>>28|xl<<4)^(xl>>>2|x<<30)^(xl>>>7|x<<25)}function Sigma1(x,xl){return(x>>>14|xl<<18)^(x>>>18|xl<<14)^(xl>>>9|x<<23)}function Gamma0(x,xl){return(x>>>1|xl<<31)^(x>>>8|xl<<24)^x>>>7}function Gamma0l(x,xl){return(x>>>1|xl<<31)^(x>>>8|xl<<24)^(x>>>7|xl<<25)}function Gamma1(x,xl){return(x>>>19|xl<<13)^(xl>>>29|x<<3)^x>>>6}function Gamma1l(x,xl){return(x>>>19|xl<<13)^(xl>>>29|x<<3)^(x>>>6|xl<<26)}Sha512.prototype._update=function(M){var W=this._w;var a=this._a|0;var b=this._b|0;var c=this._c|0;var d=this._d|0;var e=this._e|0;var f=this._f|0;var g=this._g|0;var h=this._h|0;var al=this._al|0;var bl=this._bl|0;var cl=this._cl|0;var dl=this._dl|0;var el=this._el|0;var fl=this._fl|0;var gl=this._gl|0;var hl=this._hl|0;var i=0;var j=0;var Wi,Wil;function calcW(){var x=W[j-15*2];var xl=W[j-15*2+1];var gamma0=Gamma0(x,xl);var gamma0l=Gamma0l(xl,x);x=W[j-2*2];xl=W[j-2*2+1];var gamma1=Gamma1(x,xl);var gamma1l=Gamma1l(xl,x);var Wi7=W[j-7*2];var Wi7l=W[j-7*2+1];var Wi16=W[j-16*2];var Wi16l=W[j-16*2+1];Wil=gamma0l+Wi7l;Wi=gamma0+Wi7+(Wil>>>0<gamma0l>>>0?1:0);Wil=Wil+gamma1l;Wi=Wi+gamma1+(Wil>>>0<gamma1l>>>0?1:0);Wil=Wil+Wi16l;Wi=Wi+Wi16+(Wil>>>0<Wi16l>>>0?1:0)}function loop(){W[j]=Wi;W[j+1]=Wil;var maj=Maj(a,b,c);var majl=Maj(al,bl,cl);var sigma0h=Sigma0(a,al);var sigma0l=Sigma0(al,a);var sigma1h=Sigma1(e,el);var sigma1l=Sigma1(el,e);var Ki=K[j];var Kil=K[j+1];var ch=Ch(e,f,g);var chl=Ch(el,fl,gl);var t1l=hl+sigma1l;var t1=h+sigma1h+(t1l>>>0<hl>>>0?1:0);t1l=t1l+chl;t1=t1+ch+(t1l>>>0<chl>>>0?1:0);t1l=t1l+Kil;t1=t1+Ki+(t1l>>>0<Kil>>>0?1:0);t1l=t1l+Wil;t1=t1+Wi+(t1l>>>0<Wil>>>0?1:0);var t2l=sigma0l+majl;var t2=sigma0h+maj+(t2l>>>0<sigma0l>>>0?1:0);h=g;hl=gl;g=f;gl=fl;f=e;fl=el;el=dl+t1l|0;e=d+t1+(el>>>0<dl>>>0?1:0)|0;d=c;dl=cl;c=b;cl=bl;b=a;bl=al;al=t1l+t2l|0;a=t1+t2+(al>>>0<t1l>>>0?1:0)|0;i++;j+=2}while(i<16){Wi=M.readInt32BE(j*4);Wil=M.readInt32BE(j*4+4);loop()}while(i<80){calcW();loop()}this._al=this._al+al|0;this._bl=this._bl+bl|0;this._cl=this._cl+cl|0;this._dl=this._dl+dl|0;this._el=this._el+el|0;this._fl=this._fl+fl|0;this._gl=this._gl+gl|0;this._hl=this._hl+hl|0;this._a=this._a+a+(this._al>>>0<al>>>0?1:0)|0;this._b=this._b+b+(this._bl>>>0<bl>>>0?1:0)|0;this._c=this._c+c+(this._cl>>>0<cl>>>0?1:0)|0;this._d=this._d+d+(this._dl>>>0<dl>>>0?1:0)|0;this._e=this._e+e+(this._el>>>0<el>>>0?1:0)|0;this._f=this._f+f+(this._fl>>>0<fl>>>0?1:0)|0;this._g=this._g+g+(this._gl>>>0<gl>>>0?1:0)|0;this._h=this._h+h+(this._hl>>>0<hl>>>0?1:0)|0};Sha512.prototype._hash=function(){var H=new Buffer(64);function writeInt64BE(h,l,offset){H.writeInt32BE(h,offset);H.writeInt32BE(l,offset+4)}writeInt64BE(this._a,this._al,0);writeInt64BE(this._b,this._bl,8);writeInt64BE(this._c,this._cl,16);writeInt64BE(this._d,this._dl,24);writeInt64BE(this._e,this._el,32);writeInt64BE(this._f,this._fl,40);writeInt64BE(this._g,this._gl,48);writeInt64BE(this._h,this._hl,56);return H};module.exports=Sha512}).call(this,require("buffer").Buffer)},{"./hash":"/Users/paulfrazee/patchwork/node_modules/sha.js/hash.js",buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js",inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js"}],"/Users/paulfrazee/patchwork/node_modules/simplesvg/index.js":[function(require,module,exports){module.exports=svg;svg.compile=require("./lib/compile");var compileTemplate=svg.compileTemplate=require("./lib/compile_template");var domEvents=require("add-event-listener");var svgns="http://www.w3.org/2000/svg";var xlinkns="http://www.w3.org/1999/xlink";function svg(element,attrBag){var svgElement=augment(element);if(attrBag===undefined){return svgElement}var attributes=Object.keys(attrBag);for(var i=0;i<attributes.length;++i){var attributeName=attributes[i];var value=attrBag[attributeName];if(attributeName==="link"){svgElement.link(value)}else{svgElement.attr(attributeName,value)}}return svgElement}function augment(element){var svgElement=element;if(typeof element==="string"){svgElement=window.document.createElementNS(svgns,element)}else if(element.simplesvg){return element}var compiledTempalte;svgElement.simplesvg=true;svgElement.attr=attr;svgElement.append=append;svgElement.link=link;svgElement.text=text;svgElement.on=on;svgElement.off=off;svgElement.dataSource=dataSource;return svgElement;function dataSource(model){if(!compiledTempalte)compiledTempalte=compileTemplate(svgElement);compiledTempalte.link(model);return svgElement}function on(name,cb,useCapture){domEvents.addEventListener(svgElement,name,cb,useCapture);return svgElement}function off(name,cb,useCapture){domEvents.removeEventListener(svgElement,name,cb,useCapture);return svgElement}function append(content){var child=svg(content);svgElement.appendChild(child);return child}function attr(name,value){if(arguments.length===2){if(value!==null){svgElement.setAttributeNS(null,name,value)}else{svgElement.removeAttributeNS(null,name)}return svgElement}return svgElement.getAttributeNS(null,name)}function link(target){if(arguments.length){svgElement.setAttributeNS(xlinkns,"xlink:href",target);return svgElement}return svgElement.getAttributeNS(xlinkns,"xlink:href")}function text(textContent){if(textContent!==undefined){svgElement.textContent=textContent;return svgElement}return svgElement.textContent}}},{"./lib/compile":"/Users/paulfrazee/patchwork/node_modules/simplesvg/lib/compile.js","./lib/compile_template":"/Users/paulfrazee/patchwork/node_modules/simplesvg/lib/compile_template.js","add-event-listener":"/Users/paulfrazee/patchwork/node_modules/add-event-listener/index.js"}],"/Users/paulfrazee/patchwork/node_modules/simplesvg/lib/compile.js":[function(require,module,exports){var parser=require("./domparser.js");var svg=require("../");module.exports=compile;function compile(svgText){try{svgText=addNamespaces(svgText);return svg(parser.parseFromString(svgText,"text/xml").documentElement)}catch(e){throw e}}function addNamespaces(text){if(!text)return;var namespaces='xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg"';var match=text.match(/^<\w+/);if(match){var tagLength=match[0].length;return text.substr(0,tagLength)+" "+namespaces+" "+text.substr(tagLength)}else{throw new Error("Cannot parse input text: invalid xml?")}}},{"../":"/Users/paulfrazee/patchwork/node_modules/simplesvg/index.js","./domparser.js":"/Users/paulfrazee/patchwork/node_modules/simplesvg/lib/domparser.js"}],"/Users/paulfrazee/patchwork/node_modules/simplesvg/lib/compile_template.js":[function(require,module,exports){module.exports=template;var BINDING_EXPR=/{{(.+?)}}/;function template(domNode){var allBindings=Object.create(null);extractAllBindings(domNode,allBindings);return{link:function(model){Object.keys(allBindings).forEach(function(key){var setter=allBindings[key];setter.forEach(changeModel)});function changeModel(setter){setter(model)}}}}function extractAllBindings(domNode,allBindings){var nodeType=domNode.nodeType;var typeSupported=nodeType===1||nodeType===3;if(!typeSupported)return;var i;if(domNode.hasChildNodes()){var domChildren=domNode.childNodes;for(i=0;i<domChildren.length;++i){extractAllBindings(domChildren[i],allBindings)}}if(nodeType===3){bindTextContent(domNode,allBindings)}if(!domNode.attributes)return;var attrs=domNode.attributes;for(i=0;i<attrs.length;++i){bindDomAttribute(attrs[i],domNode,allBindings)}}function bindDomAttribute(domAttribute,element,allBindings){var value=domAttribute.value;if(!value)return;var modelNameMatch=value.match(BINDING_EXPR);if(!modelNameMatch)return;var attrName=domAttribute.localName;var modelPropertyName=modelNameMatch[1];var isSimpleValue=modelPropertyName.indexOf(".")<0;if(!isSimpleValue)throw new Error("simplesvg currently does not support nested bindings");var propertyBindings=allBindings[modelPropertyName];if(!propertyBindings){propertyBindings=allBindings[modelPropertyName]=[attributeSetter]}else{propertyBindings.push(attributeSetter)}function attributeSetter(model){element.setAttributeNS(null,attrName,model[modelPropertyName])}}function bindTextContent(element,allBindings){var value=element.nodeValue;if(!value)return;var modelNameMatch=value.match(BINDING_EXPR);if(!modelNameMatch)return;var modelPropertyName=modelNameMatch[1];var isSimpleValue=modelPropertyName.indexOf(".")<0;var propertyBindings=allBindings[modelPropertyName];if(!propertyBindings){propertyBindings=allBindings[modelPropertyName]=[textSetter]}else{propertyBindings.push(textSetter)}function textSetter(model){element.nodeValue=model[modelPropertyName]}}},{}],"/Users/paulfrazee/patchwork/node_modules/simplesvg/lib/domparser.js":[function(require,module,exports){module.exports=createDomparser();function createDomparser(){if(typeof DOMParser==="undefined"){return{parseFromString:fail}}return new DOMParser}function fail(){throw new Error("DOMParser is not supported by this platform. Please open issue here https://github.com/anvaka/simplesvg")}},{}],"/Users/paulfrazee/patchwork/node_modules/ssb-markdown/index.js":[function(require,module,exports){"use strict";var emojiNamedCharacters=require("emoji-named-characters");var marked=require("ssb-marked");var ssbref=require("ssb-ref");var mlib=require("ssb-msgs");var blockRenderer=new marked.Renderer;var inlineRenderer=new marked.Renderer;blockRenderer.urltransform=function(url){var c=url.charAt(0);var hasSigil=c=="@"||c=="&"||c=="%";if(this.options.sanitize&&!hasSigil){try{var prot=decodeURIComponent(unescape(url.replace(/[^\w:]/g,""))).toLowerCase()}catch(e){return false}if(prot.indexOf("http:")!==0&&prot.indexOf("https:")!==0&&prot.indexOf("data:")!==0){return false}}var isSsbRef=ssbref.isLink(url);if(!isSsbRef){var ref=ssbref.extract(url);if(ref){url=ref;isSsbRef=true}}if(hasSigil&&!isSsbRef&&this.options.mentionNames){url=this.options.mentionNames[url.slice(1)];if(!url)return false;isSsbRef=true}if(isSsbRef){if(ssbref.isFeedId(url))return"#/profile/"+encodeURIComponent(url);else if(ssbref.isMsgId(url))return"#/msg/"+encodeURIComponent(url);else if(ssbref.isBlobId(url))return"/"+encodeURIComponent(url)}return url};blockRenderer.link=function(href,title,text){href=this.urltransform(href);var out;if(href!==false){if((href.indexOf("/%26")===0||href.indexOf("/&")===0)&&(title||text))href+="?name="+encodeURIComponent(title||text);out='<a href="'+href+'"'}else out='<a class="bad"';if(title){out+=' title="'+title+'"'}if(href&&href.indexOf("http")===0)out+=' target="_blank"';out+=">"+text+"</a>";return out};blockRenderer.image=function(href,title,text){href=href.replace(/^&amp;/,"&");if(ssbref.isLink(href)){var out='<img src="http://localhost:7777/'+href+'?fallback=img" alt="'+text+'"';if(title){out+=' title="'+title+'"'}out+=">";return out}return text};inlineRenderer.urltransform=function(url){return false};inlineRenderer.link=function(href,title,text){return unquote(text)};inlineRenderer.image=function(href,title,text){return unquote(text)};inlineRenderer.code=function(code,lang,escaped){return escaped?code:escape(code)};inlineRenderer.blockquote=function(quote){return unquote(quote)};inlineRenderer.html=function(html){return false};inlineRenderer.heading=function(text,level,raw){return"<strong>"+unquote(text)+"</strong> "};inlineRenderer.hr=function(){return" --- "};inlineRenderer.br=function(){return" "};inlineRenderer.list=function(body,ordered){return unquote(body)};inlineRenderer.listitem=function(text){return"- "+unquote(text)};inlineRenderer.paragraph=function(text){return unquote(text)+" "};inlineRenderer.table=function(header,body){return unquote(header+" "+body)};inlineRenderer.tablerow=function(content){return unquote(content)};inlineRenderer.tablecell=function(content,flags){return unquote(content)};inlineRenderer.strong=function(text){return"<strong>"+unquote(text)+"</strong>"};inlineRenderer.em=function(text){return unquote(text)};inlineRenderer.codespan=function(text){return unquote(text)};inlineRenderer.del=function(text){return unquote(text)};inlineRenderer.mention=function(preceding,id){return unquote((preceding||"")+id)};function unquote(text){return text.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#39;/g,"'")}function escape(text){return text.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\n+/g," ")}marked.setOptions({gfm:true,mentions:true,tables:true,breaks:true,pedantic:false,sanitize:true,smartLists:true,smartypants:false,emoji:renderEmoji(16),renderer:blockRenderer});exports.block=function(text,mentionNames){if(mentionNames&&mentionNames.key&&mentionNames.value){mentionNames=mlib.links(mentionNames.value.content.mentions,"feed")}if(Array.isArray(mentionNames)){var n={};mentionNames.forEach(function(link){
n[link.name]=link.link});mentionNames=n}return marked(""+(text||""),{mentionNames:mentionNames})};exports.inline=function(text){return marked(""+(text||""),{renderer:inlineRenderer,emoji:renderEmoji(12)})};var emojiRegex=/(\s|>|^)?:([A-z0-9_]+):(\s|<|$)/g;exports.emojis=function(str){return str.replace(emojiRegex,function(full,$1,$2,$3){return($1||"")+renderEmoji(16)($2)+($3||"")})};function renderEmoji(size){size=size||20;return function(emoji){return emoji in emojiNamedCharacters?'<img src="./img/emoji/'+encodeURI(emoji)+'.png"'+' alt=":'+escape(emoji)+':"'+' title=":'+escape(emoji)+':"'+' class="emoji" align="absmiddle" height="'+size+'" width="'+size+'">':":"+emoji+":"}}},{"emoji-named-characters":"/Users/paulfrazee/patchwork/node_modules/emoji-named-characters/index.js","ssb-marked":"/Users/paulfrazee/patchwork/node_modules/ssb-marked/lib/marked.js","ssb-msgs":"/Users/paulfrazee/patchwork/node_modules/ssb-msgs/index.js","ssb-ref":"/Users/paulfrazee/patchwork/node_modules/ssb-ref/index.js"}],"/Users/paulfrazee/patchwork/node_modules/ssb-marked/lib/marked.js":[function(require,module,exports){(function(global){(function(){var block={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:noop,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:noop,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:noop,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};block.bullet=/(?:[*+-]|\d+\.)/;block.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/;block.item=replace(block.item,"gm")(/bull/g,block.bullet)();block.list=replace(block.list)(/bull/g,block.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+block.def.source+")")();block.blockquote=replace(block.blockquote)("def",block.def)();block._tag="(?!(?:"+"a|em|strong|small|s|cite|q|dfn|abbr|data|time|code"+"|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo"+"|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b";block.html=replace(block.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,block._tag)();block.paragraph=replace(block.paragraph)("hr",block.hr)("heading",block.heading)("lheading",block.lheading)("blockquote",block.blockquote)("tag","<"+block._tag)("def",block.def)();block.normal=merge({},block);block.gfm=merge({},block.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/});block.gfm.paragraph=replace(block.paragraph)("(?!","(?!"+block.gfm.fences.source.replace("\\1","\\2")+"|"+block.list.source.replace("\\1","\\3")+"|")();block.tables=merge({},block.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/});function Lexer(options){this.tokens=[];this.tokens.links={};this.options=options||marked.defaults;this.rules=block.normal;if(this.options.gfm){if(this.options.tables){this.rules=block.tables}else{this.rules=block.gfm}}}Lexer.rules=block;Lexer.lex=function(src,options){var lexer=new Lexer(options);return lexer.lex(src)};Lexer.prototype.lex=function(src){src=src.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n");return this.token(src,true)};Lexer.prototype.token=function(src,top,bq){var src=src.replace(/^ +$/gm,""),next,loose,cap,bull,b,item,space,i,l;while(src){if(cap=this.rules.newline.exec(src)){src=src.substring(cap[0].length);if(cap[0].length>1){this.tokens.push({type:"space"})}}if(cap=this.rules.code.exec(src)){src=src.substring(cap[0].length);cap=cap[0].replace(/^ {4}/gm,"");this.tokens.push({type:"code",text:!this.options.pedantic?cap.replace(/\n+$/,""):cap});continue}if(cap=this.rules.fences.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"code",lang:cap[2],text:cap[3]});continue}if(cap=this.rules.heading.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"heading",depth:cap[1].length,text:cap[2]});continue}if(top&&(cap=this.rules.nptable.exec(src))){src=src.substring(cap[0].length);item={type:"table",header:cap[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:cap[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:cap[3].replace(/\n$/,"").split("\n")};for(i=0;i<item.align.length;i++){if(/^ *-+: *$/.test(item.align[i])){item.align[i]="right"}else if(/^ *:-+: *$/.test(item.align[i])){item.align[i]="center"}else if(/^ *:-+ *$/.test(item.align[i])){item.align[i]="left"}else{item.align[i]=null}}for(i=0;i<item.cells.length;i++){item.cells[i]=item.cells[i].split(/ *\| */)}this.tokens.push(item);continue}if(cap=this.rules.lheading.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"heading",depth:cap[2]==="="?1:2,text:cap[1]});continue}if(cap=this.rules.hr.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"hr"});continue}if(cap=this.rules.blockquote.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"blockquote_start"});cap=cap[0].replace(/^ *> ?/gm,"");this.token(cap,top,true);this.tokens.push({type:"blockquote_end"});continue}if(cap=this.rules.list.exec(src)){src=src.substring(cap[0].length);bull=cap[2];this.tokens.push({type:"list_start",ordered:bull.length>1});cap=cap[0].match(this.rules.item);next=false;l=cap.length;i=0;for(;i<l;i++){item=cap[i];space=item.length;item=item.replace(/^ *([*+-]|\d+\.) +/,"");if(~item.indexOf("\n ")){space-=item.length;item=!this.options.pedantic?item.replace(new RegExp("^ {1,"+space+"}","gm"),""):item.replace(/^ {1,4}/gm,"")}if(this.options.smartLists&&i!==l-1){b=block.bullet.exec(cap[i+1])[0];if(bull!==b&&!(bull.length>1&&b.length>1)){src=cap.slice(i+1).join("\n")+src;i=l-1}}loose=next||/\n\n(?!\s*$)/.test(item);if(i!==l-1){next=item.charAt(item.length-1)==="\n";if(!loose)loose=next}this.tokens.push({type:loose?"loose_item_start":"list_item_start"});this.token(item,false,bq);this.tokens.push({type:"list_item_end"})}this.tokens.push({type:"list_end"});continue}if(cap=this.rules.html.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:cap[1]==="pre"||cap[1]==="script"||cap[1]==="style",text:cap[0]});continue}if(!bq&&top&&(cap=this.rules.def.exec(src))){src=src.substring(cap[0].length);this.tokens.links[cap[1].toLowerCase()]={href:cap[2],title:cap[3]};continue}if(top&&(cap=this.rules.table.exec(src))){src=src.substring(cap[0].length);item={type:"table",header:cap[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:cap[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:cap[3].replace(/(?: *\| *)?\n$/,"").split("\n")};for(i=0;i<item.align.length;i++){if(/^ *-+: *$/.test(item.align[i])){item.align[i]="right"}else if(/^ *:-+: *$/.test(item.align[i])){item.align[i]="center"}else if(/^ *:-+ *$/.test(item.align[i])){item.align[i]="left"}else{item.align[i]=null}}for(i=0;i<item.cells.length;i++){item.cells[i]=item.cells[i].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */)}this.tokens.push(item);continue}if(top&&(cap=this.rules.paragraph.exec(src))){src=src.substring(cap[0].length);this.tokens.push({type:"paragraph",text:cap[1].charAt(cap[1].length-1)==="\n"?cap[1].slice(0,-1):cap[1]});continue}if(cap=this.rules.text.exec(src)){src=src.substring(cap[0].length);this.tokens.push({type:"text",text:cap[0]});continue}if(src){throw new Error("Infinite loop on byte: "+src.charCodeAt(0))}}return this.tokens};var inline={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:noop,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:noop,emoji:noop,mention:/^(\s)?([@%&][A-Za-z0-9\._\-+=\/]*[A-Za-z0-9_\-+=\/])/,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n| [@%&]|$)/};inline._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/;inline._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/;inline.link=replace(inline.link)("inside",inline._inside)("href",inline._href)();inline.reflink=replace(inline.reflink)("inside",inline._inside)();inline.normal=merge({},inline);inline.pedantic=merge({},inline.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/});inline.gfm=merge({},inline.normal,{escape:replace(inline.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,emoji:/^:([A-Za-z0-9_\-\+]+?):/,text:replace(inline.text)("]|",":~]|")("|","|https?://|")()});inline.breaks=merge({},inline.gfm,{br:replace(inline.br)("{2,}","*")(),text:replace(inline.gfm.text)("{2,}","*")()});function InlineLexer(links,options){this.options=options||marked.defaults;this.links=links;this.rules=inline.normal;this.renderer=this.options.renderer||new Renderer;this.renderer.options=this.options;if(!this.links){throw new Error("Tokens array requires a `links` property.")}if(this.options.gfm){if(this.options.breaks){this.rules=inline.breaks}else{this.rules=inline.gfm}}else if(this.options.pedantic){this.rules=inline.pedantic}this.emojiTemplate=getEmojiTemplate(options)}InlineLexer.rules=inline;InlineLexer.output=function(src,links,options){var inline=new InlineLexer(links,options);return inline.output(src)};InlineLexer.prototype.output=function(src){var out="",link,text,href,cap;while(src){if(cap=this.rules.escape.exec(src)){src=src.substring(cap[0].length);out+=cap[1];continue}if(!this.inLink&&this.options.mentions&&(cap=this.rules.mention.exec(src))){src=src.substring(cap[0].length);out+=this.renderer.mention(cap[1],cap[2]);continue}if(cap=this.rules.autolink.exec(src)){src=src.substring(cap[0].length);if(cap[2]==="@"){text=cap[1].charAt(6)===":"?this.mangle(cap[1].substring(7)):this.mangle(cap[1]);href=this.mangle("mailto:")+text}else{text=escape(cap[1]);href=text}out+=this.renderer.link(href,null,text);continue}if(!this.inLink&&(cap=this.rules.url.exec(src))){src=src.substring(cap[0].length);text=escape(cap[1]);href=text;out+=this.renderer.link(href,null,text);continue}if(cap=this.rules.tag.exec(src)){if(!this.inLink&&/^<a /i.test(cap[0])){this.inLink=true}else if(this.inLink&&/^<\/a>/i.test(cap[0])){this.inLink=false}src=src.substring(cap[0].length);out+=this.options.sanitize?escape(cap[0]):cap[0];continue}if(cap=this.rules.link.exec(src)){src=src.substring(cap[0].length);this.inLink=true;out+=this.outputLink(cap,{href:cap[2],title:cap[3]});this.inLink=false;continue}if((cap=this.rules.reflink.exec(src))||(cap=this.rules.nolink.exec(src))){src=src.substring(cap[0].length);link=(cap[2]||cap[1]).replace(/\s+/g," ");link=this.links[link.toLowerCase()];if(!link||!link.href){out+=cap[0].charAt(0);src=cap[0].substring(1)+src;continue}this.inLink=true;out+=this.outputLink(cap,link);this.inLink=false;continue}if(cap=this.rules.strong.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.strong(this.output(cap[2]||cap[1]));continue}if(cap=this.rules.em.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.em(this.output(cap[2]||cap[1]));continue}if(cap=this.rules.code.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.codespan(escape(cap[2],true));continue}if(cap=this.rules.br.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.br();continue}if(cap=this.rules.del.exec(src)){src=src.substring(cap[0].length);out+=this.renderer.del(this.output(cap[1]));continue}if(cap=this.rules.emoji.exec(src)){src=src.substring(cap[0].length);out+=this.emoji(cap[1]);continue}if(cap=this.rules.text.exec(src)){src=src.substring(cap[0].length);out+=escape(this.smartypants(cap[0]));continue}if(src){throw new Error("Infinite loop on byte: "+src.charCodeAt(0))}}return out};InlineLexer.prototype.outputLink=function(cap,link){var href=simpleEscape(link.href),title=link.title?escape(link.title):null;return cap[0].charAt(0)!=="!"?this.renderer.link(href,title,this.output(cap[1])):this.renderer.image(href,title,escape(cap[1]))};function emojiDefaultTemplate(emoji){return'<img src="'+"/graphics/emojis/"+encodeURIComponent(emoji)+'.png"'+' alt=":'+escape(emoji)+':"'+' title=":'+escape(emoji)+':"'+' class="emoji" align="absmiddle" height="20" width="20">'}function getEmojiTemplate(options){if(options.emoji){if(typeof options.emoji==="function"){return options.emoji}if(typeof options.emoji==="string"){var emojiSplit=options.emoji.split(/\{emoji\}/g);return function(emoji){return emojiSplit.join(emoji)}}}return emojiDefaultTemplate}InlineLexer.prototype.emojiTemplate=emojiDefaultTemplate;InlineLexer.prototype.emoji=function(name){if(!this.options.emoji)return":"+name+":";return this.emojiTemplate(name)};InlineLexer.prototype.smartypants=function(text){if(!this.options.smartypants)return text;return text.replace(/--/g,"").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")};InlineLexer.prototype.mangle=function(text){var out="",l=text.length,i=0,ch;for(;i<l;i++){ch=text.charCodeAt(i);if(Math.random()>.5){ch="x"+ch.toString(16)}out+="&#"+ch+";"}return out};function Renderer(options){this.options=options||{}}Renderer.prototype.urltransform=function(url){if(this.options.sanitize){try{var prot=decodeURIComponent(unescape(url)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return false}if(prot.indexOf("javascript:")===0){return false}}return url};Renderer.prototype.code=function(code,lang,escaped){if(this.options.highlight){var out=this.options.highlight(code,lang);if(out!=null&&out!==code){escaped=true;code=out}}if(!lang){return"<pre><code>"+(escaped?code:escape(code,true))+"\n</code></pre>"}return'<pre><code class="'+this.options.langPrefix+escape(lang,true)+'">'+(escaped?code:escape(code,true))+"\n</code></pre>\n"};Renderer.prototype.blockquote=function(quote){return"<blockquote>\n"+quote+"</blockquote>\n"};Renderer.prototype.html=function(html){return html};Renderer.prototype.heading=function(text,level,raw){return"<h"+level+' id="'+this.options.headerPrefix+raw.toLowerCase().replace(/[^\w]+/g,"-")+'">'+text+"</h"+level+">\n"};Renderer.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"};Renderer.prototype.list=function(body,ordered){var type=ordered?"ol":"ul";return"<"+type+">\n"+body+"</"+type+">\n"};Renderer.prototype.listitem=function(text){return"<li>"+text+"</li>\n"};Renderer.prototype.paragraph=function(text){return"<p>"+text+"</p>\n"};Renderer.prototype.table=function(header,body){return"<table>\n"+"<thead>\n"+header+"</thead>\n"+"<tbody>\n"+body+"</tbody>\n"+"</table>\n"};Renderer.prototype.tablerow=function(content){return"<tr>\n"+content+"</tr>\n"};Renderer.prototype.tablecell=function(content,flags){var type=flags.header?"th":"td";var tag=flags.align?"<"+type+' style="text-align:'+flags.align+'">':"<"+type+">";return tag+content+"</"+type+">\n"};Renderer.prototype.strong=function(text){return"<strong>"+text+"</strong>"};Renderer.prototype.em=function(text){return"<em>"+text+"</em>"};Renderer.prototype.codespan=function(text){return"<code>"+text+"</code>"};Renderer.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"};Renderer.prototype.del=function(text){return"<del>"+text+"</del>"};Renderer.prototype.link=function(href,title,text){href=this.urltransform(href);var out;if(href!==false)out='<a href="'+href+'"';else out='<a class="bad"';if(title){out+=' title="'+title+'"'}out+=">"+text+"</a>";return out};Renderer.prototype.image=function(href,title,text){var out='<img src="'+href+'" alt="'+text+'"';if(title){out+=' title="'+title+'"'}out+=this.options.xhtml?"/>":">";return out};Renderer.prototype.mention=function(preceding,id){var href=this.urltransform(id);if((id.charAt(0)=="&"||id.charAt(0)=="@"||id.charAt(0)=="%")&&id.length>50)id=id.slice(0,8)+"...";if(href===false)return(preceding||"")+'<a class="bad">'+escape(id)+"</a>";return(preceding||"")+'<a href="'+simpleEscape(href)+'">'+escape(id)+"</a>"};function Parser(options){this.tokens=[];this.token=null;this.options=options||marked.defaults;this.options.renderer=this.options.renderer||new Renderer;this.renderer=this.options.renderer;this.renderer.options=this.options}Parser.parse=function(src,options,renderer){var parser=new Parser(options,renderer);return parser.parse(src)};Parser.prototype.parse=function(src){this.inline=new InlineLexer(src.links,this.options,this.renderer);this.tokens=src.reverse();var out="";while(this.next()){out+=this.tok()}return out};Parser.prototype.next=function(){return this.token=this.tokens.pop()};Parser.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0};Parser.prototype.parseText=function(){var body=this.token.text;while(this.peek().type==="text"){body+="\n"+this.next().text}return this.inline.output(body)};Parser.prototype.tok=function(){switch(this.token.type){case"space":{return""}case"hr":{return this.renderer.hr()}case"heading":{return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text)}case"code":{return this.renderer.code(this.token.text,this.token.lang,this.token.escaped)}case"table":{var header="",body="",i,row,cell,flags,j;cell="";for(i=0;i<this.token.header.length;i++){flags={header:true,align:this.token.align[i]};cell+=this.renderer.tablecell(this.inline.output(this.token.header[i]),{header:true,align:this.token.align[i]})}header+=this.renderer.tablerow(cell);for(i=0;i<this.token.cells.length;i++){row=this.token.cells[i];cell="";for(j=0;j<row.length;j++){cell+=this.renderer.tablecell(this.inline.output(row[j]),{header:false,align:this.token.align[j]})}body+=this.renderer.tablerow(cell)}return this.renderer.table(header,body)}case"blockquote_start":{var body="";while(this.next().type!=="blockquote_end"){body+=this.tok()}return this.renderer.blockquote(body)}case"list_start":{var body="",ordered=this.token.ordered;while(this.next().type!=="list_end"){body+=this.tok()}return this.renderer.list(body,ordered)}case"list_item_start":{var body="";while(this.next().type!=="list_item_end"){body+=this.token.type==="text"?this.parseText():this.tok()}return this.renderer.listitem(body)}case"loose_item_start":{var body="";while(this.next().type!=="list_item_end"){body+=this.tok()}return this.renderer.listitem(body)}case"html":{var html=!this.token.pre&&!this.options.pedantic?this.inline.output(this.token.text):this.token.text;return this.renderer.html(html)}case"paragraph":{return this.renderer.paragraph(this.inline.output(this.token.text))}case"text":{return this.renderer.paragraph(this.parseText())}}};function escape(html,encode){return html.replace(!encode?/&(?!#?\w+;)/g:/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function simpleEscape(html){return html.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function unescape(html){return html.replace(/&([#\w]+);/g,function(_,n){n=n.toLowerCase();if(n==="colon")return":";if(n.charAt(0)==="#"){return n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1))}return""})}function replace(regex,opt){regex=regex.source;opt=opt||"";return function self(name,val){if(!name)return new RegExp(regex,opt);val=val.source||val;val=val.replace(/(^|[^\[])\^/g,"$1");regex=regex.replace(name,val);return self}}function noop(){}noop.exec=noop;function merge(obj){var i=1,target,key;for(;i<arguments.length;i++){target=arguments[i];for(key in target){if(Object.prototype.hasOwnProperty.call(target,key)){obj[key]=target[key]}}}return obj}function marked(src,opt,callback){if(callback||typeof opt==="function"){if(!callback){callback=opt;opt=null}opt=merge({},marked.defaults,opt||{});var highlight=opt.highlight,tokens,pending,i=0;try{tokens=Lexer.lex(src,opt)}catch(e){return callback(e)}pending=tokens.length;var done=function(err){if(err){opt.highlight=highlight;return callback(err)}var out;try{out=Parser.parse(tokens,opt)}catch(e){err=e}opt.highlight=highlight;return err?callback(err):callback(null,out)};if(!highlight||highlight.length<3){return done()}delete opt.highlight;if(!pending)return done();for(;i<tokens.length;i++){(function(token){if(token.type!=="code"){return--pending||done()}return highlight(token.text,token.lang,function(err,code){if(err)return done(err);if(code==null||code===token.text){return--pending||done()}token.text=code;token.escaped=true;--pending||done()})})(tokens[i])}return}try{if(opt)opt=merge({},marked.defaults,opt);return Parser.parse(Lexer.lex(src,opt),opt)}catch(e){e.message+="\nPlease report this to https://github.com/chjj/marked.";if((opt||marked.defaults).silent){return"<p>An error occured:</p><pre>"+escape(e.message+"",true)+"</pre>"}throw e}}marked.options=marked.setOptions=function(opt){merge(marked.defaults,opt);return marked};marked.defaults={gfm:true,emoji:false,mentions:true,tables:true,breaks:false,pedantic:false,sanitize:false,smartLists:false,silent:false,highlight:null,langPrefix:"lang-",smartypants:false,headerPrefix:"",renderer:new Renderer,xhtml:false,mentionNames:null};marked.Parser=Parser;marked.parser=Parser.parse;marked.Renderer=Renderer;marked.Lexer=Lexer;marked.lexer=Lexer.lex;marked.InlineLexer=InlineLexer;marked.inlineLexer=InlineLexer.output;marked.parse=marked;if(typeof module!=="undefined"&&typeof exports==="object"){module.exports=marked}else if(typeof define==="function"&&define.amd){define(function(){return marked})}else{this.marked=marked}}).call(function(){return this||(typeof window!=="undefined"?window:global)}())}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],"/Users/paulfrazee/patchwork/node_modules/ssb-msg-schemas/index.js":[function(require,module,exports){var mlib=require("ssb-msgs");var ssbref=require("ssb-ref");function link(l){if(typeof l=="string"){if(ssbref.isLink(l))return l}if(l&&typeof l=="object"){if(Object.keys(l).length===1&&l.link&&ssbref.isLink(l))return l;return mlib.link(l)}}function links(l){if(!l)return;if(!Array.isArray(l))l=[l];return l.map(link)}exports.post=function(text,root,branch,mentions,recps,channel){var content={type:"post",text:text};if(root){root=link(root);if(!root)throw new Error("root is not a valid link");content.root=root}if(branch){branch=link(branch);if(!branch)throw new Error("branch is not a valid link");content.branch=branch}if(mentions&&(!Array.isArray(mentions)||mentions.length)){mentions=links(mentions);if(!mentions||!mentions.length)throw new Error("mentions are not valid links");content.mentions=mentions}if(recps&&(!Array.isArray(recps)||recps.length)){recps=links(recps);if(!recps||!recps.length)throw new Error("recps are not valid links");content.recps=recps}if(channel){if(typeof channel!=="string")throw new Error("channel must be a string");content.channel=channel}return content};exports.name=function(userId,name){return{type:"about",about:link(userId),name:name}};exports.image=function(userId,imgLink){return{type:"about",about:link(userId),image:link(imgLink)}};exports.follow=function(userId){return{type:"contact",contact:link(userId),following:true,blocking:false}};exports.unfollow=function(userId){return{type:"contact",contact:link(userId),following:false}};exports.block=function(userId){return{type:"contact",contact:link(userId),following:false,blocking:true}};exports.unblock=function(userId){return{type:"contact",contact:link(userId),blocking:false}};exports.vote=function(id,vote,reason){var voteLink=mlib.link(id);if(!voteLink)throw new Error("invalid target id");voteLink.value=vote;if(reason&&typeof reason==="string")voteLink.reason=reason;return{type:"vote",vote:voteLink}};exports.pub=function(id,host,port){var publink=mlib.link(id);publink.host=host;publink.port=port;return{type:"pub",pub:publink}}},{"ssb-msgs":"/Users/paulfrazee/patchwork/node_modules/ssb-msgs/index.js","ssb-ref":"/Users/paulfrazee/patchwork/node_modules/ssb-msg-schemas/node_modules/ssb-ref/index.js"}],"/Users/paulfrazee/patchwork/node_modules/ssb-msg-schemas/node_modules/ssb-ref/index.js":[function(require,module,exports){function isString(s){return"string"===typeof s}exports.isLink=function(data){return isString(data)&&/^(@|%|&)[A-Za-z0-9\/+]{43}=\.[\w\d]+$/.test(data)};exports.isFeedId=function(data){return isString(data)&&/^@[A-Za-z0-9\/+]{43}=\.(?:sha256|ed25519)$/.test(data)};exports.isMsgId=function(data){return isString(data)&&/^%[A-Za-z0-9\/+]{43}=\.sha256$/.test(data)};exports.isBlobId=function(data){return isString(data)&&/^&[A-Za-z0-9\/+]{43}=\.sha256$/.test(data)};exports.type=function(data){if(!exports.isLink(data))return false;var c=data.charAt(0);if(c=="@")return"feed";if(c=="%")return"msg";if(c=="&")return"blob";return false}},{}],"/Users/paulfrazee/patchwork/node_modules/ssb-msgs/index.js":[function(require,module,exports){var ref=require("ssb-ref");function isObject(o){return o&&"object"===typeof o}function isBool(o){return"boolean"===typeof o}function isString(s){return"string"===typeof s}function toArray(v,force){if(Array.isArray(v))return v;var i=0,arr=[];if(isObject(v)){while(v[i]){arr[i]=v[i];i++}if(Object.keys(arr).length>0)return arr}if(force){arr.push(v);return arr}return v}function toMsgContent(obj){if(!obj)return null;if(obj.value&&obj.value.content&&obj.value.content.type)return obj.value.content;if(obj.content&&obj.content.type)return obj.content;return obj}function traverse(obj,each){for(var k in obj){if(!obj[k])continue;var arr=toArray(obj[k],false);if(Array.isArray(arr)){arr.forEach(function(v){each(v,k)})}else each(obj[k],k)}}exports.indexLinks=function(message,opts,each){if(typeof opts=="function"){each=opts;opts=null}if(typeof opts=="string")opts={rel:opts};if(!opts)opts={};var msg=opts.msg;var feed=opts.feed;var blob=opts.blob;var any=!(msg||feed||blob);traverse(toMsgContent(message),function(obj,rel){if(opts.rel&&rel!==opts.rel)return;var r=typeof obj=="string"?obj:obj.link;if(any){if(!ref.isLink(r))return}else{if(msg){if(isBool(msg)&&ref.type(r)!="msg")return;if(!isBool(msg)&&r!=msg)return}if(feed){if(isBool(feed)&&ref.type(r)!="feed")return;if(!isBool(feed)&&r!=feed)return}if(blob){if(isBool(blob)&&ref.type(r)!="blob")return;if(!isBool(blob)&&r!=blob)return}}each(typeof obj=="string"?{link:obj}:obj,rel)})};exports.link=exports.asLink=function(obj,type){if(!obj)return null;if(isString(obj))obj={link:obj};return isLink(obj,type)?obj:null};exports.links=exports.asLinks=function(obj,type){if(!obj)return[];var arr=toArray(obj,true);return arr.filter(function(l){return isLink(l,type)}).map(function(o){return typeof o=="string"?{link:o}:o})};var isLink=exports.isLink=function(obj,type){if(!obj)return false;var r=isString(obj)?obj:obj.link;return type?ref.type(r)==type:ref.isLink(r)};function indexLinksTo(msgA,msgB,each){if(!msgA||!msgB||!msgB.key)return;exports.indexLinks(msgA,function(l,rel){if(l.link===msgB.key)each(l,rel)})}exports.linksTo=function(msgA,msgB){var links=[];indexLinksTo(msgA,msgB,function(link,rel){links.push(link)});return links};exports.relationsTo=function(msgA,msgB){var rels=[];indexLinksTo(msgA,msgB,function(link,rel){rels.push(rel)});return rels}},{"ssb-ref":"/Users/paulfrazee/patchwork/node_modules/ssb-ref/index.js"}],"/Users/paulfrazee/patchwork/node_modules/ssb-ref/index.js":[function(require,module,exports){var isDomain=require("is-valid-domain");var rx=require("ip-regex")({exact:true});var isIP=rx.test.bind(rx);var isInteger=Number.isInteger;function isString(s){return"string"===typeof s}var isLink=exports.isLink=function(data){return isString(data)&&/^(@|%|&)[A-Za-z0-9\/+]{43}=\.[\w\d]+$/.test(data)};var isFeedId=exports.isFeed=exports.isFeedId=function(data){return isString(data)&&/^@[A-Za-z0-9\/+]{43}=\.(?:sha256|ed25519)$/.test(data)};var isMsgId=exports.isMsg=exports.isMsgId=function(data){return isString(data)&&/^%[A-Za-z0-9\/+]{43}=\.sha256$/.test(data)};var isBlobId=exports.isBlob=exports.isBlobId=function(data){return isString(data)&&/^&[A-Za-z0-9\/+]{43}=\.sha256$/.test(data)};var isAddress=exports.isAddress=function(data){if(!isString(data))return false;var parts=data.split(":");var id=parts.pop(),port=parts.pop(),addr=parts.join(":");return isFeedId(id)&&isInteger(+port)&&(isIP(addr)||isDomain(addr)||addr==="localhost")};var isInvite=exports.isInvite=function(data){if(!isString(data))return false;var parts=data.split("~");return parts.length==2&&isAddress(parts[0])&&/^[A-Za-z0-9\/+]{43}=$/.test(parts[1])};exports.type=function(id){if(!isString(id))return false;var c=id.charAt(0);if(c=="@"&&isFeedId(id))return"feed";else if(c=="%"&&isMsgId(id))return"msg";else if(c=="&"&&isBlobId(id))return"blob";else if(isAddress(id))return"address";else if(isInvite(id))return"invite";else return false};exports.extract=function(data){if(!isString(data))return false;var _data=data;try{_data=decodeURIComponent(data)}catch(e){}_data=_data.replace(/&amp;/g,"&");var res=/([@%&][A-Za-z0-9\/+]{43}=\.[\w\d]+)/.exec(_data);return res&&res[0]}},{"ip-regex":"/Users/paulfrazee/patchwork/node_modules/ip-regex/index.js","is-valid-domain":"/Users/paulfrazee/patchwork/node_modules/is-valid-domain/is-valid-domain.js"}],"/Users/paulfrazee/patchwork/node_modules/stream-browserify/index.js":[function(require,module,exports){module.exports=Stream;var EE=require("events").EventEmitter;var inherits=require("inherits");inherits(Stream,EE);Stream.Readable=require("readable-stream/readable.js");Stream.Writable=require("readable-stream/writable.js");Stream.Duplex=require("readable-stream/duplex.js");Stream.Transform=require("readable-stream/transform.js");Stream.PassThrough=require("readable-stream/passthrough.js");Stream.Stream=Stream;function Stream(){EE.call(this)}Stream.prototype.pipe=function(dest,options){var source=this;function ondata(chunk){if(dest.writable){if(false===dest.write(chunk)&&source.pause){source.pause()}}}source.on("data",ondata);function ondrain(){if(source.readable&&source.resume){source.resume()}}dest.on("drain",ondrain);if(!dest._isStdio&&(!options||options.end!==false)){source.on("end",onend);source.on("close",onclose)}var didOnEnd=false;function onend(){if(didOnEnd)return;didOnEnd=true;dest.end()}function onclose(){if(didOnEnd)return;didOnEnd=true;if(typeof dest.destroy==="function")dest.destroy()}function onerror(er){cleanup();if(EE.listenerCount(this,"error")===0){throw er}}source.on("error",onerror);dest.on("error",onerror);function cleanup(){source.removeListener("data",ondata);dest.removeListener("drain",ondrain);source.removeListener("end",onend);source.removeListener("close",onclose);source.removeListener("error",onerror);dest.removeListener("error",onerror);source.removeListener("end",cleanup);source.removeListener("close",cleanup);dest.removeListener("close",cleanup)}source.on("end",cleanup);source.on("close",cleanup);dest.on("close",cleanup);dest.emit("pipe",source);return dest}},{events:"/Users/paulfrazee/patchwork/node_modules/events/events.js",inherits:"/Users/paulfrazee/patchwork/node_modules/inherits/inherits_browser.js","readable-stream/duplex.js":"/Users/paulfrazee/patchwork/node_modules/readable-stream/duplex.js","readable-stream/passthrough.js":"/Users/paulfrazee/patchwork/node_modules/readable-stream/passthrough.js","readable-stream/readable.js":"/Users/paulfrazee/patchwork/node_modules/readable-stream/readable.js","readable-stream/transform.js":"/Users/paulfrazee/patchwork/node_modules/readable-stream/transform.js","readable-stream/writable.js":"/Users/paulfrazee/patchwork/node_modules/readable-stream/writable.js"}],"/Users/paulfrazee/patchwork/node_modules/string_decoder/index.js":[function(require,module,exports){var Buffer=require("buffer").Buffer;var isBufferEncoding=Buffer.isEncoding||function(encoding){
switch(encoding&&encoding.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function assertEncoding(encoding){if(encoding&&!isBufferEncoding(encoding)){throw new Error("Unknown encoding: "+encoding)}}var StringDecoder=exports.StringDecoder=function(encoding){this.encoding=(encoding||"utf8").toLowerCase().replace(/[-_]/,"");assertEncoding(encoding);switch(this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2;this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3;this.detectIncompleteChar=base64DetectIncompleteChar;break;default:this.write=passThroughWrite;return}this.charBuffer=new Buffer(6);this.charReceived=0;this.charLength=0};StringDecoder.prototype.write=function(buffer){var charStr="";while(this.charLength){var available=buffer.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:buffer.length;buffer.copy(this.charBuffer,this.charReceived,0,available);this.charReceived+=available;if(this.charReceived<this.charLength){return""}buffer=buffer.slice(available,buffer.length);charStr=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var charCode=charStr.charCodeAt(charStr.length-1);if(charCode>=55296&&charCode<=56319){this.charLength+=this.surrogateSize;charStr="";continue}this.charReceived=this.charLength=0;if(buffer.length===0){return charStr}break}this.detectIncompleteChar(buffer);var end=buffer.length;if(this.charLength){buffer.copy(this.charBuffer,0,buffer.length-this.charReceived,end);end-=this.charReceived}charStr+=buffer.toString(this.encoding,0,end);var end=charStr.length-1;var charCode=charStr.charCodeAt(end);if(charCode>=55296&&charCode<=56319){var size=this.surrogateSize;this.charLength+=size;this.charReceived+=size;this.charBuffer.copy(this.charBuffer,size,0,size);buffer.copy(this.charBuffer,0,0,size);return charStr.substring(0,end)}return charStr};StringDecoder.prototype.detectIncompleteChar=function(buffer){var i=buffer.length>=3?3:buffer.length;for(;i>0;i--){var c=buffer[buffer.length-i];if(i==1&&c>>5==6){this.charLength=2;break}if(i<=2&&c>>4==14){this.charLength=3;break}if(i<=3&&c>>3==30){this.charLength=4;break}}this.charReceived=i};StringDecoder.prototype.end=function(buffer){var res="";if(buffer&&buffer.length)res=this.write(buffer);if(this.charReceived){var cr=this.charReceived;var buf=this.charBuffer;var enc=this.encoding;res+=buf.slice(0,cr).toString(enc)}return res};function passThroughWrite(buffer){return buffer.toString(this.encoding)}function utf16DetectIncompleteChar(buffer){this.charReceived=buffer.length%2;this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(buffer){this.charReceived=buffer.length%3;this.charLength=this.charReceived?3:0}},{buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js"}],"/Users/paulfrazee/patchwork/node_modules/suggest-box/index.js":[function(require,module,exports){"use strict";var h=require("hyperscript");var wordBoundary=/\s/;var TextareaCaretPosition=require("textarea-caret-position");module.exports=function(el,choices,options){var box={input:el,choices:choices,options:options||{},active:false,activate:activate,deactivate:deactivate,update:update,complete:complete};el.addEventListener("input",oninput.bind(box));el.addEventListener("keydown",onkeydown.bind(box));el.addEventListener("blur",onblur.bind(box));return box};function getItemIndex(e){for(var el=e.target;el&&el!=this;el=el.parentNode)if(el._i!=null)return el._i}function onListMouseMove(e){this._box.isMouseActive=true}function onListMouseOver(e){if(!this._box.isMouseActive)return;var i=getItemIndex(e);if(i!=null&&i!=this._box.selection){this._box.selection=i;this._box.update()}}function onListMouseDown(e){var i=getItemIndex(e);if(i!=null){this._box.selection=i;this._box.complete();e.preventDefault()}}function render(box){var cls=box.options.cls?"."+box.options.cls:"";return h(".suggest-box"+cls,{style:{left:box.x+"px",top:box.y+"px",position:"fixed"}},[h("ul",{_box:box,onmousemove:onListMouseMove,onmouseover:onListMouseOver,onmousedown:onListMouseDown},renderOpts(box))])}function renderOpts(box){var fragment=document.createDocumentFragment();for(var i=0;i<box.filtered.length;i++){var opt=box.filtered[i];var tag="li";if(i===box.selection)tag+=".selected";if(opt.cls)tag+="."+opt.cls;var title=opt.image?h("img",{src:opt.image}):h("strong",opt.title);fragment.appendChild(h(tag,{_i:i},[title," ",opt.subtitle&&h("small",opt.subtitle)]))}return fragment}function activate(){if(this.active)return;this.active=true;this.el=render(this);document.body.appendChild(this.el)}function update(){if(!this.active)return;var ul=this.el.querySelector("ul");ul.innerHTML="";ul.appendChild(renderOpts(this))}function deactivate(){if(!this.active)return;this.el.parentNode.removeChild(this.el);this.el=null;this.active=false}function oninput(e){var choices;var self=this;var isany=false;var v=e.target.value;var i=e.target.selectionStart-1;for(i;i>=0;i--){var c=v.charAt(i);if(wordBoundary.test(c))return this.deactivate();if((c in this.choices||this.choices.any)&&(i===0||wordBoundary.test(v.charAt(i-1)))){choices=this.choices[c]||this.choices.any;if(choices==this.choices.any)isany=true;break}}if(i<0)return this.deactivate();var word=v.slice(i+(isany?0:1),e.target.selectionStart);if(!word)return this.deactivate();this.selection=0;if(Array.isArray(choices)){var wordRe=new RegExp(word.replace(/\W/g,""),"i");this.filtered=choices.map(function(opt,i){var title=wordRe.exec(opt.title);var subtitle=opt.subtitle?wordRe.exec(opt.subtitle):null;var rank=title===null?subtitle&&subtitle.index:subtitle===null?title&&title.index:Math.min(title.index,subtitle.index);if(rank!==null){opt.rank=rank;return opt}}).filter(Boolean).sort(compare).slice(0,20);next()}else if("function"===typeof choices){var r=this.request=(this.request||0)+1;choices(word,function(err,ary){if(r!=self.request)return;if(err)console.error(err);else self.filtered=ary;next()})}function next(){if(self.filtered.length==0)return self.deactivate();if(self.active){self.update()}else{var pos=new TextareaCaretPosition(e.target).get(e.target.selectionStart,e.target.selectionEnd);var bounds=e.target.getBoundingClientRect();self.x=pos.left+bounds.left-e.target.scrollLeft;self.y=pos.top+bounds.top-e.target.scrollTop+20;self.activate()}}}function compare(a,b){return compareval(a.rank,b.rank)||compareval(a.title,b.title)}function compareval(a,b){return a===b?0:a<b?-1:1}function onkeydown(e){if(this.active){var sel=this.selection;var len=this.filtered.length;if(e.keyCode==38||e.keyCode==40||e.keyCode==13||e.keyCode==9||e.keyCode==27)e.preventDefault();if(e.keyCode==38){this.selection=(sel-1+len)%len;this.update()}if(e.keyCode==40){this.selection=(sel+1)%len;this.update()}if(e.keyCode==27)this.deactivate();if(e.keyCode==13||e.keyCode==9){this.complete()}this.isMouseActive=false}}function onblur(e){this.deactivate()}function complete(){var choice=this.filtered[this.selection];if(choice&&choice.value){var v=this.input.value;var start=this.input.selectionStart;var end=start;for(start;start>=0;start--){if(v.charAt(start)in this.choices)break}for(end;end<v.length;end++){if(wordBoundary.test(v.charAt(end)))break}this.input.value=v.slice(0,start+1)+choice.value+v.slice(end);this.input.selectionStart=this.input.selectionEnd=start+choice.value.length+1;this.input.dispatchEvent(new CustomEvent("suggestselect",{detail:choice}))}this.deactivate()}},{hyperscript:"/Users/paulfrazee/patchwork/node_modules/hyperscript/index.js","textarea-caret-position":"/Users/paulfrazee/patchwork/node_modules/textarea-caret-position/index.js"}],"/Users/paulfrazee/patchwork/node_modules/text-node-searcher/index.js":[function(require,module,exports){(function(global){function addAccents(str){return str.replace(/e/gi,"[e]").replace(/a/gi,"([a]|ae)").replace(/i/gi,"[i]").replace(/o/gi,"([o]|oe)").replace(/u/gi,"[u]").replace(/y/gi,"[y]")}function quoteRegex(str){return str.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function setSelection(startNode,startOffset,endNode,endOffset){var range=document.createRange();range.setStart(startNode,startOffset);range.setEnd(endNode,endOffset);var sel=window.getSelection();sel.removeAllRanges();sel.addRange(range)}function selectText(node,offset,len,align){var parent=node.parentNode;var el=document.createElement("span");var middle=offset>0?node.splitText(offset):node;var end=middle.splitText(len);el.appendChild(middle);parent.insertBefore(el,end);el.scrollIntoView(align);parent.removeChild(el);parent.insertBefore(middle,end);parent.normalize();setSelection(node,offset,node,offset+len)}function TextNodeSearcher(opt){if(!opt)opt={};else if(opt instanceof window.Element)opt={container:opt};this.container=opt.container||document.body;this.highlightTagName=opt.highlightTagName||this.highlightTagName}TextNodeSearcher.prototype.highlightTagName="highlight";TextNodeSearcher.prototype.setQuery=function(str){if(str==this.queryStr)return;this.queryStr=str;this.query=new RegExp(addAccents(quoteRegex(str)),"ig")};function shouldDescendInto(node){return node.nodeName!="SCRIPT"&&node.nodeName!="STYLE"}function getNextTextNode(node,container){do{if(shouldDescendInto(node)&&node.firstChild){node=node.firstChild}else{while(!node.nextSibling){node=node.parentNode;if(node==container||!node)return null}node=node.nextSibling}}while(node.nodeType!=node.TEXT_NODE);return node}function getPreviousTextNode(node,container){if(node==container){while(node.lastChild&&shouldDescendInto(node))node=node.lastChild;if(node.nodeType==node.TEXT_NODE)return node}do{if(!node||node==container){return null}else if(node.previousSibling){node=node.previousSibling;while(shouldDescendInto(node)&&node.lastChild)node=node.lastChild}else{node=node.parentNode}}while(node.nodeType!=node.TEXT_NODE);return node}function matchLast(re,str){var last;re.lastIndex=0;for(var m=re.exec(str);m;m=re.exec(str))last=m;return last}TextNodeSearcher.prototype.highlight=function(){if(this.highlightedQuery==this.query)return;else if(this.highlightedQuery)this.unhighlight();var query=this.highlightedQuery=this.query;query.lastIndex=0;for(var node=getNextTextNode(this.container,this.container);node;node=getNextTextNode(node,this.container)){var m=query.exec(node.data);if(m){var offset=m.index;var len=m[0].length;if(len===0)return;var hl=document.createElement(this.highlightTagName);var middle=offset>0?node.splitText(offset):node;var next;if(middle.data.length>len){next=middle.splitText(len)}else{next=middle.nextSibling}var parent=node.parentNode;hl.appendChild(middle);if(next)parent.insertBefore(hl,next);else parent.appendChild(hl);node=middle;query.lastIndex=len}}};TextNodeSearcher.prototype.unhighlight=function(){this.highlightedQuery=null;var els=this.container.getElementsByTagName(this.highlightTagName);els=[].slice.call(els);for(var i=0;i<els.length;i++){var el=els[i];var parent=el.parentNode;var text=el.firstChild;parent.insertBefore(text,el);parent.removeChild(el);parent.normalize()}};TextNodeSearcher.prototype.selectNext=function(){if(!this.queryStr||!this.container)return;var sel=window.getSelection();var startNode=sel.focusNode;var startOffset=0;if(!startNode||!this.container.contains(startNode))startNode=getNextTextNode(this.container,this.container);else if(startNode.nodeType!=startNode.TEXT_NODE)startNode=getNextTextNode(startNode,this.container);else startOffset=sel.focusOffset;var wrapped=false;for(var node=startNode;node;){var str=node.data;this.query.lastIndex=startOffset;if(startOffset)startOffset=0;var m=this.query.exec(str);if(m){selectText(node,m.index,m[0].length,false);return}node=getNextTextNode(node,this.container);if(!node){if(wrapped)return;wrapped=true;node=getNextTextNode(this.container,this.container)}}};TextNodeSearcher.prototype.selectPrevious=function(){if(!this.queryStr||!this.container)return;var sel=window.getSelection();var endNode=sel.anchorNode;var endOffset=0;if(!endNode||!this.container.contains(endNode))endNode=getPreviousTextNode(this.container,this.container);else if(endNode.nodeType!=endNode.TEXT_NODE)endNode=getPreviousTextNode(endNode,this.container);else endOffset=sel.anchorOffset;var wrapped=false;for(var node=endNode;node;){var str=node.data;if(endOffset<Infinity){str=node.data.substr(0,endOffset);endOffset=Infinity}var m=matchLast(this.query,str);if(m){selectText(node,m.index,m[0].length,false);return}node=getPreviousTextNode(node,this.container);if(!node){if(wrapped)return;wrapped=true;node=getPreviousTextNode(this.container,this.container)}}};if(typeof module!="undefined")module.exports=TextNodeSearcher;else if(global)global.TextNodeSearcher=TextNodeSearcher})(this)},{}],"/Users/paulfrazee/patchwork/node_modules/textarea-caret-position/index.js":[function(require,module,exports){var properties=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing"];function CaretCoordinates(element){var self=this;this.element=element;this.div=document.createElement("div");element.parentNode.insertBefore(this.div,element);var style=this.div.style;this.computed=window.getComputedStyle?getComputedStyle(element):element.currentStyle;style.whiteSpace="pre-wrap";if(element.nodeName!=="INPUT")style.wordWrap="break-word";style.position="absolute";style.visibility="hidden";properties.forEach(function(prop){style[prop]=self.computed[prop]});style.overflow="hidden";this.divText=document.createTextNode("");this.div.appendChild(this.divText);this.span=document.createElement("span");this.spanText=document.createTextNode("");this.span.appendChild(this.spanText);this.div.appendChild(this.span);function resize(){style.width=self.computed.width}window.addEventListener("resize",resize)}CaretCoordinates.prototype.get=function(positionLeft,positionRight){this.divText.nodeValue=this.element.value.substring(0,positionLeft);if(this.element.nodeName==="INPUT")this.divText.nodeValue=this.divText.nodeValue.replace(/\s/g,"");this.spanText.nodeValue=this.element.value.substring(positionLeft)||".";var left=this.span.offsetLeft+parseInt(this.computed["borderLeftWidth"],10);this.divText.nodeValue=this.element.value.substring(0,positionRight);if(this.element.nodeName==="INPUT")this.divText.nodeValue=this.divText.nodeValue.replace(/\s/g,"");this.spanText.nodeValue=this.element.value.substring(positionRight)||".";var right=this.span.offsetLeft+parseInt(this.computed["borderLeftWidth"],10);if(right<=left){right=this.div.offsetWidth+parseInt(this.computed["borderLeftWidth"],10)}var coordinates={top:this.span.offsetTop+parseInt(this.computed["borderTopWidth"],10),left:left,right:right};return coordinates};module.exports=CaretCoordinates},{}],"/Users/paulfrazee/patchwork/node_modules/url/url.js":[function(require,module,exports){"use strict";var punycode=require("punycode");var util=require("./util");exports.parse=urlParse;exports.resolve=urlResolve;exports.resolveObject=urlResolveObject;exports.format=urlFormat;exports.Url=Url;function Url(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r","\n","	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:true,"javascript:":true},hostlessProtocol={javascript:true,"javascript:":true},slashedProtocol={http:true,https:true,ftp:true,gopher:true,file:true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},querystring=require("querystring");function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&util.isObject(url)&&url instanceof Url)return url;var u=new Url;u.parse(url,parseQueryString,slashesDenoteHost);return u}Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!util.isString(url)){throw new TypeError("Parameter 'url' must be a string, not "+typeof url)}var queryIndex=url.indexOf("?"),splitter=queryIndex!==-1&&queryIndex<url.indexOf("#")?"?":"#",uSplit=url.split(splitter),slashRegex=/\\/g;uSplit[0]=uSplit[0].replace(slashRegex,"/");url=uSplit.join(splitter);var rest=url;rest=rest.trim();if(!slashesDenoteHost&&url.split("#").length===1){var simplePath=simplePathPattern.exec(rest);if(simplePath){this.path=rest;this.href=rest;this.pathname=simplePath[1];if(simplePath[2]){this.search=simplePath[2];if(parseQueryString){this.query=querystring.parse(this.search.substr(1))}else{this.query=this.search.substr(1)}}else if(parseQueryString){this.search="";this.query={}}return this}}var proto=protocolPattern.exec(rest);if(proto){proto=proto[0];var lowerProto=proto.toLowerCase();this.protocol=lowerProto;rest=rest.substr(proto.length)}if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes=rest.substr(0,2)==="//";if(slashes&&!(proto&&hostlessProtocol[proto])){rest=rest.substr(2);this.slashes=true}}if(!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){var hostEnd=-1;for(var i=0;i<hostEndingChars.length;i++){var hec=rest.indexOf(hostEndingChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))hostEnd=hec}var auth,atSign;if(hostEnd===-1){atSign=rest.lastIndexOf("@")}else{atSign=rest.lastIndexOf("@",hostEnd)}if(atSign!==-1){auth=rest.slice(0,atSign);rest=rest.slice(atSign+1);this.auth=decodeURIComponent(auth)}hostEnd=-1;for(var i=0;i<nonHostChars.length;i++){var hec=rest.indexOf(nonHostChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))hostEnd=hec}if(hostEnd===-1)hostEnd=rest.length;this.host=rest.slice(0,hostEnd);rest=rest.slice(hostEnd);this.parseHost();this.hostname=this.hostname||"";var ipv6Hostname=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ipv6Hostname){var hostparts=this.hostname.split(/\./);for(var i=0,l=hostparts.length;i<l;i++){var part=hostparts[i];if(!part)continue;if(!part.match(hostnamePartPattern)){var newpart="";for(var j=0,k=part.length;j<k;j++){if(part.charCodeAt(j)>127){newpart+="x"}else{newpart+=part[j]}}if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i);var notHost=hostparts.slice(i+1);var bit=part.match(hostnamePartStart);if(bit){validParts.push(bit[1]);notHost.unshift(bit[2])}if(notHost.length){rest="/"+notHost.join(".")+rest}this.hostname=validParts.join(".");break}}}}if(this.hostname.length>hostnameMaxLen){this.hostname=""}else{this.hostname=this.hostname.toLowerCase()}if(!ipv6Hostname){this.hostname=punycode.toASCII(this.hostname)}var p=this.port?":"+this.port:"";var h=this.hostname||"";this.host=h+p;this.href+=this.host;if(ipv6Hostname){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(rest[0]!=="/"){rest="/"+rest}}}if(!unsafeProtocol[lowerProto]){for(var i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i];if(rest.indexOf(ae)===-1)continue;var esc=encodeURIComponent(ae);if(esc===ae){esc=escape(ae)}rest=rest.split(ae).join(esc)}}var hash=rest.indexOf("#");if(hash!==-1){this.hash=rest.substr(hash);rest=rest.slice(0,hash)}var qm=rest.indexOf("?");if(qm!==-1){this.search=rest.substr(qm);this.query=rest.substr(qm+1);if(parseQueryString){this.query=querystring.parse(this.query)}rest=rest.slice(0,qm)}else if(parseQueryString){this.search="";this.query={}}if(rest)this.pathname=rest;if(slashedProtocol[lowerProto]&&this.hostname&&!this.pathname){this.pathname="/"}if(this.pathname||this.search){var p=this.pathname||"";var s=this.search||"";this.path=p+s}this.href=this.format();return this};function urlFormat(obj){if(util.isString(obj))obj=urlParse(obj);if(!(obj instanceof Url))return Url.prototype.format.call(obj);return obj.format()}Url.prototype.format=function(){var auth=this.auth||"";if(auth){auth=encodeURIComponent(auth);auth=auth.replace(/%3A/i,":");auth+="@"}var protocol=this.protocol||"",pathname=this.pathname||"",hash=this.hash||"",host=false,query="";if(this.host){host=auth+this.host}else if(this.hostname){host=auth+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port){host+=":"+this.port}}if(this.query&&util.isObject(this.query)&&Object.keys(this.query).length){query=querystring.stringify(this.query)}var search=this.search||query&&"?"+query||"";if(protocol&&protocol.substr(-1)!==":")protocol+=":";if(this.slashes||(!protocol||slashedProtocol[protocol])&&host!==false){host="//"+(host||"");if(pathname&&pathname.charAt(0)!=="/")pathname="/"+pathname}else if(!host){host=""}if(hash&&hash.charAt(0)!=="#")hash="#"+hash;if(search&&search.charAt(0)!=="?")search="?"+search;pathname=pathname.replace(/[?#]/g,function(match){return encodeURIComponent(match)});search=search.replace("#","%23");return protocol+host+pathname+search+hash};function urlResolve(source,relative){return urlParse(source,false,true).resolve(relative)}Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,false,true)).format()};function urlResolveObject(source,relative){if(!source)return relative;return urlParse(source,false,true).resolveObject(relative)}Url.prototype.resolveObject=function(relative){if(util.isString(relative)){var rel=new Url;rel.parse(relative,false,true);relative=rel}var result=new Url;var tkeys=Object.keys(this);for(var tk=0;tk<tkeys.length;tk++){var tkey=tkeys[tk];result[tkey]=this[tkey]}result.hash=relative.hash;if(relative.href===""){result.href=result.format();return result}if(relative.slashes&&!relative.protocol){var rkeys=Object.keys(relative);for(var rk=0;rk<rkeys.length;rk++){var rkey=rkeys[rk];if(rkey!=="protocol")result[rkey]=relative[rkey]}if(slashedProtocol[result.protocol]&&result.hostname&&!result.pathname){result.path=result.pathname="/"}result.href=result.format();return result}if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol]){var keys=Object.keys(relative);for(var v=0;v<keys.length;v++){var k=keys[v];result[k]=relative[k]}result.href=result.format();return result}result.protocol=relative.protocol;if(!relative.host&&!hostlessProtocol[relative.protocol]){var relPath=(relative.pathname||"").split("/");while(relPath.length&&!(relative.host=relPath.shift()));if(!relative.host)relative.host="";if(!relative.hostname)relative.hostname="";if(relPath[0]!=="")relPath.unshift("");if(relPath.length<2)relPath.unshift("");result.pathname=relPath.join("/")}else{result.pathname=relative.pathname}result.search=relative.search;result.query=relative.query;result.host=relative.host||"";result.auth=relative.auth;result.hostname=relative.hostname||relative.host;result.port=relative.port;if(result.pathname||result.search){var p=result.pathname||"";var s=result.search||"";result.path=p+s}result.slashes=result.slashes||relative.slashes;result.href=result.format();return result}var isSourceAbs=result.pathname&&result.pathname.charAt(0)==="/",isRelAbs=relative.host||relative.pathname&&relative.pathname.charAt(0)==="/",mustEndAbs=isRelAbs||isSourceAbs||result.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split("/")||[],relPath=relative.pathname&&relative.pathname.split("/")||[],psychotic=result.protocol&&!slashedProtocol[result.protocol];if(psychotic){result.hostname="";result.port=null;if(result.host){if(srcPath[0]==="")srcPath[0]=result.host;else srcPath.unshift(result.host)}result.host="";if(relative.protocol){relative.hostname=null;relative.port=null;if(relative.host){if(relPath[0]==="")relPath[0]=relative.host;else relPath.unshift(relative.host)}relative.host=null}mustEndAbs=mustEndAbs&&(relPath[0]===""||srcPath[0]==="")}if(isRelAbs){result.host=relative.host||relative.host===""?relative.host:result.host;result.hostname=relative.hostname||relative.hostname===""?relative.hostname:result.hostname;result.search=relative.search;result.query=relative.query;srcPath=relPath}else if(relPath.length){if(!srcPath)srcPath=[];srcPath.pop();srcPath=srcPath.concat(relPath);result.search=relative.search;result.query=relative.query}else if(!util.isNullOrUndefined(relative.search)){if(psychotic){result.hostname=result.host=srcPath.shift();var authInHost=result.host&&result.host.indexOf("@")>0?result.host.split("@"):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift()}}result.search=relative.search;result.query=relative.query;if(!util.isNull(result.pathname)||!util.isNull(result.search)){result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")}result.href=result.format();return result}if(!srcPath.length){result.pathname=null;if(result.search){result.path="/"+result.search}else{result.path=null}result.href=result.format();return result}var last=srcPath.slice(-1)[0];var hasTrailingSlash=(result.host||relative.host||srcPath.length>1)&&(last==="."||last==="..")||last==="";var up=0;for(var i=srcPath.length;i>=0;i--){last=srcPath[i];if(last==="."){srcPath.splice(i,1)}else if(last===".."){srcPath.splice(i,1);up++}else if(up){srcPath.splice(i,1);up--}}if(!mustEndAbs&&!removeAllDots){for(;up--;up){srcPath.unshift("..")}}if(mustEndAbs&&srcPath[0]!==""&&(!srcPath[0]||srcPath[0].charAt(0)!=="/")){srcPath.unshift("")}if(hasTrailingSlash&&srcPath.join("/").substr(-1)!=="/"){srcPath.push("")}var isAbsolute=srcPath[0]===""||srcPath[0]&&srcPath[0].charAt(0)==="/";if(psychotic){result.hostname=result.host=isAbsolute?"":srcPath.length?srcPath.shift():"";var authInHost=result.host&&result.host.indexOf("@")>0?result.host.split("@"):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift()}}mustEndAbs=mustEndAbs||result.host&&srcPath.length;if(mustEndAbs&&!isAbsolute){srcPath.unshift("")}if(!srcPath.length){result.pathname=null;result.path=null}else{result.pathname=srcPath.join("/")}if(!util.isNull(result.pathname)||!util.isNull(result.search)){result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")}result.auth=relative.auth||result.auth;result.slashes=result.slashes||relative.slashes;result.href=result.format();return result};Url.prototype.parseHost=function(){var host=this.host;var port=portPattern.exec(host);if(port){port=port[0];if(port!==":"){this.port=port.substr(1)}host=host.substr(0,host.length-port.length)}if(host)this.hostname=host}},{"./util":"/Users/paulfrazee/patchwork/node_modules/url/util.js",punycode:"/Users/paulfrazee/patchwork/node_modules/punycode/punycode.js",querystring:"/Users/paulfrazee/patchwork/node_modules/querystring-es3/index.js"}],"/Users/paulfrazee/patchwork/node_modules/url/util.js":[function(require,module,exports){"use strict";module.exports={isString:function(arg){return typeof arg==="string"},isObject:function(arg){return typeof arg==="object"&&arg!==null},isNull:function(arg){return arg===null},isNullOrUndefined:function(arg){return arg==null}}},{}],"/Users/paulfrazee/patchwork/node_modules/util-deprecate/browser.js":[function(require,module,exports){(function(global){module.exports=deprecate;function deprecate(fn,msg){if(config("noDeprecation")){return fn}var warned=false;function deprecated(){if(!warned){if(config("throwDeprecation")){throw new Error(msg)}else if(config("traceDeprecation")){console.trace(msg)}else{console.warn(msg)}warned=true}return fn.apply(this,arguments)}return deprecated}function config(name){try{if(!global.localStorage)return false}catch(_){return false}var val=global.localStorage[name];if(null==val)return false;return String(val).toLowerCase()==="true"}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],"/Users/paulfrazee/patchwork/node_modules/vm-browserify/index.js":[function(require,module,exports){var indexOf=require("indexof");var Object_keys=function(obj){if(Object.keys)return Object.keys(obj);else{var res=[];for(var key in obj)res.push(key);return res}};var forEach=function(xs,fn){if(xs.forEach)return xs.forEach(fn);else for(var i=0;i<xs.length;i++){fn(xs[i],i,xs)}};var defineProp=function(){try{Object.defineProperty({},"_",{});return function(obj,name,value){Object.defineProperty(obj,name,{writable:true,enumerable:false,configurable:true,value:value})}}catch(e){return function(obj,name,value){obj[name]=value}}}();var globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function NodeScript(code){if(!(this instanceof Script))return new Script(code);this.code=code};Script.prototype.runInContext=function(context){if(!(context instanceof Context)){throw new TypeError("needs a 'context' argument.")}var iframe=document.createElement("iframe");if(!iframe.style)iframe.style={};iframe.style.display="none";document.body.appendChild(iframe);var win=iframe.contentWindow;var wEval=win.eval,wExecScript=win.execScript;if(!wEval&&wExecScript){wExecScript.call(win,"null");wEval=win.eval}forEach(Object_keys(context),function(key){win[key]=context[key]});forEach(globals,function(key){if(context[key]){win[key]=context[key]}});var winKeys=Object_keys(win);var res=wEval.call(win,this.code);forEach(Object_keys(win),function(key){if(key in context||indexOf(winKeys,key)===-1){context[key]=win[key]}});forEach(globals,function(key){if(!(key in context)){defineProp(context,key,win[key])}});document.body.removeChild(iframe);return res};Script.prototype.runInThisContext=function(){return eval(this.code)};Script.prototype.runInNewContext=function(context){var ctx=Script.createContext(context);var res=this.runInContext(ctx);forEach(Object_keys(ctx),function(key){context[key]=ctx[key]});return res};forEach(Object_keys(Script.prototype),function(name){exports[name]=Script[name]=function(code){var s=Script(code);return s[name].apply(s,[].slice.call(arguments,1))}});exports.createScript=function(code){return exports.Script(code)};exports.createContext=Script.createContext=function(context){var copy=new Context;if(typeof context==="object"){forEach(Object_keys(context),function(key){copy[key]=context[key]})}return copy}},{indexof:"/Users/paulfrazee/patchwork/node_modules/indexof/index.js"}],"/Users/paulfrazee/patchwork/node_modules/warning/browser.js":[function(require,module,exports){"use strict";var warning=function(){};if("production"!=="production"){warning=function(condition,format,args){var len=arguments.length;args=new Array(len>2?len-2:0);for(var key=2;key<len;key++){args[key-2]=arguments[key]}if(format===undefined){throw new Error("`warning(condition, format, ...args)` requires a warning "+"message argument")}if(format.length<10||/^[s\W]*$/.test(format)){throw new Error("The warning format should be able to uniquely identify this "+"warning. Please, use a more descriptive format than: "+format)}if(!condition){var argIndex=0;var message="Warning: "+format.replace(/%s/g,function(){return args[argIndex++]});if(typeof console!=="undefined"){console.error(message)}try{throw new Error(message)}catch(x){}}}}module.exports=warning},{}],"/Users/paulfrazee/patchwork/node_modules/wheel/index.js":[function(require,module,exports){module.exports=addWheelListener;var prefix="",_addEventListener,onwheel,support;
if(window.addEventListener){_addEventListener="addEventListener"}else{_addEventListener="attachEvent";prefix="on"}support="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==undefined?"mousewheel":"DOMMouseScroll";function addWheelListener(elem,callback,useCapture){_addWheelListener(elem,support,callback,useCapture);if(support=="DOMMouseScroll"){_addWheelListener(elem,"MozMousePixelScroll",callback,useCapture)}}function _addWheelListener(elem,eventName,callback,useCapture){elem[_addEventListener](prefix+eventName,support=="wheel"?callback:function(originalEvent){!originalEvent&&(originalEvent=window.event);var event={originalEvent:originalEvent,target:originalEvent.target||originalEvent.srcElement,type:"wheel",deltaMode:originalEvent.type=="MozMousePixelScroll"?0:1,deltaX:0,delatZ:0,preventDefault:function(){originalEvent.preventDefault?originalEvent.preventDefault():originalEvent.returnValue=false},stopPropagation:function(){if(originalEvent.stopPropagation)originalEvent.stopPropagation()},stopImmediatePropagation:function(){if(originalEvent.stopImmediatePropagation)originalEvent.stopImmediatePropagation()}};if(support=="mousewheel"){event.deltaY=-1/40*originalEvent.wheelDelta;originalEvent.wheelDeltaX&&(event.deltaX=-1/40*originalEvent.wheelDeltaX)}else{event.deltaY=originalEvent.detail}return callback(event)},useCapture||false)}},{}],"/Users/paulfrazee/patchwork/node_modules/ws/lib/browser.js":[function(require,module,exports){var global=function(){return this}();var WebSocket=global.WebSocket||global.MozWebSocket;module.exports=WebSocket?ws:null;function ws(uri,protocols,opts){var instance;if(protocols){instance=new WebSocket(uri,protocols)}else{instance=new WebSocket(uri)}return instance}if(WebSocket)ws.prototype=WebSocket.prototype},{}],"/Users/paulfrazee/patchwork/node_modules/xtend/immutable.js":[function(require,module,exports){module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;function extend(){var target={};for(var i=0;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target}},{}],"/Users/paulfrazee/patchwork/node_modules/xtend/mutable.js":[function(require,module,exports){module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;function extend(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target}},{}],"/Users/paulfrazee/patchwork/ui/com/channel-list.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});exports.ChannelList=undefined;var _pullStream=require("pull-stream");var _pullStream2=_interopRequireDefault(_pullStream);var _react=require("react");var _react2=_interopRequireDefault(_react);var _classnames=require("classnames");var _classnames2=_interopRequireDefault(_classnames);var _app=require("../lib/app");var _app2=_interopRequireDefault(_app);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function cls(selected,hasNew){return(0,_classnames2.default)({"channel-list-item":true,flex:true,selected:selected,unread:hasNew})}var ChannelListItem=function(_React$Component){_inherits(ChannelListItem,_React$Component);function ChannelListItem(){_classCallCheck(this,ChannelListItem);return _possibleConstructorReturn(this,Object.getPrototypeOf(ChannelListItem).apply(this,arguments))}_createClass(ChannelListItem,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(nextProps){return this.props.selected!==nextProps.selected||this.props.channel!==nextProps.channel}},{key:"onPin",value:function onPin(e){e.preventDefault();e.stopPropagation();_app2.default.ssb.patchwork.toggleChannelPinned(this.props.channel.name,function(err){if(err)_app2.default.issue("Failed to pin channel",err)})}},{key:"render",value:function render(){var _this2=this;var channel=this.props.channel;var onSelect=function onSelect(){return _this2.props.onSelect(channel)};return _react2.default.createElement("div",{className:cls(this.props.selected,channel.hasNew),onClick:onSelect},_react2.default.createElement("div",{className:"flex-fill"},_react2.default.createElement("i",{className:"fa fa-hashtag"})," ",channel.name),_react2.default.createElement("div",{className:"ctrls"},_react2.default.createElement("a",{href:"javascript:;",className:(0,_classnames2.default)({pin:true,pinned:channel.pinned}),onClick:this.onPin.bind(this)},_react2.default.createElement("i",{className:"fa fa-thumb-tack"}))))}}]);return ChannelListItem}(_react2.default.Component);var ChannelList=exports.ChannelList=function(_React$Component2){_inherits(ChannelList,_React$Component2);function ChannelList(props){_classCallCheck(this,ChannelList);var _this3=_possibleConstructorReturn(this,Object.getPrototypeOf(ChannelList).call(this,props));_this3.state={searchText:"",searchQuery:false};return _this3}_createClass(ChannelList,[{key:"onSearchChange",value:function onSearchChange(e){var v=e.target.value;this.setState({searchText:v,searchQuery:v?new RegExp(v,"i"):false})}},{key:"onSearchKeyDown",value:function onSearchKeyDown(e){if(e.keyCode==13){e.preventDefault();e.stopPropagation();if(this.state.searchText.trim())this.props.onSelect({name:this.state.searchText});this.onClearSearch()}}},{key:"onClearSearch",value:function onClearSearch(){this.setState({searchText:"",searchQuery:false})}},{key:"onClickOpen",value:function onClickOpen(){this.props.onSelect({name:this.state.searchText});this.onClearSearch()}},{key:"onClickCreate",value:function onClickCreate(){var _this4=this;_app2.default.ssb.patchwork.pinChannel(this.state.searchText,function(err){if(err)return _app2.default.issue("Failed to create channel",err);_this4.props.onSelect({name:_this4.state.searchText});_this4.onClearSearch()})}},{key:"render",value:function render(){var _this5=this;var selected=this.props.selected;var search=this.state.searchText;var isPartialMatch=function isPartialMatch(channel){return _this5.state.searchQuery?_this5.state.searchQuery.test(channel.name):true};var isExactMatch=function isExactMatch(channel){return _this5.state.searchText?_this5.state.searchText===channel.name:false};var isPinned=function isPinned(b){return function(channel){return!!channel.pinned==b}};var pinnedChannels=this.props.channels.filter(isPinned(true)).filter(isPartialMatch);var unpinnedChannels=this.props.channels.filter(isPinned(false)).filter(isPartialMatch);var hasExactMatch=this.props.channels.filter(isExactMatch).length>0;var renderChannel=function renderChannel(channel){return _react2.default.createElement(ChannelListItem,{key:channel.name,channel:channel,selected:channel.name===selected,onSelect:_this5.props.onSelect})};return _react2.default.createElement("div",{className:"channel-list"},_react2.default.createElement("div",{className:"channel-list-ctrls"},_react2.default.createElement("div",{className:"search"},_react2.default.createElement("i",{className:"fa fa-hashtag"}),_react2.default.createElement("input",{ref:"searchInput",type:"text",placeholder:"New Channel",value:search,onChange:this.onSearchChange.bind(this),onKeyDown:this.onSearchKeyDown.bind(this)}))),pinnedChannels.length?_react2.default.createElement("div",{className:"channel-list-heading"},"Pinned"):"",pinnedChannels.map(renderChannel),unpinnedChannels.length?_react2.default.createElement("div",{className:"channel-list-heading"},"Unpinned"):"",unpinnedChannels.map(renderChannel),_react2.default.createElement("hr",null),_react2.default.createElement("div",{style:{fontWeight:"normal",color:"gray",padding:"0 10px"}},_react2.default.createElement("p",null,_react2.default.createElement("small",null,"Channels are topical filters for conversations.")),_react2.default.createElement("p",null,search?hasExactMatch?_react2.default.createElement("small",null,_react2.default.createElement("a",{href:"javascript:;",onClick:this.onClickOpen.bind(this)},'Open "#',search,'"')," | "):_react2.default.createElement("small",null,_react2.default.createElement("a",{href:"javascript:;",onClick:this.onClickCreate.bind(this)},'Create "#',search,'"')," | "):"",search?_react2.default.createElement("small",null,_react2.default.createElement("a",{href:"javascript:;",onClick:this.onClearSearch.bind(this)},"Clear filter")):"")))}}]);return ChannelList}(_react2.default.Component)},{"../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js",classnames:"/Users/paulfrazee/patchwork/node_modules/classnames/index.js","pull-stream":"/Users/paulfrazee/patchwork/node_modules/pull-stream/index.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/ui/com/composer/card.jsx":[function(require,module,exports){"use strict";"use babel";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _index=require("./index");var _index2=_interopRequireDefault(_index);var _index3=require("../index");var _app=require("../../lib/app");var _app2=_interopRequireDefault(_app);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ComposerCard=function(_React$Component){_inherits(ComposerCard,_React$Component);function ComposerCard(props){_classCallCheck(this,ComposerCard);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(ComposerCard).call(this,props));_this.state={isOpen:false};return _this}_createClass(ComposerCard,[{key:"onClick",value:function onClick(){var _this2=this;this.setState({isOpen:true},function(){if(_this2.props.recps)_this2.refs.container.querySelector("textarea").focus();else _this2.refs.container.querySelector("input[type=text], textarea").focus()})}},{key:"onSend",value:function onSend(msg){this.setState({isOpen:false});if(this.props.onSend)this.props.onSend(msg)}},{key:"render",value:function render(){return _react2.default.createElement("div",{ref:"container",className:"composer-card "+(this.state.isOpen?"open":"")},_react2.default.createElement("div",{className:"left-meta"},_react2.default.createElement(_index3.UserPic,{id:_app2.default.user.id})),this.state.isOpen?_react2.default.createElement(_index2.default,_extends({},this.props,{onSend:this.onSend.bind(this)})):_react2.default.createElement("div",{className:"composer placeholder",onClick:this.onClick.bind(this)},this.props.placeholder||"Write your message here"))}}]);return ComposerCard}(_react2.default.Component);exports.default=ComposerCard},{"../../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js","../index":"/Users/paulfrazee/patchwork/ui/com/index.jsx","./index":"/Users/paulfrazee/patchwork/ui/com/composer/index.jsx",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/ui/com/composer/channel.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _suggestBox=require("suggest-box");var _suggestBox2=_interopRequireDefault(_suggestBox);var _app=require("../../lib/app");var _app2=_interopRequireDefault(_app);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function getChannelSuggestions(){return _app2.default.channels.map(function(ch){return{cls:"user",title:"#"+ch.name,value:ch.name}})}var disallowedCharRegex=/[#\s]/g;function sanitize(str){return str.replace(disallowedCharRegex,"")}var ComposerChannel=function(_React$Component){_inherits(ComposerChannel,_React$Component);function ComposerChannel(){_classCallCheck(this,ComposerChannel);return _possibleConstructorReturn(this,Object.getPrototypeOf(ComposerChannel).apply(this,arguments))}_createClass(ComposerChannel,[{key:"componentDidMount",value:function componentDidMount(){this.setupSuggest()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.setupSuggest()}},{key:"setupSuggest",value:function setupSuggest(){var input=this.refs&&this.refs.input;if(!input||input.isSetup)return;input.isSetup=true;(0,_suggestBox2.default)(input,{any:getChannelSuggestions()},{cls:"msg-recipients"});input.addEventListener("suggestselect",this.onSuggestSelect.bind(this))}},{key:"onChange",value:function onChange(e){this.props.onChange(sanitize(e.target.value))}},{key:"onSuggestSelect",value:function onSuggestSelect(e){this.props.onChange(sanitize(e.detail.value))}},{key:"render",value:function render(){if(this.props.isReadOnly){return _react2.default.createElement("div",{className:"composer-recps"},_react2.default.createElement("div",null,_react2.default.createElement("i",{className:"fa fa-hashtag"})," Channel: ",this.props.value||_react2.default.createElement("span",{style:{color:"#aaa"}},"none")))}return _react2.default.createElement("div",{className:"composer-recps"},_react2.default.createElement("div",{className:"flex"},_react2.default.createElement("span",null,_react2.default.createElement("i",{className:"fa fa-hashtag"})," Channel:")," ",_react2.default.createElement("input",{className:"flex-fill",ref:"input",type:"text",placeholder:"Set the topic here (optional)",value:this.props.value,onChange:this.onChange.bind(this)})))}}]);return ComposerChannel}(_react2.default.Component);exports.default=ComposerChannel},{"../../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","suggest-box":"/Users/paulfrazee/patchwork/node_modules/suggest-box/index.js"}],"/Users/paulfrazee/patchwork/ui/com/composer/index.jsx":[function(require,module,exports){(function(Buffer){"use strict";"use babel";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _suggestBox=require("suggest-box");var _suggestBox2=_interopRequireDefault(_suggestBox);var _ssbMsgSchemas=require("ssb-msg-schemas");var _ssbMsgSchemas2=_interopRequireDefault(_ssbMsgSchemas);var _ssbMsgs=require("ssb-msgs");var _ssbMsgs2=_interopRequireDefault(_ssbMsgs);var _patchworkThreads=require("patchwork-threads");var _patchworkThreads2=_interopRequireDefault(_patchworkThreads);var _mimeTypes=require("mime-types");var _mimeTypes2=_interopRequireDefault(_mimeTypes);var _multicb=require("multicb");var _multicb2=_interopRequireDefault(_multicb);var _dropdown=require("../dropdown");var _dropdown2=_interopRequireDefault(_dropdown);var _channel=require("./channel");var _channel2=_interopRequireDefault(_channel);var _recps=require("./recps");var _popup=require("../modals/popup");var _popup2=_interopRequireDefault(_popup);var _markdown=require("../markdown");var _index=require("../index");var _util=require("../../lib/util");var _util2=_interopRequireDefault(_util);var _app=require("../../lib/app");var _app2=_interopRequireDefault(_app);var _mentions=require("../../lib/mentions");var _mentions2=_interopRequireDefault(_mentions);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var TEXTAREA_VERTICAL_FILL_ADJUST=-5;var MarkdownBlockVerticalFilled=(0,_index.verticalFilled)(_markdown.Block);var ComposerTextareaFixed=function(_React$Component){_inherits(ComposerTextareaFixed,_React$Component);function ComposerTextareaFixed(){_classCallCheck(this,ComposerTextareaFixed);return _possibleConstructorReturn(this,Object.getPrototypeOf(ComposerTextareaFixed).apply(this,arguments))}_createClass(ComposerTextareaFixed,[{key:"componentDidMount",value:function componentDidMount(){var textarea=this.refs&&this.refs.textarea;if(!textarea||textarea.isSetup)return;textarea.isSetup=true;(0,_suggestBox2.default)(textarea,_app2.default.suggestOptions);textarea.addEventListener("suggestselect",this.props.onChange)}},{key:"onKeyDown",value:function onKeyDown(e){if(e.keyCode==13&&(e.metaKey||e.ctrlKey)){e.preventDefault();e.stopPropagation();this.props.onSubmit()}}},{key:"render",value:function render(){return _react2.default.createElement("textarea",_extends({ref:"textarea"},this.props,{onKeyDown:this.onKeyDown.bind(this),style:{height:this.props.height+TEXTAREA_VERTICAL_FILL_ADJUST,overflow:"auto"}}))}}]);return ComposerTextareaFixed}(_react2.default.Component);var ComposerTextareaVerticalFilled=(0,_index.verticalFilled)(ComposerTextareaFixed);var CompositionUnit=function(_React$Component2){_inherits(CompositionUnit,_React$Component2);function CompositionUnit(props){_classCallCheck(this,CompositionUnit);var _this2=_possibleConstructorReturn(this,Object.getPrototypeOf(CompositionUnit).call(this,props));var recps=_this2.props.recps||[];_this2.isThreadPublic=null;_this2.threadChannel=null;_this2.threadRoot=null;_this2.threadBranch=null;if(_this2.props.thread){_this2.isThreadPublic=isThreadPublic(_this2.props.thread);_this2.threadChannel=(_this2.props.thread.value.content.channel||"").trim();_this2.threadRoot=getThreadRoot(_this2.props.thread);_this2.threadBranch=_patchworkThreads2.default.getLastThreadPost(_this2.props.thread).key;if(Array.isArray(_this2.props.thread.value.content.recps)){recps=_ssbMsgs2.default.links(_this2.props.thread.value.content.recps).map(function(recp){return recp.link}).filter(Boolean)}}_this2.state={isPreviewing:false,isSending:false,isPublic:_this2.props.isPublic||false,channel:_this2.props.channel,hasAddedFiles:false,addedFileMeta:{},recps:recps,text:""};return _this2}_createClass(CompositionUnit,[{key:"isReply",value:function isReply(){return!!this.props.thread}},{key:"isPublic",value:function isPublic(){return this.isReply()?this.isThreadPublic:this.state.isPublic}},{key:"hasChannel",value:function hasChannel(){return!!this.getChannel()}},{key:"getChannel",value:function getChannel(){return this.isReply()?this.threadChannel:this.state.channel}},{key:"onChangeText",value:function onChangeText(event){this.setState({text:event.target.value})}},{key:"onAttach",value:function onAttach(){this.refs.files.click()}},{key:"onFilesAdded",value:function onFilesAdded(){var _this3=this;var done=(0,_multicb2.default)({pluck:1});var filesInput=this.refs.files;var handled=0,total=filesInput.files.length;this.setState({isAddingFiles:true,hasAddedFiles:true});var add=function add(f){if(f.size>5*(1024*1024)){var inMB=Math.round(f.size/(1024*1024)*100)/100;_app2.default.issue("Error Attaching File",new Error(f.name+" is larger than the 5 megabyte limit ("+inMB+" MB)"));_this3.setState({isAddingFiles:false});return false}var reader=new FileReader;reader.onload=function(){var buff64=new Buffer(new Uint8Array(reader.result)).toString("base64");_app2.default.ssb.patchwork.addFileToBlobs(buff64,next)};reader.onerror=function(e){console.error(e);next(new Error("Failed to upload "+f.name))};var next=function next(err,hash){if(err){_app2.default.issue("Error Attaching File",err,"This error occurred while trying to add a file to the blobstore for a new post.")}else{var str="";if(!/(^|\s)$/.test(_this3.state.text))str+=" ";if(isImageFilename(f.name))str+="!";str+="["+(f.name||"untitled")+"]("+hash+")";_this3.setState({text:_this3.state.text+str});var meta=_this3.state.addedFileMeta[hash]={name:f.name||"untitled",size:f.size};if(f.type)meta.type=f.type;else if(_mimeTypes2.default.contentType(f.name))meta.type=_mimeTypes2.default.contentType(f.name);_this3.setState({addedFileMeta:_this3.state.addedFileMeta})}if(++handled>=total)_this3.setState({isAddingFiles:false})};reader.readAsArrayBuffer(f);return true};for(var i=0;i<total;i++){if(!add(filesInput.files[i])){return false}}filesInput.value=""}},{key:"onSelectPublic",value:function onSelectPublic(isPublic){if(this.isReply()){return}this.setState({isPublic:isPublic})}},{key:"onChangeChannel",value:function onChangeChannel(name){if(this.isReply()){return}this.setState({channel:name})}},{key:"onAddRecp",value:function onAddRecp(id){var recps=this.state.recps;if(recps.length>=_recps.RECP_LIMIT){return}var i=recps.indexOf(id);if(i!==-1){recps.splice(i,1)}recps.push(id);this.setState({recps:recps})}},{key:"onRemoveRecp",value:function onRemoveRecp(id){var recps=this.state.recps;var i=recps.indexOf(id);if(i!==-1){recps.splice(i,1);this.setState({recps:recps})}}},{key:"canSend",value:function canSend(){return!!this.state.text.trim()}},{key:"renderComposerTextarea",value:function renderComposerTextarea(vertical){return vertical?ComposerTextareaVerticalFilled:ComposerTextareaFixed}},{key:"renderPreview",value:function renderPreview(props){var _this4=this;return function(props){return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"card",style:{padding:"20px",margin:"40px 10px 30px 0"}},_react2.default.createElement(_markdown.Block,{md:_this4.state.text})))}}},{key:"renderAudienceBtn",value:function renderAudienceBtn(props){return function(props){var opts=[{label:_react2.default.createElement("span",null,_react2.default.createElement("i",{className:"fa fa-inbox"})," Private"),value:false},{label:_react2.default.createElement("span",null,_react2.default.createElement("i",{className:"fa fa-bullhorn"})," Public"),value:true}];if(!props.canChange){return _react2.default.createElement("a",{className:"btn disabled"},opts[+props.isPublic].label)}else{return _react2.default.createElement(_dropdown2.default,{className:"btn",items:opts,onSelect:props.onSelect},opts[+props.isPublic].label," ",_react2.default.createElement("i",{className:"fa fa-caret-down"}))}}}},{key:"renderAttachBtn",value:function renderAttachBtn(props){return function(props){if(!props.isPublic){if(props.isReply){return _react2.default.createElement("span",null)}else{return _react2.default.createElement("a",{className:"btn disabled"},_react2.default.createElement("i",{className:"fa fa-paperclip"})," Attachments not available in PMs")}}if(props.isAdding){return _react2.default.createElement("a",{className:"btn disabled"},_react2.default.createElement("i",{className:"fa fa-paperclip"})," Adding...")}else{return _react2.default.createElement("a",{className:"btn",onClick:props.onAttach},_react2.default.createElement("i",{className:"fa fa-paperclip"})," Add an attachment")}}}},{key:"renderSendBtn",value:function renderSendBtn(props){var _this5=this;return function(props){var sendIcon=_this5.isPublic()?"users":"lock";if(!props.canSend){return _react2.default.createElement("a",{className:"btn disabled"},"Send")}else{return _react2.default.createElement("a",{className:"btn highlighted",onClick:_this5.onSend.bind(_this5)},_react2.default.createElement("i",{className:"fa fa-"+sendIcon})," Send")}}}},{key:"setPreviewing",value:function setPreviewing(newBool){var _this6=this;return function(){return _this6.setState({isPreviewing:newBool})}}},{key:"renderToolbar",value:function renderToolbar(){var AudienceBtn=this.renderAudienceBtn(this.props);var AttachBtn=this.renderAttachBtn(this.props);var SendBtn=this.renderSendBtn(this.props);var setPreviewing=this.setPreviewing.bind(this);return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"composer-ctrls flex"},_react2.default.createElement(AudienceBtn,{canChange:!this.isReply(),isPublic:this.isPublic(),onSelect:this.onSelectPublic.bind(this)}),_react2.default.createElement(AttachBtn,{isPublic:this.isPublic(),isReply:this.isReply(),hasAdded:this.state.hasAddedFiles,isAdding:this.state.isAddingFiles,onAttach:this.onAttach.bind(this)}),_react2.default.createElement("div",{className:"flex-fill"}),_react2.default.createElement("a",{className:"btn",onClick:setPreviewing(true)},"Preview"),_react2.default.createElement(SendBtn,{canSend:this.canSend()&&!this.state.isSending})),this.isPublic()?_react2.default.createElement(_channel2.default,{isReadOnly:this.isReply(),onChange:this.onChangeChannel.bind(this),value:this.getChannel()}):_react2.default.createElement(_recps.ComposerRecps,{isReadOnly:this.isReply(),recps:this.state.recps,onAdd:this.onAddRecp.bind(this),onRemove:this.onRemoveRecp.bind(this)}))}},{key:"renderComposerArea",value:function renderComposerArea(){var Preview=this.renderPreview(this.props);var channel=this.getChannel();var setPreviewing=this.setPreviewing.bind(this);var vertical=this.props.verticalFilled;var ComposerTextarea=this.renderComposerTextarea(vertical);var toolbarTop,toolbarBottom;if(vertical)toolbarTop=this.renderToolbar();else toolbarBottom=this.renderToolbar();return _react2.default.createElement("div",{className:"composer"},_react2.default.createElement("input",{ref:"files",type:"file",multiple:true,onChange:this.onFilesAdded.bind(this),style:{display:"none"}}),_react2.default.createElement(_popup2.default,{className:"fullheight",Content:Preview,isOpen:this.state.isPreviewing,onClose:setPreviewing(false)}),toolbarTop,_react2.default.createElement("div",{className:"composer-content"},_react2.default.createElement(ComposerTextarea,{ref:"textarea",value:this.state.text,onChange:this.onChangeText.bind(this),onSubmit:this.onSend.bind(this),placeholder:this.isReply()?"Write a reply":this.props.placeholder||"Write your message here"})),toolbarBottom)}},{key:"render",value:function render(){return this.renderComposerArea()}}]);return CompositionUnit}(_react2.default.Component);var Composer=function(_CompositionUnit){_inherits(Composer,_CompositionUnit);function Composer(props){_classCallCheck(this,Composer);return _possibleConstructorReturn(this,Object.getPrototypeOf(Composer).call(this,props))}_createClass(Composer,[{key:"onSend",value:function onSend(){var _this8=this;var text=this.state.text;if(!text.trim())return;this.setState({isSending:true});_mentions2.default.extract(text,function(err,mentions){if(err){_this8.setState({isSending:false});if(err.conflict){_app2.default.issue("Error While Publishing",'You follow multiple people with the name "'+err.name+'." Resolve this before publishing.')}else{_app2.default.issue("Error While Publishing",err,"This error occured while trying to extract the mentions from a new post.")}return}if(mentions&&mentions.length){mentions.forEach(function(mention){var meta=_this8.state.addedFileMeta[mention.link];if(meta){for(var k in meta){if(k!="link")mention[k]=meta[k]}}})}var channel=_this8.getChannel();var recps=null,recpLinks=null;if(!_this8.isPublic()){channel=false;recps=_this8.state.recps;if(recps.indexOf(_app2.default.user.id)===-1)recps.push(_app2.default.user.id);recpLinks=recps.map(function(id){
var name=_util2.default.getName(id);return name?{link:id,name:name}:id})}var post=_ssbMsgSchemas2.default.post(text,_this8.threadRoot,_this8.threadBranch,mentions,recpLinks,channel);var published=function published(err,msg){_this8.setState({isSending:false});if(err){_app2.default.issue("Error While Publishing",err,"This error occurred while trying to publish a new post.")}else{_this8.setState({text:"",isPreviewing:false});_app2.default.ssb.patchwork.markRead(_this8.threadRoot?[_this8.threadRoot,msg.key]:msg.key);if(_this8.props.onSend instanceof Function){_this8.props.onSend(msg)}}};if(recps){_app2.default.ssb.private.publish(post,recps,published)}else{_app2.default.ssb.publish(post,published)}})}},{key:"render",value:function render(){return this.renderComposerArea()}}]);return Composer}(CompositionUnit);exports.default=Composer;function isThreadPublic(thread){if("plaintext"in thread)return thread.plaintext;return typeof thread.value.content!=="string"}function isImageFilename(name){var ct=_mimeTypes2.default.contentType(name);return typeof ct=="string"&&ct.indexOf("image/")===0}function getThreadRoot(msg){var root=msg&&msg.value&&msg.value.content&&msg.value.content.root;if(root&&_ssbMsgs2.default.link(root,"msg")){return _ssbMsgs2.default.link(root,"msg").link}else return msg.key}}).call(this,require("buffer").Buffer)},{"../../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js","../../lib/mentions":"/Users/paulfrazee/patchwork/ui/lib/mentions.js","../../lib/util":"/Users/paulfrazee/patchwork/ui/lib/util.js","../dropdown":"/Users/paulfrazee/patchwork/ui/com/dropdown.jsx","../index":"/Users/paulfrazee/patchwork/ui/com/index.jsx","../markdown":"/Users/paulfrazee/patchwork/ui/com/markdown.jsx","../modals/popup":"/Users/paulfrazee/patchwork/ui/com/modals/popup.jsx","./channel":"/Users/paulfrazee/patchwork/ui/com/composer/channel.jsx","./recps":"/Users/paulfrazee/patchwork/ui/com/composer/recps.jsx",buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js","mime-types":"/Users/paulfrazee/patchwork/node_modules/mime-types/index.js",multicb:"/Users/paulfrazee/patchwork/node_modules/multicb/index.js","patchwork-threads":"/Users/paulfrazee/patchwork/node_modules/patchwork-threads/index.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","ssb-msg-schemas":"/Users/paulfrazee/patchwork/node_modules/ssb-msg-schemas/index.js","ssb-msgs":"/Users/paulfrazee/patchwork/node_modules/ssb-msgs/index.js","suggest-box":"/Users/paulfrazee/patchwork/node_modules/suggest-box/index.js"}],"/Users/paulfrazee/patchwork/ui/com/composer/recps.jsx":[function(require,module,exports){"use strict";"use babel";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});exports.ComposerRecps=exports.RECP_LIMIT=undefined;var _react=require("react");var _react2=_interopRequireDefault(_react);var _suggestBox=require("suggest-box");var _suggestBox2=_interopRequireDefault(_suggestBox);var _app=require("../../lib/app");var _app2=_interopRequireDefault(_app);var _util=require("../../lib/util");var _util2=_interopRequireDefault(_util);var _socialGraph=require("../../lib/social-graph");var _socialGraph2=_interopRequireDefault(_socialGraph);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var RECP_LIMIT=exports.RECP_LIMIT=7;var ComposerRecp=function(_React$Component){_inherits(ComposerRecp,_React$Component);function ComposerRecp(){_classCallCheck(this,ComposerRecp);return _possibleConstructorReturn(this,Object.getPrototypeOf(ComposerRecp).apply(this,arguments))}_createClass(ComposerRecp,[{key:"render",value:function render(){var _this2=this;return _react2.default.createElement("span",{className:"recp"},_util2.default.getName(this.props.id),this.props.isReadOnly?"":_react2.default.createElement("a",{onClick:function onClick(){return _this2.props.onRemove(_this2.props.id)}},_react2.default.createElement("i",{className:"fa fa-remove"})))}}]);return ComposerRecp}(_react2.default.Component);var ComposerRecps=exports.ComposerRecps=function(_React$Component2){_inherits(ComposerRecps,_React$Component2);function ComposerRecps(props){_classCallCheck(this,ComposerRecps);var _this3=_possibleConstructorReturn(this,Object.getPrototypeOf(ComposerRecps).call(this,props));_this3.state={inputText:""};return _this3}_createClass(ComposerRecps,[{key:"componentDidMount",value:function componentDidMount(){this.setupSuggest()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.setupSuggest()}},{key:"setupSuggest",value:function setupSuggest(){var input=this.refs&&this.refs.input;if(!input||input.isSetup)return;input.isSetup=true;(0,_suggestBox2.default)(input,{any:_app2.default.suggestOptions["@"]},{cls:"msg-recipients"});input.addEventListener("suggestselect",this.onSuggestSelect.bind(this))}},{key:"onChange",value:function onChange(e){this.setState({inputText:e.target.value})}},{key:"onSuggestSelect",value:function onSuggestSelect(e){this.props.onAdd(e.detail.id);this.setState({inputText:""})}},{key:"render",value:function render(){var _this4=this;var isAtLimit=this.props.recps.length>=RECP_LIMIT;var warnings=this.props.recps.filter(function(id){return id!==_app2.default.user.id&&!_socialGraph2.default.follows(id,_app2.default.user.id)});return _react2.default.createElement("div",{className:"composer-recps"},_react2.default.createElement("div",null,_react2.default.createElement("i",{className:"fa fa-user"})," To: ",this.props.recps.map(function(r){return _react2.default.createElement(ComposerRecp,{key:r,id:r,onRemove:_this4.props.onRemove,isReadOnly:_this4.props.isReadOnly})}),!isAtLimit&&!this.props.isReadOnly?_react2.default.createElement("input",_extends({ref:"input",type:"text",placeholder:"Add recipients here",value:this.state.inputText,onChange:this.onChange.bind(this)},this.props)):""),isAtLimit?_react2.default.createElement("div",{className:"warning"},"Recipient limit reached"):"",warnings.length?_react2.default.createElement("div",null,warnings.map(function(id){return _react2.default.createElement("div",{key:id,className:"warning"},"Warning: @",_util2.default.getName(id)," does not follow you, and may not receive your message.")})):"")}}]);return ComposerRecps}(_react2.default.Component)},{"../../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js","../../lib/social-graph":"/Users/paulfrazee/patchwork/ui/lib/social-graph.js","../../lib/util":"/Users/paulfrazee/patchwork/ui/lib/util.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","suggest-box":"/Users/paulfrazee/patchwork/node_modules/suggest-box/index.js"}],"/Users/paulfrazee/patchwork/ui/com/dropdown.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});exports.Dropdown=undefined;var _react=require("react");var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Dropdown=exports.Dropdown=function(_React$Component){_inherits(Dropdown,_React$Component);function Dropdown(){_classCallCheck(this,Dropdown);return _possibleConstructorReturn(this,Object.getPrototypeOf(Dropdown).apply(this,arguments))}_createClass(Dropdown,[{key:"onSelect",value:function onSelect(v){}},{key:"render",value:function render(){var _this2=this;var onSelect=function onSelect(v,i){return function(e){e.stopPropagation();_this2.props.onSelect(v,i)}};return _react2.default.createElement("span",{className:"dropdown"+(this.props.open?" open":" closed")+(this.props.right?" right":"")},_react2.default.createElement("ul",{onMouseLeave:this.props.onClose},this.props.items.map(function(item,i){return _react2.default.createElement("li",{key:i,onClick:onSelect(item.value,i)},item.label)})))}}]);return Dropdown}(_react2.default.Component);var DropdownBtn=function(_React$Component2){_inherits(DropdownBtn,_React$Component2);function DropdownBtn(props){_classCallCheck(this,DropdownBtn);var _this3=_possibleConstructorReturn(this,Object.getPrototypeOf(DropdownBtn).call(this,props));_this3.state={open:false};return _this3}_createClass(DropdownBtn,[{key:"onOpen",value:function onOpen(){this.setState({open:true})}},{key:"onClose",value:function onClose(){this.setState({open:false})}},{key:"onSelect",value:function onSelect(v,index){this.setState({open:false});this.props.onSelect(v,index)}},{key:"render",value:function render(){return _react2.default.createElement("a",{className:(this.props.className||"")+" dropdown-btn"+(this.props.right?" right":""),onClick:this.onOpen.bind(this)},_react2.default.createElement(Dropdown,{items:this.props.items,right:this.props.right,open:this.state.open,onClose:this.onClose.bind(this),onSelect:this.onSelect.bind(this)}),this.props.children)}}]);return DropdownBtn}(_react2.default.Component);exports.default=DropdownBtn},{react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/ui/com/findbar.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _reactModal=require("react-modal");var _reactModal2=_interopRequireDefault(_reactModal);var _textNodeSearcher=require("text-node-searcher");var _textNodeSearcher2=_interopRequireDefault(_textNodeSearcher);var _util=require("../lib/util");var _util2=_interopRequireDefault(_util);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var FindBar=function(_React$Component){_inherits(FindBar,_React$Component);function FindBar(props){_classCallCheck(this,FindBar);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(FindBar).call(this,props));_this.searcher=new _textNodeSearcher2.default({highlightTagName:"highlight"});_this.state={isVisible:false};_this.highlightDebounced=_util2.default.debounce(function(){_this.searcher.setQuery(_this.refs.input.value);_this.searcher.highlight()},75);return _this}_createClass(FindBar,[{key:"componentDidMount",value:function componentDidMount(){this.searcher.container=document.getElementById(this.props.for)}},{key:"focus",value:function focus(){this.setState({isVisible:true});var input=this.refs.input;input.focus();input.selectionStart=0;input.selectionEnd=input.value.length}},{key:"onFindKeyDown",value:function onFindKeyDown(e){if(e.keyCode==13){this.search(!e.shiftKey)}else if(e.keyCode==27){this.close()}else{this.highlightDebounced()}}},{key:"search",value:function search(forward){this.searcher.setQuery(this.refs.input.value);this.searcher.highlight();if(forward)this.searcher.selectNext();else this.searcher.selectPrevious();var textNode=window.getSelection().anchorNode;if(textNode){var topMargin=140;var bottomMargin=100;var rect=textNode.parentNode.getBoundingClientRect();if(rect.top<topMargin)return;for(var node=textNode.parentNode;node;node=node.parentNode){if(node.style&&node.style.overflow=="auto"){node.scrollTop+=this.refs.bar.offsetHeight+bottomMargin;return}}}}},{key:"close",value:function close(){this.setState({isVisible:false});this.searcher.unhighlight()}},{key:"render",value:function render(){return _react2.default.createElement("div",{ref:"bar",className:"findbar "+(this.state.isVisible?"":"hidden")},_react2.default.createElement("div",{className:"search"},_react2.default.createElement("i",{className:"fa fa-search"}),_react2.default.createElement("input",{ref:"input",placeholder:"Find",onKeyDown:this.onFindKeyDown.bind(this)})),_react2.default.createElement("a",{className:"btn",onClick:this.search.bind(this,false)},_react2.default.createElement("i",{className:"fa fa-angle-up"})),_react2.default.createElement("a",{className:"btn",onClick:this.search.bind(this,true)},_react2.default.createElement("i",{className:"fa fa-angle-down"})),_react2.default.createElement("a",{className:"btn close",onClick:this.close.bind(this)},""))}}]);return FindBar}(_react2.default.Component);exports.default=FindBar},{"../lib/util":"/Users/paulfrazee/patchwork/ui/lib/util.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","react-modal":"/Users/paulfrazee/patchwork/node_modules/react-modal/lib/index.js","text-node-searcher":"/Users/paulfrazee/patchwork/node_modules/text-node-searcher/index.js"}],"/Users/paulfrazee/patchwork/ui/com/form-elements/image-input.jsx":[function(require,module,exports){(function(Buffer){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _util=require("multiblob/util");var _pullStream=require("pull-stream");var _pullStream2=_interopRequireDefault(_pullStream);var _app=require("../../lib/app");var _app2=_interopRequireDefault(_app);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var CANVAS_SIZE=512;if(!("URL"in window)&&"webkitURL"in window)window.URL=window.webkitURL;var ImageInput=function(_React$Component){_inherits(ImageInput,_React$Component);function ImageInput(props){_classCallCheck(this,ImageInput);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(ImageInput).call(this,props));_this.state={editorMsg:false,dragging:false,mx:undefined,my:undefined,ox:0,oy:0,scaleSliderValue:0,zoom:1,minzoom:1,rotation:0,hasImg:false,img:undefined,imgdim:undefined};return _this}_createClass(ImageInput,[{key:"onRotate",value:function onRotate(e){var _this2=this;e.preventDefault();e.stopPropagation();this.setState({rotation:(this.state.rotation+1)%4},function(){_this2.drawCanvas()})}},{key:"componentDidMount",value:function componentDidMount(){var _this3=this;if(!this.props.current)return;this.setState({editorMsg:"loading...",hasImg:true});var img=document.createElement("img");img.src=this.props.current;img.onload=function(){var imgdim={width:img.width,height:img.height};console.log(imgdim);var smallest=imgdim.width<imgdim.height?imgdim.width:imgdim.height;_this3.refs.scaleSlider.value=0;_this3.setState({img:img,imgdim:imgdim,editorMsg:"Zoom:",ox:0,oy:0,zoom:CANVAS_SIZE/smallest,minzoom:CANVAS_SIZE/smallest});_this3.drawCanvas()}}},{key:"onClickFile",value:function onClickFile(e){e.preventDefault();e.stopPropagation();var fileInput=this.refs.fileInput;if(fileInput)fileInput.click()}},{key:"onFileChosen",value:function onFileChosen(e){var _this4=this;var fileInput=this.refs.fileInput;var file=fileInput.files[0];if(!file)return;this.setState({editorMsg:"loading...",hasImg:true});var reader=new FileReader;reader.onload=function(e){var img=document.createElement("img");img.src=e.target.result;var imgdim={width:img.width,height:img.height};var smallest=imgdim.width<imgdim.height?imgdim.width:imgdim.height;_this4.refs.scaleSlider.value=0;if(_this4.props.onChange)_this4.props.onChange();_this4.setState({img:img,imgdim:imgdim,editorMsg:"Zoom:",ox:0,oy:0,zoom:CANVAS_SIZE/smallest,minzoom:CANVAS_SIZE/smallest});_this4.drawCanvas()};reader.readAsDataURL(file)}},{key:"onCanvasMouseDown",value:function onCanvasMouseDown(e){e.preventDefault();this.setState({dragging:true,mx:e.clientX,my:e.clientY});this.drawCanvas()}},{key:"onCanvasMouseUp",value:function onCanvasMouseUp(e){e.preventDefault();this.setState({dragging:false});this.drawCanvas()}},{key:"onCanvasMouseMove",value:function onCanvasMouseMove(e){e.preventDefault();if(this.state.dragging){console.log("ox+clientX-mx",this.state.ox+e.clientX-this.state.mx,"-width",-this.state.imgdim.width,"zoom",this.state.zoom,"-width*zoom+canvas",-this.state.imgdim.width*this.state.zoom+CANVAS_SIZE);this.setState({ox:Math.max(Math.min(this.state.ox+e.clientX-this.state.mx,0),-this.state.imgdim.width*this.state.zoom+CANVAS_SIZE),oy:Math.max(Math.min(this.state.oy+e.clientY-this.state.my,0),-this.state.imgdim.height*this.state.zoom+CANVAS_SIZE),mx:e.clientX,my:e.clientY});this.drawCanvas()}}},{key:"onResize",value:function onResize(e){var scaleSlider=this.refs.scaleSlider;var scaleSliderValue=scaleSlider.value;this.setState({scaleSliderValue:scaleSliderValue,zoom:this.state.minzoom+scaleSliderValue/100});this.drawCanvas()}},{key:"drawCanvas",value:function drawCanvas(){if(!this.state.img)return;var canvas=this.refs.canvas;var ctx=canvas.getContext("2d");ctx.globalCompositeOperation="source-over";ctx.fillStyle="#fff";ctx.fillRect(0,0,canvas.width,canvas.height);ctx.save();ctx.translate(this.state.ox,this.state.oy);ctx.scale(this.state.zoom,this.state.zoom);ctx.drawImage(this.state.img,0,0,this.state.img.width,this.state.img.height);ctx.restore()}},{key:"render",value:function render(){return _react2.default.createElement("div",{className:"image-input"},this.state.hasImg?_react2.default.createElement("div",{className:"image-input-ctrls"},_react2.default.createElement("div",{className:"inline-flex",style:{color:"gray",alignItems:"center"}},_react2.default.createElement("div",{style:{flex:1,paddingRight:"5px"}},this.state.editorMsg?_react2.default.createElement("div",null,this.state.editorMsg):"",_react2.default.createElement("input",{ref:"scaleSlider",type:"range",value:this.state.scaleSliderValue,onChange:this.onResize.bind(this),style:{height:"45px",verticalAlign:"middle"}})),""),_react2.default.createElement("br",null),_react2.default.createElement("canvas",{ref:"canvas",width:CANVAS_SIZE,height:CANVAS_SIZE,onMouseDown:this.onCanvasMouseDown.bind(this),onMouseUp:this.onCanvasMouseUp.bind(this),onMouseOut:this.onCanvasMouseUp.bind(this),onMouseMove:this.onCanvasMouseMove.bind(this)})):"",_react2.default.createElement("div",null,_react2.default.createElement("label",null,_react2.default.createElement("span",null,this.props.label),_react2.default.createElement("input",{ref:"fileInput",type:"file",accept:"image/png,image/jpg,image/jpeg",onChange:this.onFileChosen.bind(this),style:{display:"none"}}),_react2.default.createElement("button",{className:"btn",onClick:this.onClickFile.bind(this)},"Choose File"))))}}],[{key:"canvasToPng",value:function canvasToPng(canvas,cb){canvas.toBlob(function(blob){var reader=new FileReader;reader.onloadend=function(){cb(null,new Buffer(new Uint8Array(reader.result)))};reader.readAsArrayBuffer(blob)})}},{key:"uploadCanvasToBlobstore",value:function uploadCanvasToBlobstore(canvas,cb){ImageInput.canvasToPng(canvas,function(err,buffer){if(err)return cb(err);_app2.default.ssb.patchwork.addFileToBlobs(buffer.toString("base64"),function(err,hash){if(err)return cb(err);cb(null,{hash:hash,size:buffer.length})})})}}]);return ImageInput}(_react2.default.Component);exports.default=ImageInput}).call(this,require("buffer").Buffer)},{"../../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js",buffer:"/Users/paulfrazee/patchwork/node_modules/buffer/index.js","multiblob/util":"/Users/paulfrazee/patchwork/node_modules/multiblob/util.js","pull-stream":"/Users/paulfrazee/patchwork/node_modules/pull-stream/index.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/ui/com/form-elements/image-selector.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _classnames=require("classnames");var _classnames2=_interopRequireDefault(_classnames);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ImageSelector=function(_React$Component){_inherits(ImageSelector,_React$Component);function ImageSelector(){_classCallCheck(this,ImageSelector);return _possibleConstructorReturn(this,Object.getPrototypeOf(ImageSelector).apply(this,arguments))}_createClass(ImageSelector,[{key:"render",value:function render(){var _this2=this;return _react2.default.createElement("div",{className:"image-selector"},this.props.options.map(function(o,i){var onClick=function onClick(){return _this2.props.onSelect(o)};return _react2.default.createElement("div",{key:i,className:(0,_classnames2.default)({option:true,selected:o.value===_this2.props.value}),onClick:onClick},o.label?_react2.default.createElement("div",null,o.label):"",_react2.default.createElement("img",{src:o.src}))}))}}]);return ImageSelector}(_react2.default.Component);exports.default=ImageSelector},{classnames:"/Users/paulfrazee/patchwork/node_modules/classnames/index.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/ui/com/form-elements/input-plaque.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _classnames=require("classnames");var _classnames2=_interopRequireDefault(_classnames);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var InputPlaque=function(_React$Component){_inherits(InputPlaque,_React$Component);function InputPlaque(){_classCallCheck(this,InputPlaque);return _possibleConstructorReturn(this,Object.getPrototypeOf(InputPlaque).apply(this,arguments))}_createClass(InputPlaque,[{key:"render",value:function render(){return _react2.default.createElement("div",{className:(0,_classnames2.default)({"input-plaque":true,"has-btn":!!this.props.btn}),"data-label":this.props.label},_react2.default.createElement("input",{placeholder:this.props.placeholder,readOnly:this.props.readOnly,value:this.props.value}),this.props.btn?_react2.default.createElement("a",null,this.props.btn):"")}}]);return InputPlaque}(_react2.default.Component);exports.default=InputPlaque},{classnames:"/Users/paulfrazee/patchwork/node_modules/classnames/index.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/ui/com/form-elements/radio-set.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var RadioSet=function(_React$Component){_inherits(RadioSet,_React$Component);function RadioSet(){_classCallCheck(this,RadioSet);return _possibleConstructorReturn(this,Object.getPrototypeOf(RadioSet).apply(this,arguments))}_createClass(RadioSet,[{key:"render",value:function render(){var _this2=this;return _react2.default.createElement("div",{className:this.props.className},this.props.options.map(function(option,i){return _react2.default.createElement("label",{key:"option"+i},_react2.default.createElement("input",{type:"radio",name:_this2.props.group,value:option.value,defaultChecked:option.checked,onChange:function onChange(){return _this2.props.onChange(option.value);
}}),option.label)}))}}]);return RadioSet}(_react2.default.Component);exports.default=RadioSet},{react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/ui/com/forms/flag-msg.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _radioSet=require("../form-elements/radio-set");var _radioSet2=_interopRequireDefault(_radioSet);var _app=require("../../lib/app");var _app2=_interopRequireDefault(_app);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var FlagMsg=function(_React$Component){_inherits(FlagMsg,_React$Component);function FlagMsg(props){_classCallCheck(this,FlagMsg);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(FlagMsg).call(this,props));_this.state={reason:"spam"};return _this}_createClass(FlagMsg,[{key:"componentDidMount",value:function componentDidMount(){this.props.setIsValid(true)}},{key:"onChange",value:function onChange(reason){this.setState({reason:reason})}},{key:"submit",value:function submit(){this.props.onSubmit(this.state.reason)}},{key:"render",value:function render(){return _react2.default.createElement("div",null,_react2.default.createElement("form",{className:"inline",onSubmit:function onSubmit(e){return e.preventDefault()}},_react2.default.createElement("fieldset",null,_react2.default.createElement("h1",null,_react2.default.createElement("i",{className:"fa fa-flag"})," Flag this Message"),_react2.default.createElement("div",null,"Flagging hides unwanted/negative content. What's your reason for flagging this message?"),_react2.default.createElement(_radioSet2.default,{group:"reason",options:[{label:"Spam",value:"spam",checked:true},{label:"Abusive",value:"abuse"}],onChange:this.onChange.bind(this)}))))}}]);return FlagMsg}(_react2.default.Component);exports.default=FlagMsg},{"../../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js","../form-elements/radio-set":"/Users/paulfrazee/patchwork/ui/com/form-elements/radio-set.jsx",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/ui/com/forms/follow-foafs.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _pullStream=require("pull-stream");var _pullStream2=_interopRequireDefault(_pullStream);var _summary=require("../user/summary");var _summary2=_interopRequireDefault(_summary);var _socialGraph=require("../../lib/social-graph");var _socialGraph2=_interopRequireDefault(_socialGraph);var _app=require("../../lib/app");var _app2=_interopRequireDefault(_app);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var FollowFoafs=function(_React$Component){_inherits(FollowFoafs,_React$Component);function FollowFoafs(props){_classCallCheck(this,FollowFoafs);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(FollowFoafs).call(this,props));_this.state={foafs:[]};return _this}_createClass(FollowFoafs,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;(0,_pullStream2.default)(_app2.default.ssb.friends.createFriendStream({hops:2}),_pullStream2.default.filter(function(id){return id!==_app2.default.user.id&&!_socialGraph2.default.follows(_app2.default.user.id,id)&&!_socialGraph2.default.flags(_app2.default.user.id,id)}),_pullStream2.default.collect(function(err,ids){if(err)return _app2.default.minorIssue("An error occurred while fetching users",err);ids.sort(function(a,b){return _socialGraph2.default.followers(b).length-_socialGraph2.default.followers(a).length});_this2.setState({foafs:ids})}))}},{key:"render",value:function render(){var foafs=this.state.foafs;if(foafs.length===0)return _react2.default.createElement("div",null);return _react2.default.createElement("div",null,_react2.default.createElement("h1",null,"Friends of Friends"),_react2.default.createElement("h3",{style:{marginTop:5}},"Potential contacts from your social network."),foafs.map(function(id){return _react2.default.createElement(_summary2.default,{key:id,pid:id})}))}}]);return FollowFoafs}(_react2.default.Component);exports.default=FollowFoafs},{"../../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js","../../lib/social-graph":"/Users/paulfrazee/patchwork/ui/lib/social-graph.js","../user/summary":"/Users/paulfrazee/patchwork/ui/com/user/summary.jsx","pull-stream":"/Users/paulfrazee/patchwork/node_modules/pull-stream/index.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/ui/com/forms/follow-nearby.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _ip=require("ip");var _ip2=_interopRequireDefault(_ip);var _summary=require("../user/summary");var _summary2=_interopRequireDefault(_summary);var _socialGraph=require("../../lib/social-graph");var _socialGraph2=_interopRequireDefault(_socialGraph);var _app=require("../../lib/app");var _app2=_interopRequireDefault(_app);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var FollowNearby=function(_React$Component){_inherits(FollowNearby,_React$Component);function FollowNearby(props){_classCallCheck(this,FollowNearby);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(FollowNearby).call(this,props));_this.state={foundNearbyPeers:[]};return _this}_createClass(FollowNearby,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;this.onPeersUpdate=function(){var peers=new Set;_app2.default.peers.filter(function(p){return!_ip2.default.isLoopback(p.host)&&_ip2.default.isPrivate(p.host)}).filter(function(p){return!_socialGraph2.default.follows(_app2.default.user.id,p.key)&&!_socialGraph2.default.flags(_app2.default.user.id,p.key)}).forEach(function(p){return peers.add(p.key)});peers=[].concat(_toConsumableArray(peers));_this2.setState({foundNearbyPeers:peers});_app2.default.fetchLatestState()};this.onPeersUpdate();_app2.default.on("update:peers",this.onPeersUpdate)}},{key:"componentWillUnmount",value:function componentWillUnmount(){_app2.default.removeListener("update:peers",this.onPeersUpdate)}},{key:"render",value:function render(){var peers=this.state.foundNearbyPeers;var hasPeers=peers.length>0;return _react2.default.createElement("div",null,_react2.default.createElement("h1",null,"Nearby"),_react2.default.createElement("h3",{style:{marginTop:5}},hasPeers?"Potential contacts on your WiFi.":"Nobody found on your WiFi."),peers.map(function(id){return _react2.default.createElement(_summary2.default,{key:id,pid:id})}))}}]);return FollowNearby}(_react2.default.Component);exports.default=FollowNearby},{"../../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js","../../lib/social-graph":"/Users/paulfrazee/patchwork/ui/lib/social-graph.js","../user/summary":"/Users/paulfrazee/patchwork/ui/com/user/summary.jsx",ip:"/Users/paulfrazee/patchwork/node_modules/ip/lib/ip.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/ui/com/forms/profile-image.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _classnames=require("classnames");var _classnames2=_interopRequireDefault(_classnames);var _ssbMsgSchemas=require("ssb-msg-schemas");var _ssbMsgSchemas2=_interopRequireDefault(_ssbMsgSchemas);var _multicb=require("multicb");var _multicb2=_interopRequireDefault(_multicb);var _index=require("../index");var _imageInput=require("../form-elements/image-input");var _imageInput2=_interopRequireDefault(_imageInput);var _app=require("../../lib/app");var _app2=_interopRequireDefault(_app);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function getCurrentImg(){var profile=_app2.default.users.profiles[_app2.default.user.id];if(profile&&profile.self.image)return profile.self.image.link}var ProfileSetup=function(_React$Component){_inherits(ProfileSetup,_React$Component);function ProfileSetup(props){_classCallCheck(this,ProfileSetup);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(ProfileSetup).call(this,props));_this.state={wasImageAdded:false};return _this}_createClass(ProfileSetup,[{key:"componentDidMount",value:function componentDidMount(){this.props.setIsValid(true)}},{key:"onChangeImg",value:function onChangeImg(){this.setState({wasImageAdded:true})}},{key:"getValues",value:function getValues(cb){var canvas=this.refs.imageInputContainer.querySelector("canvas");if(canvas){_imageInput2.default.uploadCanvasToBlobstore(canvas,function(err,res){var imageLink={link:res.hash,size:res.size,type:"image/png",width:512,height:512};cb({image:imageLink})})}else{cb({image:null})}}},{key:"submit",value:function submit(cb){var _this2=this;this.getValues(function(values){var done=(0,_multicb2.default)();if(values.image&&values.image.link!==getCurrentImg())_app2.default.ssb.publish(_ssbMsgSchemas2.default.image(_app2.default.user.id,values.image),done());done(function(err){if(err)return cb(err);if(_this2.props.gotoNextStep)return cb();_app2.default.fetchLatestState(cb)})})}},{key:"render",value:function render(){var currentImg=getCurrentImg();var hasImg=!!currentImg||this.state.wasImageAdded;var useVerticalCentering=!hasImg;return _react2.default.createElement("div",{className:(0,_classnames2.default)({"text-center":true,"vertical-center":useVerticalCentering})},_react2.default.createElement("h1",null,_react2.default.createElement("span",null,"Would you like to choose a picture?")),_react2.default.createElement("form",{className:"block",onSubmit:function onSubmit(e){return e.preventDefault()}},_react2.default.createElement("fieldset",null,_react2.default.createElement("div",{ref:"imageInputContainer"},_react2.default.createElement(_imageInput2.default,{current:currentImg?"http://localhost:7777/"+currentImg:false,onChange:this.onChangeImg.bind(this)})))))}}]);return ProfileSetup}(_react2.default.Component);exports.default=ProfileSetup},{"../../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js","../form-elements/image-input":"/Users/paulfrazee/patchwork/ui/com/form-elements/image-input.jsx","../index":"/Users/paulfrazee/patchwork/ui/com/index.jsx",classnames:"/Users/paulfrazee/patchwork/node_modules/classnames/index.js",multicb:"/Users/paulfrazee/patchwork/node_modules/multicb/index.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","ssb-msg-schemas":"/Users/paulfrazee/patchwork/node_modules/ssb-msg-schemas/index.js"}],"/Users/paulfrazee/patchwork/ui/com/forms/profile-name.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _ssbMsgSchemas=require("ssb-msg-schemas");var _ssbMsgSchemas2=_interopRequireDefault(_ssbMsgSchemas);var _multicb=require("multicb");var _multicb2=_interopRequireDefault(_multicb);var _index=require("../index");var _app=require("../../lib/app");var _app2=_interopRequireDefault(_app);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function getCurrentName(){return _app2.default.users.names[_app2.default.user.id]||""}var ProfileSetup=function(_React$Component){_inherits(ProfileSetup,_React$Component);function ProfileSetup(props){_classCallCheck(this,ProfileSetup);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(ProfileSetup).call(this,props));_this.state=_this.validate(getCurrentName(),true);return _this}_createClass(ProfileSetup,[{key:"componentDidMount",value:function componentDidMount(){this.validate(this.state.name)}},{key:"onChangeName",value:function onChangeName(e){this.setState(this.validate(e.target.value))}},{key:"validate",value:function validate(name,supressEmit){var _this2=this;var badNameCharsRegex=/[^A-z0-9\._-]/;var emit=function emit(b){_this2.props.setIsValid&&!supressEmit&&_this2.props.setIsValid(b)};if(!name.trim()){emit(false);return{error:false,isValid:false,name:name}}else if(badNameCharsRegex.test(name)){emit(false);return{name:name,error:"We're sorry, your name can only include A-z 0-9 . _ - and cannot have spaces.",isValid:false}}else if(name.slice(-1)=="."){emit(false);return{name:name,error:"We're sorry, your name cannot end with a period.",isValid:false}}else{emit(true);return{name:name,error:false,isValid:true}}}},{key:"getValues",value:function getValues(cb){cb({name:this.state.name})}},{key:"submit",value:function submit(cb){var _this3=this;this.getValues(function(values){var done=(0,_multicb2.default)();if(values.name&&values.name!==getCurrentName())_app2.default.ssb.publish(_ssbMsgSchemas2.default.name(_app2.default.user.id,values.name),done());done(function(err){if(err)return cb(err);if(_this3.props.gotoNextStep)return cb();_app2.default.fetchLatestState(cb)})})}},{key:"render",value:function render(){var currentName=getCurrentName();return _react2.default.createElement("div",{className:"text-center vertical-center"},_react2.default.createElement("h1",null,_react2.default.createElement("span",null,"What would you like to be called?")),_react2.default.createElement("form",{className:"block",onSubmit:function onSubmit(e){return e.preventDefault()}},_react2.default.createElement("fieldset",null,_react2.default.createElement("div",null,_react2.default.createElement("label",null,_react2.default.createElement("input",{type:"text",onChange:this.onChangeName.bind(this),value:this.state.name}),this.state.error?_react2.default.createElement("p",{className:"error"},this.state.error):"")))))}}]);return ProfileSetup}(_react2.default.Component);exports.default=ProfileSetup},{"../../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js","../index":"/Users/paulfrazee/patchwork/ui/com/index.jsx",multicb:"/Users/paulfrazee/patchwork/node_modules/multicb/index.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","ssb-msg-schemas":"/Users/paulfrazee/patchwork/node_modules/ssb-msg-schemas/index.js"}],"/Users/paulfrazee/patchwork/ui/com/forms/pub-invite.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _ssbRef=require("ssb-ref");var _ssbRef2=_interopRequireDefault(_ssbRef);var _mdlSpinner=require("../mdl-spinner");var _mdlSpinner2=_interopRequireDefault(_mdlSpinner);var _forms=require("../help/forms");var _app=require("../../lib/app");var _app2=_interopRequireDefault(_app);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var PubInvite=function(_React$Component){_inherits(PubInvite,_React$Component);function PubInvite(props){_classCallCheck(this,PubInvite);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(PubInvite).call(this,props));_this.state={code:_this.props.code,info:false,error:false,isProcessing:false};return _this}_createClass(PubInvite,[{key:"onChange",value:function onChange(e){this.setState({code:e.target.value})}},{key:"componentDidMount",value:function componentDidMount(){this.props.setIsReady(true);this.props.setIsValid(true)}},{key:"getValues",value:function getValues(cb){cb({code:this.state.code})}},{key:"submit",value:function submit(cb){var _this2=this;this.getValues(function(values){var code=values.code||"";_this2.setState({isProcessing:true,error:false,info:false});if(code.charAt(0)=='"'&&code.charAt(code.length-1)=='"')code=code.slice(1,-1);if(!code)return _this2.setState({isProcessing:false,error:{message:"Invite code not provided"}});if(!_ssbRef2.default.isInvite(code))return _this2.setState({isProcessing:false,error:{message:"Invalid invite code"}});_this2.setState({info:"Contacting server with invite code, this may take a few moments..."});_app2.default.ssb.invite.accept(code,function(err){if(err){console.error(err);return _this2.setState({isProcessing:false,info:false,error:err})}_app2.default.ssb.gossip.connect(code.split("~")[0]);cb()})})}},{key:"render",value:function render(){var msg=this.state.error?_react2.default.createElement(_forms.InviteErrorExplanation,{error:this.state.error}):this.state.info||"";var helpText=this.state.error?_react2.default.createElement(_forms.InviteErrorHelp,{error:this.state.error}):"";return _react2.default.createElement("div",null,_react2.default.createElement("h1",null,"Join a Pub"),_react2.default.createElement("h3",null,"Pubs host your messages online, and connect you globally."),_react2.default.createElement("form",{className:"fullwidth",onSubmit:function onSubmit(e){return e.preventDefault()}},_react2.default.createElement("fieldset",null,_react2.default.createElement("input",{type:"text",value:this.state.code,onChange:this.onChange.bind(this),placeholder:"Enter the invite code here"}),_react2.default.createElement("div",null,msg),_react2.default.createElement("div",null,helpText))),this.state.isProcessing?_react2.default.createElement(_mdlSpinner2.default,null):"",_react2.default.createElement("div",{className:"faq text-center"},this.props.gotoNextStep?_react2.default.createElement("div",null,_react2.default.createElement("a",{onClick:this.props.gotoNextStep},"You can skip this step"),", but your messages ","won't"," reach outside the WiFi until you do it."):"",_react2.default.createElement("div",{className:"faq-entry"},_react2.default.createElement("div",null,"What's"," an invite code?"),_react2.default.createElement("div",null,"An invite code tells the Pub to join your contacts.")),_react2.default.createElement("div",{className:"faq-entry"},_react2.default.createElement("div",null,"Where can I get an invite code?"),_react2.default.createElement("div",null,"You should ask a Pub operator. Many of them hang out in #scuttlebutt on Freenode.")),_react2.default.createElement("div",{className:"faq-entry"},_react2.default.createElement("div",null,"Can I create a Pub?"),_react2.default.createElement("div",null,"Yes, but it requires a public server. If you have one, you can ",_react2.default.createElement("a",{href:"http://ssbc.github.io/docs/scuttlebot/howto-setup-a-pub.html",target:"_blank"},"followthisguide"),"."))))}}]);return PubInvite}(_react2.default.Component);exports.default=PubInvite},{"../../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js","../help/forms":"/Users/paulfrazee/patchwork/ui/com/help/forms.jsx","../mdl-spinner":"/Users/paulfrazee/patchwork/ui/com/mdl-spinner.jsx",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","ssb-ref":"/Users/paulfrazee/patchwork/node_modules/ssb-ref/index.js"}],"/Users/paulfrazee/patchwork/ui/com/forms/rename.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _ssbMsgSchemas=require("ssb-msg-schemas");var _ssbMsgSchemas2=_interopRequireDefault(_ssbMsgSchemas);var _app=require("../../lib/app");var _app2=_interopRequireDefault(_app);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function getCurrentName(id){return _app2.default.users.names[id]||""}var Rename=function(_React$Component){_inherits(Rename,_React$Component);function Rename(props){_classCallCheck(this,Rename);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Rename).call(this,props));_this.state=_this.validate(getCurrentName(_this.props.id),true);return _this}_createClass(Rename,[{key:"componentDidMount",value:function componentDidMount(){this.validate(getCurrentName(this.props.id));this.props.setHelpText("You can rename anybody. It will only change for you, but other people will see the name you chose.")}},{key:"onChange",value:function onChange(e){this.setState(this.validate(e.target.value))}},{key:"validate",value:function validate(name,supressEmit){var _this2=this;var badNameCharsRegex=/[^A-z0-9\._-]/;var emit=function emit(b){_this2.props.setIsValid&&!supressEmit&&_this2.props.setIsValid(b)};if(!name.trim()){emit(false);return{error:false,isValid:false,name:name}}else if(badNameCharsRegex.test(name)){emit(false);return{name:name,error:"We're sorry, names can only include A-z 0-9 . _ - and cannot have spaces.",isValid:false}}else if(name.slice(-1)=="."){emit(false);return{name:name,error:"We're sorry, names cannot end with a period.",isValid:false}}else{emit(true);return{name:name,error:false,isValid:true}}}},{key:"submit",value:function submit(cb){var currentName=getCurrentName(this.props.id);var newName=this.state.name;if(currentName===newName)return cb();_app2.default.ssb.publish(_ssbMsgSchemas2.default.name(this.props.id,newName),function(err){if(err)return cb(err);_app2.default.fetchLatestState(cb)})}},{key:"render",value:function render(){return _react2.default.createElement("div",{className:"text-center vertical-center"},_react2.default.createElement("form",{className:"block",onSubmit:function onSubmit(e){return e.preventDefault()}},_react2.default.createElement("fieldset",null,_react2.default.createElement("h1",null,"Rename ",getCurrentName(this.props.id)," to..."),_react2.default.createElement("label",null,_react2.default.createElement("span",null),_react2.default.createElement("input",{type:"text",value:this.state.name,onChange:this.onChange.bind(this)})),_react2.default.createElement("div",{className:"error"},this.state.error))))}}]);return Rename}(_react2.default.Component);exports.default=Rename},{"../../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","ssb-msg-schemas":"/Users/paulfrazee/patchwork/node_modules/ssb-msg-schemas/index.js"}],"/Users/paulfrazee/patchwork/ui/com/forms/view-mode.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true
});var _react=require("react");var _react2=_interopRequireDefault(_react);var _index=require("../index");var _imageSelector=require("../form-elements/image-selector");var _imageSelector2=_interopRequireDefault(_imageSelector);var _app=require("../../lib/app");var _app2=_interopRequireDefault(_app);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var OPTIONS=[{src:"img/feed-representation.png",label:"Feeds, like on Facebook",value:0},{src:"img/inbox-representation.png",label:"Inboxes, like on Email",value:1}];var ViewMode=function(_React$Component){_inherits(ViewMode,_React$Component);function ViewMode(props){_classCallCheck(this,ViewMode);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(ViewMode).call(this,props));_this.state={choice:0};return _this}_createClass(ViewMode,[{key:"componentDidMount",value:function componentDidMount(){this.props.setIsReady(true);this.props.setIsValid(true)}},{key:"onSelect",value:function onSelect(option){this.setState({choice:option.value})}},{key:"submit",value:function submit(cb){localStorage.msgList=JSON.stringify({currentMsgView:this.state.choice});_app2.default.emit("ui:set-view-mode",this.state.choice);cb()}},{key:"render",value:function render(){return _react2.default.createElement("div",{className:"text-center"},_react2.default.createElement("h1",null,"Choose your View"),_react2.default.createElement("h2",null,"Which do you prefer?"),_react2.default.createElement(_imageSelector2.default,{options:OPTIONS,value:this.state.choice,onSelect:this.onSelect.bind(this)}),_react2.default.createElement("h3",{style:{color:"gray"}},"You can change this later."))}}]);return ViewMode}(_react2.default.Component);exports.default=ViewMode},{"../../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js","../form-elements/image-selector":"/Users/paulfrazee/patchwork/ui/com/form-elements/image-selector.jsx","../index":"/Users/paulfrazee/patchwork/ui/com/index.jsx",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/ui/com/forms/welcome.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _index=require("../index");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var WelcomePage=function(_React$Component){_inherits(WelcomePage,_React$Component);function WelcomePage(){_classCallCheck(this,WelcomePage);return _possibleConstructorReturn(this,Object.getPrototypeOf(WelcomePage).apply(this,arguments))}_createClass(WelcomePage,[{key:"componentDidMount",value:function componentDidMount(){this.props.setIsReady(true);this.props.setIsValid(true)}},{key:"submit",value:function submit(cb){cb()}},{key:"render",value:function render(){return _react2.default.createElement("div",{className:"text-center vertical-center"},_react2.default.createElement("h1",null,"Welcome to ",(0,_index.rainbow)("Patchwork")),_react2.default.createElement("h3",null,"Let's"," get started."))}}]);return WelcomePage}(_react2.default.Component);exports.default=WelcomePage},{"../index":"/Users/paulfrazee/patchwork/ui/com/index.jsx",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/ui/com/help/cards.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});exports.FindingUsers=exports.Pubs=exports.ContactsTips=exports.Bookmarks=exports.Inbox=exports.Notifications=exports.NewsFeed=undefined;var _react=require("react");var _react2=_interopRequireDefault(_react);var _reactRouter=require("react-router");var _pubInvite=require("../forms/pub-invite");var _pubInvite2=_interopRequireDefault(_pubInvite);var _btn=require("../modals/btn");var _btn2=_interopRequireDefault(_btn);var _app=require("../../lib/app");var _app2=_interopRequireDefault(_app);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var NewsFeed=exports.NewsFeed=function(_React$Component){_inherits(NewsFeed,_React$Component);function NewsFeed(){_classCallCheck(this,NewsFeed);return _possibleConstructorReturn(this,Object.getPrototypeOf(NewsFeed).apply(this,arguments))}_createClass(NewsFeed,[{key:"render",value:function render(){return _react2.default.createElement("div",{className:"card"},_react2.default.createElement("h2",null,_react2.default.createElement("i",{className:"fa fa-newspaper-o"})," Newsfeed"),_react2.default.createElement("p",null,"Public conversations and content in your network."))}}]);return NewsFeed}(_react2.default.Component);var Notifications=exports.Notifications=function(_React$Component2){_inherits(Notifications,_React$Component2);function Notifications(){_classCallCheck(this,Notifications);return _possibleConstructorReturn(this,Object.getPrototypeOf(Notifications).apply(this,arguments))}_createClass(Notifications,[{key:"render",value:function render(){return _react2.default.createElement("div",{className:"card"},_react2.default.createElement("h2",null,_react2.default.createElement("i",{className:"fa fa-rss"})," Updates"),_react2.default.createElement("p",null,"See when people follow you, like your posts, or mention you in a message."))}}]);return Notifications}(_react2.default.Component);var Inbox=exports.Inbox=function(_React$Component3){_inherits(Inbox,_React$Component3);function Inbox(){_classCallCheck(this,Inbox);return _possibleConstructorReturn(this,Object.getPrototypeOf(Inbox).apply(this,arguments))}_createClass(Inbox,[{key:"render",value:function render(){return _react2.default.createElement("div",{className:"card"},_react2.default.createElement("h2",null,_react2.default.createElement("i",{className:"fa fa-inbox"})," Inbox"),_react2.default.createElement("p",null,"Private, encrypted messages between you and your contacts."))}}]);return Inbox}(_react2.default.Component);var Bookmarks=exports.Bookmarks=function(_React$Component4){_inherits(Bookmarks,_React$Component4);function Bookmarks(){_classCallCheck(this,Bookmarks);return _possibleConstructorReturn(this,Object.getPrototypeOf(Bookmarks).apply(this,arguments))}_createClass(Bookmarks,[{key:"render",value:function render(){return _react2.default.createElement("div",{className:"card"},_react2.default.createElement("h2",null,_react2.default.createElement("i",{className:"fa fa-bookmark-o"})," Bookmarked"),_react2.default.createElement("p",null,"Posts you've bookmarked by pressing the ",_react2.default.createElement("i",{className:"fa fa-bookmark-o"})," button. Bookmarks are not shared with the network."))}}]);return Bookmarks}(_react2.default.Component);var ContactsTips=exports.ContactsTips=function(_React$Component5){_inherits(ContactsTips,_React$Component5);function ContactsTips(){_classCallCheck(this,ContactsTips);return _possibleConstructorReturn(this,Object.getPrototypeOf(ContactsTips).apply(this,arguments))}_createClass(ContactsTips,[{key:"render",value:function render(){return _react2.default.createElement("div",{style:{fontWeight:"normal",color:"gray",padding:"0 10px"}},_react2.default.createElement("p",null,_react2.default.createElement("small",null,"Can't find somebody? Try joining their pub, or getting on the same WiFi as them.")),_react2.default.createElement("p",null,_react2.default.createElement("small",null,"If you have a friend's ID, put it in the search box above.")))}}]);return ContactsTips}(_react2.default.Component);var Pubs=exports.Pubs=function(_React$Component6){_inherits(Pubs,_React$Component6);function Pubs(){_classCallCheck(this,Pubs);return _possibleConstructorReturn(this,Object.getPrototypeOf(Pubs).apply(this,arguments))}_createClass(Pubs,[{key:"render",value:function render(){if(!_app2.default.isWifiMode)return _react2.default.createElement("span",null);return _react2.default.createElement("div",{className:"card"},_react2.default.createElement("h2",null,"You're in WiFi mode."),_react2.default.createElement("p",null,"To reach the global network, you need to be followed by a Public Peer."),_react2.default.createElement("div",{className:"card-well"},_react2.default.createElement(_btn2.default,{className:"btn fullheight",Form:_pubInvite2.default,nextLabel:"Submit"},_react2.default.createElement("i",{className:"fa fa-cloud"})," Add Public Peer")))}}]);return Pubs}(_react2.default.Component);var FindingUsers=exports.FindingUsers=function(_React$Component7){_inherits(FindingUsers,_React$Component7);function FindingUsers(){_classCallCheck(this,FindingUsers);return _possibleConstructorReturn(this,Object.getPrototypeOf(FindingUsers).apply(this,arguments))}_createClass(FindingUsers,[{key:"render",value:function render(){return _react2.default.createElement("div",{className:"card"},_react2.default.createElement("h2",null,"Looking for Someone?"),_react2.default.createElement("p",null,"Find other users in the ",_react2.default.createElement(_reactRouter.Link,{to:"/profile"},"Contacts")," view."))}}]);return FindingUsers}(_react2.default.Component)},{"../../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js","../forms/pub-invite":"/Users/paulfrazee/patchwork/ui/com/forms/pub-invite.jsx","../modals/btn":"/Users/paulfrazee/patchwork/ui/com/modals/btn.jsx",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","react-router":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/index.js"}],"/Users/paulfrazee/patchwork/ui/com/help/forms.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});exports.InviteErrorHelp=exports.InviteErrorExplanation=undefined;var _react=require("react");var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var InviteErrorExplanation=exports.InviteErrorExplanation=function(_React$Component){_inherits(InviteErrorExplanation,_React$Component);function InviteErrorExplanation(){_classCallCheck(this,InviteErrorExplanation);return _possibleConstructorReturn(this,Object.getPrototypeOf(InviteErrorExplanation).apply(this,arguments))}_createClass(InviteErrorExplanation,[{key:"render",value:function render(){if(!this.props.error)return _react2.default.createElement("span",null);console.log(this.props.error);var msg=this.props.error.message.toLowerCase();if(~msg.indexOf("invite code not provided"))return _react2.default.createElement("div",{className:"error"},"The invite code is required.");if(~msg.indexOf("invite not accepted"))return _react2.default.createElement("div",{className:"error"},"The invite code was not accepted.");if(~msg.indexOf("incorrect or expired")||~msg.indexOf("has expired"))return _react2.default.createElement("div",{className:"error"},"The invite code is mis-issued or expired.");if(~msg.indexOf("invalid")||~msg.indexOf("feed to follow is missing")||~msg.indexOf("may not be used to follow another key"))return _react2.default.createElement("div",{className:"error"},"Something is wrong with the invite code.");if(~msg.indexOf("pub server did not have correct public key"))return _react2.default.createElement("div",{className:"error"},"Connection failure.");if(~msg.indexOf("unexpected end of parent stream"))return _react2.default.createElement("div",{className:"error"},"Failed to connect to the pub server.");if(~msg.indexOf("ENOTFOUND"))return _react2.default.createElement("div",{className:"error"},"The pub server could not be found.");if(~msg.indexOf("already following"))return _react2.default.createElement("div",{className:"error"},"You are already followed by this pub server.");return _react2.default.createElement("div",{className:"error"},"Sorry, an unexpected error occurred: ",msg)}}]);return InviteErrorExplanation}(_react2.default.Component);var InviteErrorHelp=exports.InviteErrorHelp=function(_React$Component2){_inherits(InviteErrorHelp,_React$Component2);function InviteErrorHelp(){_classCallCheck(this,InviteErrorHelp);return _possibleConstructorReturn(this,Object.getPrototypeOf(InviteErrorHelp).apply(this,arguments))}_createClass(InviteErrorHelp,[{key:"render",value:function render(){if(!this.props.error)return _react2.default.createElement("span",null);var err=this.props.error;var msg=err.message.toLowerCase();var helpText=false;if(~msg.indexOf("invite not accepted"))helpText="The invite code was not accepted. It may have been used already. Ask the pub-operator for a new code and try again.";if(~msg.indexOf("incorrect or expired")||~msg.indexOf("has expired"))helpText="The invite code is incorrect or expired. Make sure you copy/pasted it correctly. If you did, ask the pub-operator for a new code and try again.";if(~msg.indexOf("invalid")||~msg.indexOf("feed to follow is missing")||~msg.indexOf("may not be used to follow another key"))helpText="The invite code is malformed. Make sure you copy/pasted it correctly. If you did, ask the pub-server owner for a new code and try again.";if(~msg.indexOf("pub server did not have correct public key"))helpText="The pub server did not identify itself correctly for the invite code. Ask the pub-operator for a new code and try again.";if(~msg.indexOf("could not connect to server")||~msg.indexOf("unexpected end of parent stream"))helpText="Failed to connect to the pub server. Check your connection, make sure the pub server is online, and try again.";if(~msg.indexOf("ENOTFOUND"))helpText="Check your connection, make sure the pub server is online, and try again. If this issue persists, check with the pub operator.";if(!helpText)return _react2.default.createElement("span",null);return _react2.default.createElement("div",{className:"help-text"},helpText)}}]);return InviteErrorHelp}(_react2.default.Component)},{react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/ui/com/index.jsx":[function(require,module,exports){"use strict";"use babel";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});exports.VerticalFilledContainer=exports.AutoRefreshingComponent=exports.LocalStoragePersistedComponent=exports.NiceDate=exports.UserBtn=exports.UserPics=exports.UserPic=exports.UserLinks=exports.BlobLink=exports.MsgLink=exports.UserLink=undefined;exports.rainbow=rainbow;exports.verticalFilled=verticalFilled;var _react=require("react");var _react2=_interopRequireDefault(_react);var _reactDom=require("react-dom");var _reactDom2=_interopRequireDefault(_reactDom);var _reactRouter=require("react-router");var _reactModal=require("react-modal");var _reactModal2=_interopRequireDefault(_reactModal);var _xtend=require("xtend");var _xtend2=_interopRequireDefault(_xtend);var _app=require("../lib/app");var _app2=_interopRequireDefault(_app);var _socialGraph=require("../lib/social-graph");var _socialGraph2=_interopRequireDefault(_socialGraph);var _util=require("../lib/util");var _util2=_interopRequireDefault(_util);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var UserLink=exports.UserLink=function(_React$Component){_inherits(UserLink,_React$Component);function UserLink(){_classCallCheck(this,UserLink);return _possibleConstructorReturn(this,Object.getPrototypeOf(UserLink).apply(this,arguments))}_createClass(UserLink,[{key:"render",value:function render(){var name=_app2.default.users.names[this.props.id]||_util2.default.shortString(this.props.id,6);var label=this.props.shorten?name.slice(0,3):name;return _react2.default.createElement(_reactRouter.Link,{to:"/profile/"+encodeURIComponent(this.props.id),className:"user-link",title:name},label)}}]);return UserLink}(_react2.default.Component);var MsgLink=exports.MsgLink=function(_React$Component2){_inherits(MsgLink,_React$Component2);function MsgLink(){_classCallCheck(this,MsgLink);return _possibleConstructorReturn(this,Object.getPrototypeOf(MsgLink).apply(this,arguments))}_createClass(MsgLink,[{key:"render",value:function render(){return _react2.default.createElement(_reactRouter.Link,{to:"/msg/"+encodeURIComponent(this.props.id)},this.props.name||this.props.id)}}]);return MsgLink}(_react2.default.Component);var BlobLink=exports.BlobLink=function(_React$Component3){_inherits(BlobLink,_React$Component3);function BlobLink(){_classCallCheck(this,BlobLink);return _possibleConstructorReturn(this,Object.getPrototypeOf(BlobLink).apply(this,arguments))}_createClass(BlobLink,[{key:"render",value:function render(){return _react2.default.createElement("a",{href:"/"+encodeURIComponent(this.props.id)},this.props.name||this.props.id)}}]);return BlobLink}(_react2.default.Component);var UserLinks=exports.UserLinks=function(_React$Component4){_inherits(UserLinks,_React$Component4);function UserLinks(){_classCallCheck(this,UserLinks);return _possibleConstructorReturn(this,Object.getPrototypeOf(UserLinks).apply(this,arguments))}_createClass(UserLinks,[{key:"render",value:function render(){var _this5=this;var n=this.props.ids.length;return _react2.default.createElement("span",null,this.props.ids.map(function(id,i){var isLast=i===n-1;return _react2.default.createElement("span",{key:id},_react2.default.createElement(UserLink,{id:id,shorten:_this5.props.shorten}),isLast?"":", ")}))}}]);return UserLinks}(_react2.default.Component);var UserPic=exports.UserPic=function(_React$Component5){_inherits(UserPic,_React$Component5);function UserPic(){_classCallCheck(this,UserPic);return _possibleConstructorReturn(this,Object.getPrototypeOf(UserPic).apply(this,arguments))}_createClass(UserPic,[{key:"render",value:function render(){var name=_app2.default.users.names[this.props.id]||_util2.default.shortString(this.props.id,6);return _react2.default.createElement(_reactRouter.Link,{to:"/profile/"+encodeURIComponent(this.props.id),className:"user-pic",title:name},_react2.default.createElement("img",{src:_util2.default.profilePicUrl(this.props.id)}))}}]);return UserPic}(_react2.default.Component);var UserPics=exports.UserPics=function(_React$Component6){_inherits(UserPics,_React$Component6);function UserPics(){_classCallCheck(this,UserPics);return _possibleConstructorReturn(this,Object.getPrototypeOf(UserPics).apply(this,arguments))}_createClass(UserPics,[{key:"render",value:function render(){var ids=this.props.ids;ids.sort();return _react2.default.createElement("span",null,ids.map(function(id,i){return _react2.default.createElement(UserPic,{id:id,key:"pic-"+i})}))}}]);return UserPics}(_react2.default.Component);var UserBtn=exports.UserBtn=function(_React$Component7){_inherits(UserBtn,_React$Component7);function UserBtn(){_classCallCheck(this,UserBtn);return _possibleConstructorReturn(this,Object.getPrototypeOf(UserBtn).apply(this,arguments))}_createClass(UserBtn,[{key:"render",value:function render(){var name=_app2.default.users.names[this.props.id]||_util2.default.shortString(this.props.id,6);var followedIcon=_app2.default.user.id===this.props.id||_socialGraph2.default.follows(_app2.default.user.id,this.props.id)?_react2.default.createElement("i",{className:"fa fa-check-circle"}):_react2.default.createElement("i",{className:"fa fa-circle-thin"});return _react2.default.createElement(_reactRouter.Link,{to:"/profile/"+encodeURIComponent(this.props.id),className:"user-btn",title:name},_react2.default.createElement("img",{src:_util2.default.profilePicUrl(this.props.id)})," ",name," ",followedIcon)}}]);return UserBtn}(_react2.default.Component);var NiceDate=exports.NiceDate=function(_React$Component8){_inherits(NiceDate,_React$Component8);function NiceDate(){_classCallCheck(this,NiceDate);return _possibleConstructorReturn(this,Object.getPrototypeOf(NiceDate).apply(this,arguments))}_createClass(NiceDate,[{key:"render",value:function render(){return _react2.default.createElement("span",null,_util2.default.niceDate(this.props.ts,this.props.ago))}}]);return NiceDate}(_react2.default.Component);var LocalStoragePersistedComponent=exports.LocalStoragePersistedComponent=function(_React$Component9){_inherits(LocalStoragePersistedComponent,_React$Component9);function LocalStoragePersistedComponent(props,storageId,defaultState){_classCallCheck(this,LocalStoragePersistedComponent);var _this10=_possibleConstructorReturn(this,Object.getPrototypeOf(LocalStoragePersistedComponent).call(this,props));_this10.storageId=storageId;try{_this10.state=JSON.parse(localStorage[_this10.storageId])}catch(e){_this10.state={}}_this10.persistKeys=Object.keys(defaultState);for(var k in defaultState){if(!(k in _this10.state))_this10.state[k]=defaultState[k]}return _this10}_createClass(LocalStoragePersistedComponent,[{key:"setState",value:function setState(obj,cb){var _this11=this;_get(Object.getPrototypeOf(LocalStoragePersistedComponent.prototype),"setState",this).call(this,obj,function(prevState,currentProps){var saveState={};_this11.persistKeys.forEach(function(k){return saveState[k]=_this11.state[k]});localStorage[_this11.storageId]=JSON.stringify(saveState);cb&&cb(prevState,currentProps)})}}]);return LocalStoragePersistedComponent}(_react2.default.Component);var AutoRefreshingComponent=exports.AutoRefreshingComponent=function(_React$Component10){_inherits(AutoRefreshingComponent,_React$Component10);function AutoRefreshingComponent(props){_classCallCheck(this,AutoRefreshingComponent);var _this12=_possibleConstructorReturn(this,Object.getPrototypeOf(AutoRefreshingComponent).call(this,props));_this12.state=_this12.computeState(props);_this12.refreshState=function(){_this12.setState(_this12.computeState(_this12.props))};return _this12}_createClass(AutoRefreshingComponent,[{key:"componentDidMount",value:function componentDidMount(){_app2.default.on("update:all",this.refreshState)}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(newProps){this.refreshState(newProps)}},{key:"componentWillUnmount",value:function componentWillUnmount(){_app2.default.removeListener("update:all",this.refreshState)}},{key:"computeState",value:function computeState(props){}}]);return AutoRefreshingComponent}(_react2.default.Component);function rainbow(str){return _react2.default.createElement("span",{className:"rainbow"},str.split("").map(function(c,i){return _react2.default.createElement("span",{key:i},c)}))}function verticalFilled(Component){var VerticalFilledCom=_react2.default.createClass({displayName:"VerticalFilledCom",getInitialState:function getInitialState(){return{height:window.innerHeight}},componentDidMount:function componentDidMount(){this.calcHeight();this.historyScrollTo();this.resizeListener=this.calcHeight;window.addEventListener("resize",this.resizeListener)},componentWillUnmount:function componentWillUnmount(){window.removeEventListener("resize",this.resizeListener)},calcHeight:function calcHeight(){var height=window.innerHeight;if(this.refs&&this.refs.el){var rect=_reactDom2.default.findDOMNode(this.refs.el).getClientRects()[0];if(!rect)return;height=window.innerHeight-rect.top}this.setState({height:height})},scrollTo:function scrollTo(top){var el=this.refs&&this.refs.el;if(!el)return;if(el.scrollTo)return el.scrollTo(top);var n=0;var el2=_reactDom2.default.findDOMNode(this.refs.el);function doit(){el2.scrollTop=top;if(el2.scrollTop!=top&&++n<100)setTimeout(doit,10)}doit()},historyScrollTo:function historyScrollTo(){if(!this.props.id)return;if(!history.state)return;var vfScrollTops=history.state.vfScrollTops;if(!vfScrollTops||!vfScrollTops[this.props.id])return;this.scrollTo(vfScrollTops[this.props.id])},render:function render(){return _react2.default.createElement(Component,_extends({ref:"el"},this.props,this.state))}});return VerticalFilledCom}var _VerticalFilledContainer=function(_React$Component11){_inherits(_VerticalFilledContainer,_React$Component11);function _VerticalFilledContainer(){_classCallCheck(this,_VerticalFilledContainer);return _possibleConstructorReturn(this,Object.getPrototypeOf(_VerticalFilledContainer).apply(this,arguments))}_createClass(_VerticalFilledContainer,[{key:"render",value:function render(){return _react2.default.createElement("div",_extends({className:"vertical-filled"},this.props,{style:{height:this.props.height,overflow:"auto"}}),this.props.children||"")}}]);return _VerticalFilledContainer}(_react2.default.Component);var VerticalFilledContainer=exports.VerticalFilledContainer=verticalFilled(_VerticalFilledContainer)},{"../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js","../lib/social-graph":"/Users/paulfrazee/patchwork/ui/lib/social-graph.js","../lib/util":"/Users/paulfrazee/patchwork/ui/lib/util.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","react-dom":"/Users/paulfrazee/patchwork/node_modules/react-dom/index.js","react-modal":"/Users/paulfrazee/patchwork/node_modules/react-modal/lib/index.js","react-router":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/index.js",xtend:"/Users/paulfrazee/patchwork/node_modules/xtend/immutable.js"}],"/Users/paulfrazee/patchwork/ui/com/issues.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);
if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _reactModal=require("react-modal");var _reactModal2=_interopRequireDefault(_reactModal);var _app=require("../lib/app");var _app2=_interopRequireDefault(_app);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Issue=function(_React$Component){_inherits(Issue,_React$Component);function Issue(){_classCallCheck(this,Issue);return _possibleConstructorReturn(this,Object.getPrototypeOf(Issue).apply(this,arguments))}_createClass(Issue,[{key:"render",value:function render(){var _this2=this;var issue=this.props.issue;return _react2.default.createElement("div",{className:"issue"+(issue.isRead?" dismissed":"")},_react2.default.createElement("h1",null,issue.title," ",_react2.default.createElement("small",null,issue.isRead?"dismissed":"")),_react2.default.createElement("div",null,issue.message),issue.stack?_react2.default.createElement("pre",null,_react2.default.createElement("code",null,issue.stack)):"",_react2.default.createElement("div",{className:"toolbar flex"},issue.isRead?"":_react2.default.createElement("a",{className:"btn",onClick:function onClick(){return _this2.props.onDismiss(issue)}},_react2.default.createElement("i",{className:"fa fa-times"})," Dismiss"),_react2.default.createElement("div",{className:"flex-fill"}),_react2.default.createElement("a",{className:"btn",href:issue.issueUrl,target:"_blank"},_react2.default.createElement("i",{className:"fa fa-exclamation-circle"})," File an Issue")))}}]);return Issue}(_react2.default.Component);var Issues=function(_React$Component2){_inherits(Issues,_React$Component2);function Issues(props){_classCallCheck(this,Issues);var _this3=_possibleConstructorReturn(this,Object.getPrototypeOf(Issues).call(this,props));_this3.state={isOpen:false,issues:[],numIssues:0,numUnread:0};_this3.updateState=function(){_this3.setState({issues:_app2.default.issues,numIssues:_app2.default.issues.length,numUnread:_app2.default.issues.filter(function(i){return!i.isRead}).length,isOpen:_app2.default.issues.filter(function(i){return!i.isRead&&i.isUrgent}).length>0})};return _this3}_createClass(Issues,[{key:"componentDidMount",value:function componentDidMount(){_app2.default.on("update:issues",this.updateState)}},{key:"componentWillUnmount",value:function componentWillUnmount(){_app2.default.removeListener("update:issues",this.updateState)}},{key:"onDismiss",value:function onDismiss(issue){issue.isRead=true;this.updateState()}},{key:"render",value:function render(){var _this4=this;var selected=this.props.to===this.props.location;var modalStyle={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)",zIndex:1e3},content:{position:"absolute",top:"40px",bottom:"auto",left:"50%",right:"auto",maxHeight:"90%",transform:"translateX(-50%)",boxShadow:"0px 24px 48px rgba(0, 0, 0, 0.2)",borderRadius:"0",border:"0",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",outline:"none",padding:"0"}};var open=function open(){return _this4.setState({isOpen:true})};var close=function close(){return _this4.setState({isOpen:false})};if(!this.state.numIssues)return _react2.default.createElement("span",null);return _react2.default.createElement("div",{className:"leftnav-link"},_react2.default.createElement("a",{className:"ctrl",onClick:open},_react2.default.createElement("i",{className:"fa fa-exclamation-triangle"})," Issues (",this.state.numUnread,")"),_react2.default.createElement(_reactModal2.default,{isOpen:this.state.isOpen,onRequestClose:close,style:modalStyle},this.state.issues.map(function(issue,i){return _react2.default.createElement(Issue,{key:"issue"+i,issue:issue,onDismiss:_this4.onDismiss.bind(_this4)})})))}}]);return Issues}(_react2.default.Component);exports.default=Issues},{"../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","react-modal":"/Users/paulfrazee/patchwork/node_modules/react-modal/lib/index.js"}],"/Users/paulfrazee/patchwork/ui/com/leftnav.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _reactRouter=require("react-router");var _channelList=require("./channel-list");var _issues=require("./issues");var _issues2=_interopRequireDefault(_issues);var _app=require("../lib/app");var _app2=_interopRequireDefault(_app);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var LeftNav=function(_React$Component){_inherits(LeftNav,_React$Component);function LeftNav(props){_classCallCheck(this,LeftNav);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(LeftNav).call(this,props));_this.state={indexCounts:_app2.default.indexCounts,channels:_app2.default.channels||[],isChannelListOpen:false};_this.refresh=function(){_this.setState({channels:_app2.default.channels,indexCounts:_app2.default.indexCounts})};_app2.default.on("update:channels",_this.refresh);_app2.default.on("update:indexCounts",_this.refresh);_this.maybeCloseChannels=function(e){if(!_this.state.isChannelListOpen)return;for(var el=e.target;el;el=el.parentNode){if(el.classList&&el.classList.contains("channel-list"))return}_this.setState({isChannelListOpen:false})};document.addEventListener("click",_this.maybeCloseChannels);return _this}_createClass(LeftNav,[{key:"componentWillUnmount",value:function componentWillUnmount(){_app2.default.removeListener("update:channels",this.refresh);_app2.default.removeListener("update:indexCounts",this.refresh);document.removeEventListener("click",this.maybeCloseChannels)}},{key:"onOpenChannelList",value:function onOpenChannelList(e){this.setState({isChannelListOpen:true});e.nativeEvent.stopImmediatePropagation()}},{key:"onSelectChannel",value:function onSelectChannel(channel){this.setState({isChannelListOpen:false});_app2.default.history.pushState(null,"/newsfeed/channel/"+encodeURIComponent(channel.name))}},{key:"render",value:function render(){var pathname=this.props.location&&this.props.location.pathname;var isPinned=function isPinned(b){return function(channel){return!!channel.pinned==b}};var pinnedChannels=this.state.channels.filter(isPinned(true));var renderChannel=function renderChannel(c){return _react2.default.createElement(LeftNav.Link,{pathname:pathname,key:c.name,to:"/newsfeed/channel/"+c.name},_react2.default.createElement("i",{className:"fa fa-hashtag"})," ",c.name)};return _react2.default.createElement("div",{className:"leftnav"},_react2.default.createElement(LeftNav.Link,{pathname:pathname,to:"/"},_react2.default.createElement("i",{className:"fa fa-bullhorn"})," Public"),_react2.default.createElement(LeftNav.Link,{pathname:pathname,to:"/inbox"},_react2.default.createElement("i",{className:"fa fa-inbox"})," Private (",this.state.indexCounts.inboxUnread,")"),_react2.default.createElement(LeftNav.Link,{pathname:pathname,to:"/bookmarks"},_react2.default.createElement("i",{className:"fa fa-bookmark"})," Bookmarked (",this.state.indexCounts.bookmarksUnread,")"),_react2.default.createElement(LeftNav.Link,{pathname:pathname,to:"/contacts"},_react2.default.createElement("i",{className:"fa fa-users"})," Contacts"),_react2.default.createElement(_issues2.default,null),this.props.children?_react2.default.createElement(LeftNav.Heading,null,this.props.title||"This Page"):"",this.props.children,_react2.default.createElement(LeftNav.Heading,null,"Channels"),pinnedChannels.map(renderChannel),_react2.default.createElement("div",{className:"leftnav-link"},_react2.default.createElement("a",{onClick:this.onOpenChannelList.bind(this)},"Find more..."),this.state.isChannelListOpen?_react2.default.createElement("i",{className:"fa fa-caret-left",style:{color:"gray"}}):""),this.state.isChannelListOpen?_react2.default.createElement(_channelList.ChannelList,{channels:this.state.channels,onSelect:this.onSelectChannel.bind(this)}):"")}}],[{key:"Heading",value:function Heading(props){return _react2.default.createElement("div",{className:"leftnav-heading"},props.children)}},{key:"Link",value:function Link(props){return _react2.default.createElement("div",{className:"leftnav-link "+(props.className||"")+(props.pathname===props.to?" selected":"")},_react2.default.createElement(_reactRouter.Link,{to:props.to},props.children))}}]);return LeftNav}(_react2.default.Component);exports.default=LeftNav},{"../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js","./channel-list":"/Users/paulfrazee/patchwork/ui/com/channel-list.jsx","./issues":"/Users/paulfrazee/patchwork/ui/com/issues.jsx",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","react-router":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/index.js"}],"/Users/paulfrazee/patchwork/ui/com/markdown.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});exports.Inline=exports.Block=undefined;var _react=require("react");var _react2=_interopRequireDefault(_react);var _ssbMarkdown=require("ssb-markdown");var _ssbMarkdown2=_interopRequireDefault(_ssbMarkdown);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Block=exports.Block=function(_React$Component){_inherits(Block,_React$Component);function Block(){_classCallCheck(this,Block);return _possibleConstructorReturn(this,Object.getPrototypeOf(Block).apply(this,arguments))}_createClass(Block,[{key:"render",value:function render(){return _react2.default.createElement("div",{className:"markdown markdown-block",dangerouslySetInnerHTML:{__html:_ssbMarkdown2.default.block(this.props.md,this.props.msg)}})}}]);return Block}(_react2.default.Component);var Inline=exports.Inline=function(_React$Component2){_inherits(Inline,_React$Component2);function Inline(){_classCallCheck(this,Inline);return _possibleConstructorReturn(this,Object.getPrototypeOf(Inline).apply(this,arguments))}_createClass(Inline,[{key:"render",value:function render(){return _react2.default.createElement("span",{className:"markdown markdown-inline",dangerouslySetInnerHTML:{__html:_ssbMarkdown2.default.inline(this.props.md)}})}}]);return Inline}(_react2.default.Component)},{react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","ssb-markdown":"/Users/paulfrazee/patchwork/node_modules/ssb-markdown/index.js"}],"/Users/paulfrazee/patchwork/ui/com/mdl-spinner.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var MDLSpinnerLayer=function(_React$Component){_inherits(MDLSpinnerLayer,_React$Component);function MDLSpinnerLayer(){_classCallCheck(this,MDLSpinnerLayer);return _possibleConstructorReturn(this,Object.getPrototypeOf(MDLSpinnerLayer).apply(this,arguments))}_createClass(MDLSpinnerLayer,[{key:"render",value:function render(){return _react2.default.createElement("div",{className:"mdl-spinner__layer mdl-spinner__layer-"+this.props.n},_react2.default.createElement("div",{className:"mdl-spinner__circle-clipper mdl-spinner__left"},_react2.default.createElement("div",{className:"mdl-spinner__circle"})),_react2.default.createElement("div",{className:"mdl-spinner__gap-patch"},_react2.default.createElement("div",{className:"mdl-spinner__circle"})),_react2.default.createElement("div",{className:"mdl-spinner__circle-clipper mdl-spinner__right"},_react2.default.createElement("div",{className:"mdl-spinner__circle"})))}}]);return MDLSpinnerLayer}(_react2.default.Component);var MDLSpinner=function(_React$Component2){_inherits(MDLSpinner,_React$Component2);function MDLSpinner(){_classCallCheck(this,MDLSpinner);return _possibleConstructorReturn(this,Object.getPrototypeOf(MDLSpinner).apply(this,arguments))}_createClass(MDLSpinner,[{key:"render",value:function render(){return _react2.default.createElement("div",{className:"mdl-spinner mdl-js-spinner is-active is-upgraded"},_react2.default.createElement(MDLSpinnerLayer,{n:"1"}),_react2.default.createElement(MDLSpinnerLayer,{n:"2"}),_react2.default.createElement(MDLSpinnerLayer,{n:"3"}),_react2.default.createElement(MDLSpinnerLayer,{n:"4"}))}}]);return MDLSpinner}(_react2.default.Component);exports.default=MDLSpinner},{react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/ui/com/modals/btn.jsx":[function(require,module,exports){"use strict";"use babel";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _single=require("./single");var _single2=_interopRequireDefault(_single);var _app=require("../../lib/app");var _app2=_interopRequireDefault(_app);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ModalBtn=function(_React$Component){_inherits(ModalBtn,_React$Component);function ModalBtn(props){_classCallCheck(this,ModalBtn);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(ModalBtn).call(this,props));_this.state={isOpen:false};_this.on={open:function open(){_this.setState({isOpen:true})},close:function close(){_this.setState({isOpen:false})}};return _this}_createClass(ModalBtn,[{key:"render",value:function render(){return _react2.default.createElement("span",null,_react2.default.createElement("a",{onClick:this.on.open,className:this.props.className},this.props.children),_react2.default.createElement(_single2.default,_extends({},this.props,{isOpen:this.state.isOpen,onClose:this.on.close})))}}]);return ModalBtn}(_react2.default.Component);exports.default=ModalBtn},{"../../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js","./single":"/Users/paulfrazee/patchwork/ui/com/modals/single.jsx",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/ui/com/modals/flow.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _steppedProgressBar=require("../stepped-progress-bar");var _steppedProgressBar2=_interopRequireDefault(_steppedProgressBar);var _app=require("../../lib/app");var _app2=_interopRequireDefault(_app);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ModalFlow=function(_React$Component){_inherits(ModalFlow,_React$Component);function ModalFlow(props){_classCallCheck(this,ModalFlow);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(ModalFlow).call(this,props));_this.state={step:false,isReady:true,isValid:false,helpText:false};return _this}_createClass(ModalFlow,[{key:"componentDidMount",value:function componentDidMount(){this.gotoStep(0)}},{key:"gotoStep",value:function gotoStep(step,cb){this.setState({step:step,helpText:false,isReady:true,isValid:false},cb)}},{key:"gotoNextStep",value:function gotoNextStep(){var _this2=this;this.gotoStep(this.state.step+1,function(){if(!_this2.getStepCom())_this2.props.onClose&&_this2.props.onClose()})}},{key:"getStepCom",value:function getStepCom(){if(this.state.step===false)return false;return this.props.Forms[this.state.step]}},{key:"onNextClick",value:function onNextClick(){var _this3=this;var step=this.refs.step;var next=step&&step.submit.bind(step)||this.gotoNextStep.bind(this);next(function(err){if(err)_app2.default.issue("There was an error",err);else _this3.gotoNextStep()})}},{key:"render",value:function render(){var _this4=this;var StepCom=this.getStepCom();if(!this.props.isOpen||!StepCom)return _react2.default.createElement("span",null);var nextText=this.state.step>=this.props.Forms.length-1?"Finish":"Next";var nextCls=["btn"];if(!this.state.isValid)nextCls.push("disabled");else if(this.state.isReady)nextCls.push("highlighted");var setHelpText=function setHelpText(helpText){_this4.setState({helpText:helpText})};var setIsValid=function setIsValid(isValid){_this4.setState({isValid:isValid})};var setIsReady=function setIsReady(isReady){_this4.setState({isReady:isReady})};return _react2.default.createElement("div",{className:"modal modal-flow "+(this.props.className||"")},_react2.default.createElement("div",{className:"modal-inner"},_react2.default.createElement("div",{className:"modal-content"},_react2.default.createElement(StepCom,{ref:"step",setIsReady:setIsReady,setIsValid:setIsValid,setHelpText:setHelpText,gotoNextStep:this.gotoNextStep.bind(this)})),this.state.helpText?_react2.default.createElement("div",{className:"modal-helptext"},this.state.helpText):"",_react2.default.createElement("div",{className:"modal-ctrls"},_react2.default.createElement(_steppedProgressBar2.default,{current:this.state.step,labels:this.props.labels,num:this.props.labels?this.props.labels.length:this.props.Forms.length}),_react2.default.createElement("div",{className:"next"},_react2.default.createElement("button",{disabled:!this.state.isValid,className:nextCls.join(" "),onClick:this.onNextClick.bind(this)},nextText," ",_react2.default.createElement("i",{className:"fa fa-angle-right"}))))))}}]);return ModalFlow}(_react2.default.Component);exports.default=ModalFlow},{"../../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js","../stepped-progress-bar":"/Users/paulfrazee/patchwork/ui/com/stepped-progress-bar.jsx",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/ui/com/modals/popup.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ModalPopup=function(_React$Component){_inherits(ModalPopup,_React$Component);function ModalPopup(){_classCallCheck(this,ModalPopup);return _possibleConstructorReturn(this,Object.getPrototypeOf(ModalPopup).apply(this,arguments))}_createClass(ModalPopup,[{key:"render",value:function render(){var closeLabel=this.props.closeLabel||"Close";var cancelLabel=this.props.cancelLabel||"Cancel";var Content=this.props.Content;if(!this.props.isOpen||!Content)return _react2.default.createElement("span",null);return _react2.default.createElement("div",{className:"modal modal-single "+(this.props.className||"")},_react2.default.createElement("div",{className:"modal-inner"},_react2.default.createElement("div",{className:"modal-content"},_react2.default.createElement(Content,this.props.contentProps)),this.props.helpText?_react2.default.createElement("div",{className:"modal-helptext"},this.props.helpText):"",_react2.default.createElement("div",{className:"modal-ctrls"},_react2.default.createElement("div",{className:"cancel"}),_react2.default.createElement("div",{className:"next"},_react2.default.createElement("button",{className:"btn highlighted",onClick:this.props.onClose},closeLabel)))))}}]);return ModalPopup}(_react2.default.Component);exports.default=ModalPopup},{react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/ui/com/modals/single.jsx":[function(require,module,exports){"use strict";"use babel";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ModalSingle=function(_React$Component){_inherits(ModalSingle,_React$Component);function ModalSingle(props){_classCallCheck(this,ModalSingle);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(ModalSingle).call(this,props));_this.com=null;_this.state={isReady:true,isValid:false,helpText:false};return _this}_createClass(ModalSingle,[{key:"onCancelClick",value:function onCancelClick(){this.props.onClose&&this.props.onClose(false,false)}},{key:"onNextClick",value:function onNextClick(){var _this2=this;if(!this.state.isValid)return;this.refs.form.submit(function(err){if(err)_this2.issue("An Error Occurred",err);_this2.props.onClose&&_this2.props.onClose(err,true)})}},{key:"render",value:function render(){var _this3=this;var nextLabel=this.props.nextLabel||"Finish";var cancelLabel=this.props.cancelLabel||"Cancel";var Form=this.props.Form;if(!this.props.isOpen||!Form)return _react2.default.createElement("span",null);var nextCls=["btn"];if(!this.state.isValid)nextCls.push("disabled");else if(this.state.isReady)nextCls.push("highlighted");var setHelpText=function setHelpText(helpText){_this3.setState({helpText:helpText})};var setIsValid=function setIsValid(isValid){_this3.setState({isValid:isValid})};var setIsReady=function setIsReady(isReady){_this3.setState({isReady:isReady})};return _react2.default.createElement("div",{className:"modal modal-single "+(this.props.className||"")},_react2.default.createElement("div",{className:"modal-inner"},_react2.default.createElement("div",{className:"modal-content"},_react2.default.createElement(Form,_extends({ref:"form",setIsReady:setIsReady,setIsValid:setIsValid,setHelpText:setHelpText},this.props.formProps))),this.state.helpText?_react2.default.createElement("div",{className:"modal-helptext"},this.state.helpText):"",_react2.default.createElement("div",{className:"modal-ctrls"},_react2.default.createElement("div",{className:"cancel"},_react2.default.createElement("button",{
className:"btn",onClick:this.onCancelClick.bind(this)},_react2.default.createElement("i",{className:"fa fa-remove"})," ",cancelLabel)),_react2.default.createElement("div",{className:"next"},_react2.default.createElement("button",{disabled:!this.state.isValid,className:nextCls.join(" "),onClick:this.onNextClick.bind(this)},nextLabel," ",_react2.default.createElement("i",{className:"fa fa-angle-right"}))))))}}]);return ModalSingle}(_react2.default.Component);exports.default=ModalSingle},{react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/ui/com/msg-content.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});exports.Inline=exports.Block=undefined;var _react=require("react");var _react2=_interopRequireDefault(_react);var _ssbMsgs=require("ssb-msgs");var _ssbMsgs2=_interopRequireDefault(_ssbMsgs);var _ssbMsgSchemas=require("ssb-msg-schemas");var _ssbMsgSchemas2=_interopRequireDefault(_ssbMsgSchemas);var _ssbRef=require("ssb-ref");var _ssbRef2=_interopRequireDefault(_ssbRef);var _index=require("./index");var _markdown=require("./markdown");var _prettyRaw=require("./pretty-raw");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Block=exports.Block=function(_React$Component){_inherits(Block,_React$Component);function Block(){_classCallCheck(this,Block);return _possibleConstructorReturn(this,Object.getPrototypeOf(Block).apply(this,arguments))}_createClass(Block,[{key:"render",value:function render(){var c=this.props.msg.value.content;if(this.props.forceRaw)return _react2.default.createElement(_prettyRaw.Table,{key:this.props.msg.key,obj:c});try{switch(c.type){case"post":if(c.text)return _react2.default.createElement(_markdown.Block,{md:c.text,msg:this.props.msg})}}catch(e){console.warn(e)}return _react2.default.createElement(_prettyRaw.Table,{key:this.props.msg.key,obj:c})}}]);return Block}(_react2.default.Component);var Inline=exports.Inline=function(_React$Component2){_inherits(Inline,_React$Component2);function Inline(){_classCallCheck(this,Inline);return _possibleConstructorReturn(this,Object.getPrototypeOf(Inline).apply(this,arguments))}_createClass(Inline,[{key:"render",value:function render(){var c=this.props.msg.value.content;if(this.props.forceRaw)return _react2.default.createElement("div",null,JSON.stringify(c));try{switch(c.type){case"post":if(c.text)return _react2.default.createElement(_markdown.Inline,{md:c.text});break}}catch(e){console.warn(e)}return _react2.default.createElement("div",null,JSON.stringify(c))}}]);return Inline}(_react2.default.Component)},{"./index":"/Users/paulfrazee/patchwork/ui/com/index.jsx","./markdown":"/Users/paulfrazee/patchwork/ui/com/markdown.jsx","./pretty-raw":"/Users/paulfrazee/patchwork/ui/com/pretty-raw.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","ssb-msg-schemas":"/Users/paulfrazee/patchwork/node_modules/ssb-msg-schemas/index.js","ssb-msgs":"/Users/paulfrazee/patchwork/node_modules/ssb-msgs/index.js","ssb-ref":"/Users/paulfrazee/patchwork/node_modules/ssb-ref/index.js"}],"/Users/paulfrazee/patchwork/ui/com/msg-list.jsx":[function(require,module,exports){"use strict";"use babel";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj};var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _pullStream=require("pull-stream");var _pullStream2=_interopRequireDefault(_pullStream);var _moment=require("moment");var _moment2=_interopRequireDefault(_moment);var _react=require("react");var _react2=_interopRequireDefault(_react);var _reactDom=require("react-dom");var _reactDom2=_interopRequireDefault(_reactDom);var _reactAddonsCssTransitionGroup=require("react-addons-css-transition-group");var _reactAddonsCssTransitionGroup2=_interopRequireDefault(_reactAddonsCssTransitionGroup);var _ssbMsgSchemas=require("ssb-msg-schemas");var _ssbMsgSchemas2=_interopRequireDefault(_ssbMsgSchemas);var _ssbMsgs=require("ssb-msgs");var _ssbMsgs2=_interopRequireDefault(_ssbMsgs);var _ssbRef=require("ssb-ref");var _ssbRef2=_interopRequireDefault(_ssbRef);var _patchworkThreads=require("patchwork-threads");var _patchworkThreads2=_interopRequireDefault(_patchworkThreads);var _reactInfinite=require("react-infinite");var _reactInfinite2=_interopRequireDefault(_reactInfinite);var _classnames=require("classnames");var _classnames2=_interopRequireDefault(_classnames);var _card=require("./composer/card");var _card2=_interopRequireDefault(_card);var _simpleInfinite=require("./simple-infinite");var _simpleInfinite2=_interopRequireDefault(_simpleInfinite);var _responsiveElement=require("./responsive-element");var _responsiveElement2=_interopRequireDefault(_responsiveElement);var _summary=require("./msg-view/summary");var _summary2=_interopRequireDefault(_summary);var _index=require("./index");var _msgRelation=require("../lib/msg-relation");var _app=require("../lib/app");var _app2=_interopRequireDefault(_app);var _util=require("../lib/util");var _util2=_interopRequireDefault(_util);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var DEFAULT_BATCH_LOAD_AMT=60;var AVG_RENDERED_MSG_HEIGHT=200;var DEDUPLICATE_LIMIT=100;var LOAD_BOTTOM_DISTANCE=2e3;var MsgList=function(_React$Component){_inherits(MsgList,_React$Component);function MsgList(props){_classCallCheck(this,MsgList);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(MsgList).call(this,props));_this.botcursor=null;_this.state={msgs:[],newMsgQueue:[],selected:null,isLoading:false,isAtEnd:false,containerHeight:window.innerHeight};_this.liveStream=null;_this.handlers={onSelect:function onSelect(msg){if(_this.props.openMsgEvent)_app2.default.emit("open:msg",msg.key);else _app2.default.history.pushState(null,"/msg/"+encodeURIComponent(msg.key))},onToggleBookmark:function onToggleBookmark(msg){_app2.default.ssb.patchwork.toggleBookmark(msg.key,function(err,isBookmarked){if(err)return _app2.default.issue("Failed to toggle bookmark",err,"Happened in onToggleBookmark of MsgList");msg.isBookmarked=isBookmarked;incMsgChangeCounter(msg);_this.setState(_this.state)})},onToggleStar:function onToggleStar(msg){msg.votes=msg.votes||{};var oldVote=msg.votes[_app2.default.user.id];var newVote=oldVote===1?0:1;var voteMsg=_ssbMsgSchemas2.default.vote(msg.key,newVote);var done=function done(err){if(err)return _app2.default.issue("Failed to publish vote",err,"Happened in onToggleStar of MsgList");msg.votes[_app2.default.user.id]=newVote;incMsgChangeCounter(msg);_this.setState(_this.state)};if(msg.plaintext)_app2.default.ssb.publish(voteMsg,done);else{var recps=_ssbMsgs2.default.links(msg.value.content.recps).map(function(l){return l.link});_app2.default.ssb.private.publish(voteMsg,recps,done)}},onIsread:function onIsread(e){for(var i=0;i<_this.state.msgs.length;i++){var msg=_this.state.msgs[i];if(msg.key===e.key){msg.hasUnread=!e.value;incMsgChangeCounter(msg);_this.setState({msgs:_this.state.msgs});return}}},onFlag:function onFlag(msg,reason){if(!reason)throw new Error("reason is required");var voteMsg=reason==="unflag"?_ssbMsgSchemas2.default.vote(msg.key,0):_ssbMsgSchemas2.default.vote(msg.key,-1,reason);var done=function done(err){if(err)return _app2.default.issue("Failed to publish flag",err,"Happened in onFlag of MsgList");msg.votes=msg.votes||{};msg.votes[_app2.default.user.id]=reason==="unflag"?0:-1;incMsgChangeCounter(msg);_this.setState(_this.state)};if(msg.plaintext)_app2.default.ssb.publish(voteMsg,done);else{var recps=_ssbMsgs2.default.links(msg.value.content.recps).map(function(l){return l.link});_app2.default.ssb.private.publish(voteMsg,recps,done)}}};return _this}_createClass(MsgList,[{key:"componentDidMount",value:function componentDidMount(){var start=Date.now();this.loadMore({amt:DEFAULT_BATCH_LOAD_AMT},function(){return console.log(Date.now()-start)});this.calcContainerHeight();this.resizeListener=this.calcContainerHeight.bind(this);window.addEventListener("resize",this.resizeListener);_app2.default.on("update:isread",this.handlers.onIsread);if(this.props.live)this.setupLivestream()}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("resize",this.resizeListener);_app2.default.removeListener("update:isread",this.handlers.onIsread);if(this.liveStream)this.liveStream(true,function(){})}},{key:"loadingElement",value:function loadingElement(){return _react2.default.createElement("div",{className:"msg-view summary"},"Loading...")}},{key:"reload",value:function reload(newState){var _this2=this;this.setState(_extends({isAtEnd:false,newMsgQueue:[]},newState),function(){_this2.botcursor=null;_this2.loadMore({amt:DEFAULT_BATCH_LOAD_AMT,fresh:true})})}},{key:"selectThread",value:function selectThread(thread,isFreshMsg){if(this.state.selected===thread)return this.setState({selected:false});if(isFreshMsg){for(var i=0;i<this.state.msgs.length;i++){if(this.state.msgs[i].key===thread.key){this.state.msgs.splice(i,1,thread);break}}}this.setState({selected:thread,msgs:this.state.msgs})}},{key:"deselectThread",value:function deselectThread(){this.setState({selected:false})}},{key:"setupLivestream",value:function setupLivestream(){var _this3=this;var source=this.props.source||_app2.default.ssb.createFeedStream;var opts=_typeof(this.props.live)=="object"?this.props.live:{};opts.threads=this.props.threads;opts.live=true;opts.old=false;this.liveStream=source(opts);(0,_pullStream2.default)(this.liveStream,_pullStream2.default.filter(function(msg){return!msg.sync}),_pullStream2.default.asyncMap(function(msg,cb){return _patchworkThreads2.default.decryptThread(_app2.default.ssb,msg,cb)}),this.props.filter?_pullStream2.default.filter(this.props.filter):undefined,_pullStream2.default.asyncMap(this.processMsg.bind(this)),this.props.searchRegex?_pullStream2.default.filter(this.searchQueryFilter.bind(this)):undefined,_pullStream2.default.drain(function(msg){if(_this3.props.queueNewMsgs){var lastMsg=_patchworkThreads2.default.getLastThreadPost(msg);if(lastMsg&&lastMsg.value.author===_app2.default.user.id)return _this3.prependNewMsg(msg);_this3.state.newMsgQueue.push(msg);_this3.setState({newMsgQueue:_this3.state.newMsgQueue})}else{msg.isLiveUpdate=true;_this3.prependNewMsg(msg)}}))}},{key:"calcContainerHeight",value:function calcContainerHeight(){var height=window.innerHeight;if(this.refs&&this.refs.container){var rect=_reactDom2.default.findDOMNode(this.refs.container).getClientRects()[0];if(!rect)return;height=window.innerHeight-rect.top}this.setState({containerHeight:height})}},{key:"onInfiniteLoad",value:function onInfiniteLoad(scrollingTo){var amt=DEFAULT_BATCH_LOAD_AMT;if(scrollingTo){amt=Math.max(scrollingTo/AVG_RENDERED_MSG_HEIGHT|0,DEFAULT_BATCH_LOAD_AMT)}this.loadMore({amt:amt})}},{key:"processMsg",value:function processMsg(msg,cb){if(this.props.threads&&msg.value&&!("related"in msg)){_patchworkThreads2.default.getPostSummary(_app2.default.ssb,msg.key,cb)}else cb(null,msg)}},{key:"searchQueryFilter",value:function searchQueryFilter(thread){var regex=this.props.searchRegex;if(checkMatch(thread))return true;return false;function checkMatch(msg){if(msg.value.content.type!=="post")return false;return regex.test(""+msg.value.content.text)}}},{key:"loadMore",value:function loadMore(){var _this4=this;var _ref=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var _ref$amt=_ref.amt;var amt=_ref$amt===undefined?50:_ref$amt;var _ref$fresh=_ref.fresh;var fresh=_ref$fresh===undefined?false:_ref$fresh;var done=arguments[1];if(this.state.isLoading||this.state.isAtEnd)return;var lastmsg;var source=this.props.source||_app2.default.ssb.createFeedStream;var cursor=this.props.cursor||function(msg){if(msg){return msg.value.timestamp}};var updatedMsgs=fresh?[]:this.state.msgs;this.setState({isLoading:true});(0,_pullStream2.default)(source({threads:this.props.threads,reverse:true,lt:cursor(this.botcursor)}),_pullStream2.default.through(function(msg){lastmsg=msg}),_pullStream2.default.asyncMap(function(msg,cb){return _patchworkThreads2.default.decryptThread(_app2.default.ssb,msg,cb)}),this.props.filter?_pullStream2.default.filter(this.props.filter):undefined,_pullStream2.default.asyncMap(this.processMsg.bind(this)),this.props.searchRegex?_pullStream2.default.filter(this.searchQueryFilter.bind(this)):undefined,_pullStream2.default.take(amt),_pullStream2.default.collect(function(err,msgs){if(err)console.warn("Error while fetching messages",err);if(msgs)updatedMsgs=updatedMsgs.concat(msgs);var isAtEnd=false;if(!lastmsg||_this4.botcursor&&_this4.botcursor.key==lastmsg.key)isAtEnd=true;_this4.botcursor=lastmsg;_this4.setState({msgs:updatedMsgs,isLoading:false,isAtEnd:isAtEnd},done)}))}},{key:"prependNewMsg",value:function prependNewMsg(msgs){var _this5=this;var selected=this.state.selected;msgs=Array.isArray(msgs)?msgs:[msgs];msgs.forEach(function(msg){for(var i=0;i<_this5.state.msgs.length&&i<DEDUPLICATE_LIMIT;i++){if(_this5.state.msgs[i].key===msg.key){msg.changeCounter=_this5.state.msgs[i].changeCounter;_this5.state.msgs.splice(i,1);break}}if(selected&&selected.key===msg.key)selected=msg;incMsgChangeCounter(msg);_this5.state.msgs.unshift(msg)});this.setState({msgs:this.state.msgs,selected:selected})}},{key:"prependQueuedMsgs",value:function prependQueuedMsgs(){this.prependNewMsg(this.state.newMsgQueue);this.setState({newMsgQueue:[]})}},{key:"render",value:function render(){var _this6=this;var Hero=this.props.Hero;var LeftNav=this.props.LeftNav;var RightNav=this.props.RightNav;var Toolbar=this.props.Toolbar;var Infinite=this.props.listItemHeight?_reactInfinite2.default:_simpleInfinite2.default;var ListItem=this.props.ListItem||_summary2.default;var selectedKey=this.state.selected&&this.state.selected.key;var isEmpty=!this.state.isLoading&&this.state.msgs.length===0;var append=this.state.isAtEnd&&this.props.append?this.props.append():"";var nQueued=this.state.newMsgQueue.length;var endOfToday=(0,_moment2.default)().endOf("day");var lastDate=(0,_moment2.default)().startOf("day").add(1,"day");return _react2.default.createElement("div",{className:"msg-list"},_react2.default.createElement("div",{className:"msg-list-items flex-fill"},Toolbar?_react2.default.createElement(Toolbar,null):"",_react2.default.createElement(Infinite,{id:"msg-list-infinite",ref:"container",elementHeight:this.props.listItemHeight||60,containerHeight:this.state.containerHeight,infiniteLoadBeginBottomOffset:this.state.isAtEnd?undefined:LOAD_BOTTOM_DISTANCE,onInfiniteLoad:this.onInfiniteLoad.bind(this),loadingSpinnerDelegate:this.loadingElement(),isInfiniteLoading:this.state.isLoading},_react2.default.createElement("div",{className:"flex"},LeftNav?_react2.default.createElement(LeftNav,this.props.leftNavProps):"",_react2.default.createElement("div",{className:"flex-fill"},Hero?_react2.default.createElement(Hero,null):"",nQueued?_react2.default.createElement("a",{className:"new-msg-queue",onClick:this.reload.bind(this)},nQueued," new update",_util2.default.plural(nQueued)):"",this.props.composer?_react2.default.createElement(_card2.default,this.props.composerProps):"",this.state.msgs.length===0&&this.state.isLoading?_react2.default.createElement("div",{style:{fontWeight:300,textAlign:"center"}},"Loading..."):"",isEmpty?_react2.default.createElement("div",{className:"empty-msg"},this.props.emptyMsg||"No messages."):_react2.default.createElement(_responsiveElement2.default,{widthStep:250},this.state.msgs.map(function(m,i){if(!m.value)return _react2.default.createElement("span",{key:m.key});var item=_react2.default.createElement(ListItem,_extends({key:m.key,msg:m,selectiveUpdate:true},_this6.handlers,_this6.props.listItemProps,{selected:selectedKey===m.key,forceRaw:_this6.props.forceRaw}));var oldLastDate=lastDate;var lastPost=_patchworkThreads2.default.getLastThreadPost(m);lastDate=(0,_moment2.default)(lastPost.value.timestamp);if(_this6.props.dateDividers&&!lastDate.isSame(oldLastDate,"day")){var label=lastDate.isSame(endOfToday,"day")?"today":lastDate.endOf("day").from(endOfToday);return _react2.default.createElement("div",{key:m.key,className:"divider-spot"},_react2.default.createElement("hr",{className:"labeled","data-label":label}),item)}return item})),append),RightNav?_react2.default.createElement(RightNav,this.props.rightNavProps):""))))}}]);return MsgList}(_react2.default.Component);exports.default=MsgList;function incMsgChangeCounter(msg){msg.changeCounter=(msg.changeCounter||0)+1}},{"../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js","../lib/msg-relation":"/Users/paulfrazee/patchwork/ui/lib/msg-relation.js","../lib/util":"/Users/paulfrazee/patchwork/ui/lib/util.js","./composer/card":"/Users/paulfrazee/patchwork/ui/com/composer/card.jsx","./index":"/Users/paulfrazee/patchwork/ui/com/index.jsx","./msg-view/summary":"/Users/paulfrazee/patchwork/ui/com/msg-view/summary.jsx","./responsive-element":"/Users/paulfrazee/patchwork/ui/com/responsive-element.jsx","./simple-infinite":"/Users/paulfrazee/patchwork/ui/com/simple-infinite.jsx",classnames:"/Users/paulfrazee/patchwork/node_modules/classnames/index.js",moment:"/Users/paulfrazee/patchwork/node_modules/moment/moment.js","patchwork-threads":"/Users/paulfrazee/patchwork/node_modules/patchwork-threads/index.js","pull-stream":"/Users/paulfrazee/patchwork/node_modules/pull-stream/index.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","react-addons-css-transition-group":"/Users/paulfrazee/patchwork/node_modules/react-addons-css-transition-group/index.js","react-dom":"/Users/paulfrazee/patchwork/node_modules/react-dom/index.js","react-infinite":"/Users/paulfrazee/patchwork/node_modules/react-infinite/build/react-infinite.js","ssb-msg-schemas":"/Users/paulfrazee/patchwork/node_modules/ssb-msg-schemas/index.js","ssb-msgs":"/Users/paulfrazee/patchwork/node_modules/ssb-msgs/index.js","ssb-ref":"/Users/paulfrazee/patchwork/node_modules/ssb-ref/index.js"}],"/Users/paulfrazee/patchwork/ui/com/msg-list/notifications.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _msgList=require("../msg-list");var _msgList2=_interopRequireDefault(_msgList);var _notification=require("../msg-view/notification");var _notification2=_interopRequireDefault(_notification);var _tabs=require("../tabs");var _tabs2=_interopRequireDefault(_tabs);var _app=require("../../lib/app");var _app2=_interopRequireDefault(_app);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var FILTERS=[{label:"All",fn:function fn(msg){return true}},{label:_react2.default.createElement("i",{className:"fa fa-hand-peace-o"}),fn:function fn(msg){return msg.value.content.type==="vote"}},{label:_react2.default.createElement("i",{className:"fa fa-user-plus"}),fn:function fn(msg){return msg.value.content.type==="contact"}},{label:_react2.default.createElement("i",{className:"fa fa-at"}),fn:function fn(msg){return msg.value.content.type==="post"}}];var Notifications=function(_React$Component){_inherits(Notifications,_React$Component);function Notifications(props){_classCallCheck(this,Notifications);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Notifications).call(this,props));_this.state={filter:FILTERS[0]};return _this}_createClass(Notifications,[{key:"cursor",value:function cursor(msg){if(msg)return[msg.ts,false]}},{key:"onSelectFilter",value:function onSelectFilter(filter){var _this2=this;this.setState({filter:filter},function(){_this2.refs.list.reload()})}},{key:"render",value:function render(){var _this3=this;var Toolbar=function Toolbar(props){return _react2.default.createElement("div",{className:"light-toolbar"},_react2.default.createElement(_tabs2.default,{options:FILTERS,selected:_this3.state.filter,onSelect:_this3.onSelectFilter.bind(_this3)}))};return _react2.default.createElement("div",{className:"notifications"},_react2.default.createElement(_msgList2.default,{ref:"list",Hero:Toolbar,ListItem:_notification2.default,filter:this.state.filter.fn,emptyMsg:"No notifications.",source:_app2.default.ssb.patchwork.createNotificationsStream,cursor:this.cursor,live:{gt:[Date.now(),false]}}))}}]);return Notifications}(_react2.default.Component);exports.default=Notifications},{"../../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js","../msg-list":"/Users/paulfrazee/patchwork/ui/com/msg-list.jsx","../msg-view/notification":"/Users/paulfrazee/patchwork/ui/com/msg-view/notification.jsx","../tabs":"/Users/paulfrazee/patchwork/ui/com/tabs.jsx",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/ui/com/msg-thread.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _reactAddonsCssTransitionGroup=require("react-addons-css-transition-group");var _reactAddonsCssTransitionGroup2=_interopRequireDefault(_reactAddonsCssTransitionGroup);var _ssbMsgs=require("ssb-msgs");var _ssbMsgs2=_interopRequireDefault(_ssbMsgs);var _ssbMsgSchemas=require("ssb-msg-schemas");var _ssbMsgSchemas2=_interopRequireDefault(_ssbMsgSchemas);var _patchworkThreads=require("patchwork-threads");var _patchworkThreads2=_interopRequireDefault(_patchworkThreads);var _pullStream=require("pull-stream");var _pullStream2=_interopRequireDefault(_pullStream);var _index=require("./index");var _leftnav=require("./leftnav");var _leftnav2=_interopRequireDefault(_leftnav);var _responsiveElement=require("./responsive-element");var _responsiveElement2=_interopRequireDefault(_responsiveElement);var _card=require("./msg-view/card");var _card2=_interopRequireDefault(_card);var _msgRelation=require("../lib/msg-relation");var _composer=require("./composer");var _composer2=_interopRequireDefault(_composer);var _app=require("../lib/app");var _app2=_interopRequireDefault(_app);var _util=require("../lib/util");var _util2=_interopRequireDefault(_util);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var BookmarkBtn=function(_React$Component){_inherits(BookmarkBtn,_React$Component);function BookmarkBtn(){_classCallCheck(this,BookmarkBtn);return _possibleConstructorReturn(this,Object.getPrototypeOf(BookmarkBtn).apply(this,arguments))}_createClass(BookmarkBtn,[{key:"render",value:function render(){var b=this.props.isBookmarked;var title="Bookmark"+(b?"ed":"");return _react2.default.createElement("a",{className:b?" selected":"",onClick:this.props.onClick,title:title},_react2.default.createElement("i",{className:"fa fa-bookmark"+(b?"":"-o")})," ",title)}}]);return BookmarkBtn}(_react2.default.Component);var UnreadBtn=function(_React$Component2){_inherits(UnreadBtn,_React$Component2);function UnreadBtn(){_classCallCheck(this,UnreadBtn);return _possibleConstructorReturn(this,Object.getPrototypeOf(UnreadBtn).apply(this,arguments))}_createClass(UnreadBtn,[{key:"render",value:function render(){var b=this.props.isUnread;var title=b?"Mark Read":"Mark Unread";var icon="fa fa-"+(b?"square-o":"check-square-o");return _react2.default.createElement("a",{onClick:this.props.onClick,title:title},_react2.default.createElement("i",{className:icon})," ",title)}}]);return UnreadBtn}(_react2.default.Component);var Thread=function(_React$Component3){_inherits(Thread,_React$Component3);function Thread(props){_classCallCheck(this,Thread);var _this3=_possibleConstructorReturn(this,Object.getPrototypeOf(Thread).call(this,props));_this3.state={thread:null,msgs:[]};_this3.liveStream=null;return _this3}_createClass(Thread,[{key:"constructState",value:function constructState(id){var _this4=this;_patchworkThreads2.default.getPostThread(_app2.default.ssb,id,function(err,thread){if(err)return _app2.default.issue("Failed to Load Message",err,"This happened in msg-list componentDidMount");_this4.setState({thread:thread,msgs:_patchworkThreads2.default.flattenThread(thread),isReplying:_this4.state.thread&&thread.key===_this4.state.thread.key?_this4.state.isReplying:false});if(thread.hasUnread){_patchworkThreads2.default.markThreadRead(_app2.default.ssb,thread,function(err){if(err)return _app2.default.minorIssue("Failed to mark thread as read",err);_this4.setState({thread:thread})})}if(_this4.props.live){if(_this4.liveStream)_this4.liveStream(true,function(){});(0,_pullStream2.default)(_this4.liveStream=_app2.default.ssb.createLogStream({live:true,gt:Date.now()}),_pullStream2.default.filter(function(obj){return!obj.sync}),_pullStream2.default.asyncMap(function(msg,cb){return _patchworkThreads2.default.decryptThread(_app2.default.ssb,msg,cb)}),_pullStream2.default.drain(function(msg){if(!_this4.state.thread)return;var c=msg.value.content;var rels=_ssbMsgs2.default.relationsTo(msg,_this4.state.thread);if(c.type=="post"&&(rels.indexOf("root")>=0||rels.indexOf("branch")>=0)){_this4.state.msgs.push(msg);_this4.state.thread.related=(_this4.state.thread.related||[]).concat(msg);_this4.setState({thread:_this4.state.thread,msgs:_this4.state.msgs});thread.hasUnread=true;_patchworkThreads2.default.markThreadRead(_app2.default.ssb,_this4.state.thread,function(err){if(err)_app2.default.minorIssue("Failed to mark live-streamed reply as read",err)})}}))}})}},{key:"componentDidMount",value:function componentDidMount(){this.constructState(this.props.id)}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(newProps){this.constructState(newProps.id)}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(this.liveStream)this.liveStream(true,function(){})}},{key:"onToggleUnread",value:function onToggleUnread(){var _this5=this;var thread=this.state.thread;_app2.default.ssb.patchwork.toggleRead(thread.key,function(err,isRead){if(err)return _app2.default.minorIssue("Failed to mark unread",err,"Happened in onMarkUnread of MsgThread");thread.isRead=isRead;thread.hasUnread=!isRead;_this5.setState(_this5.state)})}},{key:"onToggleBookmark",value:function onToggleBookmark(msg){var _this6=this;_app2.default.ssb.patchwork.toggleBookmark(msg.key,function(err,isBookmarked){if(err)return _app2.default.issue("Failed to toggle bookmark",err,"Happened in onToggleBookmark of MsgThread");msg.isBookmarked=isBookmarked;_this6.setState(_this6.state)})}},{key:"onToggleStar",value:function onToggleStar(msg){var _this7=this;
msg.votes=msg.votes||{};var oldVote=msg.votes[_app2.default.user.id];var newVote=oldVote===1?0:1;var voteMsg=_ssbMsgSchemas2.default.vote(msg.key,newVote);var done=function done(err){if(err)return _app2.default.issue("Failed to publish vote",err,"Happened in onToggleStar of MsgThread");msg.votes[_app2.default.user.id]=newVote;_this7.setState(_this7.state)};if(msg.plaintext)_app2.default.ssb.publish(voteMsg,done);else{var recps=_ssbMsgs2.default.links(msg.value.content.recps).map(function(l){return l.link});_app2.default.ssb.private.publish(voteMsg,recps,done)}}},{key:"onFlag",value:function onFlag(msg,reason){var _this8=this;if(!reason)throw new Error("reason is required");var voteMsg=reason==="unflag"?_ssbMsgSchemas2.default.vote(msg.key,0):_ssbMsgSchemas2.default.vote(msg.key,-1,reason);var done=function done(err){if(err)return _app2.default.issue("Failed to publish flag",err,"Happened in onFlag of MsgThread");msg.votes=msg.votes||{};msg.votes[_app2.default.user.id]=reason==="unflag"?0:-1;_this8.setState(_this8.state)};if(msg.plaintext)_app2.default.ssb.publish(voteMsg,done);else{var recps=_ssbMsgs2.default.links(msg.value.content.recps).map(function(l){return l.link});_app2.default.ssb.private.publish(voteMsg,recps,done)}}},{key:"onSend",value:function onSend(msg){if(this.props.onNewReply)this.props.onNewReply(msg)}},{key:"openMsg",value:function openMsg(id){_app2.default.history.pushState(null,"/msg/"+encodeURIComponent(id))}},{key:"onSelectRoot",value:function onSelectRoot(){var thread=this.state.thread;var threadRoot=_ssbMsgs2.default.link(thread.value.content.root,"msg");this.openMsg(threadRoot.link)}},{key:"onCloseMsg",value:function onCloseMsg(){_app2.default.emit("open:msg",null)}},{key:"render",value:function render(){var _this9=this;var thread=this.state.thread;var threadRoot=thread&&_ssbMsgs2.default.link(thread.value.content.root,"msg");var canMarkUnread=thread&&(thread.isBookmarked||!thread.plaintext);var isPublic=thread&&thread.plaintext;var authorName=thread&&_util2.default.getName(thread.value.author);var recps=thread&&_ssbMsgs2.default.links(thread.value.content.recps,"feed");return _react2.default.createElement("div",{className:"msg-thread"},_react2.default.createElement(_index.VerticalFilledContainer,{id:"msg-thread-vertical",className:"flex"},_react2.default.createElement(_leftnav2.default,{location:this.props.location}),_react2.default.createElement("div",{className:"flex-fill",style:{padding:5}},!thread?_react2.default.createElement("div",{style:{padding:20,fontWeight:300,textAlign:"center"}},"No thread selected."):_react2.default.createElement(_responsiveElement2.default,{widthStep:250},_react2.default.createElement("div",{className:"flex light-toolbar"},threadRoot?_react2.default.createElement("a",{onClick:this.onSelectRoot.bind(this)},_react2.default.createElement("i",{className:"fa fa-angle-double-up"})," Parent Thread"):"",!threadRoot&&thread?_react2.default.createElement(BookmarkBtn,{onClick:function onClick(){return _this9.onToggleBookmark(thread)},isBookmarked:thread.isBookmarked}):"",thread?_react2.default.createElement(UnreadBtn,{onClick:this.onToggleUnread.bind(this),isUnread:thread.hasUnread}):""),_react2.default.createElement("hr",{className:"labeled","data-label":(isPublic?"Public":"Private")+" post by "+authorName+(isPublic?"":" to:")}),recps&&recps.length?_react2.default.createElement("div",{className:"recps-list flex"},_react2.default.createElement("div",{className:"flex-fill"}),_react2.default.createElement(_index.UserPics,{ids:recps.map(function(r){return r.link})}),_react2.default.createElement("div",{className:"flex-fill"})):"",_react2.default.createElement(_reactAddonsCssTransitionGroup2.default,{component:"div",className:"items",transitionName:"fade",transitionAppear:true,transitionAppearTimeout:500,transitionEnterTimeout:500,transitionLeaveTimeout:1},this.state.msgs.map(function(msg,i){var isFirst=i===0;return _react2.default.createElement(_card2.default,{key:msg.key,msg:msg,noReplies:true,noBookmark:true,forceRaw:_this9.props.forceRaw,forceOpen:isFirst,onSelect:function onSelect(){return _this9.openMsg(msg.key)},onToggleStar:function onToggleStar(){return _this9.onToggleStar(msg)},onFlag:function onFlag(msg,reason){return _this9.onFlag(msg,reason)},onToggleBookmark:function onToggleBookmark(){return _this9.onToggleBookmark(msg)}})}),_react2.default.createElement("div",{key:"composer",className:"container"},_react2.default.createElement(_composer2.default,{key:thread.key,thread:thread,onSend:this.onSend.bind(this)})))))))}}]);return Thread}(_react2.default.Component);exports.default=Thread},{"../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js","../lib/msg-relation":"/Users/paulfrazee/patchwork/ui/lib/msg-relation.js","../lib/util":"/Users/paulfrazee/patchwork/ui/lib/util.js","./composer":"/Users/paulfrazee/patchwork/ui/com/composer/index.jsx","./index":"/Users/paulfrazee/patchwork/ui/com/index.jsx","./leftnav":"/Users/paulfrazee/patchwork/ui/com/leftnav.jsx","./msg-view/card":"/Users/paulfrazee/patchwork/ui/com/msg-view/card.jsx","./responsive-element":"/Users/paulfrazee/patchwork/ui/com/responsive-element.jsx","patchwork-threads":"/Users/paulfrazee/patchwork/node_modules/patchwork-threads/index.js","pull-stream":"/Users/paulfrazee/patchwork/node_modules/pull-stream/index.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","react-addons-css-transition-group":"/Users/paulfrazee/patchwork/node_modules/react-addons-css-transition-group/index.js","ssb-msg-schemas":"/Users/paulfrazee/patchwork/node_modules/ssb-msg-schemas/index.js","ssb-msgs":"/Users/paulfrazee/patchwork/node_modules/ssb-msgs/index.js"}],"/Users/paulfrazee/patchwork/ui/com/msg-view/card.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _reactRouter=require("react-router");var _ssbMsgs=require("ssb-msgs");var _ssbMsgs2=_interopRequireDefault(_ssbMsgs);var _patchworkThreads=require("patchwork-threads");var _patchworkThreads2=_interopRequireDefault(_patchworkThreads);var _imageLoaded=require("image-loaded");var _imageLoaded2=_interopRequireDefault(_imageLoaded);var _multicb=require("multicb");var _multicb2=_interopRequireDefault(_multicb);var _index=require("../index");var _msgContent=require("../msg-content");var _markdown=require("../markdown");var _single=require("../modals/single");var _single2=_interopRequireDefault(_single);var _flagMsg=require("../forms/flag-msg");var _flagMsg2=_interopRequireDefault(_flagMsg);var _msgRelation=require("../../lib/msg-relation");var _dropdown=require("../dropdown");var _dropdown2=_interopRequireDefault(_dropdown);var _util=require("../../lib/util");var _util2=_interopRequireDefault(_util);var _app=require("../../lib/app");var _app2=_interopRequireDefault(_app);var _socialGraph=require("../../lib/social-graph");var _socialGraph2=_interopRequireDefault(_socialGraph);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var INLINE_LENGTH_LIMIT=100;var MAX_CONTENT_HEIGHT=400;function getVotes(msg,filter){if(!msg.votes)return[];return Object.keys(msg.votes).filter(filter)}function userIsTrusted(userId){return userId===_app2.default.user.id||_socialGraph2.default.follows(_app2.default.user.id,userId)}var BookmarkBtn=function(_React$Component){_inherits(BookmarkBtn,_React$Component);function BookmarkBtn(){_classCallCheck(this,BookmarkBtn);return _possibleConstructorReturn(this,Object.getPrototypeOf(BookmarkBtn).apply(this,arguments))}_createClass(BookmarkBtn,[{key:"onClick",value:function onClick(e){e.stopPropagation();this.props.onClick()}},{key:"render",value:function render(){var b=this.props.isBookmarked;var title="Bookmark"+(b?"ed":"");return _react2.default.createElement("span",null,_react2.default.createElement("a",{href:"javascript:;",className:"save"+(this.props.isBookmarked?" selected":""),onClick:this.onClick.bind(this),title:title},_react2.default.createElement("i",{className:"fa fa-bookmark"+(b?"":"-o")})))}}]);return BookmarkBtn}(_react2.default.Component);var DigBtn=function(_React$Component2){_inherits(DigBtn,_React$Component2);function DigBtn(){_classCallCheck(this,DigBtn);return _possibleConstructorReturn(this,Object.getPrototypeOf(DigBtn).apply(this,arguments))}_createClass(DigBtn,[{key:"onClick",value:function onClick(e){e.stopPropagation();this.props.onClick()}},{key:"render",value:function render(){var label=this.props.isUpvoted?"Dug":"Dig";return _react2.default.createElement("a",{href:"javascript:;",className:"vote"+(this.props.isUpvoted?" selected":""),title:label,onClick:this.onClick.bind(this)},_react2.default.createElement("i",{className:"fa fa-hand-peace-o"})," ",label.split("").map(function(l,i){return _react2.default.createElement("span",{key:i},l)})," ",_react2.default.createElement("span",null,"i"),_react2.default.createElement("span",null,"t"))}}]);return DigBtn}(_react2.default.Component);var Card=function(_React$Component3){_inherits(Card,_React$Component3);function Card(props){_classCallCheck(this,Card);var _this3=_possibleConstructorReturn(this,Object.getPrototypeOf(Card).call(this,props));_this3.state={isOversized:false,isExpanded:false,isViewingRaw:false,subject:null,isFlagModalOpen:false};_this3.changeCounter=props.msg.changeCounter||0;return _this3}_createClass(Card,[{key:"onSelect",value:function onSelect(){this.props.onSelect(this.props.msg)}},{key:"onToggleExpand",value:function onToggleExpand(){this.setState({isExpanded:!this.state.isExpanded})}},{key:"onSubmitFlag",value:function onSubmitFlag(reason){this.props.onFlag(this.props.msg,reason);this.setState({isFlagModalOpen:false})}},{key:"onCloseFlagModal",value:function onCloseFlagModal(){this.setState({isFlagModalOpen:false})}},{key:"onSelectDropdown",value:function onSelectDropdown(choice){if(choice==="copy-link")this.copyLink();else if(choice==="flag")this.setState({isFlagModalOpen:true});else if(choice==="unflag")this.props.onFlag(this.props.msg,"unflag");else if(choice==="toggle-raw")this.setState({isViewingRaw:!this.state.isViewingRaw})}},{key:"copyLink",value:function copyLink(){prompt("Here is the Message ID. Press cmd/ctrl+c to copy it.",this.props.msg.key)}},{key:"componentDidMount",value:function componentDidMount(){var _this4=this;var msg=this.props.msg;if(msg.value&&msg.value.content.type==="vote"){(function(){var vote=_ssbMsgs2.default.link(msg.value.content.vote,"msg");if(vote){_app2.default.ssb.get(vote.link,function(err,subject){if(!subject)return;subject={key:vote.link,value:subject};_patchworkThreads2.default.decryptThread(_app2.default.ssb,subject,function(){_this4.setState({subject:subject})})})}})()}if(!this.refs.body)return;var done=(0,_multicb2.default)();[].slice.call(this.refs.body.querySelectorAll("img")).forEach(function(el){return(0,_imageLoaded2.default)(el,done())});done(function(){if(!_this4.refs.body)return;var rect=_this4.refs.body.getClientRects()[0];if(rect&&rect.height>MAX_CONTENT_HEIGHT){_this4.setState({isOversized:true})}})}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(nextProps,nextState){if(nextProps.selectiveUpdate){var shouldUpdate=this.changeCounter!==nextProps.msg.changeCounter;this.changeCounter=nextProps.msg.changeCounter;return shouldUpdate}return true}},{key:"render",value:function render(){var msg=this.props.msg;if(msg.isNotFound)return this.renderNotFound(msg);if(msg.isLink)return this.renderLink(msg);if(msg.isMention)return this.renderMention(msg);var upvoters=getVotes(this.props.msg,function(userId){return msg.votes[userId]===1});var downvoters=getVotes(this.props.msg,function(userId){return userIsTrusted(userId)&&msg.votes[userId]===-1});var isUpvoted=upvoters.indexOf(_app2.default.user.id)!==-1;var isDownvoted=downvoters.indexOf(_app2.default.user.id)!==-1;if(msg.value.content.type=="post"&&downvoters.length>upvoters.length&&!this.state.isExpanded)return this.renderMuted(msg);return this.renderPost(msg,upvoters,downvoters,isUpvoted,isDownvoted)}},{key:"renderNotFound",value:function renderNotFound(msg){var expanded=this.state.isExpanded;return _react2.default.createElement("div",{key:msg.key,className:"msg-view card-missing-post"+(expanded?" expanded":"")},_react2.default.createElement("div",null,_react2.default.createElement("a",{onClick:this.onToggleExpand.bind(this),style:{cursor:"pointer",fontWeight:"bold"}},_react2.default.createElement("i",{className:"fa fa-warning"})," Missing Post"),expanded?_react2.default.createElement("span",null,_react2.default.createElement("br",null),_react2.default.createElement("br",null),"This post is by somebody outside of your network, and hasn't been downloaded. Some of the messages in this thread may reference it.",_react2.default.createElement("br",null),_react2.default.createElement("br",null),_react2.default.createElement("code",null,msg.key)):" This post could not be loaded."))}},{key:"renderLink",value:function renderLink(msg){var name=_util2.default.shortString(msg.value?msg.value.content.text||msg.key:msg.key,100);return _react2.default.createElement("div",{key:msg.key,className:"msg-view card-missing-post"},_react2.default.createElement("div",null,_react2.default.createElement("i",{className:"fa fa-angle-up"})," ",_react2.default.createElement(_index.MsgLink,{id:msg.key,name:name})))}},{key:"renderMention",value:function renderMention(msg){var name=_util2.default.shortString(msg.value.content.text||msg.key,100);return _react2.default.createElement("div",{key:msg.key,className:"msg-view card-mention"},_react2.default.createElement("div",null,_react2.default.createElement("i",{className:"fa fa-hand-o-right"}),_react2.default.createElement("div",null,_react2.default.createElement(_index.UserLink,{id:msg.value.author})," referenced this thread in ",_react2.default.createElement(_index.MsgLink,{id:msg.key,name:name}))))}},{key:"renderMuted",value:function renderMuted(msg){var text=msg.value.content.text;return _react2.default.createElement("div",{className:"msg-view card-muted"},_react2.default.createElement("div",{className:"ctrls"},_react2.default.createElement(_index.UserPic,{id:msg.value.author})),_react2.default.createElement("div",{className:"content"},_react2.default.createElement("div",null,_react2.default.createElement("a",{onClick:this.onToggleExpand.bind(this)},_react2.default.createElement(_markdown.Inline,{limit:INLINE_LENGTH_LIMIT,md:text}))," ",_react2.default.createElement("small",null,"flagged")),_react2.default.createElement("div",null,_react2.default.createElement(_index.NiceDate,{ts:msg.value.timestamp}))))}},{key:"renderPost",value:function renderPost(msg,upvoters,downvoters,isUpvoted,isDownvoted){var _this5=this;var replies=(0,_msgRelation.countReplies)(msg);var unreadReplies=(0,_msgRelation.countReplies)(msg,function(m){return!m.isRead});var isViewingRaw=this.state.isViewingRaw;var channel=msg&&msg.value&&msg.value.content&&msg.value.content.channel;var dropdownOpts=[{value:"copy-link",label:_react2.default.createElement("span",null,_react2.default.createElement("i",{className:"fa fa-external-link"})," Copy ID")},{value:"toggle-raw",label:_react2.default.createElement("span",null,_react2.default.createElement("i",{className:isViewingRaw?"fa fa-envelope-o":"fa fa-gears"})," View ",isViewingRaw?"Msg":"Data")},isDownvoted?{value:"unflag",label:_react2.default.createElement("span",null,_react2.default.createElement("i",{className:"fa fa-times"})," Unflag")}:{value:"flag",label:_react2.default.createElement("span",null,_react2.default.createElement("i",{className:"fa fa-flag"})," Flag")}];var oversizedCls=this.state.isOversized?"oversized":"";var expandedCls=this.state.isExpanded?"expanded":"";var newCls=msg.isNew?"new":"";return _react2.default.createElement("div",{className:"msg-view card-post "+oversizedCls+" "+expandedCls+" "+newCls},_react2.default.createElement("div",{className:"left-meta"},_react2.default.createElement(_index.UserPic,{id:msg.value.author}),_react2.default.createElement("div",null,_react2.default.createElement("a",{onClick:this.onSelect.bind(this)},_react2.default.createElement(_index.NiceDate,{ts:msg.value.timestamp})))),_react2.default.createElement("div",{className:"content"},_react2.default.createElement("div",{className:"header"},_react2.default.createElement("div",{className:"header-left"},_react2.default.createElement(_index.UserLink,{id:msg.value.author})," ",msg.plaintext?"":_react2.default.createElement("i",{className:"fa fa-lock"})," ",msg.mentionsUser?_react2.default.createElement("i",{className:"fa fa-at"}):""," ",channel?_react2.default.createElement("span",{className:"channel"},"in ",_react2.default.createElement(_reactRouter.Link,{to:"/newsfeed/channel/"+channel},"#",channel)):""),_react2.default.createElement("div",{className:"header-right"},!this.props.noBookmark?_react2.default.createElement(BookmarkBtn,{isBookmarked:msg.isBookmarked,onClick:function onClick(){return _this5.props.onToggleBookmark(msg)}}):"",_react2.default.createElement(_dropdown2.default,{items:dropdownOpts,right:true,onSelect:this.onSelectDropdown.bind(this)},_react2.default.createElement("i",{className:"fa fa-ellipsis-h"})))),_react2.default.createElement("div",{className:"body",ref:"body"},_react2.default.createElement(_msgContent.Block,{msg:msg,forceRaw:isViewingRaw||this.props.forceRaw}),this.state.isOversized?_react2.default.createElement("div",{className:"read-more"},_react2.default.createElement("a",{href:"javascript:;",onClick:this.onToggleExpand.bind(this)},"Read more")):""),_react2.default.createElement("div",{className:"ctrls"},replies&&!this.props.noReplies?_react2.default.createElement("div",null,_react2.default.createElement("a",{href:"javascript:;",onClick:this.onSelect.bind(this)},replies===1?"1 reply ":replies+" replies ",unreadReplies?_react2.default.createElement("strong",null,unreadReplies," new"):"")):"",upvoters.length?_react2.default.createElement("div",{className:"upvoters flex-fill"},_react2.default.createElement("i",{className:"fa fa-hand-peace-o"})," by ",_react2.default.createElement(_index.UserLinks,{ids:upvoters})):"",downvoters.length?_react2.default.createElement("div",{className:"downvoters flex-fill"},_react2.default.createElement("i",{className:"fa fa-flag"})," by ",_react2.default.createElement(_index.UserLinks,{ids:downvoters})):"",!upvoters.length&&!downvoters.length?_react2.default.createElement("div",{className:"flex-fill"}):"",_react2.default.createElement("div",null,_react2.default.createElement(DigBtn,{onClick:function onClick(){return _this5.props.onToggleStar(msg)},isUpvoted:isUpvoted})),!this.props.noReplies?_react2.default.createElement("div",null,_react2.default.createElement("a",{href:"javascript:;",onClick:this.onSelect.bind(this)},_react2.default.createElement("i",{className:"fa fa-reply"})," Reply")):"")),_react2.default.createElement(_single2.default,{isOpen:this.state.isFlagModalOpen,onClose:this.onCloseFlagModal.bind(this),Form:_flagMsg2.default,formProps:{msg:msg,onSubmit:this.onSubmitFlag.bind(this)},nextLabel:"Publish"}))}}]);return Card}(_react2.default.Component);exports.default=Card},{"../../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js","../../lib/msg-relation":"/Users/paulfrazee/patchwork/ui/lib/msg-relation.js","../../lib/social-graph":"/Users/paulfrazee/patchwork/ui/lib/social-graph.js","../../lib/util":"/Users/paulfrazee/patchwork/ui/lib/util.js","../dropdown":"/Users/paulfrazee/patchwork/ui/com/dropdown.jsx","../forms/flag-msg":"/Users/paulfrazee/patchwork/ui/com/forms/flag-msg.jsx","../index":"/Users/paulfrazee/patchwork/ui/com/index.jsx","../markdown":"/Users/paulfrazee/patchwork/ui/com/markdown.jsx","../modals/single":"/Users/paulfrazee/patchwork/ui/com/modals/single.jsx","../msg-content":"/Users/paulfrazee/patchwork/ui/com/msg-content.jsx","image-loaded":"/Users/paulfrazee/patchwork/node_modules/image-loaded/index.js",multicb:"/Users/paulfrazee/patchwork/node_modules/multicb/index.js","patchwork-threads":"/Users/paulfrazee/patchwork/node_modules/patchwork-threads/index.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","react-router":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/index.js","ssb-msgs":"/Users/paulfrazee/patchwork/node_modules/ssb-msgs/index.js"}],"/Users/paulfrazee/patchwork/ui/com/msg-view/notification.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _ssbMsgs=require("ssb-msgs");var _ssbMsgs2=_interopRequireDefault(_ssbMsgs);var _patchworkThreads=require("patchwork-threads");var _patchworkThreads2=_interopRequireDefault(_patchworkThreads);var _index=require("../index");var _markdown=require("../markdown");var _util=require("../../lib/util");var _util2=_interopRequireDefault(_util);var _app=require("../../lib/app");var _app2=_interopRequireDefault(_app);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var INLINE_LENGTH_LIMIT=100;var Notification=function(_React$Component){_inherits(Notification,_React$Component);function Notification(props){_classCallCheck(this,Notification);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Notification).call(this,props));_this.state={subjectMsg:null,wasSeen:false};return _this}_createClass(Notification,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;var msg=this.props.msg;if(!msg||msg.value.content.type!=="vote")return this.setState({subjectMsg:null});var vote=_ssbMsgs2.default.link(msg.value.content.vote,"msg");if(!vote)return this.setState({subjectMsg:null});_app2.default.ssb.get(vote.link,function(err,subjectMsg){if(subjectMsg){subjectMsg={key:vote.link,value:subjectMsg};_patchworkThreads2.default.decryptThread(_app2.default.ssb,subjectMsg,function(){return _this2.setState({subjectMsg:subjectMsg})})}else _this2.setState({subjectMsg:null})})}},{key:"onSelect",value:function onSelect(){var _this3=this;var subject=this.state.subjectMsg||this.props.msg;_patchworkThreads2.default.getParentPostThread(_app2.default.ssb,subject.key,function(err,thread){if(err)return _app2.default.issue("Failed to load thread",err,"This occurred when a notification link was clicked");_this3.props.onSelect(thread,true)})}},{key:"render",value:function render(){var _this4=this;var msg=this.props.msg;var content=this.renderContent();if(!content)return _react2.default.createElement("span",null);var setWasSeen=function setWasSeen(){_this4.setState({wasSeen:true})};return _react2.default.createElement("div",{className:"msg-view notification"+(msg.isLiveUpdate&&!this.state.wasSeen?" new":""),onClick:setWasSeen},_react2.default.createElement("div",{className:"ctrls"},_react2.default.createElement(_index.UserPic,{id:msg.value.author})),_react2.default.createElement("div",{className:"content"},_react2.default.createElement("div",null,content),_react2.default.createElement("div",null,_react2.default.createElement(_index.NiceDate,{ts:msg.value.timestamp}))))}},{key:"renderContent",value:function renderContent(){var msg=this.props.msg;var c=msg.value.content;switch(c.type){case"post":return this.renderPost();case"vote":return this.renderVote();case"contact":return this.renderContact()}return false}},{key:"renderPost",value:function renderPost(){var msg=this.props.msg;var c=msg.value.content;var text=c.text||"this message";return _react2.default.createElement("span",null,_react2.default.createElement("i",{className:"fa fa-at"})," ",_react2.default.createElement(_index.UserLink,{id:msg.value.author})," mentioned you in ",_react2.default.createElement("a",{className:"subject",onClick:this.onSelect.bind(this)},_react2.default.createElement(_markdown.Inline,{md:text})))}},{key:"renderVote",value:function renderVote(){var msg=this.props.msg;var c=msg.value.content;var subject=this.state.subjectMsg;var text=subject&&subject.value.content&&subject.value.content.text||"this message";if(typeof c.vote.value!=="number")return false;var icon=c.vote.value>0?"fa fa-hand-peace-o":c.vote.value===0?"fa fa-times":"fa fa-flag";var desc=c.vote.value>0?"dug":c.vote.value===0?"removed their vote for":"flagged";var reason=c.vote.reason?"as "+c.vote.reason:"";return _react2.default.createElement("span",null,_react2.default.createElement("i",{className:icon})," ",_react2.default.createElement(_index.UserLink,{id:msg.value.author})," ",desc," ",_react2.default.createElement("a",{className:"subject",onClick:this.onSelect.bind(this)},_react2.default.createElement(_markdown.Inline,{md:text}))," ",reason)}},{key:"renderContact",value:function renderContact(){var msg=this.props.msg;var c=msg.value.content;var pid=_ssbMsgs2.default.link(c.contact).link;if(c.following===true)return _react2.default.createElement("span",null,_react2.default.createElement("i",{className:"fa fa-user-plus"})," ",_react2.default.createElement(_index.UserLink,{id:msg.value.author})," followed you");if(c.blocking===true)return _react2.default.createElement("span",null,_react2.default.createElement("i",{className:"fa fa-microphone-slash"})," ",_react2.default.createElement(_index.UserLink,{id:msg.value.author})," blocked you");if(c.following===false)return _react2.default.createElement("span",null,_react2.default.createElement("i",{className:"fa fa-user-times"})," ",_react2.default.createElement(_index.UserLink,{id:msg.value.author})," unfollowed you")}}]);return Notification}(_react2.default.Component);exports.default=Notification},{"../../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js","../../lib/util":"/Users/paulfrazee/patchwork/ui/lib/util.js","../index":"/Users/paulfrazee/patchwork/ui/com/index.jsx","../markdown":"/Users/paulfrazee/patchwork/ui/com/markdown.jsx","patchwork-threads":"/Users/paulfrazee/patchwork/node_modules/patchwork-threads/index.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","ssb-msgs":"/Users/paulfrazee/patchwork/node_modules/ssb-msgs/index.js"}],"/Users/paulfrazee/patchwork/ui/com/msg-view/oneline.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _ssbMsgs=require("ssb-msgs");var _ssbMsgs2=_interopRequireDefault(_ssbMsgs);var _patchworkThreads=require("patchwork-threads");var _patchworkThreads2=_interopRequireDefault(_patchworkThreads);var _index=require("../index");var _msgContent=require("../msg-content");var _msgRelation=require("../../lib/msg-relation");var _app=require("../../lib/app");var _app2=_interopRequireDefault(_app);var _util=require("../../lib/util");var _util2=_interopRequireDefault(_util);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Oneline=function(_React$Component){_inherits(Oneline,_React$Component);function Oneline(props){_classCallCheck(this,Oneline);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Oneline).call(this,props));_this.changeCounter=props.msg.changeCounter||0;return _this}_createClass(Oneline,[{key:"onClick",value:function onClick(){this.props.onSelect(this.props.msg)}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(nextProps,nextState){if(nextProps.selectiveUpdate){var shouldUpdate=this.changeCounter!==nextProps.msg.changeCounter;this.changeCounter=nextProps.msg.changeCounter;return shouldUpdate}return true}},{key:"render",value:function render(){var msg=this.props.msg;var lastMsg=!this.props.forceRaw?_patchworkThreads2.default.getLastThreadPost(msg):false;var replies=(0,_msgRelation.countReplies)(msg);replies=replies===0?_react2.default.createElement("span",{style:{color:"#bbb"}},"1"):_react2.default.createElement("span",null,replies+1);return _react2.default.createElement("div",{className:"msg-view oneline"+(msg.hasUnread?" unread":""),onClick:this.onClick.bind(this)},_react2.default.createElement("div",{className:"authors"},_react2.default.createElement(_index.UserPic,{
id:msg.value.author})),!this.props.noReplies?_react2.default.createElement("div",{className:"replies"},replies):"",_react2.default.createElement("div",{className:"type"},msg.plaintext?"":_react2.default.createElement("i",{className:"fa fa-lock",title:"Secret Message"})),_react2.default.createElement("div",{className:"content"},_react2.default.createElement(_msgContent.Inline,{msg:msg,forceRaw:this.props.forceRaw})),_react2.default.createElement("div",{className:"date"},_react2.default.createElement(_index.NiceDate,{ts:(lastMsg||msg).value.timestamp})))}}]);return Oneline}(_react2.default.Component);exports.default=Oneline},{"../../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js","../../lib/msg-relation":"/Users/paulfrazee/patchwork/ui/lib/msg-relation.js","../../lib/util":"/Users/paulfrazee/patchwork/ui/lib/util.js","../index":"/Users/paulfrazee/patchwork/ui/com/index.jsx","../msg-content":"/Users/paulfrazee/patchwork/ui/com/msg-content.jsx","patchwork-threads":"/Users/paulfrazee/patchwork/node_modules/patchwork-threads/index.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","ssb-msgs":"/Users/paulfrazee/patchwork/node_modules/ssb-msgs/index.js"}],"/Users/paulfrazee/patchwork/ui/com/msg-view/summary.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _reactRouter=require("react-router");var _ssbMsgs=require("ssb-msgs");var _ssbMsgs2=_interopRequireDefault(_ssbMsgs);var _patchworkThreads=require("patchwork-threads");var _patchworkThreads2=_interopRequireDefault(_patchworkThreads);var _index=require("../index");var _msgContent=require("../msg-content");var _msgRelation=require("../../lib/msg-relation");var _util=require("../../lib/util");var _util2=_interopRequireDefault(_util);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Summary=function(_React$Component){_inherits(Summary,_React$Component);function Summary(){_classCallCheck(this,Summary);return _possibleConstructorReturn(this,Object.getPrototypeOf(Summary).apply(this,arguments))}_createClass(Summary,[{key:"onClick",value:function onClick(e){for(var el=e.nativeEvent.target;el;el=el.parentNode){if(el===e.currentTarget)break;if(el.tagName==="A")return}this.props.onSelect(this.props.msg)}},{key:"render",value:function render(){var msg=this.props.msg;var lastMsg=!this.props.forceRaw?_patchworkThreads2.default.getLastThreadPost(msg):false;var channel=msg&&msg.value&&msg.value.content&&msg.value.content.channel;var replies=(0,_msgRelation.countReplies)(msg);replies=replies===0?"":"("+(replies+1)+")";return _react2.default.createElement("div",{className:"msg-view summary"+(this.props.selected?" selected":"")+(msg.hasUnread?" unread":""),onClick:this.onClick.bind(this)},this.props.userPic?_react2.default.createElement("div",{className:"left-meta"},_react2.default.createElement(_index.UserPic,{id:msg.value.author})):"",_react2.default.createElement("div",{className:"content"},_react2.default.createElement("div",{className:"header"},_react2.default.createElement("div",{className:"header-left"},msg.plaintext?"":_react2.default.createElement("i",{className:"fa fa-lock"})," ",_react2.default.createElement(_index.UserLink,{id:msg.value.author})," ",replies," ",msg.mentionsUser?_react2.default.createElement("i",{className:"fa fa-at"}):""," ",channel?_react2.default.createElement("span",{className:"channel"},"in ",_react2.default.createElement(_reactRouter.Link,{to:"/newsfeed/channel/"+channel},"#",channel)):""),_react2.default.createElement("div",{className:"header-right"},_react2.default.createElement(_index.NiceDate,{ts:(lastMsg||msg).value.timestamp}))),_react2.default.createElement("div",{className:"body"},_react2.default.createElement("div",{className:"body-line"},_react2.default.createElement(_msgContent.Inline,{msg:msg,forceRaw:this.props.forceRaw})),!this.props.noReply&&lastMsg&&lastMsg!==msg?_react2.default.createElement("div",{className:"body-line"},_react2.default.createElement(_msgContent.Inline,{msg:lastMsg})):"")))}}]);return Summary}(_react2.default.Component);exports.default=Summary},{"../../lib/msg-relation":"/Users/paulfrazee/patchwork/ui/lib/msg-relation.js","../../lib/util":"/Users/paulfrazee/patchwork/ui/lib/util.js","../index":"/Users/paulfrazee/patchwork/ui/com/index.jsx","../msg-content":"/Users/paulfrazee/patchwork/ui/com/msg-content.jsx","patchwork-threads":"/Users/paulfrazee/patchwork/node_modules/patchwork-threads/index.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","react-router":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/index.js","ssb-msgs":"/Users/paulfrazee/patchwork/node_modules/ssb-msgs/index.js"}],"/Users/paulfrazee/patchwork/ui/com/pretty-raw.js":[function(require,module,exports){"use strict";"use babel";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});exports.Div=exports.Table=undefined;var _react=require("react");var _react2=_interopRequireDefault(_react);var _ssbRef=require("ssb-ref");var _ssbRef2=_interopRequireDefault(_ssbRef);var _index=require("./index");var _app=require("../lib/app");var _app2=_interopRequireDefault(_app);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var TableRow=function(_React$Component){_inherits(TableRow,_React$Component);function TableRow(){_classCallCheck(this,TableRow);return _possibleConstructorReturn(this,Object.getPrototypeOf(TableRow).apply(this,arguments))}_createClass(TableRow,[{key:"render",value:function render(){var value=this.props.value;if(_ssbRef2.default.isLink(value)){if(_ssbRef2.default.isMsg(value))value=_react2.default.createElement(_index.MsgLink,{id:value,name:this.props.name});else if(_ssbRef2.default.isBlob(value))value=_react2.default.createElement(_index.BlobLink,{id:value,name:this.props.name});else if(_ssbRef2.default.isFeed(value))value=_react2.default.createElement(_index.UserLink,{id:value})}else if(typeof value=="boolean")value=value?"true":"false";return _react2.default.createElement("tr",null,_react2.default.createElement("td",null,this.props.path),_react2.default.createElement("td",null,value))}}]);return TableRow}(_react2.default.Component);function elements(path,obj,Com){var els=[];path=path?path+".":"";for(var k in obj){if(obj[k]&&_typeof(obj[k])=="object")els=els.concat(elements(path+k,obj[k],Com));else els.push(_react2.default.createElement(Com,{key:path+k,path:path+k,value:obj[k],name:obj.name}))}return els}var Table=exports.Table=function(_React$Component2){_inherits(Table,_React$Component2);function Table(props){_classCallCheck(this,Table);var _this2=_possibleConstructorReturn(this,Object.getPrototypeOf(Table).call(this,props));_this2.state={obj:null};return _this2}_createClass(Table,[{key:"componentDidMount",value:function componentDidMount(){var _this3=this;var obj=this.props.obj;this.setState({obj:obj});if(typeof obj=="string"){_app2.default.ssb.private.unbox(obj,function(err,decrypted){if(decrypted)_this3.setState({obj:decrypted})})}}},{key:"render",value:function render(){if(!this.state.obj||typeof this.state.obj=="string")return _react2.default.createElement("table",{className:"pretty-raw"},_react2.default.createElement("tbody",null,_react2.default.createElement("tr",null,_react2.default.createElement("td",null,"Encrypted Message"))));return _react2.default.createElement("table",{className:"pretty-raw"},_react2.default.createElement("tbody",null,elements(false,this.state.obj,TableRow)))}}]);return Table}(_react2.default.Component);var DivElem=function(_React$Component3){_inherits(DivElem,_React$Component3);function DivElem(){_classCallCheck(this,DivElem);return _possibleConstructorReturn(this,Object.getPrototypeOf(DivElem).apply(this,arguments))}_createClass(DivElem,[{key:"render",value:function render(){var value=this.props.value;if(_ssbRef2.default.isLink(value)){if(_ssbRef2.default.isMsg(value))value=_react2.default.createElement(_index.MsgLink,{id:value,name:this.props.name});else if(_ssbRef2.default.isBlob(value))value=_react2.default.createElement(_index.BlobLink,{id:value,name:this.props.name});else if(_ssbRef2.default.isFeed(value))value=_react2.default.createElement(_index.UserLink,{id:value})}else if(typeof value=="boolean")value=value?"true":"false";return _react2.default.createElement("div",null,_react2.default.createElement("small",null,this.props.path)," ",value)}}]);return DivElem}(_react2.default.Component);var Div=exports.Div=function(_Table){_inherits(Div,_Table);function Div(){_classCallCheck(this,Div);return _possibleConstructorReturn(this,Object.getPrototypeOf(Div).apply(this,arguments))}_createClass(Div,[{key:"render",value:function render(){if(!this.state.obj||typeof this.state.obj=="string")return _react2.default.createElement("div",{className:"pretty-raw flex"},"Encrypted Message");return _react2.default.createElement("div",{className:"pretty-raw flex"},elements(false,this.state.obj,DivElem))}}]);return Div}(Table)},{"../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js","./index":"/Users/paulfrazee/patchwork/ui/com/index.jsx",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","ssb-ref":"/Users/paulfrazee/patchwork/node_modules/ssb-ref/index.js"}],"/Users/paulfrazee/patchwork/ui/com/responsive-element.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _reactDom=require("react-dom");var _reactDom2=_interopRequireDefault(_reactDom);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ResponsiveElement=function(_React$Component){_inherits(ResponsiveElement,_React$Component);function ResponsiveElement(props){_classCallCheck(this,ResponsiveElement);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(ResponsiveElement).call(this,props));_this.state={widthClass:""};return _this}_createClass(ResponsiveElement,[{key:"componentDidMount",value:function componentDidMount(){this.calcWidthClass();this.resizeListener=this.calcWidthClass.bind(this);window.addEventListener("resize",this.resizeListener)}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("resize",this.resizeListener)}},{key:"calcWidthClass",value:function calcWidthClass(){var widthStep=this.props.widthStep||200;if(this.refs&&this.refs.el){var rect=_reactDom2.default.findDOMNode(this.refs.el).getClientRects()[0];if(!rect)return;var widthClasses=[];for(var i=0;i<=Math.floor(rect.width/widthStep);i++){widthClasses.push("width-gt"+i*widthStep)}this.setState({widthClass:widthClasses.join(" ")})}}},{key:"render",value:function render(){return _react2.default.createElement("div",{ref:"el",className:this.state.widthClass},this.props.children||"")}}]);return ResponsiveElement}(_react2.default.Component);exports.default=ResponsiveElement},{react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","react-dom":"/Users/paulfrazee/patchwork/node_modules/react-dom/index.js"}],"/Users/paulfrazee/patchwork/ui/com/search-palette.jsx":[function(require,module,exports){"use strict";"use babel";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _classnames=require("classnames");var _classnames2=_interopRequireDefault(_classnames);var _search=require("../lib/search");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var KEYCODE_UP=38;var KEYCODE_DOWN=40;var KEYCODE_ENTER=13;function boundary(v,low,high){return Math.min(Math.max(v,low),high)}var SearchResults=function(_React$Component){_inherits(SearchResults,_React$Component);function SearchResults(props){_classCallCheck(this,SearchResults);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(SearchResults).call(this,props));_this.state={selected:false};return _this}_createClass(SearchResults,[{key:"onMouseOverResult",value:function onMouseOverResult(index){this.setState({selected:index})}},{key:"moveSelection",value:function moveSelection(direction){if(this.state.selected===false){this.setState({selected:0})}else{this.setState({selected:boundary(this.state.selected+direction,0,this.props.results.length-1)})}}},{key:"getSelectedResult",value:function getSelectedResult(){return this.props.results[this.state.selected]||this.props.results[0]}},{key:"render",value:function render(){var _this2=this;var Result=function Result(props){return _react2.default.createElement("div",{className:(0,_classnames2.default)({selected:_this2.state.selected===props.index}),onMouseOver:_this2.onMouseOverResult.bind(_this2,props.index),onClick:_this2.props.onClickResult},_react2.default.createElement("i",{className:"fa fa-"+props.icon})," ",props.label)};return _react2.default.createElement("div",{className:"search-palette-results"},this.props.results.map(function(r,i){return _react2.default.createElement(Result,_extends({key:i,index:i},r))}))}}]);return SearchResults}(_react2.default.Component);var SearchPalette=function(_React$Component2){_inherits(SearchPalette,_React$Component2);function SearchPalette(props){_classCallCheck(this,SearchPalette);var _this3=_possibleConstructorReturn(this,Object.getPrototypeOf(SearchPalette).call(this,props));_this3.state={query:"",results:[]};_this3.unlistenBefore=app.history.listenBefore(_this3.onBeforeNavigation.bind(_this3));return _this3}_createClass(SearchPalette,[{key:"componentWillUnmount",value:function componentWillUnmount(){this.unlistenBefore()}},{key:"onBeforeNavigation",value:function onBeforeNavigation(){this.setState({query:"",results:[]})}},{key:"onChange",value:function onChange(e){var query=e.target.value;this.setState({query:query,results:query?(0,_search.getResults)(query):[]})}},{key:"onKeyDown",value:function onKeyDown(e){if(e.keyCode==KEYCODE_ENTER){this.onSearch();e.preventDefault()}if(e.keyCode==KEYCODE_UP&&this.refs.results){this.refs.results.moveSelection(-1);e.preventDefault()}if(e.keyCode==KEYCODE_DOWN&&this.refs.results){this.refs.results.moveSelection(1);e.preventDefault()}}},{key:"onSearch",value:function onSearch(){this.refs.results.getSelectedResult().fn(this.state.query)}},{key:"focus",value:function focus(){this.refs.search.focus()}},{key:"render",value:function render(){var hasQuery=!!this.state.query;return _react2.default.createElement("div",{className:"search-palette"},_react2.default.createElement("i",{className:"fa fa-search"}),_react2.default.createElement("input",{ref:"search",placeholder:"Search for people or content",value:this.state.query,onChange:this.onChange.bind(this),onKeyDown:this.onKeyDown.bind(this)}),hasQuery?_react2.default.createElement(SearchResults,{ref:"results",query:this.state.query,results:this.state.results,onClickResult:this.onSearch.bind(this)}):"")}}]);return SearchPalette}(_react2.default.Component);exports.default=SearchPalette},{"../lib/search":"/Users/paulfrazee/patchwork/ui/lib/search.js",classnames:"/Users/paulfrazee/patchwork/node_modules/classnames/index.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/ui/com/simple-infinite.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _index=require("./index");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var SimpleInfinite=function(_React$Component){_inherits(SimpleInfinite,_React$Component);function SimpleInfinite(props){_classCallCheck(this,SimpleInfinite);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(SimpleInfinite).call(this,props));_this.scrollingTo=false;_this.onScroll=function(){if(!_this.hasLoadableContent())return;var el=_this.refs.container;if(el.offsetHeight+el.scrollTop+_this.props.infiniteLoadBeginBottomOffset>=el.scrollHeight){_this.props.onInfiniteLoad(_this.scrollingTo)}};return _this}_createClass(SimpleInfinite,[{key:"hasLoadableContent",value:function hasLoadableContent(){return!!this.props.infiniteLoadBeginBottomOffset}},{key:"scrollTo",value:function scrollTo(top){var _this2=this;var el=this.refs&&this.refs.container;if(!el)return;if(el.scrollTop==top||!this.hasLoadableContent()){this.scrollingTo=false;return}el.scrollTop=top;if(el.scrollTop!==top){this.scrollingTo=top;setTimeout(function(){return _this2.scrollTo(top)},1)}else this.scrollingTo=false}},{key:"render",value:function render(){return _react2.default.createElement("div",{id:this.props.id,className:"vertical-filled",ref:"container",onScroll:this.onScroll,style:{height:this.props.containerHeight,overflow:"auto"}},this.props.children)}}]);return SimpleInfinite}(_react2.default.Component);exports.default=(0,_index.verticalFilled)(SimpleInfinite)},{"./index":"/Users/paulfrazee/patchwork/ui/com/index.jsx",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/ui/com/stepped-progress-bar.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _classNames=require("classNames");var _classNames2=_interopRequireDefault(_classNames);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function mkarray(n){var arr=[];arr.length=n;for(var i=0;i<n;i++){arr[i]=false}return arr}var SteppedProgressBar=function(_React$Component){_inherits(SteppedProgressBar,_React$Component);function SteppedProgressBar(){_classCallCheck(this,SteppedProgressBar);return _possibleConstructorReturn(this,Object.getPrototypeOf(SteppedProgressBar).apply(this,arguments))}_createClass(SteppedProgressBar,[{key:"render",value:function render(){var _this2=this;var n=this.props.num||this.props.labels.length;var hasLabels=!!this.props.labels;var labels=this.props.labels||mkarray(n);return _react2.default.createElement("ul",{className:"stepped-progress-bar n"+n+(this.props.canGoBack?" can-go-back":"")+(hasLabels?"":" no-labels")},labels.map(function(label,i){var onClick=_this2.props.canGoBack?function(){return _this2.props.onClick(i)}:undefined;var className=(0,_classNames2.default)({active:i<=_this2.props.current,current:i==_this2.props.current});return _react2.default.createElement("li",{key:i,className:className,onClick:onClick},label)}))}}]);return SteppedProgressBar}(_react2.default.Component);exports.default=SteppedProgressBar},{classNames:"/Users/paulfrazee/patchwork/node_modules/classNames/index.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/ui/com/tabs.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Tab=function(_React$Component){_inherits(Tab,_React$Component);function Tab(){_classCallCheck(this,Tab);return _possibleConstructorReturn(this,Object.getPrototypeOf(Tab).apply(this,arguments))}_createClass(Tab,[{key:"onClick",value:function onClick(){this.props.onClick(this.props.option)}},{key:"render",value:function render(){var icon=this.props.useIcon?_react2.default.createElement("i",{className:"fa fa-"+(this.props.selected?"check-circle-o":"circle-thin")}):"";return _react2.default.createElement("a",{className:this.props.selected?"selected":"",onClick:this.onClick.bind(this)},icon," ",this.props.option.label)}}]);return Tab}(_react2.default.Component);var Tabs=function(_React$Component2){_inherits(Tabs,_React$Component2);function Tabs(){_classCallCheck(this,Tabs);return _possibleConstructorReturn(this,Object.getPrototypeOf(Tabs).apply(this,arguments))}_createClass(Tabs,[{key:"render",value:function render(){var _this3=this;return _react2.default.createElement("div",{className:"tabs"+(this.props.vertical?" vertical":"")},this.props.options.map(function(opt,i){return _react2.default.createElement(Tab,{key:i,useIcon:!!_this3.props.vertical,option:opt,selected:opt===_this3.props.selected,onClick:_this3.props.onSelect})}))}}]);return Tabs}(_react2.default.Component);exports.default=Tabs},{react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/ui/com/user/info.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});exports.UserInfoFlags=exports.UserInfoContacts=exports.UserInfoHeader=undefined;var _react=require("react");var _react2=_interopRequireDefault(_react);var _reactRouter=require("react-router");var _ssbMsgSchemas=require("ssb-msg-schemas");var _ssbMsgSchemas2=_interopRequireDefault(_ssbMsgSchemas);var _multicb=require("multicb");var _multicb2=_interopRequireDefault(_multicb);var _btn=require("../modals/btn");var _btn2=_interopRequireDefault(_btn);var _rename=require("../forms/rename");var _rename2=_interopRequireDefault(_rename);var _profileName=require("../forms/profile-name");var _profileName2=_interopRequireDefault(_profileName);var _profileImage=require("../forms/profile-image");var _profileImage2=_interopRequireDefault(_profileImage);var _index=require("../index");var _summary=require("./summary");var _summary2=_interopRequireDefault(_summary);var _dropdown=require("../dropdown");var _dropdown2=_interopRequireDefault(_dropdown);var _mentions=require("../../lib/mentions");var _mentions2=_interopRequireDefault(_mentions);var _app=require("../../lib/app");var _app2=_interopRequireDefault(_app);var _util=require("../../lib/util");var _util2=_interopRequireDefault(_util);var _socialGraph=require("../../lib/social-graph");
var _socialGraph2=_interopRequireDefault(_socialGraph);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var FLAG_DROPDOWN=[{value:"spam",label:_react2.default.createElement("span",null,_react2.default.createElement("i",{className:"fa fa-flag"})," Spammer")},{value:"abuse",label:_react2.default.createElement("span",null,_react2.default.createElement("i",{className:"fa fa-flag"})," Abusive")},{value:false,label:_react2.default.createElement("span",null,_react2.default.createElement("i",{className:"fa fa-flag"})," Personal reasons")}];var UserInfoHeader=exports.UserInfoHeader=function(_AutoRefreshingCompon){_inherits(UserInfoHeader,_AutoRefreshingCompon);function UserInfoHeader(props){_classCallCheck(this,UserInfoHeader);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(UserInfoHeader).call(this,props));var reload=function reload(){_app2.default.fetchLatestState(_this.refreshState.bind(_this))};_this.on={toggleFollow:function toggleFollow(){if(_this.state.isSelf)return;var msg=_this.state.isFollowing?_ssbMsgSchemas2.default.unfollow(_this.props.pid):_ssbMsgSchemas2.default.follow(_this.props.pid);_app2.default.ssb.publish(msg,function(err){if(err)return _app2.default.issue("Failed to publish contact msg",err,"Profile view onToggleFollow");reload()})},flag:function flag(reason){var voteMsg=_ssbMsgSchemas2.default.vote(_this.props.pid,-1,reason);var contactMsg=_ssbMsgSchemas2.default.block(_this.props.pid);var done=(0,_multicb2.default)();_app2.default.ssb.publish(voteMsg,done());_app2.default.ssb.publish(contactMsg,done());done(function(err){if(err)return _app2.default.issue("Failed to publish flag",err,"Happened in on.flag of UserInfo");reload()})},unflag:function unflag(reason){var voteMsg=_ssbMsgSchemas2.default.vote(_this.props.pid,0);var contactMsg=_ssbMsgSchemas2.default.unblock(_this.props.pid);var done=(0,_multicb2.default)();_app2.default.ssb.publish(voteMsg,done());_app2.default.ssb.publish(contactMsg,done());done(function(err){if(err)return _app2.default.issue("Failed to publish update",err,"Happened in on.unflag of UserInfo");reload()})}};return _this}_createClass(UserInfoHeader,[{key:"computeState",value:function computeState(props){var pid=props?props.pid:this.props.pid;return{profile:_app2.default.users.profiles[pid],name:_app2.default.users.names[pid]||_util2.default.shortString(pid,6),isSelf:pid==_app2.default.user.id,isFollowing:_socialGraph2.default.follows(_app2.default.user.id,pid),followsYou:_socialGraph2.default.follows(pid,_app2.default.user.id),hasFlagged:_socialGraph2.default.flags(_app2.default.user.id,pid),hasBlocked:_socialGraph2.default.blocks(_app2.default.user.id,pid),contacts:_socialGraph2.default.contacts(pid),flaggers:_socialGraph2.default.followedFlaggers(_app2.default.user.id,pid,true)}}},{key:"render",value:function render(){var nameConflictDlg;var nameConflicts=[];for(var id in _app2.default.users.names){if(id!=this.props.pid&&_app2.default.users.names[id]==_app2.default.users.names[this.props.pid])nameConflicts.push(id)}if(nameConflicts.length){}var ncontacts=this.state.contacts.length;var nflaggers=this.state.flaggers.length;return _react2.default.createElement("div",{className:"user-info"},_react2.default.createElement("div",{className:"avatar"},_react2.default.createElement("img",{src:_util2.default.profilePicUrl(this.props.pid)})),_react2.default.createElement("div",{className:"facts"},_react2.default.createElement("div",{className:"flex",style:{alignItems:"center"}},_react2.default.createElement("h1",{style:{marginRight:5}},this.state.name),_react2.default.createElement(_btn2.default,{className:"fullheight",Form:this.state.isSelf?_profileName2.default:_rename2.default,formProps:{id:this.props.pid},nextLabel:"Publish"},_react2.default.createElement("i",{className:"fa fa-pencil",style:{color:"gray"}}))),_react2.default.createElement("pre",null,_react2.default.createElement("code",null,this.props.pid)),_react2.default.createElement("div",null,this.state.isSelf?_react2.default.createElement("span",{className:"btn-group"},_react2.default.createElement(_btn2.default,{className:"btn fullheight",Form:_profileName2.default,nextLabel:"Publish"},_react2.default.createElement("i",{className:"fa fa-wrench"})," Edit Name"),_react2.default.createElement(_btn2.default,{className:"btn fullheight",Form:_profileImage2.default,nextLabel:"Publish"},_react2.default.createElement("i",{className:"fa fa-wrench"})," Edit Image")):_react2.default.createElement("span",{className:"btn-group"},this.state.hasBlocked?_react2.default.createElement("span",{className:"btn disabled"},"Blocked"):_react2.default.createElement("a",{className:"btn",onClick:this.on.toggleFollow},this.state.isFollowing?_react2.default.createElement("span",null,_react2.default.createElement("i",{className:"fa fa-user-times"})," Unfollow"):_react2.default.createElement("span",null,_react2.default.createElement("i",{className:"fa fa-user-plus"})," Follow")),this.state.hasBlocked?_react2.default.createElement("a",{className:"btn",onClick:this.on.unflag},_react2.default.createElement("i",{className:"fa fa-times"})," Unflag"):_react2.default.createElement(_dropdown2.default,{className:"btn",items:FLAG_DROPDOWN,right:true,onSelect:this.on.flag},_react2.default.createElement("i",{className:"fa fa-flag"})," Flag"))),_react2.default.createElement("table",null,_react2.default.createElement("tbody",null,_react2.default.createElement("tr",null,_react2.default.createElement("td",null,ncontacts),_react2.default.createElement("td",null,"contact",ncontacts===1?"":"s")),_react2.default.createElement("tr",null,_react2.default.createElement("td",null,nflaggers),_react2.default.createElement("td",null,"flag",nflaggers===1?"":"s"))))))}}]);return UserInfoHeader}(_index.AutoRefreshingComponent);function sortFollowedFirst(a,b){var aFollowed=_app2.default.user.id===a||_socialGraph2.default.follows(_app2.default.user.id,a)?1:0;var bFollowed=_app2.default.user.id===b||_socialGraph2.default.follows(_app2.default.user.id,b)?1:0;return bFollowed-aFollowed}var UserInfoContacts=exports.UserInfoContacts=function(_AutoRefreshingCompon2){_inherits(UserInfoContacts,_AutoRefreshingCompon2);function UserInfoContacts(){_classCallCheck(this,UserInfoContacts);return _possibleConstructorReturn(this,Object.getPrototypeOf(UserInfoContacts).apply(this,arguments))}_createClass(UserInfoContacts,[{key:"computeState",value:function computeState(props){var pid=props?props.pid:this.props.pid;return{contacts:_socialGraph2.default.contacts(pid).sort(sortFollowedFirst)}}},{key:"render",value:function render(){return _react2.default.createElement("div",{className:"user-info-card"},_react2.default.createElement("div",{className:"content"},this.state.contacts.length?"":_react2.default.createElement("em",null,"No contacts found."),this.state.contacts.map(function(id){return _react2.default.createElement(_summary2.default,{key:id,pid:id})})))}}]);return UserInfoContacts}(_index.AutoRefreshingComponent);var UserInfoFlags=exports.UserInfoFlags=function(_AutoRefreshingCompon3){_inherits(UserInfoFlags,_AutoRefreshingCompon3);function UserInfoFlags(){_classCallCheck(this,UserInfoFlags);return _possibleConstructorReturn(this,Object.getPrototypeOf(UserInfoFlags).apply(this,arguments))}_createClass(UserInfoFlags,[{key:"computeState",value:function computeState(props){var pid=props?props.pid:this.props.pid;return{flaggers:_socialGraph2.default.followedFlaggers(_app2.default.user.id,pid,true)}}},{key:"render",value:function render(){var pid=this.props.pid;var flaggers=this.state.flaggers;if(flaggers.length===0)return _react2.default.createElement("span",null);var flagsGroupedByReason={};flaggers.forEach(function(userId){try{var flagMsg=_app2.default.users.profiles[pid].assignedBy[userId].flagged;var r=flagMsg.reason||"other";flagsGroupedByReason[r]=flagsGroupedByReason[r]||[];flagsGroupedByReason[r].push(userId)}catch(e){}});return _react2.default.createElement("div",{className:"user-info-card"},Object.keys(flagsGroupedByReason).map(function(reason){var reasonLabel=undefined;if(reason==="spam")reasonLabel="spamming";else if(reason==="abuse")reasonLabel="abusive behavior";else reasonLabel="personal reasons";return _react2.default.createElement("div",{key:"flag-"+reason},_react2.default.createElement("h3",null,"flagged for ",reasonLabel," by"),_react2.default.createElement("div",{className:"content"},flagsGroupedByReason[reason].map(function(id,i){return _react2.default.createElement(_index.UserBtn,{key:"flag"+i,id:id})})))}))}}]);return UserInfoFlags}(_index.AutoRefreshingComponent)},{"../../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js","../../lib/mentions":"/Users/paulfrazee/patchwork/ui/lib/mentions.js","../../lib/social-graph":"/Users/paulfrazee/patchwork/ui/lib/social-graph.js","../../lib/util":"/Users/paulfrazee/patchwork/ui/lib/util.js","../dropdown":"/Users/paulfrazee/patchwork/ui/com/dropdown.jsx","../forms/profile-image":"/Users/paulfrazee/patchwork/ui/com/forms/profile-image.jsx","../forms/profile-name":"/Users/paulfrazee/patchwork/ui/com/forms/profile-name.jsx","../forms/rename":"/Users/paulfrazee/patchwork/ui/com/forms/rename.jsx","../index":"/Users/paulfrazee/patchwork/ui/com/index.jsx","../modals/btn":"/Users/paulfrazee/patchwork/ui/com/modals/btn.jsx","./summary":"/Users/paulfrazee/patchwork/ui/com/user/summary.jsx",multicb:"/Users/paulfrazee/patchwork/node_modules/multicb/index.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","react-router":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/index.js","ssb-msg-schemas":"/Users/paulfrazee/patchwork/node_modules/ssb-msg-schemas/index.js"}],"/Users/paulfrazee/patchwork/ui/com/user/summary.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _reactRouter=require("react-router");var _index=require("../index");var _app=require("../../lib/app");var _app2=_interopRequireDefault(_app);var _util=require("../../lib/util");var _util2=_interopRequireDefault(_util);var _socialGraph=require("../../lib/social-graph");var _socialGraph2=_interopRequireDefault(_socialGraph);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var UserSummary=function(_AutoRefreshingCompon){_inherits(UserSummary,_AutoRefreshingCompon);function UserSummary(){_classCallCheck(this,UserSummary);return _possibleConstructorReturn(this,Object.getPrototypeOf(UserSummary).apply(this,arguments))}_createClass(UserSummary,[{key:"computeState",value:function computeState(props){var pid=props.pid;return{profile:_app2.default.users.profiles[pid],name:_app2.default.users.names[pid]||_util2.default.shortString(pid,6),isUser:_app2.default.user.id===pid,following:_socialGraph2.default.follows(_app2.default.user.id,pid),follower:_socialGraph2.default.follows(pid,_app2.default.user.id),flagged:_socialGraph2.default.flags(_app2.default.user.id,pid)}}},{key:"onClick",value:function onClick(){_app2.default.history.pushState(null,"/profile/"+encodeURIComponent(this.props.pid))}},{key:"render",value:function render(){return _react2.default.createElement("div",{className:"user-summary",onClick:this.onClick.bind(this)},_react2.default.createElement(_index.UserPic,{id:this.props.pid}),_react2.default.createElement("div",{className:"name"},this.state.name))}}]);return UserSummary}(_index.AutoRefreshingComponent);exports.default=UserSummary},{"../../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js","../../lib/social-graph":"/Users/paulfrazee/patchwork/ui/lib/social-graph.js","../../lib/util":"/Users/paulfrazee/patchwork/ui/lib/util.js","../index":"/Users/paulfrazee/patchwork/ui/com/index.jsx",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","react-router":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/index.js"}],"/Users/paulfrazee/patchwork/ui/com/user/view.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _ssbMsgs=require("ssb-msgs");var _ssbMsgs2=_interopRequireDefault(_ssbMsgs);var _tabs=require("../tabs");var _tabs2=_interopRequireDefault(_tabs);var _msgList=require("../msg-list");var _msgList2=_interopRequireDefault(_msgList);var _card=require("../msg-view/card");var _card2=_interopRequireDefault(_card);var _oneline=require("../msg-view/oneline");var _oneline2=_interopRequireDefault(_oneline);var _index=require("../index");var _info=require("./info");var _app=require("../../lib/app");var _app2=_interopRequireDefault(_app);var _util=require("../../lib/util");var _util2=_interopRequireDefault(_util);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var VIEW_POSTS={label:_react2.default.createElement("h2",null,"Posts")};var VIEW_CONTACTS={label:_react2.default.createElement("h2",null,"Contacts")};var VIEW_DATA={label:_react2.default.createElement("h2",null,"Data")};var TABS=[VIEW_POSTS,VIEW_CONTACTS,VIEW_DATA];var UserView=function(_React$Component){_inherits(UserView,_React$Component);function UserView(props){_classCallCheck(this,UserView);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(UserView).call(this,props));_this.state={currentTabIndex:0};return _this}_createClass(UserView,[{key:"getTabs",value:function getTabs(){return TABS}},{key:"onSelectTab",value:function onSelectTab(tab){var tabs=this.getTabs();this.setState({currentTabIndex:tabs.indexOf(tab)})}},{key:"onSend",value:function onSend(){this.refs.list.reload()}},{key:"render",value:function render(){var _this2=this;var tabs=this.getTabs();var currentTab=tabs[this.state.currentTabIndex]||tabs[0];var Hero=function Hero(props){return _react2.default.createElement("div",null,_react2.default.createElement(_info.UserInfoHeader,{key:_this2.props.pid,pid:_this2.props.pid}),_react2.default.createElement(_tabs2.default,{options:tabs,selected:currentTab,onSelect:_this2.onSelectTab.bind(_this2)}))};if(currentTab===VIEW_CONTACTS){return _react2.default.createElement(_index.VerticalFilledContainer,{className:"user-profile",key:this.props.pid},_react2.default.createElement(Hero,null),_react2.default.createElement("div",{className:"user-profile-about"},_react2.default.createElement(_info.UserInfoContacts,{pid:this.props.pid})))}var name=_util2.default.getName(this.props.pid);var isSelf=this.props.pid==_app2.default.user.id;var feed=function feed(opts){opts=opts||{};opts.id=_this2.props.pid;return _app2.default.ssb.createUserStream(opts)};var cursor=function cursor(msg){if(msg)return msg.value.sequence};var forceRaw=currentTab===VIEW_DATA;var filter=currentTab===VIEW_POSTS?function(msg){var c=msg.value.content;if(c.type=="post"&&!(c.root||c.branch))return true}:function(){return true};var composerProps=isSelf?{isPublic:true,placeholder:"Write a new public post",onSend:this.onSend.bind(this)}:{isPublic:false,recps:[this.props.pid],placeholder:"Write a private message to "+name,onSend:this.onSend.bind(this)};var ListItem=_card2.default;if(currentTab===VIEW_POSTS){try{var currentListItemView=JSON.parse(localStorage.msgList).currentMsgView;if(currentListItemView===1)ListItem=_oneline2.default}catch(e){}}return _react2.default.createElement("div",{className:"user-profile",key:this.props.pid+(currentTab===VIEW_DATA?"data":"posts")},_react2.default.createElement(_msgList2.default,{ref:"list",key:currentTab.label,threads:true,dateDividers:true,composer:true,composerProps:composerProps,forceRaw:forceRaw,ListItem:ListItem,Hero:Hero,source:feed,cursor:cursor,filter:filter,refreshOnReply:true}))}}]);return UserView}(_react2.default.Component);exports.default=UserView},{"../../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js","../../lib/util":"/Users/paulfrazee/patchwork/ui/lib/util.js","../index":"/Users/paulfrazee/patchwork/ui/com/index.jsx","../msg-list":"/Users/paulfrazee/patchwork/ui/com/msg-list.jsx","../msg-view/card":"/Users/paulfrazee/patchwork/ui/com/msg-view/card.jsx","../msg-view/oneline":"/Users/paulfrazee/patchwork/ui/com/msg-view/oneline.jsx","../tabs":"/Users/paulfrazee/patchwork/ui/com/tabs.jsx","./info":"/Users/paulfrazee/patchwork/ui/com/user/info.jsx",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","ssb-msgs":"/Users/paulfrazee/patchwork/node_modules/ssb-msgs/index.js"}],"/Users/paulfrazee/patchwork/ui/layout.jsx":[function(require,module,exports){"use strict";"use babel";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _reactRouter=require("react-router");var _app=require("./lib/app");var _app2=_interopRequireDefault(_app);var _flow=require("./com/modals/flow");var _flow2=_interopRequireDefault(_flow);var _welcome=require("./com/forms/welcome");var _welcome2=_interopRequireDefault(_welcome);var _profileName=require("./com/forms/profile-name");var _profileName2=_interopRequireDefault(_profileName);var _profileImage=require("./com/forms/profile-image");var _profileImage2=_interopRequireDefault(_profileImage);var _viewMode=require("./com/forms/view-mode");var _viewMode2=_interopRequireDefault(_viewMode);var _issues=require("./com/issues");var _issues2=_interopRequireDefault(_issues);var _notifications=require("./com/msg-list/notifications");var _notifications2=_interopRequireDefault(_notifications);var _searchPalette=require("./com/search-palette");var _searchPalette2=_interopRequireDefault(_searchPalette);var _findbar=require("./com/findbar");var _findbar2=_interopRequireDefault(_findbar);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var SETUP_FORMS=[_welcome2.default,_profileName2.default,_profileImage2.default,_viewMode2.default];var RIGHT_NAVS={notifications:_notifications2.default};var Layout=function(_React$Component){_inherits(Layout,_React$Component);function Layout(props){_classCallCheck(this,Layout);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Layout).call(this,props));_this.state=_this.buildState();var refresh=function refresh(){_this.setState(_this.buildState())};_app2.default.on("update:all",refresh);_app2.default.on("update:indexCounts",refresh);_app2.default.on("update:isWifiMode",refresh);_app2.default.on("focus:search",_this.focusSearch.bind(_this));_app2.default.on("focus:find",_this.focusFind.bind(_this));_app2.default.on("toggle:rightnav",_this.toggleRightNav.bind(_this));_app2.default.on("modal:setup",function(isOpen){_this.setState({setupIsOpen:isOpen});_app2.default.fetchLatestState()});_app2.default.on("find:next",_this.doFind.bind(_this,true));_app2.default.on("find:previous",_this.doFind.bind(_this,false));return _this}_createClass(Layout,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(){_app2.default.fetchLatestState()}},{key:"buildState",value:function buildState(){return{rightNav:this.state?this.state.rightNav:false,rightNavProps:this.state?this.state.rightNavProps:{},isWifiMode:_app2.default.isWifiMode,indexCounts:_app2.default.indexCounts||{},user:_app2.default.user,users:_app2.default.users,setupIsOpen:_app2.default.user.needsSetup,isComposerOpen:_app2.default.isComposerOpen}}},{key:"toggleRightNav",value:function toggleRightNav(id){if(this.state.rightNav==id)this.setState({rightNav:false,rightNavProps:{}});else this.setState({rightNav:id})}},{key:"focusSearch",value:function focusSearch(){this.refs.search.focus()}},{key:"focusFind",value:function focusFind(){this.refs.find.focus()}},{key:"doFind",value:function doFind(forward){this.refs.find.search(forward)}},{key:"onClickBack",value:function onClickBack(){window.history.back()}},{key:"onSetupClose",value:function onSetupClose(){_app2.default.fetchLatestState()}},{key:"render",value:function render(){var _this2=this;var isElectron=!!window.electron;var location=this.props.location.pathname;var isWifiMode=this.state.isWifiMode;var onToggleRightNav=function onToggleRightNav(id){return function(){_this2.toggleRightNav(id)}};var RightNavView=this.state.rightNav?RIGHT_NAVS[this.state.rightNav]:null;var NavLink=function NavLink(props){var selected=false;var cls=(props.className||"")+" ctrl "+(selected?"selected":"");var count=props.count?_react2.default.createElement("div",{className:"count"},props.count):"";return _react2.default.createElement(_reactRouter.Link,{className:cls,to:props.to},_react2.default.createElement("i",{className:"fa fa-"+props.icon}),_react2.default.createElement("span",{className:"label"},props.label)," ",count)};var NavToggle=function NavToggle(props){var selected=props.to===_this2.state.rightNav;var cls=(props.className||"")+" ctrl "+(selected?"selected":"");var count=props.count?_react2.default.createElement("div",{className:"count"},props.count):"";return _react2.default.createElement("a",{className:cls,onClick:onToggleRightNav(props.to)},_react2.default.createElement("i",{className:"fa fa-"+props.icon})," ",count)};return _react2.default.createElement("div",{className:"layout-rows"},_react2.default.createElement(_flow2.default,{className:"fullheight",Forms:SETUP_FORMS,isOpen:this.state.setupIsOpen,onClose:this.onSetupClose.bind(this)}),_react2.default.createElement("div",{className:"toolbar titlebar flex"},_react2.default.createElement("div",null,isElectron?_react2.default.createElement("a",{className:"ctrl back",onClick:this.onClickBack},_react2.default.createElement("i",{className:"fa fa-angle-left"})):"",_react2.default.createElement(NavLink,{className:"home",to:"/",icon:"home"})),_react2.default.createElement("div",{className:"flex-fill"},_react2.default.createElement(_searchPalette2.default,{ref:"search"})),_react2.default.createElement("div",null,_react2.default.createElement(NavToggle,{to:"notifications",icon:"bell",count:this.state.indexCounts.notificationsUnread}))),_react2.default.createElement("div",{className:"layout-columns"},_react2.default.createElement("div",{id:"mainview"},this.props.children),RightNavView?_react2.default.createElement("div",{id:"rightnav"},_react2.default.createElement(RightNavView,_extends({location:this.props.location},this.state.rightNavProps))):""),_react2.default.createElement(_findbar2.default,{ref:"find","for":"mainview"}))}}]);return Layout}(_react2.default.Component);exports.default=Layout},{"./com/findbar":"/Users/paulfrazee/patchwork/ui/com/findbar.jsx","./com/forms/profile-image":"/Users/paulfrazee/patchwork/ui/com/forms/profile-image.jsx","./com/forms/profile-name":"/Users/paulfrazee/patchwork/ui/com/forms/profile-name.jsx","./com/forms/view-mode":"/Users/paulfrazee/patchwork/ui/com/forms/view-mode.jsx","./com/forms/welcome":"/Users/paulfrazee/patchwork/ui/com/forms/welcome.jsx","./com/issues":"/Users/paulfrazee/patchwork/ui/com/issues.jsx","./com/modals/flow":"/Users/paulfrazee/patchwork/ui/com/modals/flow.jsx","./com/msg-list/notifications":"/Users/paulfrazee/patchwork/ui/com/msg-list/notifications.jsx","./com/search-palette":"/Users/paulfrazee/patchwork/ui/com/search-palette.jsx","./lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","react-router":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/index.js"}],"/Users/paulfrazee/patchwork/ui/lib/app.js":[function(require,module,exports){"use strict";var POLL_PEER_INTERVAL=5e3;var multicb=require("multicb");var pull=require("pull-stream");var SSBClient=require("./ws-client");var emojis=require("emoji-named-characters");var Emitter=require("events");var extend=require("xtend/mutable");var createHashHistory=require("history").createHashHistory;var patchworkEventStream=null;var isWatchingNetwork=false;var app=module.exports=extend(new Emitter,{ssb:SSBClient(),fetchLatestState:fetchLatestState,history:createHashHistory({queryKey:false}),isComposerOpen:false,suggestOptions:{":":Object.keys(emojis).map(function(emoji){return{image:"./img/emoji/"+emoji+".png",title:emoji,subtitle:emoji,value:emoji+":"}}),"@":[]},issues:[],issue:addIssue.bind(null,true),minorIssue:addIssue.bind(null,false),actionItems:{},indexCounts:{},channels:[],user:{id:null,profile:{},needsSetup:false,followeds:[],friends:[],nonfriendFolloweds:[],nonfriendFollowers:[]},users:{names:{},profiles:{}},peers:[],isWifiMode:false});function addIssue(isUrgent,title,err,extraIssueInfo){console.error(title,err,extraIssueInfo);var message=err.message||err.toString();var stack=err.stack||"";var issueDesc=message+"\n\n"+stack+"\n\n"+(extraIssueInfo||"");app.issues.unshift({isRead:false,isUrgent:isUrgent,title:title,message:message,stack:stack,issueUrl:"https://github.com/ssbc/patchwork/issues/new?body="+encodeURIComponent(issueDesc)});app.emit("update:issues")}function updateChannels(name,values){var i;for(i=0;i<app.channels.length;i++){if(app.channels[i].name===name){app.channels[i]=Object.assign({},app.channels[i],values);break}}if(i===app.channels.length)app.channels.push(Object.assign({name:name},values));sortChannels()}function sortChannels(){app.channels.sort(function(a,b){if(a.pinned!==b.pinned){if(a.pinned)return-1;if(b.pinned)return 1}return b.lastUpdated-a.lastUpdated})}function onPatchworkEvent(e){if(e.type=="index-change"){for(var k in e.counts){app.indexCounts[k]=e.counts[k]}app.emit("update:indexCounts");if(e.index.indexOf("channel-")===0){updateChannels(e.index.slice("channel-".length),{lastUpdated:Date.now()});app.emit("update:channels")}}else if(e.type=="isread"){app.emit("update:isread",{key:e.key,value:e.value})}else if(e.type=="channelpinned"){updateChannels(e.channel,{pinned:e.value});app.emit("update:channels")}}function pollPeers(){app.ssb.gossip.peers(function(err,peers){var isWifiMode=require("./util").getPubStats(peers).hasSyncIssue;app.peers=peers;app.emit("update:peers");if(isWifiMode!==app.isWifiMode){app.isWifiMode=isWifiMode;app.emit("update:isWifiMode")}})}function fetchLatestState(cb){if(!patchworkEventStream)pull(patchworkEventStream=app.ssb.patchwork.createEventStream(),pull.drain(onPatchworkEvent.bind(this)));if(!isWatchingNetwork){setInterval(pollPeers,POLL_PEER_INTERVAL);isWatchingNetwork=true}var done=multicb({pluck:1});app.ssb.whoami(done());app.ssb.patchwork.getNamesById(done());app.ssb.patchwork.getAllProfiles(done());app.ssb.patchwork.getActionItems(done());app.ssb.patchwork.getIndexCounts(done());app.ssb.gossip.peers(done());if(!app.channels.length)app.ssb.patchwork.getChannels(done());done(function(err,data){if(err)throw err.message;app.user.id=data[0].id;app.users.names=data[1];app.users.profiles=data[2];app.actionItems=data[3];app.indexCounts=data[4];app.peers=data[5];if(data[6]){app.channels=data[6];sortChannels()}app.isWifiMode=require("./util").getPubStats(app.peers).hasSyncIssue;app.user.profile=app.users.profiles[app.user.id];app.user.needsSetup=!app.users.names[app.user.id];var social=require("./social-graph");app.user.followeds=social.followeds(app.user.id);app.user.friends=app.user.followeds.filter(function(other){
return other!==app.user.id&&social.follows(other,app.user.id)});app.user.nonfriendFolloweds=app.user.followeds.filter(function(other){return other!==app.user.id&&!social.follows(other,app.user.id)});app.user.nonfriendFollowers=social.unfollowedFollowers(app.user.id,app.user.id);app.suggestOptions["@"]=[];if(app.user.profile){for(var id in app.users.profiles){if(id==app.user.profile.id||app.user.profile.assignedTo[id]&&app.user.profile.assignedTo[id].following){var name=app.users.names[id];app.suggestOptions["@"].push({id:id,cls:"user",title:name||id,image:require("./util").profilePicUrl(id),subtitle:name||id,value:name||id.slice(1)})}}}app.emit("update:all");cb&&cb()})}},{"./social-graph":"/Users/paulfrazee/patchwork/ui/lib/social-graph.js","./util":"/Users/paulfrazee/patchwork/ui/lib/util.js","./ws-client":"/Users/paulfrazee/patchwork/ui/lib/ws-client.js","emoji-named-characters":"/Users/paulfrazee/patchwork/node_modules/emoji-named-characters/index.js",events:"/Users/paulfrazee/patchwork/node_modules/events/events.js",history:"/Users/paulfrazee/patchwork/node_modules/history/lib/index.js",multicb:"/Users/paulfrazee/patchwork/node_modules/multicb/index.js","pull-stream":"/Users/paulfrazee/patchwork/node_modules/pull-stream/index.js","xtend/mutable":"/Users/paulfrazee/patchwork/node_modules/xtend/mutable.js"}],"/Users/paulfrazee/patchwork/ui/lib/mentions.js":[function(require,module,exports){"use strict";var mlib=require("ssb-msgs");var ssbref=require("ssb-ref");var app=require("./app");var _mentionRegex=function _mentionRegex(){return/([^A-z0-9_\-\/:]|^)([@%&](amp;)?[A-z0-9\._\-+=\/]*[A-z0-9_\-+=\/])/g};var _httpURLRegex=function _httpURLRegex(){return/https?:\/\/[^\s<]+[^<.,:;"')\]\s]/gi};var _hostRegex=function _hostRegex(){return/https?\:\/\/([^\/?#]+)/gi};function shorten(hash){return hash.slice(0,8)+".."+hash.slice(-11)}exports.extract=function(text,cb){app.ssb.patchwork.getIdsByName(function(err,idsByName){if(err)return cb(err);var match;var mentions=[],mentionedIds={};var mentionRegex=_mentionRegex();while(match=mentionRegex.exec(text)){var ref=match[2];var name=ref.slice(1);var id=idsByName[name];if(Array.isArray(id))return cb({conflict:true,name:name});if(ssbref.isFeedId(id)){if(!(id in mentionedIds))mentionedIds[id]=mentions.push({link:id,name:name})-1;else mentions[mentionedIds[id]].name=name}else if(ssbref.isLink(ref)){if(!(ref in mentionedIds)){mentionedIds[ref]=mentions.push({link:ref})-1}}}var httpURLRegex=_httpURLRegex();while(match=httpURLRegex.exec(text)){var href=match[0];var id=ssbref.extract(href);if(!id)continue;if(id in mentionedIds)continue;var m={link:id,href:href};var hostMatch=_hostRegex().exec(href);if(hostMatch)m.host=hostMatch[0];mentionedIds[id]=mentions.push(m)-1}cb(null,mentions)})}},{"./app":"/Users/paulfrazee/patchwork/ui/lib/app.js","ssb-msgs":"/Users/paulfrazee/patchwork/node_modules/ssb-msgs/index.js","ssb-ref":"/Users/paulfrazee/patchwork/node_modules/ssb-ref/index.js"}],"/Users/paulfrazee/patchwork/ui/lib/msg-relation.js":[function(require,module,exports){"use strict";"use babel";Object.defineProperty(exports,"__esModule",{value:true});exports.countReplies=countReplies;exports.isaReplyTo=isaReplyTo;exports.relationsTo=relationsTo;var _ssbMsgs=require("ssb-msgs");var _ssbMsgs2=_interopRequireDefault(_ssbMsgs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function countReplies(thread,filter){if(!thread.related)return 0;var n=0;var counted={};thread.related.forEach(function(r){if(!isaReplyTo(r,thread))return;if(counted[r.key])return;if(filter&&!filter(r))return;n++;counted[r.key]=true});return n}function isaReplyTo(a,b){var ac=a.value.content;return ac.root&&_ssbMsgs2.default.link(ac.root).link==b.key||ac.branch&&_ssbMsgs2.default.link(ac.branch).link==b.key}function relationsTo(a,b){var rels=[];var ac=a.value.content;for(var k in ac){_ssbMsgs2.default.links(ac[k]).forEach(function(l){if(l.link===b.key)rels.push(k)})}return rels}},{"ssb-msgs":"/Users/paulfrazee/patchwork/node_modules/ssb-msgs/index.js"}],"/Users/paulfrazee/patchwork/ui/lib/search.js":[function(require,module,exports){"use strict";"use babel";Object.defineProperty(exports,"__esModule",{value:true});exports.getResults=getResults;var _react=require("react");var _react2=_interopRequireDefault(_react);var _ssbRef=require("ssb-ref");var _ssbRef2=_interopRequireDefault(_ssbRef);var _app=require("./app");var _app2=_interopRequireDefault(_app);var _util=require("./util");var _util2=_interopRequireDefault(_util);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var MAX_CHANNEL_RESULTS=3;function getResults(query){var results=[];if(_ssbRef2.default.isLink(query)){var shortened=_util2.default.shortString(query);if(_ssbRef2.default.isFeedId(query))results=[{icon:"user",label:'Open user "'+shortened+'"',fn:openObject}];else if(_ssbRef2.default.isMsgId(query))results=[{icon:"envelope",label:'Open message "'+shortened+'"',fn:openObject}];else if(_ssbRef2.default.isBlobId(query))results=[{icon:"file",label:'Open file "'+shortened+'"',fn:openObject}];results.push({icon:"search",label:'Search for references to "'+shortened+'"',fn:doSearch({type:"mentions"})});return results}results=results.concat([{icon:"envelope",label:'Search messages for "'+query+'"',fn:doSearch({type:"posts"})},{icon:"user",label:'Search people for "'+query+'"',fn:doSearch({type:"users"})}]);results=results.concat(getChannelResults(query));return results}function getChannelResults(query){if(query.charAt(0)=="#")query=query.slice(1);query=query.toLowerCase();var hasExact=false;var results=[];for(var i=0;i<_app2.default.channels.length&&results.length<MAX_CHANNEL_RESULTS;i++){var ch=_app2.default.channels[i];if(ch.name.toLowerCase().indexOf(query)!==-1){if(!hasExact)hasExact=ch.name==query;results.push({icon:"hashtag",label:_react2.default.createElement("span",null,"Open channel #",ch.name),fn:openChannel(ch.name)})}}if(!hasExact)results.push({icon:"hashtag",label:"Open channel #"+query,fn:openChannel(query)});return results}function openObject(ref){if(_ssbRef2.default.isFeedId(ref)){_app2.default.history.pushState(null,"/profile/"+encodeURIComponent(ref))}else if(_ssbRef2.default.isMsgId(ref)){_app2.default.history.pushState(null,"/msg/"+encodeURIComponent(ref))}else if(_ssbRef2.default.isBlobId(ref)){window.location="/"+encodeURIComponent(ref)}}var openChannel=function openChannel(channel){return function(){if(channel.charAt(0)=="#")channel=channel.slice(1);_app2.default.history.pushState(null,"/newsfeed/channel/"+encodeURIComponent(channel))}};var doSearch=function doSearch(opts){return function(query){_app2.default.history.pushState(null,"/search/"+encodeURIComponent(query))}}},{"./app":"/Users/paulfrazee/patchwork/ui/lib/app.js","./util":"/Users/paulfrazee/patchwork/ui/lib/util.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","ssb-ref":"/Users/paulfrazee/patchwork/node_modules/ssb-ref/index.js"}],"/Users/paulfrazee/patchwork/ui/lib/social-graph.js":[function(require,module,exports){"use strict";var ip=require("ip");var app=require("./app");var follows=exports.follows=function(a,b){var ap=app.users.profiles[a];if(!ap)return false;return ap.assignedTo[b]&&ap.assignedTo[b].following};var flags=exports.flags=function(a,b){var ap=app.users.profiles[a];if(!ap)return false;return ap.assignedTo[b]&&ap.assignedTo[b].flagged};var blocks=exports.blocks=function(a,b){var ap=app.users.profiles[a];if(!ap)return false;return ap.assignedTo[b]&&ap.assignedTo[b].blocking};var followeds=exports.followeds=function(a){var ids=[];for(var b in app.users.profiles){if(follows(a,b))ids.push(b)}return ids};var followers=exports.followers=function(b){var ids=[];for(var a in app.users.profiles){if(follows(a,b))ids.push(a)}return ids};var followedFollowers=exports.followedFollowers=function(a,c,includeA){var ids=[];for(var b in app.users.profiles){if(follows(a,b)&&follows(b,c))ids.push(b)}if(includeA&&follows(a,c))ids.push(a);return ids};var unfollowedFollowers=exports.unfollowedFollowers=function(a,c){var ids=[];for(var b in app.users.profiles){if(a!=b&&!follows(a,b)&&follows(b,c))ids.push(b)}return ids};var followedFlaggers=exports.followedFlaggers=function(a,c,includeA){var ids=[];for(var b in app.users.profiles){if(follows(a,b)&&flags(b,c))ids.push(b)}if(includeA&&flags(a,c))ids.push(a);return ids};var contacts=exports.contacts=function(a){return followers(a).filter(function(b){return follows(b,a)})};var isPub=exports.isPub=function(id){for(var i=0;i<app.peers.length;i++){var peer=app.peers[i];if(peer.key===id&&!ip.isPrivate(peer.host))return true}return false}},{"./app":"/Users/paulfrazee/patchwork/ui/lib/app.js",ip:"/Users/paulfrazee/patchwork/node_modules/ip/lib/ip.js"}],"/Users/paulfrazee/patchwork/ui/lib/util.js":[function(require,module,exports){"use strict";var pull=require("pull-stream");var ip=require("ip");var mlib=require("ssb-msgs");var mime=require("mime-types");var multicb=require("multicb");var moment=require("moment");var app=require("./app");var social=require("./social-graph");exports.debounce=function(fn,wait){var timeout;return function(){clearTimeout(timeout);timeout=setTimeout(fn,wait)}};exports.plural=function(n){return n===1?"":"s"};exports.shortString=function(str,len){len=len||6;if(str.length-3>len)return str.slice(0,len)+"...";return str};var dataSizes=["kb","mb","gb","tb","pb","eb","zb","yb"];exports.bytesHuman=function(nBytes){var str=nBytes+"b";for(var i=0,nApprox=nBytes/1024;nApprox>1;nApprox/=1024,i++){str=nApprox.toFixed(2)+dataSizes[i]}return str};var startOfDay=moment().startOf("day");var lastWeek=moment().subtract(1,"weeks");var lastYear=moment().subtract(1,"years");exports.niceDate=function(ts,ago){var d=moment(ts);if(ago)return d.fromNow();if(d.isBefore(lastYear))d=d.format("");else if(d.isBefore(lastWeek))d=d.format("MMM D");else if(d.isBefore(startOfDay))d=d.format("ddd h:mma");else d=d.format("h:mma");return d};exports.getName=function(id){return app.users.names[id]||exports.shortString(id,6)};exports.profilePicUrl=function(id){var url="./img/default-prof-pic.png";var profile=app.users.profiles[id];if(profile){var link;if(profile.self.image)link=profile.self.image;if(link){url="/"+link.link;url+="?fallback=img";if(link.type){var ext=link.type.split("/")[1];if(ext){var name=app.users.names[id]||"profile";url+="&name="+encodeURIComponent(name+"."+ext)}}}}return url};exports.getPubStats=function(peers){var membersof=0,membersofActive=0,membersofUntried=0,connected=0;(peers||app.peers||[]).forEach(function(peer){if(ip.isLoopback(peer.host)||ip.isPrivate(peer.host))return;var connectSuccess=peer.time&&peer.time.connect&&peer.time.connect>peer.time.attempt||peer.connected;if(connectSuccess)connected++;if(social.follows(peer.key,app.user.id)){membersof++;if(connectSuccess)membersofActive++;if(!peer.time||!peer.time.attempt)membersofUntried++}});return{membersof:membersof,membersofActive:membersofActive,membersofUntried:membersofUntried,connected:connected,hasSyncIssue:!membersof||!membersofUntried&&!membersofActive}};exports.getContactedPeerIds=function(peers){var local=new Array;var remote=new Array;var connected=new Array;(peers||app.peers||[]).forEach(function(peer){if(ip.isLoopback(peer.host))return;if(peer.connected){connected.push(peer.id)}if(peer.connected||peer.time&&peer.time.connect){if(ip.isPrivate(peer.host)||ip.isLoopback(peer.host)){local.push(peer.id)}else{remote.push(peer.id)}}});return{local:local,remote:remote,connected:connected}}},{"./app":"/Users/paulfrazee/patchwork/ui/lib/app.js","./social-graph":"/Users/paulfrazee/patchwork/ui/lib/social-graph.js",ip:"/Users/paulfrazee/patchwork/node_modules/ip/lib/ip.js","mime-types":"/Users/paulfrazee/patchwork/node_modules/mime-types/index.js",moment:"/Users/paulfrazee/patchwork/node_modules/moment/moment.js",multicb:"/Users/paulfrazee/patchwork/node_modules/multicb/index.js","pull-stream":"/Users/paulfrazee/patchwork/node_modules/pull-stream/index.js","ssb-msgs":"/Users/paulfrazee/patchwork/node_modules/ssb-msgs/index.js"}],"/Users/paulfrazee/patchwork/ui/lib/ws-client.js":[function(require,module,exports){"use strict";var muxrpc=require("muxrpc");var pull=require("pull-stream");var ws=require("pull-ws-server");var Serializer=require("pull-serializer");module.exports=function(){var ssb=muxrpc(manifest,false,serialize)();var protocol=window.location.protocol=="https:"?"wss:":"ws:";var stream=ws.connect(protocol+"//"+window.location.hostname+":7778");pull(stream,ssb.createStream(),stream);return ssb};function serialize(stream){return Serializer(stream,JSON,{split:"\n\n"})}var manifest={auth:"async",address:"sync",manifest:"sync",get:"async",createFeedStream:"source",createLogStream:"source",messagesByType:"source",createHistoryStream:"source",createUserStream:"source",links:"source",relatedMessages:"async",add:"async",publish:"async",getAddress:"sync",getLatest:"async",latest:"source",latestSequence:"async",whoami:"sync",usage:"sync",gossip:{peers:"sync",add:"sync",connect:"async",changes:"source"},friends:{all:"async",hops:"async",createFriendStream:"source",get:"sync"},replicate:{changes:"source"},blobs:{get:"source",has:"async",add:"sink",rm:"async",ls:"source",want:"async",wants:"sync",changes:"source"},invite:{create:"async",accept:"async",addMe:"async",use:"async"},block:{isBlocked:"sync"},"private":{publish:"async",unbox:"sync"},patchwork:{createEventStream:"source",getIndexCounts:"async",createNewsfeedStream:"source",createInboxStream:"source",createBookmarkStream:"source",createNotificationsStream:"source",createChannelStream:"source",markRead:"async",markUnread:"async",toggleRead:"async",isRead:"async",bookmark:"async",unbookmark:"async",toggleBookmark:"async",isBookmarked:"async",getChannels:"async",pinChannel:"async",unpinChannel:"async",toggleChannelPinned:"async",addFileToBlobs:"async",saveBlobToFile:"async",useLookupCode:"source",getMyProfile:"async",getProfile:"async",getAllProfiles:"async",getNamesById:"async",getName:"async",getIdsByName:"async",getActionItems:"async"}}},{muxrpc:"/Users/paulfrazee/patchwork/node_modules/muxrpc/index.js","pull-serializer":"/Users/paulfrazee/patchwork/node_modules/pull-serializer/index.js","pull-stream":"/Users/paulfrazee/patchwork/node_modules/pull-stream/index.js","pull-ws-server":"/Users/paulfrazee/patchwork/node_modules/pull-ws-server/client.js"}],"/Users/paulfrazee/patchwork/ui/main.js":[function(require,module,exports){"use strict";var pull=require("pull-stream");var ReactDOM=require("react-dom");window.app=require("./lib/app");window.pull=pull;window.addEventListener("error",onError);app.fetchLatestState(function(){if(app.user.needsSetup)app.history.pushState(null,"/contacts");var routes=require("./routes.jsx");ReactDOM.render(routes.routes,document.body.querySelector("div"));window.removeEventListener("error",window.loadErrorHandler)});function onError(e){e.preventDefault();app.minorIssue("Unexpected Error",e.error||e,"This was an unhandled exception.")}},{"./lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js","./routes.jsx":"/Users/paulfrazee/patchwork/ui/routes.jsx","pull-stream":"/Users/paulfrazee/patchwork/node_modules/pull-stream/index.js","react-dom":"/Users/paulfrazee/patchwork/node_modules/react-dom/index.js"}],"/Users/paulfrazee/patchwork/ui/routes.jsx":[function(require,module,exports){"use strict";"use babel";Object.defineProperty(exports,"__esModule",{value:true});exports.routes=undefined;var _react=require("react");var _react2=_interopRequireDefault(_react);var _reactRouter=require("react-router");var _app=require("./lib/app");var _app2=_interopRequireDefault(_app);var _layout=require("./layout");var _layout2=_interopRequireDefault(_layout);var _newsfeed=require("./views/newsfeed");var _newsfeed2=_interopRequireDefault(_newsfeed);var _inbox=require("./views/inbox");var _inbox2=_interopRequireDefault(_inbox);var _bookmarks=require("./views/bookmarks");var _bookmarks2=_interopRequireDefault(_bookmarks);var _data=require("./views/data");var _data2=_interopRequireDefault(_data);var _msg=require("./views/msg");var _msg2=_interopRequireDefault(_msg);var _composer=require("./views/composer");var _composer2=_interopRequireDefault(_composer);var _contacts=require("./views/contacts");var _contacts2=_interopRequireDefault(_contacts);var _profile=require("./views/profile");var _profile2=_interopRequireDefault(_profile);var _addContact=require("./views/add-contact");var _addContact2=_interopRequireDefault(_addContact);var _sync=require("./views/sync");var _sync2=_interopRequireDefault(_sync);var _help=require("./views/help");var _help2=_interopRequireDefault(_help);var _search=require("./views/search");var _search2=_interopRequireDefault(_search);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function beforeNavigation(nextState){if(nextState.action==="PUSH"){var vfScrollTops={};var vfEls=[].slice.call(document.querySelectorAll(".vertical-filled"));vfEls.forEach(function(el){if(el.id)vfScrollTops[el.id]=el.scrollTop});window.history.replaceState({vfScrollTops:vfScrollTops},"")}}_app2.default.history.listenBefore(beforeNavigation);var routes=exports.routes=_react2.default.createElement(_reactRouter.Router,{history:_app2.default.history},_react2.default.createElement(_reactRouter.Route,{path:"/",component:_layout2.default},_react2.default.createElement(_reactRouter.IndexRoute,{component:_newsfeed2.default}),_react2.default.createElement(_reactRouter.Route,{path:"newsfeed/channel/:channel",component:_newsfeed2.default}),_react2.default.createElement(_reactRouter.Route,{path:"inbox",component:_inbox2.default}),_react2.default.createElement(_reactRouter.Route,{path:"bookmarks",component:_bookmarks2.default}),_react2.default.createElement(_reactRouter.Route,{path:"data",component:_data2.default}),_react2.default.createElement(_reactRouter.Route,{path:"add-contact",component:_addContact2.default}),_react2.default.createElement(_reactRouter.Route,{path:"contacts",component:_contacts2.default}),_react2.default.createElement(_reactRouter.Route,{path:"profile",component:_contacts2.default}),_react2.default.createElement(_reactRouter.Route,{path:"profile/:id",component:_profile2.default}),_react2.default.createElement(_reactRouter.Route,{path:"msg/:id",component:_msg2.default}),_react2.default.createElement(_reactRouter.Route,{path:"composer",component:_composer2.default}),_react2.default.createElement(_reactRouter.Route,{path:"sync",component:_sync2.default}),_react2.default.createElement(_reactRouter.Route,{path:"help/:section",component:_help2.default}),_react2.default.createElement(_reactRouter.Route,{path:"search/:query",component:_search2.default})))},{"./layout":"/Users/paulfrazee/patchwork/ui/layout.jsx","./lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js","./views/add-contact":"/Users/paulfrazee/patchwork/ui/views/add-contact.jsx","./views/bookmarks":"/Users/paulfrazee/patchwork/ui/views/bookmarks.jsx","./views/composer":"/Users/paulfrazee/patchwork/ui/views/composer.jsx","./views/contacts":"/Users/paulfrazee/patchwork/ui/views/contacts.jsx","./views/data":"/Users/paulfrazee/patchwork/ui/views/data.jsx","./views/help":"/Users/paulfrazee/patchwork/ui/views/help.jsx","./views/inbox":"/Users/paulfrazee/patchwork/ui/views/inbox.jsx","./views/msg":"/Users/paulfrazee/patchwork/ui/views/msg.jsx","./views/newsfeed":"/Users/paulfrazee/patchwork/ui/views/newsfeed.jsx","./views/profile":"/Users/paulfrazee/patchwork/ui/views/profile.jsx","./views/search":"/Users/paulfrazee/patchwork/ui/views/search.jsx","./views/sync":"/Users/paulfrazee/patchwork/ui/views/sync.jsx",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","react-router":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/index.js"}],"/Users/paulfrazee/patchwork/ui/views/add-contact.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _pullStream=require("pull-stream");var _pullStream2=_interopRequireDefault(_pullStream);var _reactRouter=require("react-router");var _index=require("../com/index");var _summary=require("../com/user/summary");var _summary2=_interopRequireDefault(_summary);var _leftnav=require("../com/leftnav");var _leftnav2=_interopRequireDefault(_leftnav);var _followNearby=require("../com/forms/follow-nearby");var _followNearby2=_interopRequireDefault(_followNearby);var _followFoafs=require("../com/forms/follow-foafs");var _followFoafs2=_interopRequireDefault(_followFoafs);var _pubInvite=require("../com/forms/pub-invite");var _pubInvite2=_interopRequireDefault(_pubInvite);var _single=require("../com/modals/single");var _single2=_interopRequireDefault(_single);var _inputPlaque=require("../com/form-elements/input-plaque");var _inputPlaque2=_interopRequireDefault(_inputPlaque);var _socialGraph=require("../lib/social-graph");var _socialGraph2=_interopRequireDefault(_socialGraph);var _app=require("../lib/app");var _app2=_interopRequireDefault(_app);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Pubs=function(_React$Component){_inherits(Pubs,_React$Component);function Pubs(props){_classCallCheck(this,Pubs);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Pubs).call(this,props));_this.state={pubs:[],isModalOpen:false};return _this}_createClass(Pubs,[{key:"componentDidMount",value:function componentDidMount(){this.fetch()}},{key:"fetch",value:function fetch(){var _this2=this;(0,_pullStream2.default)(_app2.default.ssb.friends.createFriendStream({hops:1}),_pullStream2.default.filter(function(id){return id!==_app2.default.user.id&&_socialGraph2.default.follows(id,_app2.default.user.id)&&_socialGraph2.default.isPub(id)}),_pullStream2.default.collect(function(err,ids){if(err)return _app2.default.minorIssue("An error occurred while fetching users",err);_this2.setState({pubs:ids})}))}},{key:"onOpenModal",value:function onOpenModal(){this.setState({isModalOpen:true})}},{key:"onCloseModal",value:function onCloseModal(err,completed){this.setState({isModalOpen:false});if(!err&&completed)_app2.default.fetchLatestState(this.fetch.bind(this))}},{key:"render",value:function render(){var npubs=this.state.pubs.length;return _react2.default.createElement("div",{className:"user-summaries"},_react2.default.createElement("h1",null,"Your Pubs"),_react2.default.createElement("h3",{style:{marginTop:5}},"Pubs connect you with global peers.",npubs===0?" You should join one! (Until you do, you can only talk to people over WiFi.)":" Joining more will increase your reach."),_react2.default.createElement(_single2.default,{className:"fullheight",Form:_pubInvite2.default,nextLabel:"Join",isOpen:this.state.isModalOpen,onClose:this.onCloseModal.bind(this)}),_react2.default.createElement("div",{className:"user-add",onClick:this.onOpenModal.bind(this)},_react2.default.createElement("div",null,_react2.default.createElement("i",{className:"fa fa-laptop"})),_react2.default.createElement("div",{className:"name"},"Join a Pub")),this.state.pubs.map(function(id){return _react2.default.createElement(_summary2.default,{key:id,pid:id})}))}}]);return Pubs}(_react2.default.Component);exports.default=Pubs;var AddContact=function(_React$Component2){_inherits(AddContact,_React$Component2);function AddContact(props){_classCallCheck(this,AddContact);return _possibleConstructorReturn(this,Object.getPrototypeOf(AddContact).call(this,props))}_createClass(AddContact,[{key:"render",value:function render(){return _react2.default.createElement(_index.VerticalFilledContainer,{id:"add-contact",className:"flex"},_react2.default.createElement(_leftnav2.default,{location:this.props.location}),_react2.default.createElement("div",{className:"flex-fill"},"",_react2.default.createElement("div",{className:"section"},_react2.default.createElement(_followNearby2.default,null)),_react2.default.createElement("div",{className:"section"},_react2.default.createElement(Pubs,null)),_react2.default.createElement("div",{className:"section"},_react2.default.createElement(_followFoafs2.default,null))))}}]);return AddContact}(_react2.default.Component);exports.default=AddContact},{"../com/form-elements/input-plaque":"/Users/paulfrazee/patchwork/ui/com/form-elements/input-plaque.jsx","../com/forms/follow-foafs":"/Users/paulfrazee/patchwork/ui/com/forms/follow-foafs.jsx","../com/forms/follow-nearby":"/Users/paulfrazee/patchwork/ui/com/forms/follow-nearby.jsx","../com/forms/pub-invite":"/Users/paulfrazee/patchwork/ui/com/forms/pub-invite.jsx","../com/index":"/Users/paulfrazee/patchwork/ui/com/index.jsx","../com/leftnav":"/Users/paulfrazee/patchwork/ui/com/leftnav.jsx","../com/modals/single":"/Users/paulfrazee/patchwork/ui/com/modals/single.jsx","../com/user/summary":"/Users/paulfrazee/patchwork/ui/com/user/summary.jsx","../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js","../lib/social-graph":"/Users/paulfrazee/patchwork/ui/lib/social-graph.js","pull-stream":"/Users/paulfrazee/patchwork/node_modules/pull-stream/index.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","react-router":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/index.js"}],"/Users/paulfrazee/patchwork/ui/views/bookmarks.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _reactRouter=require("react-router");var _com=require("../com");var _leftnav=require("../com/leftnav");var _leftnav2=_interopRequireDefault(_leftnav);var _dropdown=require("../com/dropdown");var _dropdown2=_interopRequireDefault(_dropdown);var _msgList=require("../com/msg-list");var _msgList2=_interopRequireDefault(_msgList);var _card=require("../com/msg-view/card");var _card2=_interopRequireDefault(_card);var _oneline=require("../com/msg-view/oneline");var _oneline2=_interopRequireDefault(_oneline);var _app=require("../lib/app");var _app2=_interopRequireDefault(_app);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var LISTITEMS=[{label:_react2.default.createElement("span",null,_react2.default.createElement("i",{className:"fa fa-list"})," View: Feed"),Component:_card2.default},{label:_react2.default.createElement("span",null,_react2.default.createElement("i",{className:"fa fa-list"})," View: Inbox"),Component:_oneline2.default}];var Bookmarks=function(_LocalStoragePersiste){_inherits(Bookmarks,_LocalStoragePersiste);function Bookmarks(props){_classCallCheck(this,Bookmarks);return _possibleConstructorReturn(this,Object.getPrototypeOf(Bookmarks).call(this,props,"msgList",{currentMsgView:0}))}_createClass(Bookmarks,[{key:"cursor",value:function cursor(msg){if(msg)return[msg.ts,false]}},{key:"onToggleMsgView",value:function onToggleMsgView(){this.setState({currentMsgView:+!this.state.currentMsgView})}},{key:"onMarkAllRead",value:function onMarkAllRead(){alert("todo")}},{key:"render",value:function render(){var _this2=this;var listItem=LISTITEMS[this.state.currentMsgView]||LISTITEMS[0];var ListItem=listItem.Component;var Toolbar=function Toolbar(props){return _react2.default.createElement("div",{className:"flex light-toolbar"},_react2.default.createElement(_reactRouter.Link,{to:"/bookmarks"},_react2.default.createElement("i",{className:"fa fa-bookmark"})," Bookmarked Threads"),_react2.default.createElement("div",{className:"flex-fill"}),_react2.default.createElement("a",{href:"javascript:;",onClick:_this2.onMarkAllRead.bind(_this2)},_react2.default.createElement("i",{className:"fa fa-check-square"})," Mark All Read"),_react2.default.createElement("a",{href:"javascript:;",onClick:_this2.onToggleMsgView.bind(_this2)},listItem.label))};return _react2.default.createElement("div",{id:"bookmarks"},_react2.default.createElement(_msgList2.default,{ref:"list",threads:true,dateDividers:true,Hero:Toolbar,ListItem:ListItem,listItemProps:{userPic:true},LeftNav:_leftnav2.default,leftNavProps:{location:this.props.location},live:{gt:[Date.now(),null]},emptyMsg:"Your bookmarks view is empty.",source:_app2.default.ssb.patchwork.createBookmarkStream,cursor:this.cursor}))}}]);return Bookmarks}(_com.LocalStoragePersistedComponent);exports.default=Bookmarks},{"../com":"/Users/paulfrazee/patchwork/ui/com/index.jsx","../com/dropdown":"/Users/paulfrazee/patchwork/ui/com/dropdown.jsx","../com/leftnav":"/Users/paulfrazee/patchwork/ui/com/leftnav.jsx","../com/msg-list":"/Users/paulfrazee/patchwork/ui/com/msg-list.jsx","../com/msg-view/card":"/Users/paulfrazee/patchwork/ui/com/msg-view/card.jsx","../com/msg-view/oneline":"/Users/paulfrazee/patchwork/ui/com/msg-view/oneline.jsx","../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","react-router":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/index.js"}],"/Users/paulfrazee/patchwork/ui/views/composer.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){
if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _leftnav=require("../com/leftnav");var _leftnav2=_interopRequireDefault(_leftnav);var _composer=require("../com/composer");var _composer2=_interopRequireDefault(_composer);var _app=require("../lib/app");var _app2=_interopRequireDefault(_app);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var ComposerView=function(_React$Component){_inherits(ComposerView,_React$Component);function ComposerView(){_classCallCheck(this,ComposerView);return _possibleConstructorReturn(this,Object.getPrototypeOf(ComposerView).apply(this,arguments))}_createClass(ComposerView,[{key:"onSend",value:function onSend(msg){_app2.default.history.pushState(null,"/msg/"+encodeURIComponent(msg.key))}},{key:"render",value:function render(){return _react2.default.createElement("div",{id:"composer",className:"flex"},_react2.default.createElement(_leftnav2.default,null),_react2.default.createElement("div",{className:"flex-fill"},_react2.default.createElement(_composer2.default,{verticalFilled:true,onSend:this.onSend})))}}]);return ComposerView}(_react2.default.Component);exports.default=ComposerView},{"../com/composer":"/Users/paulfrazee/patchwork/ui/com/composer/index.jsx","../com/leftnav":"/Users/paulfrazee/patchwork/ui/com/leftnav.jsx","../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/ui/views/contacts.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _pullStream=require("pull-stream");var _pullStream2=_interopRequireDefault(_pullStream);var _summary=require("../com/user/summary");var _summary2=_interopRequireDefault(_summary);var _index=require("../com/index");var _leftnav=require("../com/leftnav");var _leftnav2=_interopRequireDefault(_leftnav);var _socialGraph=require("../lib/social-graph");var _socialGraph2=_interopRequireDefault(_socialGraph);var _util=require("../lib/util");var _util2=_interopRequireDefault(_util);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Contacts=function(_React$Component){_inherits(Contacts,_React$Component);function Contacts(props){_classCallCheck(this,Contacts);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Contacts).call(this,props));_this.state={contacts:[],pendings:[]};return _this}_createClass(Contacts,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;(0,_pullStream2.default)(app.ssb.friends.createFriendStream({hops:1}),_pullStream2.default.collect(function(err,users){if(err)return app.minorIssue("An error occurred while fetching known contacts",err);var contacts=users.filter(function(id){return _socialGraph2.default.follows(id,app.user.id)&&id!==app.user.id});contacts.sort(function(a,b){return _util2.default.getName(a).localeCompare(_util2.default.getName(b))});var pendings=users.filter(function(id){return!_socialGraph2.default.follows(id,app.user.id)&&id!==app.user.id});_this2.setState({contacts:contacts,pendings:pendings})}))}},{key:"selectTab",value:function selectTab(tab){this.setState({currentTab:tab})}},{key:"onClickAddFriend",value:function onClickAddFriend(){app.history.pushState(null,"/add-contact")}},{key:"render",value:function render(){return _react2.default.createElement(_index.VerticalFilledContainer,{id:"contacts",className:"flex"},_react2.default.createElement(_leftnav2.default,{location:this.props.location}),_react2.default.createElement("div",{className:"flex-fill"},_react2.default.createElement("div",{className:"user-summaries"},this.state.pendings.length>0?_react2.default.createElement("div",{className:"pending"},_react2.default.createElement("h2",null,"Pending"),this.state.pendings.map(function(id){return _react2.default.createElement(_index.UserPic,{key:id,id:id})})):"",_react2.default.createElement("div",{className:"user-add",onClick:this.onClickAddFriend.bind(this)},_react2.default.createElement("div",null,_react2.default.createElement("i",{className:"fa fa-user-plus"})),_react2.default.createElement("div",{className:"name"},"Add Contact")),_react2.default.createElement(_summary2.default,{pid:app.user.id}),this.state.contacts.map(function(id){return _react2.default.createElement(_summary2.default,{key:id,pid:id})}))))}}]);return Contacts}(_react2.default.Component);exports.default=Contacts},{"../com/index":"/Users/paulfrazee/patchwork/ui/com/index.jsx","../com/leftnav":"/Users/paulfrazee/patchwork/ui/com/leftnav.jsx","../com/user/summary":"/Users/paulfrazee/patchwork/ui/com/user/summary.jsx","../lib/social-graph":"/Users/paulfrazee/patchwork/ui/lib/social-graph.js","../lib/util":"/Users/paulfrazee/patchwork/ui/lib/util.js","pull-stream":"/Users/paulfrazee/patchwork/node_modules/pull-stream/index.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/ui/views/data.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _msgList=require("../com/msg-list");var _msgList2=_interopRequireDefault(_msgList);var _oneline=require("../com/msg-view/oneline");var _oneline2=_interopRequireDefault(_oneline);var _app=require("../lib/app");var _app2=_interopRequireDefault(_app);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Data=function(_React$Component){_inherits(Data,_React$Component);function Data(){_classCallCheck(this,Data);return _possibleConstructorReturn(this,Object.getPrototypeOf(Data).apply(this,arguments))}_createClass(Data,[{key:"render",value:function render(){var source=function source(opts){return _app2.default.ssb.createLogStream(opts)};return _react2.default.createElement("div",{id:"data"},_react2.default.createElement(_msgList2.default,{ListItem:_oneline2.default,listItemProps:{noReplies:true},source:source,live:{gt:Date.now()}}))}}]);return Data}(_react2.default.Component);exports.default=Data},{"../com/msg-list":"/Users/paulfrazee/patchwork/ui/com/msg-list.jsx","../com/msg-view/oneline":"/Users/paulfrazee/patchwork/ui/com/msg-view/oneline.jsx","../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/ui/views/help.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _index=require("../com/index");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var HELP_SECTIONS={index:""};var Help=function(_React$Component){_inherits(Help,_React$Component);function Help(){_classCallCheck(this,Help);return _possibleConstructorReturn(this,Object.getPrototypeOf(Help).apply(this,arguments))}_createClass(Help,[{key:"render",value:function render(){var section=this.props.params.section;var HelpSection=HELP_SECTIONS[section]||HELP_SECTIONS.index;return _react2.default.createElement("div",{className:"help"},_react2.default.createElement(_index.VerticalFilledContainer,null,_react2.default.createElement(HelpSection,null)))}}]);return Help}(_react2.default.Component);exports.default=Help},{"../com/index":"/Users/paulfrazee/patchwork/ui/com/index.jsx",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/ui/views/inbox.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _reactRouter=require("react-router");var _patchworkThreads=require("patchwork-threads");var _patchworkThreads2=_interopRequireDefault(_patchworkThreads);var _com=require("../com");var _leftnav=require("../com/leftnav");var _leftnav2=_interopRequireDefault(_leftnav);var _dropdown=require("../com/dropdown");var _dropdown2=_interopRequireDefault(_dropdown);var _msgList=require("../com/msg-list");var _msgList2=_interopRequireDefault(_msgList);var _card=require("../com/msg-view/card");var _card2=_interopRequireDefault(_card);var _oneline=require("../com/msg-view/oneline");var _oneline2=_interopRequireDefault(_oneline);var _app=require("../lib/app");var _app2=_interopRequireDefault(_app);var _socialGraph=require("../lib/social-graph");var _socialGraph2=_interopRequireDefault(_socialGraph);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var LISTITEMS=[{label:_react2.default.createElement("span",null,_react2.default.createElement("i",{className:"fa fa-list"})," View: Feed"),Component:_card2.default},{label:_react2.default.createElement("span",null,_react2.default.createElement("i",{className:"fa fa-list"})," View: Inbox"),Component:_oneline2.default}];var Inbox=function(_LocalStoragePersiste){_inherits(Inbox,_LocalStoragePersiste);function Inbox(props){_classCallCheck(this,Inbox);return _possibleConstructorReturn(this,Object.getPrototypeOf(Inbox).call(this,props,"msgList",{currentMsgView:0}))}_createClass(Inbox,[{key:"cursor",value:function cursor(msg){if(msg)return[msg.ts,false]}},{key:"onToggleMsgView",value:function onToggleMsgView(){this.setState({currentMsgView:+!this.state.currentMsgView})}},{key:"onMarkAllRead",value:function onMarkAllRead(){alert("todo")}},{key:"render",value:function render(){var _this2=this;var listItem=LISTITEMS[this.state.currentMsgView]||LISTITEMS[0];var ListItem=listItem.Component;var Toolbar=function Toolbar(props){return _react2.default.createElement("div",{className:"flex light-toolbar"},_react2.default.createElement(_reactRouter.Link,{to:"/inbox"},_react2.default.createElement("i",{className:"fa fa-inbox"})," Private Threads"),_react2.default.createElement("div",{className:"flex-fill"}),_react2.default.createElement("a",{href:"javascript:;",onClick:_this2.onMarkAllRead.bind(_this2)},_react2.default.createElement("i",{className:"fa fa-check-square"})," Mark All Read"),_react2.default.createElement("a",{href:"javascript:;",onClick:_this2.onToggleMsgView.bind(_this2)},listItem.label))};return _react2.default.createElement("div",{id:"inbox"},_react2.default.createElement(_msgList2.default,{ref:"list",threads:true,dateDividers:true,composer:true,composerProps:{isPublic:false},Hero:Toolbar,ListItem:ListItem,listItemProps:{userPic:true},LeftNav:_leftnav2.default,leftNavProps:{location:this.props.location},live:{gt:[Date.now(),null]},emptyMsg:"Your inbox is empty.",source:_app2.default.ssb.patchwork.createInboxStream,filter:followedOnlyFilter,cursor:this.cursor}))}}]);return Inbox}(_com.LocalStoragePersistedComponent);exports.default=Inbox;function followedOnlyFilter(msg){return msg.value.author===_app2.default.user.id||_socialGraph2.default.follows(_app2.default.user.id,msg.value.author)}},{"../com":"/Users/paulfrazee/patchwork/ui/com/index.jsx","../com/dropdown":"/Users/paulfrazee/patchwork/ui/com/dropdown.jsx","../com/leftnav":"/Users/paulfrazee/patchwork/ui/com/leftnav.jsx","../com/msg-list":"/Users/paulfrazee/patchwork/ui/com/msg-list.jsx","../com/msg-view/card":"/Users/paulfrazee/patchwork/ui/com/msg-view/card.jsx","../com/msg-view/oneline":"/Users/paulfrazee/patchwork/ui/com/msg-view/oneline.jsx","../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js","../lib/social-graph":"/Users/paulfrazee/patchwork/ui/lib/social-graph.js","patchwork-threads":"/Users/paulfrazee/patchwork/node_modules/patchwork-threads/index.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","react-router":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/index.js"}],"/Users/paulfrazee/patchwork/ui/views/msg.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _msgThread=require("../com/msg-thread");var _msgThread2=_interopRequireDefault(_msgThread);var _ssbMsgs=require("ssb-msgs");var _ssbMsgs2=_interopRequireDefault(_ssbMsgs);var _app=require("../lib/app");var _app2=_interopRequireDefault(_app);var _util=require("../lib/util");var _util2=_interopRequireDefault(_util);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Msg=function(_React$Component){_inherits(Msg,_React$Component);function Msg(){_classCallCheck(this,Msg);return _possibleConstructorReturn(this,Object.getPrototypeOf(Msg).apply(this,arguments))}_createClass(Msg,[{key:"render",value:function render(){var id=this.props.params&&this.props.params.id;return _react2.default.createElement("div",{id:"msg"},_react2.default.createElement(_msgThread2.default,{id:id,live:true}))}}]);return Msg}(_react2.default.Component);exports.default=Msg},{"../com/msg-thread":"/Users/paulfrazee/patchwork/ui/com/msg-thread.jsx","../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js","../lib/util":"/Users/paulfrazee/patchwork/ui/lib/util.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","ssb-msgs":"/Users/paulfrazee/patchwork/node_modules/ssb-msgs/index.js"}],"/Users/paulfrazee/patchwork/ui/views/newsfeed.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _reactRouter=require("react-router");var _pullStream=require("pull-stream");var _pullStream2=_interopRequireDefault(_pullStream);var _ssbMsgs=require("ssb-msgs");var _ssbMsgs2=_interopRequireDefault(_ssbMsgs);var _classnames=require("classnames");var _classnames2=_interopRequireDefault(_classnames);var _patchworkThreads=require("patchwork-threads");var _patchworkThreads2=_interopRequireDefault(_patchworkThreads);var _com=require("../com");var _leftnav=require("../com/leftnav");var _leftnav2=_interopRequireDefault(_leftnav);var _dropdown=require("../com/dropdown");var _dropdown2=_interopRequireDefault(_dropdown);var _tabs=require("../com/tabs");var _tabs2=_interopRequireDefault(_tabs);var _msgList=require("../com/msg-list");var _msgList2=_interopRequireDefault(_msgList);var _card=require("../com/msg-view/card");var _card2=_interopRequireDefault(_card);var _oneline=require("../com/msg-view/oneline");var _oneline2=_interopRequireDefault(_oneline);var _msgThread=require("../com/msg-thread");var _msgThread2=_interopRequireDefault(_msgThread);var _channelList=require("../com/channel-list");var _cards=require("../com/help/cards");var HelpCards=_interopRequireWildcard(_cards);var _app=require("../lib/app");var _app2=_interopRequireDefault(_app);var _socialGraph=require("../lib/social-graph");var _socialGraph2=_interopRequireDefault(_socialGraph);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var LISTITEMS=[{label:_react2.default.createElement("span",null,_react2.default.createElement("i",{className:"fa fa-list"})," View: Feed"),Component:_card2.default},{label:_react2.default.createElement("span",null,_react2.default.createElement("i",{className:"fa fa-list"})," View: Inbox"),Component:_oneline2.default}];var NewsFeed=function(_LocalStoragePersiste){_inherits(NewsFeed,_LocalStoragePersiste);function NewsFeed(props){_classCallCheck(this,NewsFeed);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(NewsFeed).call(this,props,"msgList",{currentMsgView:0,showFoaf:true}));_this.state.channels=_app2.default.channels||[];_app2.default.on("open:msg",_this.onOpenMsg=function(key){if(_this.state.isUsingThreadPanel){_this.setState({currentThreadKey:key})}else{_app2.default.history.pushState(null,"/msg/"+encodeURIComponent(key))}});_this.refresh=function(){_this.setState({channels:_app2.default.channels})};_app2.default.on("update:channels",_this.refresh);_app2.default.on("ui:set-view-mode",_this.setMsgView=function(view){return _this.setState({currentMsgView:view})});return _this}_createClass(NewsFeed,[{key:"componentWillUnmount",value:function componentWillUnmount(){_app2.default.removeListener("update:channels",this.refresh);_app2.default.removeListener("open:msg",this.onOpenMsg);_app2.default.removeListener("ui:set-view-mode",this.setMsgView)}},{key:"onToggleMsgView",value:function onToggleMsgView(){this.setState({currentMsgView:+!this.state.currentMsgView})}},{key:"onTogglePinned",value:function onTogglePinned(){var channel=this.props.params.channel;if(!channel)return;_app2.default.ssb.patchwork.toggleChannelPinned(channel,function(err){if(err)_app2.default.issue("Failed to pin channel",err)})}},{key:"onToggleShowFoaf",value:function onToggleShowFoaf(){var _this2=this;this.setState({showFoaf:!this.state.showFoaf},function(){_this2.refs.list.reload()})}},{key:"onMarkAllRead",value:function onMarkAllRead(){alert("todo")}},{key:"render",value:function render(){var _this3=this;var channel=this.props.params.channel;var channelData=channel&&findChannelData(_app2.default.channels,channel);var listItem=LISTITEMS[this.state.currentMsgView]||LISTITEMS[0];var ListItem=listItem.Component;var cursor=function cursor(msg){if(msg)return[msg.ts,false]};var filter=function filter(msg){if(_this3.state.showFoaf)return true;return followedOnlyFilter(msg)};var source=function source(opts){if(channel)return _app2.default.ssb.patchwork.createChannelStream(channel,opts);return _app2.default.ssb.patchwork.createNewsfeedStream(opts)};var Toolbar=function Toolbar(props){var isPinned=channelData&&channelData.pinned;var showFoafDesc=_this3.state.showFoaf?"Friends + FoaF":"Friends Only";return _react2.default.createElement("div",{className:"flex light-toolbar"},channel?_react2.default.createElement(_reactRouter.Link,{to:"/newsfeed/channel/"+channel},"#",channel):_react2.default.createElement(_reactRouter.Link,{to:"/"},_react2.default.createElement("i",{className:"fa fa-bullhorn"})," Public Threads"),channel?_react2.default.createElement("a",{onClick:_this3.onTogglePinned.bind(_this3)},_react2.default.createElement("i",{className:"fa fa-thumb-tack"})," ",isPinned?"Unpin Channel":"Pin Channel"):"",_react2.default.createElement("div",{className:"flex-fill"}),_react2.default.createElement("a",{href:"javascript:;",onClick:_this3.onMarkAllRead.bind(_this3)},_react2.default.createElement("i",{className:"fa fa-check-square"})," Mark All Read"),_react2.default.createElement("a",{href:"javascript:;",onClick:_this3.onToggleShowFoaf.bind(_this3)},_react2.default.createElement("i",{className:"fa fa-user"})," Show: ",showFoafDesc),_react2.default.createElement("a",{href:"javascript:;",onClick:_this3.onToggleMsgView.bind(_this3)},listItem.label))};var thread=this.state.isUsingThreadPanel&&this.state.currentThreadKey;return _react2.default.createElement("div",{id:"newsfeed",key:channel||"*"},_react2.default.createElement(_msgList2.default,{ref:"list",threads:true,dateDividers:true,openMsgEvent:true,composer:true,composerProps:{isPublic:true,channel:channel},filter:filter,Hero:Toolbar,LeftNav:_leftnav2.default,leftNavProps:{location:this.props.location},ListItem:ListItem,listItemProps:{userPic:true},live:{gt:[Date.now(),null]},emptyMsg:channel?'No posts on "'+channel+'"... yet!':"Your newsfeed is empty.",source:source,cursor:cursor}),thread?_react2.default.createElement(_msgThread2.default,{key:thread,id:thread,closeBtn:true,live:true}):"")}}]);return NewsFeed}(_com.LocalStoragePersistedComponent);exports.default=NewsFeed;function followedOnlyFilter(msg){return msg.value.author===_app2.default.user.id||_socialGraph2.default.follows(_app2.default.user.id,msg.value.author)}function findChannelData(channels,name){for(var i=0;i<channels.length;i++){if(channels[i].name===name)return channels[i]}return null}},{"../com":"/Users/paulfrazee/patchwork/ui/com/index.jsx","../com/channel-list":"/Users/paulfrazee/patchwork/ui/com/channel-list.jsx","../com/dropdown":"/Users/paulfrazee/patchwork/ui/com/dropdown.jsx","../com/help/cards":"/Users/paulfrazee/patchwork/ui/com/help/cards.jsx","../com/leftnav":"/Users/paulfrazee/patchwork/ui/com/leftnav.jsx","../com/msg-list":"/Users/paulfrazee/patchwork/ui/com/msg-list.jsx","../com/msg-thread":"/Users/paulfrazee/patchwork/ui/com/msg-thread.jsx","../com/msg-view/card":"/Users/paulfrazee/patchwork/ui/com/msg-view/card.jsx","../com/msg-view/oneline":"/Users/paulfrazee/patchwork/ui/com/msg-view/oneline.jsx","../com/tabs":"/Users/paulfrazee/patchwork/ui/com/tabs.jsx","../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js","../lib/social-graph":"/Users/paulfrazee/patchwork/ui/lib/social-graph.js",classnames:"/Users/paulfrazee/patchwork/node_modules/classnames/index.js","patchwork-threads":"/Users/paulfrazee/patchwork/node_modules/patchwork-threads/index.js","pull-stream":"/Users/paulfrazee/patchwork/node_modules/pull-stream/index.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","react-router":"/Users/paulfrazee/patchwork/node_modules/react-router/lib/index.js","ssb-msgs":"/Users/paulfrazee/patchwork/node_modules/ssb-msgs/index.js"}],"/Users/paulfrazee/patchwork/ui/views/profile.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _com=require("../com");var _leftnav=require("../com/leftnav");var _leftnav2=_interopRequireDefault(_leftnav);var _view=require("../com/user/view");var _view2=_interopRequireDefault(_view);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;
}var Profile=function(_React$Component){_inherits(Profile,_React$Component);function Profile(){_classCallCheck(this,Profile);return _possibleConstructorReturn(this,Object.getPrototypeOf(Profile).apply(this,arguments))}_createClass(Profile,[{key:"render",value:function render(){var pid=this.props.params.id?decodeURIComponent(this.props.params.id):false;return _react2.default.createElement(_com.VerticalFilledContainer,{id:"profile",className:"flex"},_react2.default.createElement(_leftnav2.default,{location:this.props.location}),_react2.default.createElement("div",{className:"flex-fill"},_react2.default.createElement(_view2.default,{pid:pid})))}}]);return Profile}(_react2.default.Component);exports.default=Profile},{"../com":"/Users/paulfrazee/patchwork/ui/com/index.jsx","../com/leftnav":"/Users/paulfrazee/patchwork/ui/com/leftnav.jsx","../com/user/view":"/Users/paulfrazee/patchwork/ui/com/user/view.jsx",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/ui/views/search.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _msgList=require("../com/msg-list");var _msgList2=_interopRequireDefault(_msgList);var _card=require("../com/msg-view/card");var _card2=_interopRequireDefault(_card);var _app=require("../lib/app");var _app2=_interopRequireDefault(_app);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Search=function(_React$Component){_inherits(Search,_React$Component);function Search(){_classCallCheck(this,Search);return _possibleConstructorReturn(this,Object.getPrototypeOf(Search).apply(this,arguments))}_createClass(Search,[{key:"cursor",value:function cursor(msg){if(msg)return[msg.value.timestamp,msg.value.author]}},{key:"render",value:function render(){var _this2=this;var searchRegex=new RegExp(this.props.params.query||"","i");var Hero=function Hero(props){return _react2.default.createElement("h2",{style:{fontWeight:300,textAlign:"center"}},'Searching for "',_this2.props.params.query,'"')};return _react2.default.createElement("div",{id:"search",key:this.props.params.query},_react2.default.createElement(_msgList2.default,{ref:"list",searchRegex:searchRegex,dateDividers:true,Hero:Hero,ListItem:_card2.default,live:{gt:[Date.now(),null]},emptyMsg:"No results found.",source:_app2.default.ssb.createLogStream}))}}]);return Search}(_react2.default.Component);exports.default=Search},{"../com/msg-list":"/Users/paulfrazee/patchwork/ui/com/msg-list.jsx","../com/msg-view/card":"/Users/paulfrazee/patchwork/ui/com/msg-view/card.jsx","../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js"}],"/Users/paulfrazee/patchwork/ui/views/sync.jsx":[function(require,module,exports){"use strict";"use babel";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();Object.defineProperty(exports,"__esModule",{value:true});var _react=require("react");var _react2=_interopRequireDefault(_react);var _reactDom=require("react-dom");var _reactDom2=_interopRequireDefault(_reactDom);var _pullStream=require("pull-stream");var _pullStream2=_interopRequireDefault(_pullStream);var _ip=require("ip");var _ip2=_interopRequireDefault(_ip);var _ngraph=require("ngraph.graph");var _ngraph2=_interopRequireDefault(_ngraph);var _ngraph3=require("ngraph.svg");var _ngraph4=_interopRequireDefault(_ngraph3);var _app=require("../lib/app");var _app2=_interopRequireDefault(_app);var _util=require("../lib/util");var _util2=_interopRequireDefault(_util);var _socialGraph=require("../lib/social-graph");var _socialGraph2=_interopRequireDefault(_socialGraph);var _index=require("../com/index");var _leftnav=require("../com/leftnav");var _leftnav2=_interopRequireDefault(_leftnav);var _pubInvite=require("../com/forms/pub-invite");var _pubInvite2=_interopRequireDefault(_pubInvite);var _single=require("../com/modals/single");var _single2=_interopRequireDefault(_single);var _btn=require("../com/modals/btn");var _btn2=_interopRequireDefault(_btn);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function peerId(peer){return peer.host+":"+peer.port+":"+peer.key}function peerSorter(a,b){var bBoost=_socialGraph2.default.follows(b.key,_app2.default.user.id)?1e3:0;var aBoost=_socialGraph2.default.follows(a.key,_app2.default.user.id)?1e3:0;try{return bBoost+b.announcers.length-(aBoost+a.announcers.length)}catch(err){console.log("a",a);console.log("b",b);throw err}}function isLAN(peer){return _ip2.default.isPrivate(peer.host)||_ip2.default.isLoopback(peer.host)}function isNotLAN(peer){return!isLAN(peer)}function lastConnected(peer){if(!peer.time)return undefined;return peer.time.connect==0?undefined:peer.time.connect}var PeerGraph=function(_React$Component){_inherits(PeerGraph,_React$Component);function PeerGraph(props){_classCallCheck(this,PeerGraph);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(PeerGraph).call(this,props));_this.state={graph:peersToGraph(props.peersForGraph,props.contactedPeerIds),contactedPeerIds:props.contactedPeerIds};_this.onSvgRootMouseover=null;_this.onSvgRootMouseout=null;return _this}_createClass(PeerGraph,[{key:"componentDidMount",value:function componentDidMount(){this.setupRenderer()}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){this.state.graph=updateGraph(this.state,nextProps.peersForGraph,nextProps.contactedPeerIds)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.state.renderer.svgRoot.removeEventListener("mouseover",this.onSvgRootMouseover);this.state.renderer.svgRoot.removeEventListener("mouseout",this.onSvgRootMouseout);this.state.renderer.dispose()}},{key:"setupRenderer",value:function setupRenderer(){var el=_reactDom2.default.findDOMNode(this);var renderer=createRenderer(this.state.graph,el);renderer.run();renderer.svgRoot.addEventListener("mouseover",this.onSvgRootMouseover=function(ev){if(ev.target.nodeName=="circle"){var name=ev.target.getAttribute("text");var id=ev.target.getAttribute("id");document.querySelector("svg g text").innerHTML=name;document.querySelector("svg g image").setAttribute("xlink:href",_util2.default.profilePicUrl(id))}ev.stopPropagation()});renderer.svgRoot.addEventListener("mouseout",this.onSvgRootMouseout=function(ev){if(ev.target.nodeName=="circle"){document.querySelector("svg g text").innerHTML="";document.querySelector("svg g image").setAttribute("xlink:href","")}ev.stopPropagation()});this.setState({renderer:renderer})}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(){return false}},{key:"render",value:function render(){return _react2.default.createElement("div",{className:"peer-graph-container"})}}]);return PeerGraph}(_react2.default.Component);function createRenderer(graph,el){var renderer=(0,_ngraph4.default)(graph,{container:el,scrollSpeed:.01,physics:{springLength:20,springCoeff:1e-4,dragCoeff:.01,gravity:-1.5,theta:.7}}).node(function nodeBuilder(node){var isFriend=_socialGraph2.default.follows(_app2.default.user.id,node.data.id)&&_socialGraph2.default.follows(node.data.id,_app2.default.user.id);var isRelayPeer=node.data.isRelayPeer;var isConnectedPeer=node.data.isConnectedPeer;var radius=5;var nodeClass=new Array;if(node.data.isUser){radius=15;nodeClass.push("is-user")}if(isFriend)nodeClass.push("is-friend");if(isConnectedPeer)nodeClass.push("is-connected");if(isRelayPeer)radius=10;var circle=_ngraph4.default.svg("circle",{r:radius,cx:2*radius,cy:2*radius,"class":nodeClass.join(" "),id:node.data.id,text:node.data?node.data.name:undefined});var link=_ngraph4.default.svg("a",{link:"#/profile/"+encodeURIComponent(node.data.id)});link.append(circle);return link}).placeNode(function nodePositionCallback(nodeUI,pos){nodeUI.children[0].attr("cx",pos.x).attr("cy",pos.y)}).link(function linkBuilder(linkUI,pos){var fromNode=graph.getNode(linkUI.fromId);var toNode=graph.getNode(linkUI.toId);var involvesRelayPeer=fromNode.data.isRelayPeer||toNode.data.isRelayPeer;var isLinkingUser=fromNode.data.isUser||toNode.data.isUser;var isConnected=isLinkingUser&&linkUI.data.isConnected;var linkClass=new Array;if(isLinkingUser)linkClass.push("is-linking-user");if(isConnected)linkClass.push("is-connected");if(involvesRelayPeer)linkClass.push("involves-relay-peer");return _ngraph4.default.svg("line",{id:fromNode.id+toNode.id,"class":linkClass.join(" ")})});var group=_ngraph4.default.svg("g",{transform:"translate(10 20)"});var text=_ngraph4.default.svg("text",{fill:"#555",x:0,y:90});var img=_ngraph4.default.svg("image",{link:"",width:80,height:80,x:0,y:-5});group.append(img);group.append(text);renderer.svgRoot.append(group);return renderer}function peersToGraph(peers,contactedPeerIds){var graph=(0,_ngraph2.default)();if(!peers||!contactedPeerIds)return graph;return updateGraph(state,peers,contactedPeerIds)}function toggleClass(classes,className){if(new RegExp(className).test(classes)){return classes.replace(className,"")}else{return classes+" "+className}}function updateGraph(state,peers,contactedPeerIds){var graph=state.graph;var renderer=state.renderer;if(!peers||!contactedPeerIds)return graph;var remote=contactedPeerIds.remote;var local=contactedPeerIds.local;var connected=contactedPeerIds.connected;peers.forEach(function(peer){var isRelayPeer=remote.indexOf(peer.id)!=-1;var isLocalPeer=local.indexOf(peer.id)!=-1;var isConnectedPeer=connected.indexOf(peer.id)!=-1;var node=graph.getNode(peer.id);if(node){if(node.data.isConnectedPeer!=isConnectedPeer){var svgNode=state.renderer.svgRoot.getElementById(node.data.id);_ngraph4.default.svg(svgNode,{"class":toggleClass(svgNode.getAttribute("class"),"is-connected")})}}else{graph.addNode(peer.id,{id:peer.id,name:peer.name,isUser:peer.isUser,isLAN:peer.isLAN,isRelayPeer:isRelayPeer,isLocalPeer:isLocalPeer,isConnectedPeer:isConnectedPeer})}});peers.forEach(function(peer){peers.forEach(function(otherPeer){if(peer===otherPeer)return;var involvesRelayPeer=remote.indexOf(peer.id)!=-1||remote.indexOf(otherPeer.id)!=-1;var isConnected=connected.indexOf(peer.id)!=-1&&otherPeer.id==_app2.default.user.id||connected.indexOf(otherPeer.id)!=-1&&peer.id==_app2.default.user.id;var areFriends=_socialGraph2.default.follows(otherPeer.id,peer.id)&&_socialGraph2.default.follows(otherPeer.id,peer.id);var edge=graph.getLink(peer.id,otherPeer.id);if(edge){if(edge.data.isConnected!=isConnected){var svgEdge=state.renderer.svgRoot.getElementById(peer.id+otherPeer.id);_ngraph4.default.svg(svgEdge,{"class":toggleClass(svgEdge.getAttribute("class"),"is-connected")})}return}if(!(isConnected||areFriends&&involvesRelayPeer))return;graph.addLink(peer.id,otherPeer.id,{isConnected:isConnected})})});return graph}var PeerStatus=function(_React$Component2){_inherits(PeerStatus,_React$Component2);function PeerStatus(){_classCallCheck(this,PeerStatus);return _possibleConstructorReturn(this,Object.getPrototypeOf(PeerStatus).apply(this,arguments))}_createClass(PeerStatus,[{key:"render",value:function render(){var peer=this.props.peer;var connectionClass=peer.connected?" connected":"";var failureClass="";var lastConnectedMessage="";if(!peer.connected){if(lastConnected(peer)){lastConnectedMessage=_react2.default.createElement("div",{className:"light"},"Synced ",_react2.default.createElement(_index.NiceDate,{ago:true,ts:peer.time.connect}))}else{failureClass=" failure";lastConnectedMessage=""}}var isMember=_socialGraph2.default.follows(peer.key,_app2.default.user.id);return _react2.default.createElement("div",{className:"peer flex"+failureClass},_react2.default.createElement("div",{className:"flex-fill"},isMember?_react2.default.createElement("i",{className:"fa fa-star connection-status"+connectionClass}):_react2.default.createElement("i",{className:"fa fa-circle connection-status"+connectionClass}),_react2.default.createElement(_index.UserLink,{id:peer.key})),lastConnectedMessage)}}]);return PeerStatus}(_react2.default.Component);var Sync=function(_React$Component3){_inherits(Sync,_React$Component3);function Sync(props){_classCallCheck(this,Sync);var _this3=_possibleConstructorReturn(this,Object.getPrototypeOf(Sync).call(this,props));_this3.state={users:[],peers:[],stats:{},isWifiMode:_app2.default.isWifiMode};_this3.onAppUpdate=function(){_this3.setState({isWifiMode:_app2.default.isWifiMode})};return _this3}_createClass(Sync,[{key:"componentDidMount",value:function componentDidMount(){var _this4=this;_app2.default.on("update:all",this.onAppUpdate);_app2.default.on("update:isWifiMode",this.onAppUpdate);_app2.default.ssb.gossip.peers(function(err,peers){if(err)return _app2.default.minorIssue("Failed to fetch peers list",err,"This happened while loading the sync page");peers=peers||[];peers.sort(peerSorter);_this4.setState({peers:peers,contactedPeerIds:_util2.default.getContactedPeerIds(peers),stats:_util2.default.getPubStats(peers)})});(0,_pullStream2.default)(_app2.default.ssb.latest(),_pullStream2.default.map(function(user){user.name=_util2.default.getName(user.id);user.isUser=user.id===_app2.default.user.id;user.isLAN=isLAN(user);user.followed=_socialGraph2.default.follows(_app2.default.user.id,user.id);user.follows=_socialGraph2.default.follows(user.id,_app2.default.user.id);return user}),_pullStream2.default.collect(function(err,users){if(err)return _app2.default.minorIssue("An error occurred while fetching known users",err);users.sort(function(a,b){return b.nfollowers-a.nfollowers});_this4.setState({peersForGraph:users})}));(0,_pullStream2.default)(this.gossipChangeStream=_app2.default.ssb.gossip.changes(),_pullStream2.default.drain(this.onGossipEvent.bind(this)));(0,_pullStream2.default)(this.replicateChangeStream=_app2.default.ssb.replicate.changes(),_pullStream2.default.drain(this.onReplicationEvent.bind(this)))}},{key:"componentWillUnmount",value:function componentWillUnmount(){_app2.default.removeListener("update:all",this.onAppUpdate);_app2.default.removeListener("update:isWifiMode",this.onAppUpdate);this.gossipChangeStream(true,function(){});this.replicateChangeStream(true,function(){})}},{key:"onGossipEvent",value:function onGossipEvent(e){var i=undefined,peers=this.state.peers;for(i=0;i<peers.length;i++){if(peers[i].key==e.peer.key&&peers[i].host==e.peer.host&&peers[i].port==e.peer.port){peers[i]=e.peer;break}}if(i==peers.length){peers.push(e.peer);peers.sort(peerSorter)}this.setState({peers:peers,contactedPeerIds:_util2.default.getContactedPeerIds(peers),stats:_util2.default.getPubStats(peers)})}},{key:"onReplicationEvent",value:function onReplicationEvent(e){var progress={feeds:e.feeds,sync:e.sync,current:e.progress,total:e.total};var i=undefined,peers=this.state.peers;for(i=0;i<peers.length;i++){if(peers[i].key==e.peerid){peers[i].progress=progress;break}}if(i!==peers.length){this.setState({peers:peers,contactedPeerIds:_util2.default.getContactedPeerIds(peers),stats:_util2.default.getPubStats(peers)})}}},{key:"onUseInvite",value:function onUseInvite(){this.props.history.pushState(null,"/")}},{key:"render",value:function render(){var stats=this.state.stats;var downloading=Math.max(stats.connected-stats.membersofActive,0);var globalConnectionsCount=stats.connected;var localConnectionsCount=this.state.peers.filter(isLAN).filter(function(peer){return peer.connected}).length;return _react2.default.createElement(_index.VerticalFilledContainer,{id:"sync",className:"flex"},_react2.default.createElement(_leftnav2.default,{location:this.props.location}),_react2.default.createElement("div",{className:"flex-fill"},_react2.default.createElement("div",{className:"header"},_react2.default.createElement("div",{className:"connection-counter"},globalConnectionsCount," ",_react2.default.createElement("i",{className:"fa fa-globe"})," Public Peers"),_react2.default.createElement("div",{className:"connection-counter"},localConnectionsCount,"  ",_react2.default.createElement("i",{className:"fa fa-wifi"})," Local Peers"),_react2.default.createElement(_btn2.default,{className:"btn",Form:_pubInvite2.default,nextLabel:"Submit"},_react2.default.createElement("i",{className:"fa fa-cloud"})," Add Public Peer")),_react2.default.createElement("div",{className:"peer-status-group"},_react2.default.createElement(PeerGraph,{peersForGraph:this.state.peersForGraph,contactedPeerIds:this.state.contactedPeerIds})),_react2.default.createElement("div",{className:"peer-status-group"},_react2.default.createElement("div",{className:"peer-status-group-header"},_react2.default.createElement("h2",null,_react2.default.createElement("i",{className:"fa fa-wifi"})," Local"),this.state.peers.filter(isLAN).length==0?_react2.default.createElement("div",{className:"explanatory-text"},"There are currently no peers on your local network"):""),this.state.peers.filter(isLAN).map(function(peer,i){return _react2.default.createElement(PeerStatus,{key:peerId(peer),peer:peer})})),_react2.default.createElement("div",{className:"peer-status-group"},_react2.default.createElement("div",{className:"peer-status-group-header"},_react2.default.createElement("h2",null,_react2.default.createElement("i",{className:"fa fa-globe"})," Public"),_react2.default.createElement("div",{className:"explanatory-text"},"Public Peers are just users with static addresses, which means they are easy to find. ","They're"," commonly servers which have been set up to share data."),_react2.default.createElement("div",{className:"explanatory-text"},_react2.default.createElement("i",{className:"fa fa-star"})," Is following you - they will replicate your data. ",_react2.default.createElement("br",null),_react2.default.createElement("i",{className:"fa fa-circle"})," Is not following you, but you might share data about mutual aquantances.")),this.state.peers.filter(isNotLAN).map(function(peer,i){return _react2.default.createElement(PeerStatus,{key:peerId(peer),peer:peer})}))))}}]);return Sync}(_react2.default.Component);exports.default=Sync},{"../com/forms/pub-invite":"/Users/paulfrazee/patchwork/ui/com/forms/pub-invite.jsx","../com/index":"/Users/paulfrazee/patchwork/ui/com/index.jsx","../com/leftnav":"/Users/paulfrazee/patchwork/ui/com/leftnav.jsx","../com/modals/btn":"/Users/paulfrazee/patchwork/ui/com/modals/btn.jsx","../com/modals/single":"/Users/paulfrazee/patchwork/ui/com/modals/single.jsx","../lib/app":"/Users/paulfrazee/patchwork/ui/lib/app.js","../lib/social-graph":"/Users/paulfrazee/patchwork/ui/lib/social-graph.js","../lib/util":"/Users/paulfrazee/patchwork/ui/lib/util.js",ip:"/Users/paulfrazee/patchwork/node_modules/ip/lib/ip.js","ngraph.graph":"/Users/paulfrazee/patchwork/node_modules/ngraph.graph/index.js","ngraph.svg":"/Users/paulfrazee/patchwork/node_modules/ngraph.svg/index.js","pull-stream":"/Users/paulfrazee/patchwork/node_modules/pull-stream/index.js",react:"/Users/paulfrazee/patchwork/node_modules/react/react.js","react-dom":"/Users/paulfrazee/patchwork/node_modules/react-dom/index.js"}]},{},["/Users/paulfrazee/patchwork/ui/main.js"]);
